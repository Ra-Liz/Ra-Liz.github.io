<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>规范自己</title>
      <link href="/post/e0d.html"/>
      <url>/post/e0d.html</url>
      
        <content type="html"><![CDATA[<ul><li>有思想</li><li>有定力</li><li>要培养自己的思维</li><li>对事不对人</li><li>敢于表达</li><li>会发泄</li><li>控制自己的不确定性</li></ul>]]></content>
      
      
      <categories>
          
          <category> 规范自我 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>蒜法</title>
      <link href="/post/dd4.html"/>
      <url>/post/dd4.html</url>
      
        <content type="html"><![CDATA[<h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><h3 id="704-二分查找"><a href="#704-二分查找" class="headerlink" title="704. 二分查找"></a><a href="https://leetcode.cn/problems/binary-search/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">704. 二分查找</a></h3><blockquote><p>给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target  ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。</p><p>示例 1:</p><p>输入: nums = [-1,0,3,5,9,12], target = 9<br>输出: 4<br>解释: 9 出现在 nums 中并且下标为 4<br>示例 2:</p><p>输入: nums = [-1,0,3,5,9,12], target = 2<br>输出: -1<br>解释: 2 不存在 nums 中因此返回 -1</p><p>提示：</p><p>你可以假设 nums 中的所有元素是不重复的。<br>n 将在 [1, 10000]之间。<br>nums 的每个元素都将在 [-9999, 9999]之间。</p></blockquote><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">search</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">left</span>:<span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">right</span>:<span class="built_in">number</span> = nums.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">mid</span>:<span class="built_in">number</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>((right-left)/<span class="number">2</span>)+left</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">num</span>:<span class="built_in">number</span> = nums[mid]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(target == num) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; num) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; num) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="278-第一个错误的版本"><a href="#278-第一个错误的版本" class="headerlink" title="278. 第一个错误的版本"></a><a href="https://leetcode.cn/problems/first-bad-version/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">278. 第一个错误的版本</a></h3><blockquote><p>你是产品经理，目前正在带领一个团队开发新的产品。不幸的是，你的产品的最新版本没有通过质量检测。由于每个版本都是基于之前的版本开发的，所以错误的版本之后的所有版本都是错的。</p><p>假设你有 n 个版本 [1, 2, …, n]，你想找出导致之后所有版本出错的第一个错误的版本。</p><p>你可以通过调用 bool isBadVersion(version) 接口来判断版本号 version 是否在单元测试中出错。实现一个函数来查找第一个错误的版本。你应该尽量减少对调用 API 的次数。</p><p>示例 1：</p><p>输入：n = 5, bad = 4<br>输出：4<br>解释：<br>调用 isBadVersion(3) -&gt; false<br>调用 isBadVersion(5) -&gt; true<br>调用 isBadVersion(4) -&gt; true<br>所以，4 是第一个错误的版本。<br>示例 2：</p><p>输入：n = 1, bad = 1<br>输出：1</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Forward declaration of isBadVersion API.</span></span><br><span class="line"><span class="comment"> * @param   version   your guess about first bad version</span></span><br><span class="line"><span class="comment"> * @return        true if current version is bad </span></span><br><span class="line"><span class="comment"> *          false if current version is good</span></span><br><span class="line"><span class="comment"> * func isBadVersion(version int) bool;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">firstBadVersion</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, n</span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> isBadVersion(mid) &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="35-搜索插入位置"><a href="#35-搜索插入位置" class="headerlink" title="35. 搜索插入位置"></a><a href="https://leetcode.cn/problems/search-insert-position/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">35. 搜索插入位置</a></h3><blockquote><p>给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</p><p>请必须使用时间复杂度为 O(log n) 的算法。</p><p>示例 1:</p><p>输入: nums = [1,3,5,6], target = 5<br>输出: 2<br>示例 2:</p><p>输入: nums = [1,3,5,6], target = 2<br>输出: 1<br>示例 3:</p><p>输入: nums = [1,3,5,6], target = 7<br>输出: 4</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchInsert</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := left+(right-left)/<span class="number">2</span></span><br><span class="line">        num := nums[mid]</span><br><span class="line">        <span class="keyword">if</span> target == num &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> target &gt; num &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> target &lt; num &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="双指针"><a href="#双指针" class="headerlink" title="双指针"></a>双指针</h2><h3 id="977-有序数组的平方"><a href="#977-有序数组的平方" class="headerlink" title="977. 有序数组的平方"></a><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">977. 有序数组的平方</a></h3><blockquote><p>给你一个按 非递减顺序 排序的整数数组 nums，返回 每个数字的平方 组成的新数组，要求也按 非递减顺序 排序。</p><p>示例 1：</p><p>输入：nums = [-4,-1,0,3,10]<br>输出：[0,1,9,16,100]<br>解释：平方后，数组变为 [16,1,0,9,100]<br>排序后，数组变为 [0,1,9,16,100]<br>示例 2：</p><p>输入：nums = [-7,-3,2,3,11]<br>输出：[4,9,9,49,121]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortedSquares</span><span class="params">(nums []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    left,right,i := <span class="number">0</span>,<span class="built_in">len</span>(nums)<span class="number">-1</span>,<span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    arr := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(left &lt;= right) &#123;</span><br><span class="line">        leftVal := nums[left]*nums[left]</span><br><span class="line">        rightVal := nums[right]*nums[right]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(leftVal &gt; rightVal) &#123;</span><br><span class="line">            arr[i] = leftVal</span><br><span class="line">            left++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[i] = rightVal</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line">        i--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="189-轮转数组"><a href="#189-轮转数组" class="headerlink" title="189. 轮转数组"></a><a href="https://leetcode.cn/problems/rotate-array/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">189. 轮转数组</a></h3><blockquote><p>给定一个整数数组 nums，将数组中的元素向右轮转 k 个位置，其中 k 是非负数。</p><p>示例 1:</p><p>输入: nums = [1,2,3,4,5,6,7], k = 3<br>输出: [5,6,7,1,2,3,4]<br>解释:<br>向右轮转 1 步: [7,1,2,3,4,5,6]<br>向右轮转 2 步: [6,7,1,2,3,4,5]<br>向右轮转 3 步: [5,6,7,1,2,3,4]<br>示例 2:</p><p>输入：nums = [-1,-100,3,99], k = 2<br>输出：[3,99,-1,-100]<br>解释:<br>向右轮转 1 步: [99,-1,-100,3]<br>向右轮转 2 步: [3,99,-1,-100]</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">void</span>&#125; Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> rotate = <span class="keyword">function</span>(<span class="params">nums, k</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        nums.<span class="title function_">unshift</span>(nums.<span class="title function_">pop</span>());</span><br><span class="line">        k--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="283-移动零"><a href="#283-移动零" class="headerlink" title="283. 移动零"></a><a href="https://leetcode.cn/problems/move-zeroes/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">283. 移动零</a></h3><blockquote><p>给定一个数组 nums，编写一个函数将所有 0 移动到数组的末尾，同时保持非零元素的相对顺序。</p><p>请注意 ，必须在不复制数组的情况下原地对数组进行操作。</p><p>示例 1:</p><p>输入: nums = [0,1,0,3,12]<br>输出: [1,3,12,0,0]<br>示例 2:</p><p>输入: nums = [0]<br>输出: [0]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">moveZeroes</span><span class="params">(nums []<span class="type">int</span>)</span></span>  &#123;</span><br><span class="line">    cnt, low, fast := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> fast &lt; <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[fast] == <span class="number">0</span> &#123;</span><br><span class="line">            fast++</span><br><span class="line">            cnt++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nums[low] = nums[fast]</span><br><span class="line">            low++</span><br><span class="line">            fast++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    i := <span class="built_in">len</span>(nums)-cnt</span><br><span class="line">    <span class="keyword">for</span> i &lt; <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        nums[i] = <span class="number">0</span></span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="167-两数之和-II-输入有序数组"><a href="#167-两数之和-II-输入有序数组" class="headerlink" title="167. 两数之和 II - 输入有序数组"></a><a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">167. 两数之和 II - 输入有序数组</a></h3><blockquote><p>给你一个下标从 1 开始的整数数组 numbers ，该数组已按 非递减顺序排列  ，请你从数组中找出满足相加之和等于目标数 target 的两个数。如果设这两个数分别是 numbers[index1] 和 numbers[index2] ，则 1 &lt;= index1 &lt; index2 &lt;= numbers.length 。</p><p>以长度为 2 的整数数组 [index1, index2] 的形式返回这两个整数的下标 index1 和 index2。</p><p>你可以假设每个输入 只对应唯一的答案 ，而且你 不可以 重复使用相同的元素。</p><p>你所设计的解决方案必须只使用常量级的额外空间。</p><p>示例 1：</p><p>输入：numbers = [2,7,11,15], target = 9<br>输出：[1,2]<br>解释：2 与 7 之和等于目标数 9 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。<br>示例 2：</p><p>输入：numbers = [2,3,4], target = 6<br>输出：[1,3]<br>解释：2 与 4 之和等于目标数 6 。因此 index1 = 1, index2 = 3 。返回 [1, 3] 。<br>示例 3：</p><p>输入：numbers = [-1,0], target = -1<br>输出：[1,2]<br>解释：-1 与 0 之和等于目标数 -1 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">twoSum</span><span class="params">(numbers []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(numbers)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        lVal, rVal := numbers[left], numbers[right]</span><br><span class="line">        sum := lVal+rVal</span><br><span class="line">        <span class="keyword">if</span> sum == target &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;left+<span class="number">1</span>, right+<span class="number">1</span>&#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(sum &gt; target) &#123;</span><br><span class="line">            right--</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="344-反转字符串"><a href="#344-反转字符串" class="headerlink" title="344. 反转字符串"></a><a href="https://leetcode.cn/problems/reverse-string/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">344. 反转字符串</a></h3><blockquote><p>编写一个函数，其作用是将输入的字符串反转过来。输入字符串以字符数组 s 的形式给出。</p><p>不要给另外的数组分配额外的空间，你必须原地修改输入数组、使用 O(1) 的额外空间解决这一问题。</p><p>示例 1：</p><p>输入：s = [“h”,”e”,”l”,”l”,”o”]<br>输出：[“o”,”l”,”l”,”e”,”h”]<br>示例 2：</p><p>输入：s = [“H”,”a”,”n”,”n”,”a”,”h”]<br>输出：[“h”,”a”,”n”,”n”,”a”,”H”]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(s []<span class="type">byte</span>)</span></span>  &#123;</span><br><span class="line">    start, end := <span class="number">0</span>, <span class="built_in">len</span>(s)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> start &lt; end &#123;</span><br><span class="line">        temp := s[start]</span><br><span class="line">        s[start] = s[end]</span><br><span class="line">        s[end] = temp</span><br><span class="line">        start++</span><br><span class="line">        end--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="557-反转字符串中的单词-III"><a href="#557-反转字符串中的单词-III" class="headerlink" title="557. 反转字符串中的单词 III"></a><a href="https://leetcode.cn/problems/reverse-words-in-a-string-iii/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">557. 反转字符串中的单词 III</a></h3><blockquote><p>给定一个字符串 s ，你需要反转字符串中每个单词的字符顺序，同时仍保留空格和单词的初始顺序。</p><p>示例 1：</p><p>输入：s = “Let’s take LeetCode contest”<br>输出：”s’teL ekat edoCteeL tsetnoc”<br>示例 2:</p><p>输入： s = “God Ding”<br>输出：”doG gniD”</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseWords</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    end,cnt := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    arr := []<span class="type">byte</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span> != <span class="built_in">len</span>(s)) &amp;&amp; (s[i+<span class="number">1</span>]!=<span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            cnt++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        end = i</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt;= cnt; j++ &#123;</span><br><span class="line">            arr = <span class="built_in">append</span>(arr, s[end-j])</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i+<span class="number">1</span>!=<span class="built_in">len</span>(s) &#123;</span><br><span class="line">            arr = <span class="built_in">append</span>(arr, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">string</span>(arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="876-链表的中间结点"><a href="#876-链表的中间结点" class="headerlink" title="876. 链表的中间结点"></a><a href="https://leetcode.cn/problems/middle-of-the-linked-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">876. 链表的中间结点</a></h3><blockquote><p>给你单链表的头结点 head ，请你找出并返回链表的中间结点。</p><p>如果有两个中间结点，则返回第二个中间结点。</p><p>示例 1：</p><p><img src="../images/%E8%92%9C%E6%B3%95/lc-midlist1.jpg" alt="img"></p><p>输入：head = [1,2,3,4,5]<br>输出：[3,4,5]<br>解释：链表只有一个中间结点，值为 3 。<br>示例 2：</p><p><img src="../images/%E8%92%9C%E6%B3%95/lc-midlist2.jpg" alt="img"></p><p>输入：head = [1,2,3,4,5,6]<br>输出：[4,5,6]<br>解释：该链表有两个中间结点，值分别为 3 和 4 ，返回第二个结点。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">middleNode</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    slow, fast := head, head</span><br><span class="line">    <span class="keyword">for</span> fast!=<span class="literal">nil</span> &amp;&amp; fast.Next!=<span class="literal">nil</span> &#123;</span><br><span class="line">        slow = slow.Next</span><br><span class="line">        fast = fast.Next.Next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19-删除链表的倒数第-N-个结点"><a href="#19-删除链表的倒数第-N-个结点" class="headerlink" title="19. 删除链表的倒数第 N 个结点"></a><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">19. 删除链表的倒数第 N 个结点</a></h3><blockquote><p>给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点。</p><p>示例 1：</p><p><img src="../images/%E8%92%9C%E6%B3%95/remove_ex1.jpg" alt="img"></p><p>输入：head = [1,2,3,4,5], n = 2<br>输出：[1,2,3,5]<br>示例 2：</p><p>输入：head = [1], n = 1<br>输出：[]<br>示例 3：</p><p>输入：head = [1,2], n = 1<br>输出：[1]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeNthFromEnd</span><span class="params">(head *ListNode, n <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;<span class="number">0</span>, head&#125;</span><br><span class="line">    slow, fast := dummy, dummy</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;n; i++ &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> fast.Next!=<span class="literal">nil</span> &amp;&amp; fast!=<span class="literal">nil</span> &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">        slow = slow.Next</span><br><span class="line">    &#125;</span><br><span class="line">    slow.Next = slow.Next.Next</span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h2><h3 id="3-无重复字符的最长子串"><a href="#3-无重复字符的最长子串" class="headerlink" title="3. 无重复字符的最长子串"></a><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">3. 无重复字符的最长子串</a></h3><blockquote><p>给你两个字符串 s1 和 s2 ，写一个函数来判断 s2 是否包含 s1 的排列。如果是，返回 true ；否则，返回 false 。</p><p>换句话说，s1 的排列之一是 s2 的 子串 。</p><p>示例 1：</p><p>输入：s1 = “ab” s2 = “eidbaooo”<br>输出：true<br>解释：s2 包含 s1 的排列之一 (“ba”).<br>示例 2：</p><p>输入：s1= “ab” s2 = “eidboaoo”<br>输出：false</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkInclusion</span><span class="params">(s1 <span class="type">string</span>, s2 <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    n,m := <span class="built_in">len</span>(s1),<span class="built_in">len</span>(s2)</span><br><span class="line">    <span class="keyword">if</span> n &gt; m &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    cnt1, cnt2 := [<span class="number">26</span>]<span class="type">int</span>&#123;&#125;, [<span class="number">26</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        cnt1[s1[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">        cnt2[s2[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> cnt1 == cnt2 &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := n; i &lt; m; i++ &#123;</span><br><span class="line">        cnt2[s2[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">        cnt2[s2[i-n] - <span class="string">&#x27;a&#x27;</span>]--</span><br><span class="line">        <span class="keyword">if</span> cnt1 == cnt2 &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> checkInclusion = <span class="keyword">function</span>(<span class="params">s1, s2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> n = s1.<span class="property">length</span>, m = s2.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span>(n &gt; m) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> cnt1 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">26</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> cnt2 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">26</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cnt1[s1[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">        cnt2[s2[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt1.<span class="title function_">toString</span>() === cnt2.<span class="title function_">toString</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = n; i &lt; m; i++) &#123;</span><br><span class="line">        cnt2[s2[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">        cnt2[s2[i-n].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]--</span><br><span class="line">        <span class="keyword">if</span>(cnt1.<span class="title function_">toString</span>() === cnt2.<span class="title function_">toString</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="567-字符串的排列"><a href="#567-字符串的排列" class="headerlink" title="567. 字符串的排列"></a><a href="https://leetcode.cn/problems/permutation-in-string/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">567. 字符串的排列</a></h3><blockquote><p>给定一个字符串 s ，请你找出其中不含有重复字符的 最长子串 的长度。</p><p>示例 1:</p><p>输入: s = “abcabcbb”<br>输出: 3<br>解释: 因为无重复字符的最长子串是 “abc”，所以其长度为 3。<br>示例 2:</p><p>输入: s = “bbbbb”<br>输出: 1<br>解释: 因为无重复字符的最长子串是 “b”，所以其长度为 1。<br>示例 3:</p><p>输入: s = “pwwkew”<br>输出: 3<br>解释: 因为无重复字符的最长子串是 “wke”，所以其长度为 3。<br>请注意，你的答案必须是 子串 的长度，”pwke” 是一个子序列，不是子串。</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    set := <span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">len</span> := <span class="built_in">len</span>(s)</span><br><span class="line">    right, ans := <span class="number">-1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>;i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i!=<span class="number">0</span> &#123;</span><br><span class="line">            <span class="built_in">delete</span>(set, s[i<span class="number">-1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> right+<span class="number">1</span>&lt;<span class="built_in">len</span> &amp;&amp; set[s[right+<span class="number">1</span>]]==<span class="number">0</span> &#123;</span><br><span class="line">            set[s[right+<span class="number">1</span>]]++</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        ans = max(ans, right+<span class="number">1</span>-i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; y) &#123;</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> lengthOfLongestSubstring = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">let</span> right = -<span class="number">1</span>, len = s.<span class="property">length</span>, ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">0</span>) &#123;</span><br><span class="line">            set.<span class="title function_">delete</span>(s.<span class="title function_">charAt</span>(i-<span class="number">1</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right+<span class="number">1</span> &lt; len &amp;&amp; !set.<span class="title function_">has</span>(s.<span class="title function_">charAt</span>(right+<span class="number">1</span>))) &#123;</span><br><span class="line">            set.<span class="title function_">add</span>(s.<span class="title function_">charAt</span>(right+<span class="number">1</span>))</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, right+<span class="number">1</span>-i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="BFS-DFS"><a href="#BFS-DFS" class="headerlink" title="BFS/DFS"></a>BFS/DFS</h2><h3 id="🧩733-图像渲染"><a href="#🧩733-图像渲染" class="headerlink" title="🧩733. 图像渲染"></a><a href="https://leetcode.cn/problems/flood-fill/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🧩733. 图像渲染</a></h3><blockquote><p>有一幅以 m x n 的二维整数数组表示的图画 image ，其中 image[i][j] 表示该图画的像素值大小。</p><p>你也被给予三个整数 sr ,  sc 和 newColor 。你应该从像素 image[sr[sc 开始对图像进行 上色填充 。</p><p>为了完成 上色工作 ，从初始像素开始，记录初始坐标的 上下左右四个方向上 像素值与初始坐标相同的相连像素点，接着再记录这四个方向上符合条件的像素点与他们对应 四个方向上 像素值与初始坐标相同的相连像素点，……，重复该过程。将所有有记录的像素点的颜色值改为 newColor 。</p><p>最后返回 经过上色渲染后的图像 。</p><p> <img src="../images/%E8%92%9C%E6%B3%95/flood1-grid.jpg" alt="img"></p><p>示例 1:</p><p>输入: image = [[1,1,1],[1,1,0],[1,0,1]]，sr = 1, sc = 1, newColor = 2<br>输出: [[2,2,2],[2,2,0],[2,0,1]]<br>解析: 在图像的正中间，(坐标(sr,sc)=(1,1)),在路径上所有符合条件的像素点的颜色都被更改成2。<br>注意，右下角的像素没有更改为2，因为它不是在上下左右四个方向上与初始点相连的像素点。<br>示例 2:</p><p>输入: image = [[0,0,0],[0,0,0]], sr = 0, sc = 0, newColor = 2<br>输出: [[2,2,2],[2,2,2]]</p></blockquote><h4 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h4><p>这是一个BFS/DFS典中典题！</p><p>已知：题目已经告诉我们 图像数组<code>image(行列m*n)</code>，起始点<code>(sr, sc)</code>，需求色<code>color</code>。</p><p>要求：将从该点起步，将<code>自身</code>以及<code>其上/下/左/右方向上相邻色块</code>中，不同于需求颜色的原始色更改，最后返回image数组。</p><p>思路(BFS)：</p><ol><li>判断起始点颜色是否为需求色color。如果是，直接返回数组；反之，存储原始色rawColor，并将数组中对应值改为color值。</li><li>我们初始化一个队列<code>queue = [&#123;x: sr, y: rc&#125;]</code>，用于存放  被搜寻到的 且 颜色为rawColor  的色块。</li><li>接下来我们详细阐述此题广搜步骤：<ol><li>将队列中首元素提出，颜色改为color值</li><li>分别搜索该元素<code>上/下/左/右(对应x/y增减，四种)</code>块中是rawColor且在图片范围内的元素，随后将其加入队列中，并改颜色</li><li>由于我们在这一次的搜索中，遍历了某一层元素的<code>下一层元素</code>，那么在下一次搜索中，我们需要将<code>该层</code>元素提取出来进行搜索</li><li>直至全部搜寻到(介时队列为空，长度为0)</li></ol></li></ol><p>以下是我算是 第一次用JS写BFS 代码+注释↓</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BFS</span></span><br><span class="line"><span class="keyword">var</span> floodFill = <span class="keyword">function</span>(<span class="params">image, sr, sc, color</span>) &#123;</span><br><span class="line">    <span class="comment">// 起始点颜色</span></span><br><span class="line">    <span class="keyword">let</span> rawColor = image[sr][sc]</span><br><span class="line">    <span class="comment">// 如果颜色一样直接返回</span></span><br><span class="line">    <span class="keyword">if</span> (rawColor === color) &#123;</span><br><span class="line">        <span class="keyword">return</span> image</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果不一样，开始广搜</span></span><br><span class="line">    <span class="keyword">let</span> queue = [&#123;<span class="attr">x</span>:sr, <span class="attr">y</span>:sc&#125;],<span class="comment">// 符合条件的像素块组成的队列（范围内，相邻，是起始颜色）</span></span><br><span class="line">        dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>],<span class="comment">// 位移坐标</span></span><br><span class="line">        dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        rowLen = image.<span class="property">length</span>,<span class="comment">// 图画长宽-图画边框范围</span></span><br><span class="line">        colLen = image[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="comment">// 遍历队列</span></span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 队列中首元素pop</span></span><br><span class="line">        <span class="keyword">let</span> &#123;x, y&#125; = queue.<span class="title function_">shift</span>()</span><br><span class="line">        <span class="comment">// 首元素改颜色</span></span><br><span class="line">        image[x][y] = color</span><br><span class="line">        <span class="comment">// 该元素相邻搜一下</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// 相邻元素坐标</span></span><br><span class="line">            <span class="keyword">let</span> newX = x+dx[i], newY = y+dy[i]</span><br><span class="line">            <span class="comment">// 在画框范围内，且为起始颜色</span></span><br><span class="line">            <span class="keyword">if</span>(newX&gt;=<span class="number">0</span> &amp;&amp; newX&lt;rowLen &amp;&amp; newY&gt;=<span class="number">0</span> &amp;&amp; newY&lt;colLen &amp;&amp; image[newX][newY] == rawColor) &#123;</span><br><span class="line">                <span class="comment">// 添加到队列中</span></span><br><span class="line">                queue.<span class="title function_">push</span>(&#123;<span class="attr">x</span>: newX, <span class="attr">y</span>: newY&#125;)</span><br><span class="line">                <span class="comment">// 且改变为要求颜色</span></span><br><span class="line">                image[newX][newY] = color</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> image</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p>这位佬写的代码超级简洁且优雅↓</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">image</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">sr</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">sc</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">color</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DFS</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">floodFill</span> = (<span class="params">image, sr, sc, newColor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> m = image.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> n = image[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> oldColor = image[sr][sc];</span><br><span class="line">    <span class="keyword">if</span> (oldColor == newColor) <span class="keyword">return</span> image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fill</span> = (<span class="params">i, j</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= m || j &lt; <span class="number">0</span> || j &gt;= n || image[i][j] != oldColor) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        image[i][j] = newColor;</span><br><span class="line">        <span class="title function_">fill</span>(i - <span class="number">1</span>, j);</span><br><span class="line">        <span class="title function_">fill</span>(i + <span class="number">1</span>, j);</span><br><span class="line">        <span class="title function_">fill</span>(i, j - <span class="number">1</span>);</span><br><span class="line">        <span class="title function_">fill</span>(i, j + <span class="number">1</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">fill</span>(sr, sc);</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BFS</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">floodFill</span> = (<span class="params">image, sr, sc, newColor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> m = image.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> n = image[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> oldColor = image[sr][sc];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldColor == newColor) <span class="keyword">return</span> image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> queue = [[sr, sc]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> [i, j] = queue.<span class="title function_">shift</span>();</span><br><span class="line">        image[i][j] = newColor;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; image[i - <span class="number">1</span>][j] == oldColor) queue.<span class="title function_">push</span>([i - <span class="number">1</span>, j]);</span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &lt; m &amp;&amp; image[i + <span class="number">1</span>][j] == oldColor) queue.<span class="title function_">push</span>([i + <span class="number">1</span>, j]);</span><br><span class="line">        <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; image[i][j - <span class="number">1</span>] == oldColor) queue.<span class="title function_">push</span>([i, j - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (j + <span class="number">1</span> &lt; n &amp;&amp; image[i][j + <span class="number">1</span>] == oldColor) queue.<span class="title function_">push</span>([i, j + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🏝695-岛屿的最大面积"><a href="#🏝695-岛屿的最大面积" class="headerlink" title="🏝695. 岛屿的最大面积"></a><a href="https://leetcode.cn/problems/max-area-of-island/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🏝695. 岛屿的最大面积</a></h3><blockquote><p>给你一个大小为 m x n 的二进制矩阵 grid 。</p><p>岛屿 是由一些相邻的 1 (代表土地) 构成的组合，这里的「相邻」要求两个 1 必须在 水平或者竖直的四个方向上 相邻。你可以假设 grid 的四个边缘都被 0（代表水）包围着。</p><p>岛屿的面积是岛上值为 1 的单元格的数目。</p><p>计算并返回 grid 中最大的岛屿面积。如果没有岛屿，则返回面积为 0 。</p><img src="../images/%E8%92%9C%E6%B3%95/maxarea1-grid.jpg" alt="img" style="zoom:50%;" /><p>示例 1：</p><p>输入：grid = [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]]<br>输出：6<br>解释：答案不应该是 11 ，因为岛屿只能包含水平或垂直这四个方向上的 1 。</p><p>示例 2：</p><p>输入：grid = [[0,0,0,0,0,0,0,0]]<br>输出：0</p></blockquote><h4 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h4><p>已知：<code>grid(m*n)</code> <code>岛屿是1，水是0</code></p><p>要求：最大的岛屿面积<code>ans</code>（四个正方向相邻的1块才属于同一个岛屿）</p><p>思路:</p><ol><li>此题较上题多了一层逻辑，那就是需要自行寻找<code>起始点</code>，我们不妨对grid这个二维数组套用行列遍历</li><li>随后进行广搜/深搜</li><li>那么这个题，让我们顺一下深搜步骤：<ol><li>我们不妨声明一个 名为dfs的 返回ans值的 用来搞递归的 函数</li><li>当我们对一个元素进行上下左右搜索时，分别对搜索到的(符合条件的)元素进行上下左右搜索，←的同时对搜索到的元素进行上下左右搜索……</li><li>补充一个环节，那就是当搜索的元素不符合条件的时候，return 回溯到上一层（在本题中，返回ans值为0)</li></ol></li></ol><p>请直接移移步到大佬写的代码↓</p><h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><p>优雅太优雅了↓</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 大佬的DFS</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">const</span> m = grid.<span class="property">length</span>, n = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span> (x, y) &#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt;= m || y &lt; <span class="number">0</span> || y &gt;= n || grid[x][y] === <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        grid[x][y] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">let</span> ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>], dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            ans += <span class="title function_">dfs</span>(x+dx[i], y+dy[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] === <span class="number">0</span>) <span class="keyword">continue</span></span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, <span class="title function_">dfs</span>(i, j))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 大佬的BFS</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, row = grid.<span class="property">length</span>, col = grid[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">let</span> dx = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], dy = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>];<span class="comment">//方向数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] === <span class="number">0</span>) <span class="keyword">continue</span>;<span class="comment">//循环网格，遇到0就跳过</span></span><br><span class="line">            <span class="keyword">let</span> queue = [[i, j]], curr = <span class="number">0</span>;<span class="comment">//在队列中加入当前网格的值</span></span><br><span class="line">            <span class="keyword">while</span> (queue.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> [x, y] = queue.<span class="title function_">shift</span>();<span class="comment">//不断出队</span></span><br><span class="line">              <span class="comment">//越界判断</span></span><br><span class="line">                <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= row || y &lt; <span class="number">0</span> || y &gt;= col || grid[x][y] === <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                ++curr;<span class="comment">//更新岛屿的数量</span></span><br><span class="line">                grid[x][y] = <span class="number">0</span>;<span class="comment">//遍历过的网格置为0</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; dx.<span class="property">length</span>; k++) &#123;<span class="comment">//上下左右遍历，把下一层的节点加入队列</span></span><br><span class="line">                    queue.<span class="title function_">push</span>([x + dx[k], y + dy[k]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, curr);<span class="comment">//更新最大岛屿面积</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我的BFS——哥们儿就喜欢BFS（等待打脸）</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, m = grid.<span class="property">length</span>, n = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>], dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] === <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> queue = [&#123;<span class="attr">x</span>: i, <span class="attr">y</span>: j&#125;], s = <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> (queue.<span class="property">length</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> &#123;x, y&#125; = queue.<span class="title function_">shift</span>()</span><br><span class="line">                grid[x][y] = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    <span class="keyword">let</span> newX = x + dx[k], newY = y + dy[k]</span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newX &lt; m &amp;&amp; newY &lt; n &amp;&amp; grid[newX][newY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        queue.<span class="title function_">push</span>(&#123;<span class="attr">x</span>: newX, <span class="attr">y</span>: newY&#125;)</span><br><span class="line">                        grid[newX][newY] = <span class="number">0</span></span><br><span class="line">                        s++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, s)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🌲617-合并二叉树"><a href="#🌲617-合并二叉树" class="headerlink" title="🌲617. 合并二叉树"></a><a href="https://leetcode.cn/problems/merge-two-binary-trees/">🌲617. 合并二叉树</a></h3><blockquote><p>给你两棵二叉树： root1 和 root2 。</p><p>想象一下，当你将其中一棵覆盖到另一棵之上时，两棵树上的一些节点将会重叠（而另一些不会）。你需要将这两棵树合并成一棵新二叉树。合并的规则是：如果两个节点重叠，那么将这两个节点的值相加作为合并后节点的新值；否则，不为 null 的节点将直接作为新二叉树的节点。</p><p>返回合并后的二叉树。</p><p>注意: 合并过程必须从两个树的根节点开始。</p><p>示例 1：</p><p>输入：root1 = [1,3,2,5], root2 = [2,1,3,null,4,null,7]<br>输出：[3,4,5,5,4,null,7]<br>示例 2：</p><p>输入：root1 = [1], root2 = [1,2]<br>输出：[2,2]</p></blockquote><h4 id="解题思路-2"><a href="#解题思路-2" class="headerlink" title="解题思路"></a>解题思路</h4><ol><li><p>我们<code>直接在root1上做修改</code>，我们简称两者为一和二：</p><ol><li>当仅一为空的时候，递归函数返回二</li><li>当仅二为空的时候，递归函数返回一</li><li>两者皆空依然返回一</li><li>两者都不空，那.val相加</li></ol></li><li><p>调用函数本身，实现节点左右孩子合并</p></li></ol><h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val, left, right) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.left = (left===undefined ? null : left)</span></span><br><span class="line"><span class="comment"> *     this.right = (right===undefined ? null : right)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TreeNode</span>&#125; <span class="variable">root1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TreeNode</span>&#125; <span class="variable">root2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">TreeNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> mergeTrees = <span class="keyword">function</span>(<span class="params">root1, root2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!root1) &#123;</span><br><span class="line">        <span class="keyword">return</span> root2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!root2) &#123;</span><br><span class="line">        <span class="keyword">return</span> root1</span><br><span class="line">    &#125;</span><br><span class="line">    root1.<span class="property">val</span> += root2.<span class="property">val</span></span><br><span class="line"></span><br><span class="line">    root1,left = <span class="title function_">mergeTrees</span>(root1.<span class="property">left</span>, root2.<span class="property">left</span>)</span><br><span class="line">    root1.<span class="property">right</span> = <span class="title function_">mergeTrees</span>(root1.<span class="property">right</span>, root2.<span class="property">right</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root1</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 当然也可以新开一个树，不在原树上做更改。</span></span><br></pre></td></tr></table></figure><h3 id="👉116-填充每个节点的下一个右侧节点指针"><a href="#👉116-填充每个节点的下一个右侧节点指针" class="headerlink" title="👉116. 填充每个节点的下一个右侧节点指针"></a><a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">👉116. 填充每个节点的下一个右侧节点指针</a></h3><blockquote><p>给定一个 完美二叉树 ，其所有叶子节点都在同一层，每个父节点都有两个子节点。二叉树定义如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struct <span class="title class_">Node</span> &#123;</span><br><span class="line">  int val;</span><br><span class="line">  <span class="title class_">Node</span> *left;</span><br><span class="line">  <span class="title class_">Node</span> *right;</span><br><span class="line">  <span class="title class_">Node</span> *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>填充它的每个 next 指针，让这个指针指向其下一个右侧节点。如果找不到下一个右侧节点，则将 next 指针设置为 NULL。</p><p>初始状态下，所有 next 指针都被设置为 NULL。</p><p>示例 1：</p><img src="../images/%E8%92%9C%E6%B3%95/116_sample.png" alt="img" style="zoom:50%;" /><p>输入：root = [1,2,3,4,5,6,7]<br>输出：[1,#,2,3,#,4,5,6,7,#]<br>解释：给定二叉树如图 A 所示，你的函数应该填充它的每个 next 指针，以指向其下一个右侧节点，如图 B 所示。序列化的输出按层序遍历排列，同一层节点由 next 指针连接，’#’ 标志着每一层的结束。<br>示例 2:（注意看这个看着像示例2的示例2）</p><p>输入：root = []<br>输出：[]</p></blockquote><h4 id="解题思路-层次遍历"><a href="#解题思路-层次遍历" class="headerlink" title="解题思路(层次遍历)"></a>解题思路(层次遍历)</h4><p>发现广搜深搜可以变简洁的小思路是先排除无效的，比如示例二这种</p><ol><li>所以先排除root=null的情况</li><li>将根节点放入新开队列中，开始按层遍历</li><li>遍历过程中需要完成两项任务：<ol><li>同层next赋值</li><li>将下一层增加到队列中</li></ol></li></ol><h4 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * // Definition for a Node.</span></span><br><span class="line"><span class="comment"> * function Node(val, left, right, next) &#123;</span></span><br><span class="line"><span class="comment"> *    this.val = val === undefined ? null : val;</span></span><br><span class="line"><span class="comment"> *    this.left = left === undefined ? null : left;</span></span><br><span class="line"><span class="comment"> *    this.right = right === undefined ? null : right;</span></span><br><span class="line"><span class="comment"> *    this.next = next === undefined ? null : next;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Node</span>&#125; <span class="variable">root</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Node</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> connect = <span class="keyword">function</span>(<span class="params">root</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root === <span class="literal">null</span>) <span class="keyword">return</span> root</span><br><span class="line">    <span class="keyword">const</span> queue = [root]</span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> size = queue.<span class="property">length</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> node = queue.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="keyword">if</span> (i &lt; size - <span class="number">1</span>) &#123;</span><br><span class="line">                node.<span class="property">next</span> = queue[<span class="number">0</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.<span class="property">left</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.<span class="title function_">push</span>(node.<span class="property">left</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.<span class="property">right</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.<span class="title function_">push</span>(node.<span class="property">right</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 还有一种直接用.next</span></span><br><span class="line"><span class="comment">// node.right.next = node.left    node.right.next = node.next.left</span></span><br></pre></td></tr></table></figure><h3 id="🍊994-腐烂的橘子"><a href="#🍊994-腐烂的橘子" class="headerlink" title="🍊994. 腐烂的橘子"></a><a href="https://leetcode.cn/problems/rotting-oranges/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🍊994. 腐烂的橘子</a></h3><blockquote><p>在给定的 m x n 网格 grid 中，每个单元格可以有以下三个值之一：</p><p>值 0 代表空单元格；<br>值 1 代表新鲜橘子；<br>值 2 代表腐烂的橘子。<br>每分钟，腐烂的橘子 周围 4 个方向上相邻 的新鲜橘子都会腐烂。</p><p>返回 直到单元格中没有新鲜橘子为止所必须经过的最小分钟数。如果不可能，返回 -1 。</p><p>示例 1：</p><p>输入：grid = [[2,1,1],[1,1,0],[0,1,1]]<br>输出：4<br>示例 2：</p><p>输入：grid = [[2,1,1],[0,1,1],[1,0,1]]<br>输出：-1<br>解释：左下角的橘子（第 2 行， 第 0 列）永远不会腐烂，因为腐烂只会发生在 4 个正向上。<br>示例 3：</p><p>输入：grid = [[0,2]]<br>输出：0<br>解释：因为 0 分钟时已经没有新鲜橘子了，所以答案就是 0 。</p></blockquote><h4 id="解题思路-BFS"><a href="#解题思路-BFS" class="headerlink" title="解题思路(BFS)"></a>解题思路(BFS)</h4><ol><li>与烂橘子相邻的好橘子会在一分钟后腐烂</li><li>假设最开始所有的烂橘子是第0层，那么隔一分钟烂一层（其下层就是其上下左右方向的好橘子）</li><li>如果<code>存在不挨着任何一个烂橘子的好橘子</code>，返回-1；如果到最后<code>都烂了</code>，返回层数；如果<code>一开始没有好橘子</code>，返回0</li></ol><h4 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> orangesRotting = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="comment">// 好果子耶！</span></span><br><span class="line">    <span class="keyword">let</span> fresh = <span class="number">0</span></span><br><span class="line">    <span class="comment">// 框定边界</span></span><br><span class="line">    <span class="keyword">const</span> row = grid.<span class="property">length</span>, col = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="comment">// 工具队列（专门盛放烂橘子）</span></span><br><span class="line">    <span class="keyword">let</span> que = []</span><br><span class="line">    <span class="comment">// 遍历筐内所有橘子，好的fresh+1，坏的添加到队列</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] === <span class="number">1</span>) &#123;</span><br><span class="line">                fresh++</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] === <span class="number">2</span>) &#123;</span><br><span class="line">                que.<span class="title function_">push</span>([i, j])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 位移数组</span></span><br><span class="line">    <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">const</span> dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="comment">// 找不到坏果子就不算0层（-1层）</span></span><br><span class="line">    <span class="keyword">let</span> cnt = -<span class="number">1</span></span><br><span class="line">    <span class="comment">// 按层遍历</span></span><br><span class="line">    <span class="keyword">while</span> (que.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="comment">// 层数+1</span></span><br><span class="line">        cnt++</span><br><span class="line">        <span class="comment">// 每层烂橘子个数</span></span><br><span class="line">        <span class="keyword">let</span> size = que.<span class="property">length</span></span><br><span class="line">        <span class="comment">// 遍历cnt层</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="comment">// 去除一个当做父节点</span></span><br><span class="line">            <span class="keyword">let</span> [x, y] = que.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="comment">// 寻找自己的上下左右孩子（感染对象）</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">let</span> newX = x + dx[j], newY = y + dy[j]</span><br><span class="line">                <span class="keyword">if</span> (newX &lt; <span class="number">0</span> || newY &lt; <span class="number">0</span> || newX &gt;= row || newY &gt;= col || grid[newX][newY] !== <span class="number">1</span>) <span class="keyword">continue</span></span><br><span class="line">                <span class="comment">// 找到一个感染对象！把它感染，并放进队列，好橘子个数fresh-1</span></span><br><span class="line">                grid[newX][newY] = <span class="number">2</span></span><br><span class="line">                que.<span class="title function_">push</span>([newX, newY])</span><br><span class="line">                fresh--</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果还有好橘子-1；如果一开始就没好橘子0；好橘子都没了cnt</span></span><br><span class="line">    <span class="keyword">return</span> fresh &gt; <span class="number">0</span> ? -<span class="number">1</span> : (cnt &lt;= <span class="number">0</span> ? <span class="number">0</span> : cnt)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="？🎛542-01-矩阵"><a href="#？🎛542-01-矩阵" class="headerlink" title="？🎛542. 01 矩阵"></a>？<a href="https://leetcode.cn/problems/01-matrix/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">🎛542. 01 矩阵</a></h3><blockquote><p>给定一个由 0 和 1 组成的矩阵 mat ，请输出一个大小相同的矩阵，其中每一个格子是 mat 中对应位置元素到最近的 0 的距离。</p><p>两个相邻元素间的距离为 1 。</p><p>示例 1：</p><p><img src="../images/%E8%92%9C%E6%B3%95/1626667201-NCWmuP-image.png" alt="img"></p><p>输入：mat = [[0,0,0],[0,1,0],[0,0,0]]<br>输出：[[0,0,0],[0,1,0],[0,0,0]]<br>示例 2：</p><p><img src="../images/%E8%92%9C%E6%B3%95/1626667205-xFxIeK-image.png" alt="img"></p><p>输入：mat = [[0,0,0],[0,1,0],[1,1,1]]<br>输出：[[0,0,0],[0,1,0],[1,2,1]]</p></blockquote><h4 id="解题思路-3"><a href="#解题思路-3" class="headerlink" title="解题思路"></a>解题思路</h4><p>此题用的动态规划</p><h4 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">mat</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> updateMatrix = <span class="keyword">function</span>(<span class="params">mat</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!mat.<span class="property">length</span> || !mat[<span class="number">0</span>].<span class="property">length</span>) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> row = mat.<span class="property">length</span></span><br><span class="line">    <span class="keyword">const</span> col = mat[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ans = <span class="keyword">new</span> <span class="title class_">Array</span>(row)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        ans[i] = <span class="keyword">new</span> <span class="title class_">Array</span>(col).<span class="title function_">fill</span>(row + col)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mat[i][j] === <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i - <span class="number">1</span>][j] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i][j - <span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = row - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = col - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> &lt; row) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i + <span class="number">1</span>][j] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j + <span class="number">1</span> &lt; col) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i][j + <span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="递归-迭代"><a href="#递归-迭代" class="headerlink" title="递归/迭代"></a>递归/迭代</h2><p>有的时候真的不理解递归，所以不喜欢用</p><p>但是多做几个就觉得很有成就感，又喜欢用了</p><h3 id="👈️206-反转链表"><a href="#👈️206-反转链表" class="headerlink" title="👈️206. 反转链表"></a><a href="https://leetcode.cn/problems/reverse-linked-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">👈️206. 反转链表</a></h3><blockquote><p>给你单链表的头节点 head ，请你反转链表，并返回反转后的链表。</p><p>示例 1：</p><p><img src="../images/%E8%92%9C%E6%B3%95/rev1ex1.jpg" alt="img"></p><p>输入：head = [1,2,3,4,5]<br>输出：[5,4,3,2,1]</p></blockquote><h4 id="解题思路-递归"><a href="#解题思路-递归" class="headerlink" title="解题思路(递归)"></a>解题思路(递归)</h4><img src="../images/%E8%92%9C%E6%B3%95/image-20230321184400708.png" alt="image-20230321184400708" style="zoom: 80%;" /><h4 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val, next) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.next = (next===undefined ? null : next)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">head</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">ListNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 递归</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span>(<span class="params">head</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.<span class="property">next</span> == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> newHead = <span class="title function_">reverseList</span>(head.<span class="property">next</span>);</span><br><span class="line">    head.<span class="property">next</span>.<span class="property">next</span> = head;</span><br><span class="line">    head.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 迭代</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span>(<span class="params">head</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> curr = head</span><br><span class="line">    <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">        <span class="keyword">const</span> next = curr.<span class="property">next</span></span><br><span class="line">        curr.<span class="property">next</span> = prev</span><br><span class="line"></span><br><span class="line">        prev = curr</span><br><span class="line">        curr = next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🙏21-合并两个有序链表"><a href="#🙏21-合并两个有序链表" class="headerlink" title="🙏21. 合并两个有序链表"></a><a href="https://leetcode.cn/problems/merge-two-sorted-lists/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🙏21. 合并两个有序链表</a></h3><p>递归我的递归啊T_T</p><blockquote><p>将两个升序链表合并为一个新的 升序 链表并返回。新链表是通过拼接给定的两个链表的所有节点组成的。 </p><p>示例 1：</p><img src="../images/%E8%92%9C%E6%B3%95/merge_ex1.jpg" alt="img" style="zoom:80%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [1,2,4], l2 = [1,3,4]</span><br><span class="line">输出：[1,1,2,3,4,4]</span><br></pre></td></tr></table></figure><p><strong>示例 2：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [], l2 = []</span><br><span class="line">输出：[]</span><br></pre></td></tr></table></figure><p><strong>示例 3：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：l1 = [], l2 = [0]</span><br><span class="line">输出：[0]</span><br></pre></td></tr></table></figure></blockquote><h4 id="解题思路-4"><a href="#解题思路-4" class="headerlink" title="解题思路"></a>解题思路</h4><ol><li>当l1为空时返回剩下的l2</li><li>当l2为空时返回剩下的l1</li><li>当两者都不为空时，要继续递归，如果l1.val &lt;= l2.val，那么递归参数将是(l1的下一个节点, l2)，返回l1</li><li>同理l2.val较小时递归l1与l2.next，返回l2</li></ol><h4 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val, next) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.next = (next===undefined ? null : next)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">list1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">list2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">ListNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> mergeTwoLists = <span class="keyword">function</span>(<span class="params">list1, list2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!list2) <span class="keyword">return</span> list1</span><br><span class="line">    <span class="keyword">if</span> (!list1) <span class="keyword">return</span> list2</span><br><span class="line">    <span class="keyword">if</span> (list1.<span class="property">val</span> &lt;= list2.<span class="property">val</span>) &#123;</span><br><span class="line">        list1.<span class="property">next</span> = <span class="title function_">mergeTwoLists</span>(list1.<span class="property">next</span>, list2)</span><br><span class="line">        <span class="keyword">return</span> list1</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list2.<span class="property">next</span> = <span class="title function_">mergeTwoLists</span>(list1, list2.<span class="property">next</span>)</span><br><span class="line">        <span class="keyword">return</span> list2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="递归-回溯"><a href="#递归-回溯" class="headerlink" title="递归/回溯"></a>递归/回溯</h2><p>用熟了就有点喜欢用了</p><h3 id="👩‍👩‍👧‍👧46-全排列"><a href="#👩‍👩‍👧‍👧46-全排列" class="headerlink" title="👩‍👩‍👧‍👧46. 全排列"></a><a href="https://leetcode.cn/problems/permutations/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">👩‍👩‍👧‍👧46. 全排列</a></h3><blockquote><p>给定一个不含重复数字的数组 nums ，返回其 所有可能的全排列 。你可以 按任意顺序 返回答案。</p><p>示例 1：</p><p>输入：nums = [1,2,3]<br>输出：[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</p><p>示例 2：</p><p>输入：nums = [0,1]<br>输出：[[0,1],[1,0]]</p><p>示例 3：</p><p>输入：nums = [1]<br>输出：[[1]]</p></blockquote><h4 id="解题思路-回溯-DFS"><a href="#解题思路-回溯-DFS" class="headerlink" title="解题思路(回溯 DFS)"></a>解题思路(回溯 DFS)</h4><ol><li>DFS建树，排除重复重复解，搜出所有解</li><li>回溯入口：空数组传入</li><li>回溯过程：遍历数字（枚举各项），使用条件判断跳过剪枝项，将符合条件的项添加到数组中，进行下一次迭代选择</li><li>回溯出口：数组长度与定长长度一致</li></ol><h4 id="代码-8"><a href="#代码-8" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> permute = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">const</span> used = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">path</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (path.<span class="property">length</span> == nums.<span class="property">length</span>) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(path.<span class="title function_">slice</span>())</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (used[num]) <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            path.<span class="title function_">push</span>(num)</span><br><span class="line">            used[num] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">            <span class="title function_">dfs</span>(path)</span><br><span class="line"></span><br><span class="line">            path.<span class="title function_">pop</span>()</span><br><span class="line">            used[num] = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">dfs</span>([])</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="👪️77-组合"><a href="#👪️77-组合" class="headerlink" title="👪️77. 组合"></a><a href="https://leetcode.cn/problems/combinations/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">👪️77. 组合</a></h3><blockquote><p>给定两个整数 n 和 k，返回范围 [1, n] 中所有可能的 k 个数的组合。你可以按 任何顺序 返回答案。 </p><p>示例 1：</p><p>输入：n = 4, k = 2<br>输出：<br>[<br>  [2,4],<br>  [3,4],<br>  [2,3],<br>  [1,2],<br>  [1,3],<br>  [1,4],<br>]<br>示例 2：</p><p>输入：n = 1, k = 1<br>输出：[[1]]</p></blockquote><h4 id="解题思路-5"><a href="#解题思路-5" class="headerlink" title="解题思路"></a>解题思路</h4><p>大同小异，不过要注意此题要求的排列完全解不包含重复元素的不同排列(1,2  2,1 nono!)</p><p>所以我们需要通过控制枚举起点start，来正确裁剪分支</p><ol><li>回溯起点：枚举起点1，空数组</li><li>回溯终点：队列长度与要求长度相等</li><li>回溯过程：枚举起点start在每一次迭代时+1</li></ol><p><img src="../images/%E8%92%9C%E6%B3%95/1599556747-PAzUfe-image.png" alt="image.png"></p><h4 id="代码-9"><a href="#代码-9" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> combine = <span class="keyword">function</span>(<span class="params">n, k</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="keyword">let</span> used = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">start, que</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (que.<span class="property">length</span> == k) &#123;</span><br><span class="line">            ans.<span class="title function_">push</span>(que.<span class="title function_">slice</span>())</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key = start; key &lt;= n; key++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (used.<span class="title function_">has</span>(key)) <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            que.<span class="title function_">push</span>(key)</span><br><span class="line">            used.<span class="title function_">set</span>(key)</span><br><span class="line">            </span><br><span class="line">            <span class="title function_">dfs</span>(key+<span class="number">1</span>, que)</span><br><span class="line">            </span><br><span class="line">            used.<span class="title function_">delete</span>(key)</span><br><span class="line">            que.<span class="title function_">pop</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">dfs</span>(<span class="number">1</span>, [])</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🔠784-字母大小写全排列"><a href="#🔠784-字母大小写全排列" class="headerlink" title="🔠784. 字母大小写全排列"></a><a href="https://leetcode.cn/problems/letter-case-permutation/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🔠784. 字母大小写全排列</a></h3><blockquote><p>给定一个字符串 s ，通过将字符串 s 中的每个字母转变大小写，我们可以获得一个新的字符串。</p><p>返回 所有可能得到的字符串集合 。以 任意顺序 返回输出。</p><p>示例 1：</p><p>输入：s = “a1b2”<br>输出：[“a1b2”, “a1B2”, “A1b2”, “A1B2”]<br>示例 2:</p><p>输入: s = “3z4”<br>输出: [“3z4”,”3Z4”]</p></blockquote><h4 id="解题思路-6"><a href="#解题思路-6" class="headerlink" title="解题思路"></a>解题思路</h4><p>可恶！！！数字！！！！树树树！！！！</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="keyword">const</span> len = s.<span class="property">length</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">dfs</span> = (<span class="params">start, que</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (que.<span class="property">length</span> == len) &#123;</span><br><span class="line">            ans.<span class="title function_">push</span>(que.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(i) &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; s.<span class="title function_">charAt</span>(i) &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// 遇到数字pushpushdfs</span></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i))</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 遇到字母pushpushdfsdfs</span></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i).<span class="title function_">toLowerCase</span>())</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line"></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i).<span class="title function_">toUpperCase</span>())</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">dfs</span>(<span class="number">0</span>, [])</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="代码-10"><a href="#代码-10" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我有点不能接收其他思路的感觉，很可怕</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span> (<span class="params">s</span>) &#123;</span><br><span class="line">  s = s.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">let</span> arr = [s[<span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">if</span> (s[<span class="number">0</span>].<span class="title function_">charCodeAt</span>() &gt; <span class="number">96</span>) arr.<span class="title function_">push</span>(s[<span class="number">0</span>].<span class="title function_">toUpperCase</span>())</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    arr = arr.<span class="title function_">map</span>(<span class="function"><span class="params">word</span> =&gt;</span> word += s[i])</span><br><span class="line">    <span class="keyword">if</span> (s[i].<span class="title function_">charCodeAt</span>() &gt; <span class="number">96</span>) arr = arr.<span class="title function_">concat</span>(arr.<span class="title function_">map</span>(<span class="function"><span class="params">word</span> =&gt;</span> word.<span class="title function_">slice</span>(<span class="number">0</span>, -<span class="number">1</span>) + s[i].<span class="title function_">toUpperCase</span>()))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">作者：alexYang</span><br><span class="line">链接：<span class="attr">https</span>:<span class="comment">//leetcode.cn/problems/letter-case-permutation/solution/by-alexyang-wzkk/</span></span><br><span class="line">来源：力扣（<span class="title class_">LeetCode</span>）</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 官方核武器版本</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ans = [];</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">dfs</span> = (<span class="params">arr, pos, res</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; arr.<span class="property">length</span> &amp;&amp; <span class="title function_">isDigit</span>(arr[pos])) &#123;</span><br><span class="line">            pos++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pos === arr.<span class="property">length</span>) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(arr.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[pos] = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(arr[pos].<span class="title function_">charCodeAt</span>() ^ <span class="number">32</span>);</span><br><span class="line">        <span class="title function_">dfs</span>(arr, pos + <span class="number">1</span>, res);</span><br><span class="line">        arr[pos] = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(arr[pos].<span class="title function_">charCodeAt</span>() ^ <span class="number">32</span>);</span><br><span class="line">        <span class="title function_">dfs</span>(arr, pos + <span class="number">1</span>, res);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="title function_">dfs</span>([...s], <span class="number">0</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">isDigit</span> = (<span class="params">ch</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseFloat</span>(ch).<span class="title function_">toString</span>() === <span class="string">&quot;NaN&quot;</span> ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">作者：<span class="title class_">LeetCode</span>-<span class="title class_">Solution</span></span><br><span class="line">链接：<span class="attr">https</span>:<span class="comment">//leetcode.cn/problems/letter-case-permutation/solution/zi-mu-da-xiao-xie-quan-pai-lie-by-leetco-cwpx/</span></span><br><span class="line">来源：力扣（<span class="title class_">LeetCode</span>）</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure><h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><blockquote><p>自下而上的超牛思想，使问题简单，促人生成功(doge)</p></blockquote><h3 id="🛤️70-爬楼梯"><a href="#🛤️70-爬楼梯" class="headerlink" title="🛤️70. 爬楼梯"></a><a href="https://leetcode.cn/problems/climbing-stairs/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">🛤️70. 爬楼梯</a></h3><blockquote><p>假设你正在爬楼梯。需要 n 阶你才能到达楼顶。每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？</p><p>示例 1：</p><p>输入：n = 2<br>输出：2<br>解释：有两种方法可以爬到楼顶。</p><ol><li>1 阶 + 1 阶</li><li>2 阶</li></ol><p>示例 2：</p><p>输入：n = 3<br>输出：3<br>解释：有三种方法可以爬到楼顶。</p><ol><li>1 阶 + 1 阶 + 1 阶</li><li>1 阶 + 2 阶</li><li>2 阶 + 1 阶</li></ol></blockquote><h4 id="解题思路-7"><a href="#解题思路-7" class="headerlink" title="解题思路"></a>解题思路</h4><p>有两种方式上楼：一次迈一阶/一次迈两阶</p><p>最后一次上楼还剩 一阶/两阶</p><p>最近一次上楼方式总数 应该是 在此之前两种方式上楼方式的总和<br>$$<br>f(x) = f(x - 1) + f(x - 2)<br>$$<br>用脚趾推算得f(0) = f(1) = 1</p><p>那么接下来就可以遍历相加了</p><h4 id="代码-11"><a href="#代码-11" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> climbStairs = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, step1 = <span class="number">1</span>, step2 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>;  i &lt;= n; i++) &#123;</span><br><span class="line">        step2 = step1</span><br><span class="line">        step1 = ans</span><br><span class="line">        ans = step1 + step2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用数组更适合我这种笨笨脑</span></span><br><span class="line"><span class="keyword">var</span> climbStairs = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="keyword">new</span> <span class="title class_">Array</span>(n+<span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    ans[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    ans[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>;  i &lt;= n; i++) &#123;</span><br><span class="line">        ans[i] = ans[i - <span class="number">1</span>] + ans[i - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans[n]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🗼120-三角形最小路径和"><a href="#🗼120-三角形最小路径和" class="headerlink" title="🗼120. 三角形最小路径和"></a><a href="https://leetcode.cn/problems/triangle/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">🗼120. 三角形最小路径和</a></h3><blockquote><p>给定一个三角形 triangle ，找出自顶向下的最小路径和。</p><p>每一步只能移动到下一行中相邻的结点上。相邻的结点 在这里指的是 下标 与 上一层结点下标 相同或者等于 上一层结点下标 + 1 的两个结点。也就是说，如果正位于当前行的下标 i ，那么下一步可以移动到下一行的下标 i 或 i + 1 。</p><p>示例 1：</p><p>输入：triangle = [[2],[3,4],[6,5,7],[4,1,8,3]]<br>输出：11<br>解释：如下面简图所示：<br>   2<br>  3 4<br> 6 5 7<br>4 1 8 3<br>自顶向下的最小路径和为 11（即，2 + 3 + 5 + 1 = 11）。</p><p>示例 2：</p><p>输入：triangle = [[-10]]<br>输出：-10</p></blockquote><h4 id="解题思路-8"><a href="#解题思路-8" class="headerlink" title="解题思路"></a>解题思路</h4><p>浅画草图</p><img src="../images/%E8%92%9C%E6%B3%95/IMG_20230323_091839.jpg" alt="IMG_20230323_091839" style="zoom: 15%;" /><h4 id="代码-12"><a href="#代码-12" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">triangle</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> minimumTotal = <span class="keyword">function</span>(<span class="params">triangle</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> row = triangle.<span class="property">length</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (row === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; triangle[i].<span class="property">length</span>; j++) &#123;</span><br><span class="line">            triangle[i][j] += <span class="title class_">Math</span>.<span class="title function_">min</span>(triangle[i+<span class="number">1</span>][j], triangle[i+<span class="number">1</span>][j+<span class="number">1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="🕲198-打家劫舍"><a href="#🕲198-打家劫舍" class="headerlink" title="🕲198. 打家劫舍"></a><a href="https://leetcode.cn/problems/house-robber/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">🕲198. 打家劫舍</a></h3><blockquote><p>你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。</p><p>给定一个代表每个房屋存放金额的非负整数数组，计算你 不触动警报装置的情况下 ，一夜之内能够偷窃到的最高金额。</p><p>示例 1：</p><p>输入：[1,2,3,1]<br>输出：4<br>解释：偷窃 1 号房屋 (金额 = 1) ，然后偷窃 3 号房屋 (金额 = 3)。<br>     偷窃到的最高金额 = 1 + 3 = 4 。<br>示例 2：</p><p>输入：[2,7,9,3,1]<br>输出：12<br>解释：偷窃 1 号房屋 (金额 = 2), 偷窃 3 号房屋 (金额 = 9)，接着偷窃 5 号房屋 (金额 = 1)。<br>     偷窃到的最高金额 = 2 + 9 + 1 = 12 。</p></blockquote><h4 id="解题思路-9"><a href="#解题思路-9" class="headerlink" title="解题思路"></a>解题思路</h4><blockquote><p> 2  1  1  2</p></blockquote><p>就是说问题可以拆分成两种情况↓：</p><ul><li>偷这个家-前头那家不能偷 (小偷溜达到这家，手里有<code>前几家的米，并且攥了一把这家的米</code>)</li><li>偷前头那家-这家不能偷 (小偷溜达到这家的时候，手里有偷<code>前前头那几家的米</code>)</li></ul><p>所以说状态量应该是：小偷溜达到第几家的时候手里有多少米</p><p>最终解是俩两种情况里挑最大的↓</p><blockquote><p>2                    1                    1                    2</p><p><strong>偷2</strong>不偷0      偷1<strong>不偷2</strong>      <strong>偷3</strong>不偷2      <strong>偷4</strong>不偷3</p></blockquote><p>那么↓</p><p>$home[x] = max(home[x-1], home[x-2] + money[x])$</p><p>小偷我到这家手里的钱钱 = 上一家偷来的钱钱 / 这家偷的钱钱和非上一家偷来的钱钱之和  (聪明的小偷会选择较大的获益)</p><h4 id="代码-13"><a href="#代码-13" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> rob = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = nums.<span class="property">length</span></span><br><span class="line">    <span class="keyword">let</span> dp = [nums[<span class="number">0</span>], <span class="title class_">Math</span>.<span class="title function_">max</span>(nums[<span class="number">0</span>], nums[<span class="number">1</span>])]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; len; i++) &#123;</span><br><span class="line">        dp[i] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[i-<span class="number">1</span>], dp[i-<span class="number">2</span>]+nums[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[len - <span class="number">1</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 状态压缩</span></span><br><span class="line"><span class="keyword">var</span> rob = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dp_0 = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> dp_1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">let</span> dp_max = dp_1</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; nums.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        dp_max = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp_1, dp_0 + nums[i])</span><br><span class="line">        dp_0 = dp_1</span><br><span class="line">        dp_1 = dp_max</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp_max</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><h3 id="1️⃣191-位1的个数"><a href="#1️⃣191-位1的个数" class="headerlink" title="1️⃣191. 位1的个数"></a><a href="https://leetcode.cn/problems/number-of-1-bits/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">1️⃣191. 位1的个数</a></h3><blockquote><p>编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字位数为 ‘1’ 的个数（汉明重量）。</p><p>提示：</p><p>请注意，在某些语言（如 Java）中，没有无符号整数类型。在这种情况下，输入和输出都将被指定为有符号整数类型，并且不应影响您的实现，因为无论整数是有符号的还是无符号的，其内部的二进制表示形式都是相同的。<br>在 Java 中，编译器使用二进制补码记法来表示有符号整数。因此，在 示例 3 中，输入表示有符号整数 -3。</p><p>示例 1：</p><p>输入：n = 00000000000000000000000000001011<br>输出：3<br>解释：输入的二进制串 00000000000000000000000000001011 中，共有三位为 ‘1’。<br>示例 2：</p><p>输入：n = 00000000000000000000000010000000<br>输出：1<br>解释：输入的二进制串 00000000000000000000000010000000 中，共有一位为 ‘1’。<br>示例 3：</p><p>输入：n = 11111111111111111111111111111101<br>输出：31<br>解释：输入的二进制串 11111111111111111111111111111101 中，共有 31 位为 ‘1’。</p></blockquote><h4 id="解题思路-10"><a href="#解题思路-10" class="headerlink" title="解题思路"></a>解题思路</h4><p>观察：<code>n &amp; (n - 1) = 把n的二进制位中最低位的1变为0后的结果</code></p><p>也就是说我们只需要  不断把二进制数中的1=&gt;0，直到数字变为0  就可以求得其“汉明重量/汉明权重”</p><blockquote><p>​        汉明权重是一串符号中不同于（定义在其所使用的字符集上的）零符号（zero-symbol）的个数。对于一个二进制数，它的汉明权重就等于它 <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="1"> 的个数（即 <code>popcount</code>)。</p></blockquote><h4 id="代码-14"><a href="#代码-14" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span> - a positive integer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> hammingWeight = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> popCount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">        n &amp;= n - <span class="number">1</span></span><br><span class="line">        popCount++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> popCount</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2️⃣231-2-的幂"><a href="#2️⃣231-2-的幂" class="headerlink" title="2️⃣231. 2 的幂"></a><a href="https://leetcode.cn/problems/power-of-two/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">2️⃣231. 2 的幂</a></h3><blockquote><p>给你一个整数 n，请你判断该整数是否是 2 的幂次方。如果是，返回 true ；否则，返回 false 。</p><p>如果存在一个整数 x 使得 n == 2x ，则认为 n 是 2 的幂次方。</p><p>示例 1：</p><p>输入：n = 1<br>输出：true<br>解释：20 = 1<br>示例 2：</p><p>输入：n = 16<br>输出：true<br>解释：24 = 16<br>示例 3：</p><p>输入：n = 3<br>输出：false<br>示例 4：</p><p>输入：n = 4<br>输出：true<br>示例 5：</p><p>输入：n = 5<br>输出：false</p></blockquote><h4 id="解题思路-11"><a href="#解题思路-11" class="headerlink" title="解题思路"></a>解题思路</h4><p>我对位运算没太有概念啊，反正遇到一个题就记一下了</p><h4 id="代码-15"><a href="#代码-15" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isPowerOfTwo = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (n - <span class="number">1</span>)) === <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isPowerOfTwo = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (-n)) === n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="🔢136-只出现一次的数字"><a href="#🔢136-只出现一次的数字" class="headerlink" title="🔢136. 只出现一次的数字"></a><a href="https://leetcode.cn/problems/single-number/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">🔢136. 只出现一次的数字</a></h3><blockquote><p>给你一个 非空 整数数组 nums ，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p><p>你必须设计并实现线性时间复杂度的算法来解决此问题，且该算法只使用常量额外空间。</p><p>示例 1 ：</p><p>输入：nums = [2,2,1]<br>输出：1<br>示例 2 ：</p><p>输入：nums = [4,1,2,1,2]<br>输出：4<br>示例 3 ：</p><p>输入：nums = [1]<br>输出：1</p></blockquote><h4 id="解题思路-12"><a href="#解题思路-12" class="headerlink" title="解题思路"></a>解题思路</h4><p>异或运算⊕有以下三个性质:</p><ol><li>$a ⊕ 0 = a$</li><li>$a⊕a = 0$</li><li>$ a ⊕ b ⊕ a = b ⊕ a ⊕ a = b ⊕ (a ⊕ a) = b ⊕ 0 = b $</li></ol><p>所以只需要遍历数组，把所有的数进行异或，就可以找出只出现一次的数值。</p><h4 id="代码-16"><a href="#代码-16" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> singleNumber = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> n <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        ans ^= n</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="️⃣190-颠倒二进制位"><a href="#️⃣190-颠倒二进制位" class="headerlink" title="#️⃣190. 颠倒二进制位"></a><a href="https://leetcode.cn/problems/reverse-bits/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">#️⃣190. 颠倒二进制位</a></h3><blockquote><p>颠倒给定的 32 位无符号整数的二进制位。</p><p>提示：</p><p>请注意，在某些语言（如 Java）中，没有无符号整数类型。在这种情况下，输入和输出都将被指定为有符号整数类型，并且不应影响您的实现，因为无论整数是有符号的还是无符号的，其内部的二进制表示形式都是相同的。<br>在 Java 中，编译器使用二进制补码记法来表示有符号整数。因此，在 示例 2 中，输入表示有符号整数 -3，输出表示有符号整数 -1073741825。</p><p>示例 1：</p><p>输入：n = 00000010100101000001111010011100<br>输出：964176192 (00111001011110000010100101000000)<br>解释：输入的二进制串 00000010100101000001111010011100 表示无符号整数 43261596，<br>     因此返回 964176192，其二进制表示形式为 00111001011110000010100101000000。<br>示例 2：</p><p>输入：n = 11111111111111111111111111111101<br>输出：3221225471 (10111111111111111111111111111111)<br>解释：输入的二进制串 11111111111111111111111111111101 表示无符号整数 4294967293，<br>     因此返回 3221225471 其二进制表示形式为 10111111111111111111111111111111 。</p></blockquote><h4 id="解题思路-13"><a href="#解题思路-13" class="headerlink" title="解题思路"></a>解题思路</h4><p>根据位运算特性，遍历各位，逐位颠倒。</p><h4 id="代码-17"><a href="#代码-17" class="headerlink" title="代码"></a>代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span> - a positive integer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125; - a positive integer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> reverseBits = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="comment">// 这个是运用JS内置一些API做的，但是效率不及后者</span></span><br><span class="line">    <span class="comment">// return +(&#x27;0b&#x27;+n.toString(2).padStart(32,0).split(&#x27;&#x27;).reverse().join(&#x27;&#x27;))</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> rev = <span class="number">0</span> <span class="comment">// 初始化一个放各位数的容器</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span> &amp;&amp; n &gt; <span class="number">0</span>; i++) &#123;  <span class="comment">// 对n进行取数位移操作</span></span><br><span class="line">        rev |= (n &amp; <span class="number">1</span>) &lt;&lt; (<span class="number">31</span> - <span class="number">1</span>)  <span class="comment">// 取出n中最后一位数，并将该数放进dev指定位置</span></span><br><span class="line">        n &gt;&gt;&gt;= <span class="number">1</span>  <span class="comment">// n无符号向右移动一位捏嘿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rev &gt;&gt;&gt; <span class="number">0</span>  <span class="comment">// 一开始没加&gt;&gt;&gt;0，报错了，错误案例是一个负数，我？？？ </span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 还有一种方法是‘位运算分治’我不太理解，偶数对调隔2对调隔4对调什么的</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二分查找 </tag>
            
            <tag> 双指针 </tag>
            
            <tag> 滑动窗口 </tag>
            
            <tag> 哈希表 </tag>
            
            <tag> BFS </tag>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>速通蓝桥杯Web</title>
      <link href="/post/d0c6.html"/>
      <url>/post/d0c6.html</url>
      
        <content type="html"><![CDATA[<h3 id="网页-PPT-JS-三模"><a href="#网页-PPT-JS-三模" class="headerlink" title="网页 PPT-JS-三模"></a>网页 PPT-JS-三模</h3><blockquote><p>过辣！</p></blockquote><p>介绍:</p><p>除了使用办公软件来制作 PPT，利用前端技术其实我们也可以制作一个在浏览器播放的 PPT，这样的 PPT 更加方便传播和查看，而且可以最大限度地利用前端技术的布局和交互能力。本题请实现一个讲授 HTML 基础知识的网页 PPT。</p><p>请在 <code>js/index.js</code> 文件中补全代码，具体需求如下：</p><ol><li>补充 <code>switchPage</code> 函数，实现根据 <code>activeIndex</code> 切换 PPT 页面的功能（切换页面请通过控制 <code>section</code> 元素的 <code>display</code> 属性实现），切换页面的同时需要改变左下角的页码 <code>(class=&quot;page&quot;)</code>，格式为 <code>&quot;当前页码 / 总页码&quot;</code>，注意。</li><li>在播放到第一页时给“上一张”按钮 <code>(class=&quot;btn left&quot;)</code> 添加 <code>disable</code> 类，并在播放到最后一页时给“下一张”按钮 <code>(class=&quot;btn right&quot;)</code> 添加 <code>disable</code> 类，其他情况下则都不添加。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sectionsCount = $(<span class="string">&quot;section&quot;</span>).<span class="property">length</span>;</span><br><span class="line"><span class="keyword">let</span> activeIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听用户按下空格和方向键的事件</span></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">on</span>(<span class="string">&quot;keydown&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&quot; &quot;</span> || e.<span class="property">key</span> === <span class="string">&quot;ArrowRight&quot;</span>) &#123;</span><br><span class="line">    <span class="title function_">goRight</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&quot;ArrowLeft&quot;</span>) &#123;</span><br><span class="line">    <span class="title function_">goLeft</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听按钮点击事件</span></span><br><span class="line">$(<span class="string">&quot;.btn.left&quot;</span>).<span class="title function_">click</span>(goLeft);</span><br><span class="line">$(<span class="string">&quot;.btn.right&quot;</span>).<span class="title function_">click</span>(goRight);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换下一张的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goLeft</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (activeIndex === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  activeIndex -= <span class="number">1</span>;</span><br><span class="line">  <span class="title function_">switchPage</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换上一张的函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goRight</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (activeIndex+<span class="number">1</span> === sectionsCount) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  activeIndex += <span class="number">1</span>;</span><br><span class="line">  <span class="title function_">switchPage</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> 请补充该函数，实现根据activeIndex切换页面的功能</span></span><br><span class="line">  <span class="comment">// 并且在到达最后一页或第一页时给相应的按钮添加disable类</span></span><br><span class="line">  <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;section&#x27;</span>)).<span class="title function_">slice</span>(<span class="number">0</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>);</span><br><span class="line">  <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;section&#x27;</span>)).<span class="title function_">slice</span>(activeIndex, activeIndex + <span class="number">1</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>);</span><br><span class="line">  $(<span class="string">&quot;.page&quot;</span>).<span class="title function_">text</span>((activeIndex+<span class="number">1</span>) + <span class="string">&#x27; / &#x27;</span> + sectionsCount)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(activeIndex === <span class="number">0</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.btn.left&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;section&#x27;</span>)).<span class="title function_">slice</span>(activeIndex, activeIndex + <span class="number">1</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;flex&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(activeIndex === sectionsCount - <span class="number">1</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.btn.right&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;section&#x27;</span>)).<span class="title function_">slice</span>(activeIndex, activeIndex + <span class="number">1</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;flex&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $(<span class="string">&quot;.btn.right&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;.btn.left&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="蓝桥校园一卡通-CSS-三模"><a href="#蓝桥校园一卡通-CSS-三模" class="headerlink" title="蓝桥校园一卡通-CSS-三模"></a>蓝桥校园一卡通-CSS-三模</h3><blockquote><p>过辣！</p><p>救命我的HTML/CSS基础烂到家了</p></blockquote><p>介绍：</p><p>每年大一新生报道时，都需要办一张校园一卡通，无论吃饭、洗澡、买东西、甚至去图书馆借书都要用，小蓝想帮助学校做一个制卡界面，但是用 js 做用户输入验证不知道怎么写，快来帮助小蓝完成这个页面吧！</p><p>请在 <code>index.html</code> 文件中补全代码，具体需求如下：</p><ol><li>完成表单验证：</li></ol><ul><li>姓名：2-4 个汉字，验证错误在对应的表单项（<code>class=form-group</code>）添加类 <code>class=has-error</code>，并在下方显示报错信息（即 <code>id=vail_name</code> 的元素显示）。</li></ul><blockquote><p>tips: 正则中用 <code>[\u4e00-\u9fa5]</code> 表示汉字。</p></blockquote><ul><li>学号: 1-12 位纯数字，错误即在对应的表单项（<code>class=form-group</code>）添加类 <code>class=has-error</code>，并在下方显示报错信息（即 <code>id=vail_studentId</code> 的元素显示）。</li></ul><ol><li>表单验证通过过后，正确显示卡片。在卡片（<code>class=info</code>）元素下的（<code>class=item</code>）的元素中按照顺序分别显示表单提交的内容：姓名：xxx，学号：xxx, 学院：xxx。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>蓝桥校园一卡通<span class="tag">&lt;/<span class="name">title</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span> /&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cardStyle&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cardName&quot;</span>&gt;</span>蓝桥校园一卡通<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;studentName&quot;</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;studentName&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> <span class="attr">aria-describedby</span>=<span class="string">&quot;inputSuccess2Status&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;vail_name&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;help-block&quot;</span>&gt;</span> 姓名是2-4个汉字，请您检查输入的内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;studentId&quot;</span>&gt;</span>学号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;studentId&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入学号&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;vail_studentId&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;help-block&quot;</span>&gt;</span> 学号是1-12位的数字，请您检查输入的内容<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;college&quot;</span>&gt;</span>学院<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;college&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;软件工程学院&quot;</span>&gt;</span>软件工程学院<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;信息技术学院&quot;</span>&gt;</span>信息技术学院<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;数字媒体学院&quot;</span>&gt;</span>数字媒体学院<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;计算机科学学院&quot;</span>&gt;</span>计算机科学学院<span class="tag">&lt;/<span class="name">option</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>制卡<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 获取DOM元素对象</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> studentName = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;studentName&quot;</span>); <span class="comment">// 姓名</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> studentId = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;studentId&quot;</span>);  <span class="comment">// 学号</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> college = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;college&quot;</span>); <span class="comment">// 学院</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> submit = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;submit&quot;</span>);  <span class="comment">// 制卡按钮</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> cardStyle = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;cardStyle&quot;</span>); <span class="comment">// 卡片</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> item = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.item&quot;</span>) <span class="comment">// 卡片项</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">submit.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// TODO 待补充代码</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> jd1 = <span class="regexp">/^[\u4e00-\u9fa5]&#123;2,4&#125;$/</span>.<span class="title function_">test</span>(studentName.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> jd2 = <span class="regexp">/^\d&#123;1,12&#125;$/</span>.<span class="title function_">test</span>(studentId.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(!jd1) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.form-group&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;has-error&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#vail_name&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.form-group&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;has-error&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#vail_name&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(!jd2) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.form-group:nth-child(2)&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;has-error&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#vail_studentId&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.form-group:nth-child(2)&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;has-error&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#vail_studentId&#x27;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(jd1 &amp;&amp; jd2) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;姓名：&quot;</span> + studentName.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item:nth-child(2)&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;学号：&quot;</span> + studentId.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item:last-child&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;学院：&quot;</span> + college.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 添加 showCard 类显示放大一卡通的动画，请勿删除</span></span></span><br><span class="line"><span class="language-javascript">cardStyle.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;showCard&#x27;</span>) </span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">      </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="商品销量和销售额实时展示看板-Echarts-三模"><a href="#商品销量和销售额实时展示看板-Echarts-三模" class="headerlink" title="商品销量和销售额实时展示看板-Echarts-三模"></a>商品销量和销售额实时展示看板-Echarts-三模</h3><blockquote><p>过辣！</p></blockquote><p>请在 <code>js/index.js</code> 文件中补全代码。</p><p>最终效果可参考文件夹下面的 gif 图，图片名称为 <code>effect.gif</code>（提示：可以通过 VS Code 或者浏览器预览 gif 图片）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 指定图表的配置项和数据</span></span><br><span class="line"><span class="keyword">const</span> charData = &#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;云课课程销量和销售额看板&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="attr">textStyle</span>: &#123;</span><br><span class="line">            <span class="attr">lineHeight</span>: <span class="number">50</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">left</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">grid</span>: &#123;</span><br><span class="line">        <span class="attr">top</span>: <span class="number">80</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>:&#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// TODO：补全 `yAxis` 的设置，要求“销售额”（即，配置项 `name`）的位置（即，配置项 `position`）在图表的左侧，“销量”（即，配置项 `name`）的位置（即，配置项 `position`）在图表的右侧。</span></span><br><span class="line">    <span class="attr">yAxis</span>: [&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销售额&#x27;</span>,</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;销售额&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [],</span><br><span class="line">            <span class="attr">yAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [],</span><br><span class="line">            <span class="attr">yAxisIndex</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下代码为模拟后端服务器返回数据</span></span><br><span class="line"><span class="keyword">let</span> sale = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 销售额</span></span><br><span class="line"><span class="keyword">const</span> saleObj = &#123;&#125;;</span><br><span class="line"><span class="comment">// 销量</span></span><br><span class="line"><span class="keyword">const</span> countObj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Ajax</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> randomNum = <span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">randomSum</span> = (<span class="params"></span>) =&gt; (randomNum * <span class="number">500</span> + <span class="number">900</span>);</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">randomCount</span> = (<span class="params"></span>) =&gt; (randomNum * <span class="number">50</span> + <span class="number">80</span>);</span><br><span class="line">        <span class="keyword">let</span> i = index++ * <span class="number">10</span></span><br><span class="line">        <span class="keyword">let</span> key = <span class="string">`10:<span class="subst">$&#123;i == <span class="number">0</span> ? <span class="string">&quot;00&quot;</span> : i&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">7</span>) &#123;</span><br><span class="line">            sale = <span class="title function_">randomSum</span>();</span><br><span class="line">            <span class="title class_">Object</span>.<span class="title function_">assign</span>(saleObj, &#123; [key]: sale.<span class="title function_">toFixed</span>(<span class="number">2</span>) &#125;)</span><br><span class="line">            count = <span class="title function_">randomCount</span>();</span><br><span class="line">            <span class="title class_">Object</span>.<span class="title function_">assign</span>(countObj, &#123; [key]: count.<span class="title function_">toFixed</span>(<span class="number">2</span>) &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> respondBody = &#123;</span><br><span class="line">            <span class="string">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">            <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">                saleObj,</span><br><span class="line">                countObj</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(respondBody);</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">renderChart</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title class_">Ajax</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#result&quot;</span>).<span class="property">innerText</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(result);</span><br><span class="line">    <span class="keyword">const</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line">    <span class="comment">// TODO：补全代码，正确给 X 轴的时间，以及 Y 轴的商品的销售额 saleObj 和销量赋值 countObj。</span></span><br><span class="line">    charData.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">values</span>(saleObj)</span><br><span class="line">    charData.<span class="property">series</span>[<span class="number">1</span>].<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">values</span>(countObj)</span><br><span class="line">    charData.<span class="property">xAxis</span>.<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">keys</span>(saleObj)</span><br><span class="line"></span><br><span class="line">    myChart.<span class="title function_">setOption</span>(charData, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#data&quot;</span>).<span class="property">innerText</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(charData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">renderChart</span>();</span><br><span class="line"><span class="keyword">let</span> times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">renderChart</span>();</span><br><span class="line">    ++times == <span class="number">6</span> &amp;&amp; <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="心愿便利贴-三模-element"><a href="#心愿便利贴-三模-element" class="headerlink" title="心愿便利贴-三模-element"></a>心愿便利贴-三模-element</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/1c5e4b419aec689146069d07f0e98035-0.gif" alt="完成效果" style="zoom:50%;" /><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>心愿便利贴<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入element-ui样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/wish.css&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入element-ui组件库 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>心愿便利贴<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- TODO 待修改的代码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;item.css&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in wishList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;closeCard(index)&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/ding.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-image</span> <span class="attr">v-if</span>=<span class="string">&quot;item.pic&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px; height: 100px&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.pic&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">:preview-src-list</span>=<span class="string">&quot;picList&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;item.content&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-position</span>=<span class="string">&quot;left&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">id</span>=<span class="string">&quot;firstName&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;许愿内容&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入内容&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.content&quot;</span> <span class="attr">show-word-limit</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;图片上传&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">ref</span>=<span class="string">&quot;uploadRef&quot;</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">:limit</span>=<span class="string">&quot;1&quot;</span> <span class="attr">list-type</span>=<span class="string">&quot;picture-card&quot;</span> <span class="attr">:on-remove</span>=<span class="string">&quot;handleRemove&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">:on-change</span>=<span class="string">&quot;getPic&quot;</span> <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">slot</span>=<span class="string">&quot;default&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-plus&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;file&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123;file&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-thumbnail&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;file.url&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-actions&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-preview&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handlePictureCardPreview(file)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-zoom-in&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;!disabled&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleRemove(file)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-delete&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">id</span>=<span class="string">&quot;onSubmit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>发布<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;onRest&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">:visible.sync</span>=<span class="string">&quot;dialogVisible&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;form.pic&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">wishList</span>: [],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">form</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">pic</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">rules</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// TODO 待补充验证的代码</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: [</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入姓名&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">4</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在2到4个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">content</span>: [</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入许愿内容&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">min</span>: <span class="number">1</span>, <span class="attr">max</span>: <span class="number">30</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在1到30个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">num</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">picList</span>: [],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">textarea</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">dialogVisible</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">disabled</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 提交方法</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onSubmit</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> obj = <span class="variable language_">this</span>.<span class="property">form</span>;</span></span><br><span class="line"><span class="language-javascript">obj.<span class="property">css</span> = <span class="string">&#x27;item&#x27;</span> + <span class="variable language_">this</span>.<span class="property">num</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">num</span>++;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">num</span> &gt; <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">wishList</span>.<span class="title function_">push</span>(obj)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span> = &#123;&#125;;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">pop</span>()</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">wishList</span>);</span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.$message(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">message</span>: <span class="string">&#x27;提交错误！请检查输入内容&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 关闭许愿卡</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">closeCard</span>(<span class="params">index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">wishList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 重置表单</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onRest</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">resetFields</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 图片删除</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">handleRemove</span>(<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">uid</span> === file.<span class="property">uid</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 模拟上传图片</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">getPic</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">pic</span> = e.<span class="property">url</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">picList</span>.<span class="title function_">push</span>(e.<span class="property">url</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 预览图片</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">handlePictureCardPreview</span>(<span class="params">file, fileList</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">pic</span> = file.<span class="property">url</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">dialogVisible</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="消失的Token-三模-vue-Vuex"><a href="#消失的Token-三模-vue-Vuex" class="headerlink" title="消失的Token-三模-vue-Vuex"></a>消失的Token-三模-vue-Vuex</h3><p>​        <strong>只有 <code>user</code> 模块通过 <code>namespaced: true</code> 开启了命名空间功能。</strong>因此，在调用 <code>user</code> 模块中的 <code>getters</code> 与 <code>mutations</code> 时，需要使用以下特定语法↓</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;模块名/模块中的getters或mutations&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./components/login.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./components/panel.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// TODO 修改下面错误代码</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">welcome</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>.<span class="property">welcome</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">username</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>[<span class="string">&#x27;user/username&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">token</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>[<span class="string">&#x27;user/token&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 回车/点击确认的回调事件</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">login</span>(<span class="params">username</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    username &amp;&amp; store.<span class="title function_">commit</span>(<span class="string">&#x27;user/login&#x27;</span>, &#123; username, <span class="attr">token</span>: <span class="string">&#x27;sxgWKnLADfS8hUxbiMWyb&#x27;</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">                    username &amp;&amp; store.<span class="title function_">commit</span>(<span class="string">&#x27;say&#x27;</span>, <span class="string">&#x27;登录成功，欢迎你回来！&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="封装Promisefy函数-三模-node-promise"><a href="#封装Promisefy函数-三模-node-promise" class="headerlink" title="封装Promisefy函数-三模-node-promise"></a>封装Promisefy函数-三模-node-promise</h3><blockquote><p>以 Node.js 中常用的读取文件操作为例，封装一个 Promisefy 函数，将回调形式调用的读取文件方法转换成一个 Promise 的版本。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> textPath = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;/test.md&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取示例文件</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(textPath, <span class="string">&#x27;utf8&#x27;</span>, <span class="function">(<span class="params">err, contrast</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 通过promisefy转化为链式调用</span></span><br><span class="line">  <span class="keyword">const</span> readFileSync = <span class="title function_">promisefy</span>(fs.<span class="property">readFile</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">readFileSync</span>(textPath, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res === contrast) <span class="comment">// 此处结果预期：true，即promise返回内容与前面读取内容一致</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">promisefy</span> = (<span class="params">fn</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// TODO 此处完成该函数的封装</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">textPath, type</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">fn</span>(textPath, type, <span class="function">(<span class="params">err, contrast</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(contrast)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = promisefy <span class="comment">// 请勿删除该行代码</span></span><br></pre></td></tr></table></figure><p>​        这段代码是对 Node.js 内置模块 <code>fs</code> 中 <code>readFile</code> 函数进行了封装，将其转化为返回 Promise 的形式，以实现更方便的异步操作。</p><p>具体来说，<code>promisefy</code> 函数接收一个函数 <code>fn</code> 作为参数，该函数需要具有以下特点：</p><ul><li>其最后一个参数为回调函数，该回调函数接收两个参数 <code>err</code> 和 <code>result</code>，其中 <code>err</code> 表示错误信息，<code>result</code> 表示返回结果。</li><li>在执行过程中可能发生错误，此时需要调用回调函数并传入错误信息。</li><li>在执行结束后需要调用回调函数并传入结果。</li></ul><p>​        <code>promisefy</code> 函数返回一个新函数，该函数的参数与 <code>fn</code> 相同，但是该函数返回一个 Promise 对象，实现了对 <code>fn</code> 函数的封装，将其转化为 Promise 形式的异步操作。</p><p>​        在该代码中，首先使用 <code>fs.readFile</code> 函数读取一个文件内容，并将其与另一个使用 <code>promisefy</code> 函数封装后的 <code>readFileSync</code> 函数返回的结果进行比较，以验证封装后的函数能够正常工作。</p><h3 id="趣购-三模-vue"><a href="#趣购-三模-vue" class="headerlink" title="趣购-三模-vue"></a>趣购-三模-vue</h3><blockquote><p>请在 <code>trolley.vue</code> 文件中的 TODO 部分补全代码：</p><ul><li>用鼠标按下拖动图片到购物车（即 <code>id=&quot;trolley&quot;</code> 的节点）中，然后松开鼠标，购物车会添加拖动的商品，并显示购物车商品数量。</li><li>下方（即 <code>class=&quot;result&quot;</code> 的方框）会显示购物车中商品的详情，详情以<strong>商品名 x 数量</strong>的形式展示，商品之间通过空格间隔。</li><li>下方（即 <code>class=&quot;result&quot;</code> 的方框）同时还会显示购物车中商品的总价。</li></ul></blockquote><h3 id="芝麻开门-二模"><a href="#芝麻开门-二模" class="headerlink" title="芝麻开门-二模"></a>芝麻开门-二模</h3><blockquote><p>过辣！</p></blockquote><p>找到 <code>index.js</code> 文件中的 <code>mPrompt</code> 函数，完成函数中的 TODO 部分。</p><ol><li>点击“点击弹出对话框，输入咒语”按钮会调用 <code>mPrompt</code> 函数，<code>mPrompt</code> 调用后页面显示对话框。<code>mPrompt</code> 函数必须返回一个 <code>promise</code> 对象。</li><li>在对话框中的输入框中输入文字后，点击确认按钮，对话框消失， <code>promise</code> 返回成功，<code>promise</code> 成功的值为输入的值。</li><li>只有当成功的值为“芝麻开门”时门自动打开（已实现）。</li><li>点击取消，对话框消失，<code>promise</code> 返回失败，失败的值为 <code>false</code>。</li><li>对话框的显示隐藏请使用 DOM 节点的添加删除实现。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 简单考察了Promise */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> incantations = <span class="string">&quot;芝麻开门&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params">el</span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.wrapper .btn&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">mPrompt</span>()</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res === incantations) &#123;</span><br><span class="line">          <span class="variable language_">document</span></span><br><span class="line">            .<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#door .doors&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">            .<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;door-left&quot;</span>);</span><br><span class="line">          <span class="variable language_">document</span></span><br><span class="line">            .<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#door .doors&quot;</span>)[<span class="number">1</span>]</span><br><span class="line">            .<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;door-right&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 调用函数，开启弹窗，记录输入框的内容，并通过 promise 异步返回输入框中的内容</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Promise</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mPrompt</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 弹窗必须使用以下结构 template 保存的是弹窗的结构字符串，可以先转化为 DOM 再通过 appendChild 方式插入到 body 中</span></span><br><span class="line">  <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;modal&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;message-box&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-header&quot;&gt;请输入咒语&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-body&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;input type=&quot;text&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-footer&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;button class=&quot;btn btn-small&quot; id=&#x27;cancel&#x27;&gt;取消&lt;/button&gt;</span></span><br><span class="line"><span class="string">                    &lt;button class=&quot;btn btn-small btn-primary&quot; id=&#x27;confirm&#x27;&gt;确定&lt;/button&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">  <span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="comment">// TODO：待补充代码</span></span><br><span class="line">  div.<span class="property">innerHTML</span> = template</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(div)</span><br><span class="line">  <span class="keyword">let</span> val = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;cancel&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      div.<span class="title function_">remove</span>()</span><br><span class="line">      <span class="title function_">reject</span>(<span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;confirm&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      div.<span class="title function_">remove</span>()</span><br><span class="line">      <span class="title function_">resolve</span>(val.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="宝贵的一票-二模"><a href="#宝贵的一票-二模" class="headerlink" title="宝贵的一票-二模"></a>宝贵的一票-二模</h3><p>完成 <code>index.html</code> 文件中的 TODO 部分。</p><ol><li>点击添加选项，页面中新增一个选项。选项前文字按照：选项 1，选项 2，选项 3 …… 顺序排列，当页面中的选项大于 2 个时，选项后面跟随删除按钮（即 x 图标）。带有删除图标的选项 DOM 结构如下：</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3 row item&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 col-form-label txt&quot;</span>&gt;</span>选项1<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-9&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-1&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 删除图标 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;del-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/x.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>点击删除按钮，删除当前选项，并且选项前文字按照：选项 1，选项 2，选项 3 …… 顺序排列，当选项数量小于等于 2 个时，选项后面无删除按钮。</li></ol><p>完成后，最终页面效果如下：</p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/bf4ab64cd06058c7a41f5ed0b629c967-0.gif" alt="图片描述" style="zoom:50%;" /><p>完整代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>宝贵的一票<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/bootstrap.min.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/style.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner-container shadow&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3 row&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 col-form-label&quot;</span>&gt;</span>投票主题<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-9&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;addtxt&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/plus-square.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;加号图标&quot;</span> /&gt;</span></span><br><span class="line">        添加选项</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-check checkbox-one&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;form-check-input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;form-check-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;flexCheckDefault&quot;</span>&gt;</span></span><br><span class="line">        支持多选</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-check&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;form-check-input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;form-check-label&quot;</span> <span class="attr">for</span>=<span class="string">&quot;flexCheckDefault&quot;</span>&gt;</span></span><br><span class="line">        公开投票结果</span><br><span class="line">      <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row bottom&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;historytxt&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span>&gt;</span>历史投票<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-light&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>发起投票<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> <span class="title function_">initRender</span> = (<span class="params">txt</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> <span class="string">`&lt;div class=&quot;mb-3 row&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;label class=&quot;col-sm-2 col-form-label txt&quot;&gt;<span class="subst">$&#123;txt&#125;</span>&lt;/label&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class=&quot;col-sm-9&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">               &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;`</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">    $(</span></span><br><span class="line"><span class="language-javascript">      (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 初始化的时候渲染两条数据，且不带删除符号</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; <span class="number">2</span>; index++) &#123;                                                                                                                                                                        </span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> initList = <span class="title function_">initRender</span>(<span class="string">`选项<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">          $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">append</span>(initList);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 点击加号逻辑</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;.add&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// TODO 待补充代码</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 当前列表长度</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> cl = $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">children</span>().<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 长度为2时为前两个选项加上x号</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (cl === <span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">children</span>().<span class="title function_">each</span>(<span class="function">(<span class="params">index, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              $(item).<span class="title function_">append</span>(<span class="string">`  </span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class=&quot;col-sm-1&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;img class=&quot;del-icon&quot; src=&quot;./images/x.svg&quot; alt=&quot;&quot; /&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;`</span></span></span><br><span class="line"><span class="language-javascript">              )</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (cl &lt; <span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当前列表长度小于2时，添加不带x号的选项</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">append</span>(<span class="title function_">initRender</span>(<span class="string">`选项<span class="subst">$&#123;cl + <span class="number">1</span>&#125;</span>`</span>));</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当前列表长度大于等于2时，添加带x号的选项</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">append</span>(<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">              &lt;div class=&quot;mb-3 row item&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;label class=&quot;col-sm-2 col-form-label txt&quot;&gt;选项<span class="subst">$&#123;cl + <span class="number">1</span>&#125;</span>&lt;/label&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript"></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class=&quot;col-sm-9&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;input type=&quot;text&quot; class=&quot;form-control&quot; /&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript"></span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;div class=&quot;col-sm-1&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;!-- 删除图标 --&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;img class=&quot;del-icon&quot; src=&quot;./images/x.svg&quot; alt=&quot;&quot; /&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">              &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            `</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 点击 x 删除逻辑，列表小于 2 项时不显示删除图标</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="variable language_">document</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;.del-icon&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// TODO 待补充代码</span></span></span><br><span class="line"><span class="language-javascript">          $(<span class="variable language_">this</span>).<span class="title function_">parent</span>().<span class="title function_">parent</span>().<span class="title function_">remove</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// 遍历</span></span></span><br><span class="line"><span class="language-javascript">          $(<span class="string">&quot;.list&quot;</span>).<span class="title function_">children</span>().<span class="title function_">each</span>(<span class="function">(<span class="params">index, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 修改剩下的列表序号</span></span></span><br><span class="line"><span class="language-javascript">            $(item).<span class="title function_">children</span>(<span class="string">&#x27;label&#x27;</span>).<span class="title function_">text</span>(<span class="string">`选项<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>`</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> ($(<span class="string">&quot;.list&quot;</span>).<span class="title function_">children</span>().<span class="property">length</span> &lt;= <span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="comment">// 列表长度小于等于2时，请求x号</span></span></span><br><span class="line"><span class="language-javascript">              $(item).<span class="title function_">children</span>()[<span class="number">2</span>].<span class="title function_">remove</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;)()</span></span><br><span class="line"><span class="language-javascript">    );</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="粒粒皆辛苦-二模-Echarts"><a href="#粒粒皆辛苦-二模-Echarts" class="headerlink" title="粒粒皆辛苦-二模-Echarts"></a>粒粒皆辛苦-二模-Echarts</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/6e4cef34c272b23520bae329dd63bd02-0.png" alt="图片描述" style="zoom:20%;" /><blockquote><p>项目见 =&gt; E:\Project\LittlePrograms\EchartsTest1</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;desc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;请求成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;2017&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">431</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">142</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">232</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">642</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2018&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">417</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">156</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">258</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">643</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2019&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">416</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">168</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">269</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">650</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2020&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">436</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">174</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">277</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">680</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2021&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">441</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">186</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">289</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">692</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2022&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">445</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">201</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">315</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">706</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>粒粒皆辛苦<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%; margin: 0; overflow: hidden&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 80%; width: 80%; margin: 5% auto&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;container&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> option;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom, <span class="literal">null</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">renderer</span>: <span class="string">&quot;canvas&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">useDirtyRect</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> <span class="title function_">initCharts</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        option = &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>: <span class="string">&quot;近五年 x 市粮食总产量分布以及 2022 年粮食产量比例&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtext</span>: <span class="string">&quot;单位（万吨）&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">dataset</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//source -&gt; 图表显示所需的数据格式（饼形图和折线图共用），请勿手动修改此行</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">source</span>: [</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;全部&quot;</span>, <span class="string">&quot;2017&quot;</span>, <span class="string">&quot;2018&quot;</span>, <span class="string">&quot;2019&quot;</span>, <span class="string">&quot;2020&quot;</span>, <span class="string">&quot;2021&quot;</span>, <span class="string">&quot;2022&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;小麦&quot;</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;大豆&quot;</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;马铃薯&quot;</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;玉米&quot;</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>],</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">xAxis</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;category&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">yAxis</span>: &#123; <span class="attr">gridIndex</span>: <span class="number">0</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">grid</span>: &#123; <span class="attr">top</span>: <span class="string">&quot;55%&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;pie&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="string">&quot;pie&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">radius</span>: <span class="string">&quot;30%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">center</span>: [<span class="string">&quot;50%&quot;</span>, <span class="string">&quot;25%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 2022 数据的百分比</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&quot;&#123;b&#125; &#123;@2022&#125; (&#123;d&#125;%)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">encode</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">itemName</span>: <span class="string">&quot;全部&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">value</span>: <span class="string">&quot;2022&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>: <span class="string">&quot;2022&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (option &amp;&amp; <span class="keyword">typeof</span> option === <span class="string">&quot;object&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// myChart.setOption -&gt; 设置 echarts 数据的方法</span></span></span><br><span class="line"><span class="language-javascript">          myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, myChart.<span class="property">resize</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">initCharts</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// <span class="doctag">TODO:</span> 待补充代码</span></span></span><br><span class="line"><span class="language-javascript">      axios.<span class="title function_">get</span>(<span class="string">&#x27;./data.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> data = res.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> source = [</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;全部&quot;</span>, <span class="string">&quot;2017&quot;</span>, <span class="string">&quot;2018&quot;</span>, <span class="string">&quot;2019&quot;</span>, <span class="string">&quot;2020&quot;</span>, <span class="string">&quot;2021&quot;</span>, <span class="string">&quot;2022&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;小麦&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;大豆&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;马铃薯&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;玉米&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> data) &#123;</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">1</span>].<span class="title function_">push</span>(data[item].<span class="property">wheat</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">2</span>].<span class="title function_">push</span>(data[item].<span class="property">soybean</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">3</span>].<span class="title function_">push</span>(data[item].<span class="property">potato</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">4</span>].<span class="title function_">push</span>(data[item].<span class="property">corn</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        option.<span class="property">dataset</span>.<span class="property">source</span> = source</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="资讯接口-二模-node"><a href="#资讯接口-二模-node" class="headerlink" title="资讯接口-二模-node"></a>资讯接口-二模-node</h3><blockquote><ol><li>通过在 <code>app.js</code> 书写代码，创建一个服务器，使服务在 <strong>8080</strong> 端口运行。</li><li>访问 <code>/news</code> 返回资讯数据，访问其他任意路径均返回<strong>字符串 404</strong> 。</li></ol><table><thead><tr><th>Url</th><th>请求方式</th><th>参数</th><th>响应结果</th></tr></thead><tbody><tr><td>news</td><td>GET</td><td>空</td><td>显示资讯数据</td></tr></tbody></table><p>数据需要设置为 <code>utf8</code> 格式，资讯数据格式如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;channelId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5572a108b3cdc86cf39001cd&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;国内焦点&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;channelId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5572a108b3cdc86cf39001ce&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;国际焦点&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>555写接口！！！！</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 待补充代码</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;channelId&quot;</span>: <span class="string">&quot;5572a108b3cdc86cf39001cd&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;国内焦点&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;channelId&quot;</span>: <span class="string">&quot;5572a108b3cdc86cf39001ce&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;国际焦点&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="keyword">function</span>(<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;text/html;charset=utf8&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&#x27;/news&#x27;</span>) &#123;</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="string">&#x27;404 NOT FOUND&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;running&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="绝美宋词-二模-vue"><a href="#绝美宋词-二模-vue" class="headerlink" title="绝美宋词-二模-vue"></a>绝美宋词-二模-vue</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/7ed17d0a07cd8f45c52df266b765abad-0.gif" alt="图片描述" style="zoom:50%;" /><p>见 =&gt; E:\Project\LittlePrograms\poem</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>绝美宋词<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span>输入关键字，找一首词<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- TODO：待补充代码 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search-form&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;search&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;search&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;词牌名 词句 词人&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;suggestions&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item of showList&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;poet&quot;</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.poetry_content)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.title)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            -</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.author)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// TODO：待补充代码</span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">search</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">poemList</span>: [],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">showList</span>: [],</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        axios.<span class="title function_">get</span>(<span class="string">&#x27;./data.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">poemList</span> = res.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">        &#125;) </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">search</span>(<span class="params">newVal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (!newVal) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">showList</span> = []</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">showList</span> = <span class="variable language_">this</span>.<span class="property">poemList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> item.<span class="property">author</span>.<span class="title function_">includes</span>(newVal) || item.<span class="property">title</span>.<span class="title function_">includes</span>(newVal) || item.<span class="property">poetry_content</span>.<span class="title function_">includes</span>(newVal)</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">highlight</span>(<span class="params">str</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> str.<span class="title function_">replaceAll</span>(<span class="variable language_">this</span>.<span class="property">search</span>, <span class="string">`&lt;span class=&quot;highlight&quot;&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.search&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="平地起高楼-二模-JS"><a href="#平地起高楼-二模-JS" class="headerlink" title="平地起高楼-二模-JS"></a>平地起高楼-二模-JS</h3><h3 id="数据类型检测-一模-JS"><a href="#数据类型检测-一模-JS" class="headerlink" title="数据类型检测-一模-JS"></a>数据类型检测-一模-JS</h3><p>完善 <code>main.js</code> 中 <code>getType</code> 函数中的 TODO 部分，返回传入值的对应数据类型。</p><p>传入值以及 <code>getType</code> 函数返回值（<strong>大小写可忽略</strong>）按照如下方式对应：</p><table><thead><tr><th>传入值</th><th>返回值</th></tr></thead><tbody><tr><td>‘s’</td><td>string</td></tr><tr><td>0</td><td>number</td></tr><tr><td>false</td><td>boolean</td></tr><tr><td>undefined</td><td>undefined</td></tr><tr><td>Symbol()</td><td>symbol</td></tr><tr><td>function fn(){}</td><td>function</td></tr><tr><td>123n</td><td>bigint</td></tr><tr><td>null</td><td>null</td></tr><tr><td>{}</td><td>object</td></tr><tr><td>[]</td><td>array</td></tr><tr><td>new Date</td><td>date</td></tr><tr><td>new Map</td><td>map</td></tr><tr><td>new Set</td><td>set</td></tr><tr><td>/a/</td><td>regexp</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: 数据类型检测</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; data 传入的待检测数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125; 返回数据类型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getType</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// TODO：待补充代码</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> data != <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> <span class="keyword">typeof</span> data</span><br><span class="line">  <span class="keyword">if</span>(!data) <span class="keyword">return</span> <span class="string">&quot;null&quot;</span></span><br><span class="line">  <span class="keyword">return</span> data.<span class="property">__proto__</span>.<span class="property">constructor</span>.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>)[<span class="number">1</span>].<span class="title function_">replace</span>(<span class="string">&quot;()&quot;</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">toLowerCase</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  getType</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我不是很能理解这个！</p><h3 id="渐变色-一模-JS"><a href="#渐变色-一模-JS" class="headerlink" title="渐变色-一模-JS"></a>渐变色-一模-JS</h3><p>代码见/Project/LittleProgram/渐变色</p><h3 id="水果叠叠乐-一模-JQ"><a href="#水果叠叠乐-一模-JQ" class="headerlink" title="水果叠叠乐-一模-JQ"></a>水果叠叠乐-一模-JQ</h3><blockquote><p>怎么自如删除添加更改DOM元素啊555555</p><p>背景样式很好，很适合拿来做登录注册背景</p></blockquote><p>这个找不到官方题解，只能看到CSDN一个很繁琐的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>水果叠叠乐<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/style.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-one&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-two&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-three&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-four&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-five&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-six&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-seven&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-eight&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-nine&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-ten&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-eleven&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-twelve&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 图片位置 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 卡槽位置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;fixed&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gradient-border&quot;</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&quot;#card li&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// <span class="doctag">TODO:</span> 待补充代码</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>($(<span class="string">&quot;#box li&quot;</span>).<span class="property">length</span> == <span class="number">7</span>) <span class="keyword">return</span> </span></span><br><span class="line"><span class="language-javascript">        $(<span class="variable language_">this</span>).<span class="title function_">hide</span>()</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#box&quot;</span>).<span class="title function_">append</span>($(<span class="variable language_">this</span>).<span class="title function_">clone</span>())</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> list = $(<span class="string">`#box li[data-id = <span class="subst">$&#123;<span class="variable language_">this</span>.getAttribute(<span class="string">&#x27;data-id&#x27;</span>)&#125;</span>]`</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(list.<span class="property">length</span> = <span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            list.<span class="title function_">each</span>(<span class="function">(<span class="params">i, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                item.<span class="title function_">remove</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="饿了么第二次封装-一模-element"><a href="#饿了么第二次封装-一模-element" class="headerlink" title="饿了么第二次封装-一模-element"></a>饿了么第二次封装-一模-element</h3><p>目标：（实现单选选中效果）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">      ref=&quot;singleTable&quot;</span><br><span class="line">      highlight-current-row</span><br><span class="line">      :data=&quot;tableData&quot;</span><br><span class="line">      stripe</span><br><span class="line">      border</span><br><span class="line">      style=&quot;width: 100%&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-table-column label=&quot;单选&quot; width=&quot;80&quot;&gt;</span><br><span class="line">        &lt;!-- TODO：完善单选按钮组件，实现需求（DOM 结构不能修改） --&gt;</span><br><span class="line">        &lt;!-- TODO：完善单选按钮组件，实现需求（DOM 结构不能修改） --&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;!-- 绑定change方法调用setCurrent --&gt;</span><br><span class="line">            &lt;el-radio</span><br><span class="line">                v-model=&quot;currentRow&quot;</span><br><span class="line">                :label=&quot;scope.$index&quot;</span><br><span class="line">                @change=&quot;setCurrent(scope.row)&quot;</span><br><span class="line">            &gt;</span><br><span class="line">                &amp;nbsp;</span><br><span class="line">    &lt;/el-radio&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-table-column label=&quot;日期&quot; width=&quot;180&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          📅&lt;span style=&quot;margin-left: 10px&quot;&gt;&#123;&#123; scope.row.date &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-table-column prop=&quot;name&quot; label=&quot;姓名&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;address&quot; label=&quot;地址&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;div class=&quot;tools&quot;&gt;</span><br><span class="line">      &lt;el-button @click=&quot;setCurrent(tableData[1])&quot;&gt;选中第二行&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button @click=&quot;setCurrent()&quot;&gt;取消选择&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    tableData: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default: () =&gt; [],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      currentRow: null,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    setCurrent(row) &#123;</span><br><span class="line">      this.currentRow = this.tableData.indexOf(row) // 新增</span><br><span class="line">      this.$refs.singleTable.setCurrentRow(row); // 设置当前选中行</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.main &#123;</span><br><span class="line">  width: 60%;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.tools &#123;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="http应用-一模-node"><a href="#http应用-一模-node" class="headerlink" title="http应用-一模-node"></a>http应用-一模-node</h3><ol><li>通过在 <code>app.js</code> 书写代码，创建一个服务器，使服务在 <strong>8080</strong> 端口运行。</li><li>通过 <code>node app.js</code> 运行代码，使服务处于运行状态，点击右侧 【web 服务】，页面上显示 “hello world” 。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 待补充代码</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>,<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><h3 id="吐了页面搭建的题"><a href="#吐了页面搭建的题" class="headerlink" title="吐了页面搭建的题"></a>吐了页面搭建的题</h3><h3 id="成语学习-一模-vue"><a href="#成语学习-一模-vue" class="headerlink" title="成语学习-一模-vue"></a>成语学习-一模-vue</h3><p>为了达成这种效果↓</p><p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/d2e35a5c6f12d569c595b56f0c996dd0-0.gif" alt="图片描述"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>成语学习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(-<span class="number">225deg</span>, <span class="number">#69EACB</span> <span class="number">0%</span>, <span class="number">#EACCF8</span> <span class="number">48%</span>, <span class="number">#6654F1</span> <span class="number">100%</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.idiom_tips_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.detailed_description</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.idiom_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">248</span>, <span class="number">243</span>, <span class="number">243</span>);</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.optional_words_region</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">flex-wrap</span>: wrap;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.words</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.words</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">247</span>, <span class="number">113</span>, <span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">248</span>, <span class="number">243</span>, <span class="number">243</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.confirm_btn_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.confirm_btn</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="number">#409eff</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;热泪盈眶&quot;,means:&quot;形容非常感激或高兴&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;才华横溢&quot;,means:&quot;指才华充分显露出来&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;聚沙成塔&quot;,means:&quot;比喻积少成多&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;名垂青史&quot;,means:&quot;形容功业巨大，永远流传&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;绝无仅有&quot;,means:&quot;形容极其稀少&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;衣衫褴褛&quot;,means:&quot;形容身上衣服破破烂烂&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;焕然一新&quot;,means:&quot;形容呈现出崭新的面貌&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;并驾齐驱&quot;,means:&quot;比喻齐头并进，不分前后&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;博大精深&quot;,means:&quot;形容思想和学识广博高深&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;忙里偷闲&quot;,means:&quot;在繁忙中抽出空闲来&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>成语学习<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 提示-描述 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;idiom_tips_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;detailed_description&quot;</span>&gt;</span>提示：&#123;&#123;tip&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 选中的成语 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;idiom_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item_box&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item,index in idiom&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clear(index)&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;result == null ? &#x27;color:#ccc&#x27; : result ? &#x27;color : red&#x27; : &#x27;&#x27;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;result == null ? &#x27;请点击下方文字组织正确的成语（点击框内文字可清除）&#x27; : result ? &#x27;答案正确&#x27; : &#x27;答案错误&#x27;&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 可选区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;optional_words_region&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;div&gt;&#123;&#123;word&#125;&#125;&lt;/div&gt; --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;words&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in words.split(&#x27;&#x27;)&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getSingleWord(item)&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 确定 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;confirm_btn_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;confirm_btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;confirm&quot;</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tip</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">arr</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;热泪盈眶&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容非常感激或高兴&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;才华横溢&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;指才华充分显露出来&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;聚沙成塔&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;比喻积少成多&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;名垂青史&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容功业巨大，永远流传&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;绝无仅有&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容极其稀少&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;衣衫褴褛&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容身上衣服破破烂烂&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;焕然一新&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容呈现出崭新的面貌&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;并驾齐驱&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;比喻齐头并进，不分前后&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;博大精深&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;形容思想和学识广博高深&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;忙里偷闲&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;在繁忙中抽出空闲来&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">words</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">idiom</span>: [<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">result</span>: <span class="literal">null</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">tip</span> = <span class="variable language_">this</span>.<span class="property">arr</span>[<span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="property">length</span>)].<span class="property">tip</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">words</span> += item.<span class="property">word</span></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> words = <span class="variable language_">this</span>.<span class="property">words</span>.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        words = <span class="variable language_">this</span>.<span class="title function_">shuffle</span>(words)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">words</span> = words.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//乱序方法</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">shuffle</span>(<span class="params">arr</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> temp, length = arr.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (length--));</span></span><br><span class="line"><span class="language-javascript">            temp = arr[index];</span></span><br><span class="line"><span class="language-javascript">            arr[index] = arr[length];</span></span><br><span class="line"><span class="language-javascript">            arr[length] = temp;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> arr;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//TODO 点击文字后，在idiom从左到右第一个空的位置加上该文字</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getSingleWord</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">idiom</span>[i] === <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">idiom</span>, i, val)</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">continue</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          </span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">clear</span>(<span class="params">i</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">idiom</span>[i] = <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">idiom</span>, i, <span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// TODO 校验成语是否输入正确答案</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 猜中成语 result 为 true;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 猜错成语 result 为 false;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 例1：tip=‘形容非常感激或高兴’，idiom=[&quot;热&quot;,&quot;泪&quot;,&quot;盈&quot;,&quot;眶&quot;]，则result返回true</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 例2：tip=‘形容非常感激或高兴’，idiom=[&quot;泪&quot;,&quot;眼&quot;,&quot;盈&quot;,&quot;眶&quot;]，则result返回false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 例3：tip=‘在繁忙中抽出空闲来’，idiom=[&quot;忙&quot;,&quot;里&quot;,&quot;偷&quot;,&quot;闲&quot;]，则result返回true</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">confirm</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> i = <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">tip</span> === <span class="variable language_">this</span>.<span class="property">arr</span>[i].<span class="property">tip</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">continue</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">arr</span>[i].<span class="property">word</span> === <span class="variable language_">this</span>.<span class="property">idiom</span>.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="学海无涯-一模-Echarts"><a href="#学海无涯-一模-Echarts" class="headerlink" title="学海无涯-一模-Echarts"></a>学海无涯-一模-Echarts</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/9ee66d6bdc2369d8f52710d09d7c577c-0.gif" alt="图片描述" style="zoom:50%;" /><p>比较讨巧的办法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">option.<span class="property">xAxis</span>.<span class="property">data</span>=[<span class="string">&quot;2月第1周&quot;</span>,<span class="string">&quot;2月第2周&quot;</span>,<span class="string">&quot;2月第3周&quot;</span>,<span class="string">&quot;2月第4周&quot;</span>,<span class="string">&quot;3月第1周&quot;</span>,<span class="string">&quot;3月第2周&quot;</span>,<span class="string">&quot;3月第3周&quot;</span>,<span class="string">&quot;3月第4周&quot;</span>,<span class="string">&quot;3月第5周&quot;</span>]</span><br><span class="line">option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>=[<span class="number">180</span>,<span class="number">274</span>,<span class="number">253</span>,<span class="number">324</span>,<span class="number">277</span>,<span class="number">240</span>,<span class="number">332</span>,<span class="number">378</span>,<span class="number">101</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(option.<span class="property">series</span>.<span class="property">data</span>);</span><br><span class="line"></span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, myChart.<span class="property">resize</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> change=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">option.<span class="property">xAxis</span>.<span class="property">data</span>=[<span class="string">&quot;2月&quot;</span>,<span class="string">&quot;3月&quot;</span>]</span><br><span class="line">option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>=[<span class="number">1031</span>,<span class="number">1328</span>]</span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> month = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;month&quot;</span>);</span><br><span class="line">month.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,change)</span><br></pre></td></tr></table></figure><h3 id="折叠手风琴-习题-JQ"><a href="#折叠手风琴-习题-JQ" class="headerlink" title="折叠手风琴-习题-JQ"></a>折叠手风琴-习题-JQ</h3><p>用JQ实现手风琴图片展示效果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.option&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;active&#x27;</span>).<span class="title function_">siblings</span>().<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>.siblings()——返回某元素的所有同级元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;li.start&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">css</span>(&#123;<span class="string">&quot;color&quot;</span>:<span class="string">&quot;red&quot;</span>,<span class="string">&quot;border&quot;</span>:<span class="string">&quot;2px solid red&quot;</span>&#125;);</span><br><span class="line"><span class="comment">// 返回带有类名start的每个li元素的所有同级元素</span></span><br></pre></td></tr></table></figure><h3 id="关于你的欢迎语-习题-JS"><a href="#关于你的欢迎语-习题-JS" class="headerlink" title="关于你的欢迎语-习题-JS"></a>关于你的欢迎语-习题-JS</h3><p>用JS实现特定用户欢迎语的展示（输入框输入的字符串拼接后显示）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">generate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    subject = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;subject&quot;</span>);</span><br><span class="line">    event1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;event1&quot;</span>);</span><br><span class="line">    event2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;event2&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (subject.<span class="property">length</span>==<span class="number">0</span> || event1.<span class="property">length</span>==<span class="number">0</span> || event2.<span class="property">length</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    result = <span class="string">`欢迎用户<span class="subst">$&#123;subject.value&#125;</span>在<span class="subst">$&#123;event2.value&#125;</span>学习<span class="subst">$&#123;event1.value&#125;</span>课程！`</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;result&quot;</span>).<span class="property">value</span> = result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="功能化标签页-习题-JS"><a href="#功能化标签页-习题-JS" class="headerlink" title="功能化标签页-习题-JS"></a>功能化标签页-习题-JS</h3><p>用JS实现选项卡切换功能</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现选项卡功能</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// TODO 待补充代码</span></span><br><span class="line">  <span class="keyword">let</span> cho = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.tabs&gt;div&quot;</span>)</span><br><span class="line">  <span class="keyword">let</span> sho = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#content&gt;div&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cho.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    cho[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> a = <span class="number">0</span>;a&lt;cho.<span class="property">length</span>;a++) &#123;</span><br><span class="line">        cho[a].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">        sho[a].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">      &#125; </span><br><span class="line"></span><br><span class="line">      cho[i].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>)</span><br><span class="line">      sho[i].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><h3 id="新年贺卡-习题-JS-我万般不解"><a href="#新年贺卡-习题-JS-我万般不解" class="headerlink" title="新年贺卡-习题-JS-我万般不解"></a>新年贺卡-习题-JS-我万般不解</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">const</span> greetingDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;greeting-display&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>)</span><br><span class="line"><span class="comment">// 点击开始书写按钮</span></span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="title function_">show</span>(greetingDisplay)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> greetings = [</span><br><span class="line"><span class="string">&quot;新年快乐!&quot;</span>,</span><br><span class="line"><span class="string">&quot;接受我新春的祝愿,祝你平安幸福&quot;</span>,</span><br><span class="line"><span class="string">&quot;祝你新年快乐,洋洋得意!&quot;</span>,</span><br><span class="line"><span class="string">&quot;新的一年,新的开始;心的祝福,新的起点!&quot;</span>,</span><br><span class="line"><span class="string">&quot;新年好!祝新年心情好,身体好,一切顺心!&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机数函数 从 greetings 随机取一个值并返回</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">writeGreeting</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// TODO 带补充代码  </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*greetings.<span class="property">length</span>))</span><br><span class="line"><span class="keyword">return</span> greetings[ <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*greetings.<span class="property">length</span>) ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @param &#123;*&#125; greetingDisplay  要显示内容的dom元素</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//  show 将 writeGreeting 函数中返回的内容显示在 greetingDisplay 元素中</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">greetingDisplay</span>) &#123;</span><br><span class="line"><span class="comment">// TODO 待补充代码</span></span><br><span class="line">greetingDisplay.<span class="property">innerText</span> = <span class="title function_">writeGreeting</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; show, writeGreeting &#125;</span><br></pre></td></tr></table></figure><h3 id="给页面化个妆-习题-CSS-我的布局啊！"><a href="#给页面化个妆-习题-CSS-我的布局啊！" class="headerlink" title="给页面化个妆-习题-CSS-我的布局啊！"></a>给页面化个妆-习题-CSS-我的布局啊！</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;../images/background-pic.jpeg&#x27;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">945</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1920</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-bar</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-bar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content-container</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">45</span>);</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">15%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#041c32</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#2d4263</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">5px</span> <span class="number">20px</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="小兔子爬楼梯-习题-算法"><a href="#小兔子爬楼梯-习题-算法" class="headerlink" title="小兔子爬楼梯-习题-算法"></a>小兔子爬楼梯-习题-算法</h3><p>简单啊，优化DP</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">climbStairs</span> = (<span class="params">n</span>) =&gt; &#123;</span><br><span class="line"> <span class="keyword">let</span> dp0 = <span class="number">0</span>, dp1 = <span class="number">1</span></span><br><span class="line"> <span class="keyword">if</span> (n === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> dp0</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    ans = dp0 + dp1</span><br><span class="line">    dp0 = dp1</span><br><span class="line">    dp1 = ans</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = climbStairs; </span><br></pre></td></tr></table></figure><h3 id="购物车-习题-vue-axios"><a href="#购物车-习题-vue-axios" class="headerlink" title="购物车-习题-vue axios"></a>购物车-习题-vue axios</h3><p>实现这种效果，就是一个v-for遍历。还有axios请求JSON</p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/wm.png" alt="图片描述" style="zoom: 15%;" /><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>购物车<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/element-ui.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>购物车<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 购物车列表 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;box-card&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in carlist&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 商品图片 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.img&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 商品名称 --&gt;</span></span><br><span class="line">&#123;&#123; item.name &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom clearfix&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;item.num++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 商品数量 --&gt;</span></span><br><span class="line">&#123;&#123; item.num &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;item.num?item.num--:item.num&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 引入组件库 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/element-ui.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">carlist</span>: [] <span class="comment">//购物车列表</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 在这里使用axios 发送请求</span></span></span><br><span class="line"><span class="language-javascript">axios.<span class="title function_">get</span>(<span class="string">&#x27;./carList.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">carlist</span> = value.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="多个斜线开始的路径重定向问题-习题-vue"><a href="#多个斜线开始的路径重定向问题-习题-vue" class="headerlink" title="多个斜线开始的路径重定向问题-习题-vue"></a>多个斜线开始的路径重定向问题-习题-vue</h3><p>源码中一个正则表达式的修改</p><h3 id="路由器查询中的未定义值现在变为未定义字符串-习题-vue"><a href="#路由器查询中的未定义值现在变为未定义字符串-习题-vue" class="headerlink" title="路由器查询中的未定义值现在变为未定义字符串-习题-vue"></a>路由器查询中的未定义值现在变为未定义字符串-习题-vue</h3><p>在 <a href="https://github.com/lanqiao-courses/vue-router/tree/v3.4.0">vue-router v3.4.0</a> 版本代码中存在一个 Bug，路由器查询中的未定义值现在变为未定义字符串。请修复此问题。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">resolveQuery</span> (</span><br><span class="line">  <span class="attr">query</span>: ?string,</span><br><span class="line">  <span class="attr">extraQuery</span>: <span class="title class_">Dictionary</span>&lt;string&gt; = &#123;&#125;,</span><br><span class="line">  <span class="attr">_parseQuery</span>: ?<span class="title class_">Function</span></span><br><span class="line">): <span class="title class_">Dictionary</span>&lt;string&gt; &#123;</span><br><span class="line">  <span class="comment">// ... 省略部分代码</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> extraQuery) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = extraQuery[key]</span><br><span class="line">    parsedQuery[key] = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(value)</span><br><span class="line">    ? value.<span class="title function_">map</span>(castQueryParamValue)</span><br><span class="line">    : <span class="title function_">castQueryParamValue</span>(value)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> parsedQuery</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">castQueryParamValue</span> = value =&gt; (value == <span class="literal">null</span> ? value : <span class="string">&#x27;&#x27;</span> + value)</span><br></pre></td></tr></table></figure><h3 id="警告已弃用的-addRoutes-习题-vue"><a href="#警告已弃用的-addRoutes-习题-vue" class="headerlink" title="警告已弃用的 addRoutes-习题-vue"></a>警告已弃用的 addRoutes-习题-vue</h3><p>其实就是个console.warn</p><p>扩展：</p>]]></content>
      
      
      <categories>
          
          <category> 蓝桥杯 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JQ速通</title>
      <link href="/post/e6cd.html"/>
      <url>/post/e6cd.html</url>
      
        <content type="html"><![CDATA[<h1 id="JQ速通"><a href="#JQ速通" class="headerlink" title="JQ速通"></a>JQ速通</h1><h2 id="速通背景"><a href="#速通背景" class="headerlink" title="速通背景"></a>速通背景</h2><ol><li>学Ajax的时候发现自己漏学了JQ</li><li>蓝桥杯web前端组第一个题就是JQ操作</li></ol><h2 id="速通内容"><a href="#速通内容" class="headerlink" title="速通内容"></a>速通内容</h2><h3 id="document-ready"><a href="#document-ready" class="headerlink" title="document.ready"></a>document.ready</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 浏览器加载页面后，放入此func执行</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="JQ选择器-selector"><a href="#JQ选择器-selector" class="headerlink" title="JQ选择器-selector"></a>JQ选择器-selector</h3><p>多个元素可以用<code>,</code>分隔</p><ul><li>标签选择器 <code>$(&quot;button&quot;)</code></li><li>class选择器 <code>$(&quot;.btn&quot;)</code></li><li>id选择器 <code>$(&quot;#target1&quot;)</code></li><li><code>*, :first, :last, :eq(index), :gt(no), :lt(no), :not(selector), </code>还有很多↓</li><li><a href="https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp">https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp</a>  去这里查</li></ul><h3 id="文档-属性-CSS-操作方法"><a href="#文档-属性-CSS-操作方法" class="headerlink" title="文档/属性/CSS 操作方法"></a>文档/属性/CSS 操作方法</h3><ul><li>添加类 <code>.addClass(&quot;&quot;)</code></li><li>删除类 <code>.removeClass(&quot;&quot;)</code></li><li>更改元素CSS <code>.css(&quot;元素名&quot;, &quot;元素属性值&quot;)</code></li><li>调整标签属性 <code>.prop(&quot;属性键&quot;, 属性值)</code></li><li>更改元素内部文本 <code>.text(&quot;文本内容&quot;)</code> </li><li>替换元素内部内容 <code>.html(&quot;&lt;标签&gt;内容&lt;标签/&gt;&quot;)</code></li><li>删除元素 <code>.remove(&quot;元素名&quot;)</code></li><li>移动元素 <code>.appenTo(&quot;目标地址&quot;)</code></li><li>克隆元素 <code>.clone()</code>  可与上者搭配使用作为复制一个元素到另一个地方</li><li>选择元素的父元素 <code>.parent()</code> 可搭配上几个使用</li><li>选择元素的子元素 <code>.children()</code>可搭配上几个使用</li><li>选择元素的特定子元素 <code>$(元素:nth-child(数))</code></li><li>选择奇偶元素-这里的奇偶是索引，索引从0开始 <code>$(元素:odd/even)</code></li><li>修改整个页面 <code>$(&quot;body&quot;)</code> 可搭配上几个使用</li><li><a href="https://www.w3school.com.cn/jquery/jquery_ref_manipulation.asp">https://www.w3school.com.cn/jquery/jquery_ref_manipulation.asp</a></li></ul><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><p><a href="https://www.w3school.com.cn/jquery/jquery_ref_events.asp">https://www.w3school.com.cn/jquery/jquery_ref_events.asp</a></p><h3 id="效果函数"><a href="#效果函数" class="headerlink" title="效果函数"></a>效果函数</h3><p><a href="https://www.w3school.com.cn/jquery/jquery_ref_effects.asp">https://www.w3school.com.cn/jquery/jquery_ref_effects.asp</a></p><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><p>一个噗通栗子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;https://labfile.oss.aliyuncs.com/courses/4450/userlist.json&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">        <span class="title function_">success</span>(<span class="params">res</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            <span class="keyword">var</span> flag = res.<span class="property">userlist</span>.<span class="title function_">some</span>(<span class="function"><span class="params">value</span>=&gt;</span>value.<span class="property">username</span> == username&amp;&amp;value.<span class="property">password</span> == password);</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                $(<span class="string">&quot;#tip1&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;fade&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;show&quot;</span>)</span><br><span class="line">                $(<span class="string">&quot;#tip2&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;show&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;fade&quot;</span>)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                $(<span class="string">&quot;#tip1&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;show&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;fade&quot;</span>)</span><br><span class="line">                $(<span class="string">&quot;#tip2&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;fade&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;show&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;  </span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p> <a href="https://www.w3school.com.cn/jquery/jquery_ref_ajax.asp">https://www.w3school.com.cn/jquery/jquery_ref_ajax.asp</a></p><blockquote><p>遇到问题去菜鸟/w3school查</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ajax学习笔记</title>
      <link href="/post/584d.html"/>
      <url>/post/584d.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 网络通信 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot学习笔记</title>
      <link href="/post/251e.html"/>
      <url>/post/251e.html</url>
      
        <content type="html"><![CDATA[<h2 id="SpringBoot大纲"><a href="#SpringBoot大纲" class="headerlink" title="SpringBoot大纲"></a>SpringBoot大纲</h2><h3 id="1-Java-基础知识"><a href="#1-Java-基础知识" class="headerlink" title="1. Java 基础知识"></a>1. Java 基础知识</h3><p>在学习 Spring Boot 之前，需要对 Java 编程语言有一定的了解。包括 Java 的面向对象编程、集合框架、异常处理、IO 流、泛型、Lambda 表达式等等。</p><h3 id="2-Spring-基础知识"><a href="#2-Spring-基础知识" class="headerlink" title="2. Spring 基础知识"></a>2. Spring 基础知识</h3><p>Spring 是一个强大的开源框架，它为 Java 开发人员提供了一种开发企业级应用程序的方式。在学习 Spring Boot 之前，需要掌握 Spring 的基本概念、核心组件（IOC、AOP、MVC等）、配置方式（XML、JavaConfig、Annotation）等。</p><h3 id="3-Spring-Boot-入门"><a href="#3-Spring-Boot-入门" class="headerlink" title="3. Spring Boot 入门"></a>3. Spring Boot 入门</h3><p>学习 Spring Boot 的第一步是了解它的基本概念、优点和用途。包括 Spring Boot 的起源、特点、与传统 Spring 框架的区别等。</p><h3 id="4-Spring-Boot-快速入门"><a href="#4-Spring-Boot-快速入门" class="headerlink" title="4. Spring Boot 快速入门"></a>4. Spring Boot 快速入门</h3><p>学习 Spring Boot 的最好方法是动手实践。可以使用 Spring Initializr 快速创建一个 Spring Boot 项目，并编写一些简单的示例代码。这些示例代码可以涉及常用的 Spring Boot 功能，例如：Web 开发、数据库访问、安全认证、缓存等。</p><h3 id="5-Spring-Boot-基础组件"><a href="#5-Spring-Boot-基础组件" class="headerlink" title="5. Spring Boot 基础组件"></a>5. Spring Boot 基础组件</h3><p>Spring Boot 提供了许多基础组件，包括：</p><ul><li>Spring Boot Starter：用于快速集成常用的依赖库，例如：Spring MVC、JPA、MyBatis、Thymeleaf 等。</li><li>Spring Boot AutoConfigure：自动配置，用于根据应用程序的类路径、环境变量等来配置 Spring 应用程序。</li><li>Spring Boot Actuator：用于监视和管理 Spring Boot 应用程序的端点。</li></ul><h3 id="6-Spring-Boot-Web-开发"><a href="#6-Spring-Boot-Web-开发" class="headerlink" title="6. Spring Boot Web 开发"></a>6. Spring Boot Web 开发</h3><p>Spring Boot 提供了用于构建 Web 应用程序的功能，包括：</p><ul><li>Spring MVC：用于处理 HTTP 请求和响应，支持 RESTful API 和视图解析等。</li><li>Spring WebFlux：响应式 Web 框架，基于 Reactor 和 RxJava。</li><li>Spring Boot Web 安全：用于实现身份验证和授权，包括基于表单、基于 OAuth2 等方式。</li></ul><h3 id="7-Spring-Boot-数据访问"><a href="#7-Spring-Boot-数据访问" class="headerlink" title="7. Spring Boot 数据访问"></a>7. Spring Boot 数据访问</h3><p>Spring Boot 提供了各种方式来访问和管理数据，包括：</p><ul><li>JDBC：Java 数据库连接，用于访问关系型数据库。</li><li>JPA：Java 持久化 API，用于访问关系型数据库。</li><li>MongoDB：文档数据库，用于访问 NoSQL 数据库。</li><li>Redis：内存数据结构存储，用于实现缓存、消息队列等。</li></ul><h3 id="8-Spring-Boot-测试"><a href="#8-Spring-Boot-测试" class="headerlink" title="8. Spring Boot 测试"></a>8. Spring Boot 测试</h3><p>Spring Boot 提供了一系列用于测试的工具和框架，包括：</p><ul><li><p>Spring Boot Test：用于编写集成测试和单元测试。</p></li><li><p>Spring Boot Test Slice：用于编写针对特定层（例如，Web 层或数据访问层）的测试。</p></li><li><p>Mockito：用于模拟对象，以便进行单元测试。</p></li><li><p>TestContainers：用于在测试环境中启动 Docker 容器，以便测试容器化应用程序。</p></li></ul><h3 id="9-Spring-Boot-部署与运维"><a href="#9-Spring-Boot-部署与运维" class="headerlink" title="9. Spring Boot 部署与运维"></a>9. Spring Boot 部署与运维</h3><p>学习 Spring Boot 还需要了解如何部署和运维应用程序。可以掌握以下知识：</p><ul><li>Spring Boot 打包：使用 Maven 或 Gradle 将 Spring Boot 应用程序打包成可执行的 JAR 或 WAR 文件。</li><li>Spring Boot 部署：使用不同的部署方式，例如：传统的服务器部署、Docker 容器化部署、云原生部署等。</li><li>Spring Boot 运维：使用 Spring Boot Actuator 监视应用程序的运行状况、使用 Spring Boot Admin 进行可视化的应用程序管理等。</li></ul><h3 id="10-Spring-Boot-实战项目"><a href="#10-Spring-Boot-实战项目" class="headerlink" title="10. Spring Boot 实战项目"></a>10. Spring Boot 实战项目</h3><p>最后，可以尝试完成一个真实的 Spring Boot 项目，这有助于加深对 Spring Boot 的理解和应用。</p><p>以上是学习 Spring Boot 的一个可靠大纲，可以帮助你系统地掌握 Spring Boot 的各种知识和技能。当然，在实际学习中，还需要不断实践和积累经验。</p>]]></content>
      
      
      <categories>
          
          <category> 后端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3的学习</title>
      <link href="/post/8d93.html"/>
      <url>/post/8d93.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" style="width:200px" /><h2 id="1-Vue3简介"><a href="#1-Vue3简介" class="headerlink" title="1.Vue3简介"></a>1.Vue3简介</h2><ul><li>2020年9月18日，Vue.js发布3.0版本，代号：One Piece（海贼王）</li><li>耗时2年多、<a href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+次提交</a>、<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+个RFC</a>、<a href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+次PR</a>、<a href="https://github.com/vuejs/vue-next/graphs/contributors">99位贡献者</a> </li><li>github上的tags地址：<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li></ul><h2 id="2-Vue3带来了什么"><a href="#2-Vue3带来了什么" class="headerlink" title="2.Vue3带来了什么"></a>2.Vue3带来了什么</h2><h3 id="1-性能的提升"><a href="#1-性能的提升" class="headerlink" title="1.性能的提升"></a>1.性能的提升</h3><ul><li><p>打包大小减少41%</p></li><li><p>初次渲染快55%, 更新渲染快133%</p></li><li><p>内存减少54%</p><p>……</p></li></ul><h3 id="2-源码的升级"><a href="#2-源码的升级" class="headerlink" title="2.源码的升级"></a>2.源码的升级</h3><ul><li><p>使用Proxy代替defineProperty实现响应式</p></li><li><p>重写虚拟DOM的实现和Tree-Shaking</p><p>……</p></li></ul><h3 id="3-拥抱TypeScript"><a href="#3-拥抱TypeScript" class="headerlink" title="3.拥抱TypeScript"></a>3.拥抱TypeScript</h3><ul><li>Vue3可以更好的支持TypeScript</li></ul><h3 id="4-新的特性"><a href="#4-新的特性" class="headerlink" title="4.新的特性"></a>4.新的特性</h3><ol><li><p>Composition API（组合API）</p><ul><li>setup配置</li><li>ref与reactive</li><li>watch与watchEffect</li><li>provide与inject</li><li>……</li></ul></li><li><p>新的内置组件</p><ul><li>Fragment </li><li>Teleport</li><li>Suspense</li></ul></li><li><p>其他改变</p><ul><li>新的生命周期钩子</li><li>data 选项应始终被声明为一个函数</li><li>移除keyCode支持作为 v-on 的修饰符</li><li>……</li></ul></li></ol><h1 id="一、创建Vue3-0工程"><a href="#一、创建Vue3-0工程" class="headerlink" title="一、创建Vue3.0工程"></a>一、创建Vue3.0工程</h1><h2 id="1-使用-vue-cli-创建"><a href="#1-使用-vue-cli-创建" class="headerlink" title="1.使用 vue-cli 创建"></a>1.使用 vue-cli 创建</h2><p>官方文档：<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">## 安装或者升级你的@vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="comment">## 创建</span></span><br><span class="line">vue create vue_test</span><br><span class="line"><span class="comment">## 启动</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><h2 id="2-使用-vite-创建"><a href="#2-使用-vite-创建" class="headerlink" title="2.使用 vite 创建"></a>2.使用 vite 创建</h2><p>官方文档：<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>vite官网：<a href="https://vitejs.cn/">https://vitejs.cn</a></p><ul><li>什么是vite？—— 新一代前端构建工具。</li><li>优势如下：<ul><li>开发环境中，无需打包操作，可快速的冷启动。</li><li>轻量快速的热重载（HMR）。</li><li>真正的按需编译，不再等待整个应用编译完成。</li></ul></li><li>传统构建 与 vite构建对比图</li></ul><p><img src="https://cn.vitejs.dev/assets/bundler.37740380.png" style="width:500px;height:280px;float:left" /><img src="https://cn.vitejs.dev/assets/esm.3070012d.png" style="width:480px;height:280px" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建工程</span></span><br><span class="line">npm init vite-app &lt;project-name&gt;</span><br><span class="line"><span class="comment">## 进入工程目录</span></span><br><span class="line"><span class="built_in">cd</span> &lt;project-name&gt;</span><br><span class="line"><span class="comment">## 安装依赖</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment">## 运行</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h1 id="二、常用-Composition-API"><a href="#二、常用-Composition-API" class="headerlink" title="二、常用 Composition API"></a>二、常用 Composition API</h1><p>官方文档: <a href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p><h2 id="1-拉开序幕的setup"><a href="#1-拉开序幕的setup" class="headerlink" title="1.拉开序幕的setup"></a>1.拉开序幕的setup</h2><ol><li><p>理解：Vue3.0中一个新的配置项，值为一个函数。</p></li><li><p>setup是所有<strong style="color:#DD5145">Composition API（组合API）</strong><i style="color:gray;font-weight:bold">“ 表演的舞台 ”</i>。</p></li><li><p>组件中所用到的：数据、方法等等，均要配置在setup中。</p></li><li><p>setup函数的两种返回值：</p><ol><li><p>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）</p></li><li><p><span style="color:#aad">若返回一个渲染函数：则可以自定义渲染内容。（了解）</span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; h &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 数据</span><br><span class="line">    let name = &#x27;老五&#x27;</span><br><span class="line">    // 方法</span><br><span class="line">    function sayHi() &#123;</span><br><span class="line">      alert(`你好，俺是$&#123;name&#125;~`)</span><br><span class="line">    &#125;</span><br><span class="line">    // 1-返回一个对象（常用）</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      sayHi</span><br><span class="line">    &#125;</span><br><span class="line">    // 2-返回函数（渲染函数）</span><br><span class="line">    // return () =&gt; h(&#x27;h2&#x27;, &#x27;嗨嗨嗨&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol></li><li><p>注意点：</p><p>虽然Vue3向下兼容，但是↓</p><ol><li>尽量不要与Vue2.x配置混用<ul><li>Vue2.x配置（data、methos、computed…）中<strong style="color:#DD5145">可以访问到</strong>setup中的属性、方法。</li><li>但在setup中<strong style="color:#DD5145">不能访问到</strong>Vue2.x配置（data、methos、computed…）。</li><li>如果有重名, setup优先。</li></ul></li><li>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）</li></ol></li></ol><h2 id="2-ref函数"><a href="#2-ref函数" class="headerlink" title="2.ref函数"></a>2.ref函数</h2><ul><li>作用: 定义一个==响应式==的数据</li><li>语法: <code>const xxx = ref(initValue)</code> <ul><li>创建一个包含响应式数据的<strong style="color:#DD5145">引用对象（reference对象，简称ref对象）</strong>全：引用实现的实例对象。</li><li>JS中操作数据： <code>xxx.value</code></li><li>模板中读取数据: 不需要.value，直接：<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li></ul></li><li>备注：<ul><li>接收的数据可以是：基本类型、也可以是对象类型。</li><li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>完成的。</li><li>对象类型的数据：内部 <i style="color:gray;font-weight:bold">“ 求助 ”</i> 了Vue3.0中的一个新函数—— <code>reactive</code>函数。</li></ul></li></ul><h2 id="3-reactive函数"><a href="#3-reactive函数" class="headerlink" title="3.reactive函数"></a>3.reactive函数</h2><ul><li>作用: 定义一个<strong style="color:#DD5145">对象类型</strong>的响应式数据（基本类型不要用它，要用<code>ref</code>函数）</li><li>语法：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个<strong style="color:#DD5145">代理对象（Proxy的实例对象，简称proxy对象）</strong></li><li>reactive定义的响应式数据是“深层次的”。</li><li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li></ul><h2 id="4-Vue3-0中的响应式原理"><a href="#4-Vue3-0中的响应式原理" class="headerlink" title="4.Vue3.0中的响应式原理"></a>4.Vue3.0中的响应式原理</h2><h3 id="vue2-x的响应式"><a href="#vue2-x的响应式" class="headerlink" title="vue2.x的响应式"></a>vue2.x的响应式</h3><ul><li><p>实现原理：</p><ul><li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p></li><li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;&#125;, </span><br><span class="line">    set () &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>存在问题：</p><ul><li>新增属性、删除属性, 界面不会更新。</li><li>直接通过下标修改数组, 界面不会自动更新。</li></ul></li></ul><h3 id="Vue3-0的响应式"><a href="#Vue3-0的响应式" class="headerlink" title="Vue3.0的响应式"></a>Vue3.0的响应式</h3><ul><li><p>实现原理: </p><ul><li><p>通过Proxy（代理）:  拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</p></li><li><p>通过Reflect（反射）:  对源对象的属性进行操作。</p></li><li><p>MDN文档中描述的Proxy与Reflect：</p><ul><li><p>Proxy：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p></li><li><p>Reflect：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line"><span class="comment">// 拦截读取属性值</span></span><br><span class="line">    get (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截设置属性值或添加新属性</span></span><br><span class="line">    set (target, prop, value) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截删除属性</span></span><br><span class="line">    deleteProperty (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">proxy.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span>   </span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="5-reactive对比ref"><a href="#5-reactive对比ref" class="headerlink" title="5.reactive对比ref"></a>5.reactive对比ref</h2><ul><li>从定义数据角度对比：<ul><li> ref用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li><li> reactive用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li><li> 备注：ref也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li></ul></li><li>从原理角度对比：<ul><li> ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li><li> reactive通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li></ul></li><li>从使用角度对比：<ul><li> ref定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li><li> reactive定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li></ul></li></ul><h2 id="6-setup的两个注意点"><a href="#6-setup的两个注意点" class="headerlink" title="6.setup的两个注意点"></a>6.setup的两个注意点</h2><ul><li><p>setup执行的时机</p><ul><li>在beforeCreate之前执行一次，this是undefined。</li></ul></li><li><p>setup的参数</p><ul><li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。</li><li>context：上下文对象<ul><li>attrs: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于 <code>this.$attrs</code>。</li><li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li><li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li></ul></li></ul></li></ul><h2 id="7-计算属性与监视"><a href="#7-计算属性与监视" class="headerlink" title="7.计算属性与监视"></a>7.计算属性与监视</h2><h3 id="1-computed函数"><a href="#1-computed函数" class="headerlink" title="1.computed函数"></a>1.computed函数</h3><ul><li><p>与Vue2.x中computed配置功能一致</p></li><li><p>写法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//计算属性——简写</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//计算属性——完整</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">            person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-watch函数"><a href="#2-watch函数" class="headerlink" title="2.watch函数"></a>2.watch函数</h3><ul><li><p>与Vue2.x中watch配置功能一致</p></li><li><p>两个小“坑”：</p><ul><li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）。</li><li>监视reactive定义的响应式数据中某个属性时：deep配置有效。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//情况一：监视ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//情况二：监视多个ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>([sum,msg],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum或msg变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">/* 情况三：监视reactive定义的响应式数据</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">false</span>&#125;) <span class="comment">//此处的deep配置不再奏效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//情况四：监视reactive定义的响应式数据中的某个属性</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">//情况五：监视reactive定义的响应式数据中的某些属性</span></span><br><span class="line"><span class="title function_">watch</span>([<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">()=&gt;</span>person.<span class="property">name</span>],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//特殊情况</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-watchEffect函数"><a href="#3-watchEffect函数" class="headerlink" title="3.watchEffect函数"></a>3.watchEffect函数</h3><ul><li><p>watch的套路是：既要指明监视的属性，也要指明监视的回调。</p></li><li><p>watchEffect的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p></li><li><p>watchEffect有点像computed：</p><ul><li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li><li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">    <span class="keyword">const</span> x2 = person.<span class="property">age</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffect配置的回调执行了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h2 id="8-生命周期"><a href="#8-生命周期" class="headerlink" title="8.生命周期"></a>8.生命周期</h2><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/lifecycle.16e4c08e.png" alt="组件生命周期图示" style="zoom:50%;" /><p>1</p><ul><li>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名：<ul><li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li><li><code>destroyed</code>改名为 <code>unmounted</code></li></ul></li><li>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩子对应关系如下：<ul><li><code>beforeCreate</code>===&gt;<code>setup()</code></li><li><code>created</code>=======&gt;<code>setup()</code></li><li><code>beforeMount</code> ===&gt;<code>onBeforeMount</code></li><li><code>mounted</code>=======&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>===&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> =======&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code> ==&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> =====&gt;<code>onUnmounted</code></li></ul></li></ul><h2 id="9-自定义hook函数"><a href="#9-自定义hook函数" class="headerlink" title="9.自定义hook函数"></a>9.自定义hook函数</h2><ul><li><p>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装。</p></li><li><p>类似于vue2.x中的mixin。</p></li><li><p>自定义hook的优势: 复用代码, 让setup中的逻辑更清楚易懂。</p></li></ul><h2 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h2><ul><li>作用：创建一个 ref 对象，其value值指向另一个对象中的某个属性。</li><li>语法：<code>const name = toRef(person,&#39;name&#39;)</code></li><li>应用:   要将响应式对象中的某个属性单独提供给外部使用时。</li></ul><ul><li>扩展：<code>toRefs</code> 与<code>toRef</code>功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></li></ul><h1 id="三、其它-Composition-API"><a href="#三、其它-Composition-API" class="headerlink" title="三、其它 Composition API"></a>三、其它 Composition API</h1><h2 id="1-shallowReactive-与-shallowRef"><a href="#1-shallowReactive-与-shallowRef" class="headerlink" title="1.shallowReactive 与 shallowRef"></a>1.shallowReactive 与 shallowRef</h2><ul><li><p>shallowReactive：只处理对象最外层属性的响应式（浅响应式）。</p></li><li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理。</p></li><li><p>什么时候使用?</p><ul><li> 如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 ===&gt; shallowReactive。</li><li> 如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 ===&gt; shallowRef。</li></ul></li></ul><h2 id="2-readonly-与-shallowReadonly"><a href="#2-readonly-与-shallowReadonly" class="headerlink" title="2.readonly 与 shallowReadonly"></a>2.readonly 与 shallowReadonly</h2><ul><li>readonly: 让一个响应式数据变为只读的（深只读）。</li><li>shallowReadonly：让一个响应式数据变为只读的（浅只读）。</li><li>应用场景: 不希望数据被修改时。</li></ul><h2 id="3-toRaw-与-markRaw"><a href="#3-toRaw-与-markRaw" class="headerlink" title="3.toRaw 与 markRaw"></a>3.toRaw 与 markRaw</h2><ul><li>toRaw：<ul><li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul></li><li>markRaw：<ul><li>作用：标记一个对象，使其永远不会再成为响应式对象。</li><li>应用场景:<ol><li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li><li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li></ol></li></ul></li></ul><h2 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h2><ul><li><p>作用：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</p></li><li><p>实现防抖效果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;keyword&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;keyword&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref,customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Demo&#x27;,</span><br><span class="line">setup()&#123;</span><br><span class="line">// let keyword = ref(&#x27;hello&#x27;) //使用Vue准备好的内置ref</span><br><span class="line">//自定义一个myRef</span><br><span class="line">function myRef(value,delay)&#123;</span><br><span class="line">let timer</span><br><span class="line">//通过customRef去实现自定义</span><br><span class="line">return customRef((track,trigger)=&gt;&#123;</span><br><span class="line">return&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">track() //告诉Vue这个value值是需要被“追踪”的</span><br><span class="line">return value</span><br><span class="line">&#125;,</span><br><span class="line">set(newValue)&#123;</span><br><span class="line">clearTimeout(timer)</span><br><span class="line">timer = setTimeout(()=&gt;&#123;</span><br><span class="line">value = newValue</span><br><span class="line">trigger() //告诉Vue去更新界面</span><br><span class="line">&#125;,delay)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">let keyword = myRef(&#x27;hello&#x27;,500) //使用程序员自定义的ref</span><br><span class="line">return &#123;</span><br><span class="line">keyword</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-provide-与-inject"><a href="#5-provide-与-inject" class="headerlink" title="5.provide 与 inject"></a>5.provide 与 inject</h2><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/components_provide.png" style="width:300px" /><ul><li><p>作用：实现<strong style="color:#DD5145">祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p></li><li><p>具体写法：</p><ol><li><p>祖组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;奔驰&#x27;</span>,<span class="attr">price</span>:<span class="string">&#x27;40万&#x27;</span>&#125;)</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>,car)</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>后代组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;car&#125;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h2 id="6-响应式数据的判断"><a href="#6-响应式数据的判断" class="headerlink" title="6.响应式数据的判断"></a>6.响应式数据的判断</h2><ul><li>isRef: 检查一个值是否为一个 ref 对象</li><li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li><li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li><li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li></ul><h1 id="四、Composition-API-的优势"><a href="#四、Composition-API-的优势" class="headerlink" title="四、Composition API 的优势"></a>四、Composition API 的优势</h1><h2 id="1-Options-API-存在的问题"><a href="#1-Options-API-存在的问题" class="headerlink" title="1.Options API 存在的问题"></a>1.Options API 存在的问题</h2><p>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改 。</p><div style="width:600px;height:370px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" style="width:600px;float:left" /></div><div style="width:300px;height:370px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;width:560px;left" /> </div><h2 id="2-Composition-API-的优势"><a href="#2-Composition-API-的优势" class="headerlink" title="2.Composition API 的优势"></a>2.Composition API 的优势</h2><p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。</p><div style="width:500px;height:340px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/></div><div style="width:430px;height:340px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/></div><h1 id="五、新的组件"><a href="#五、新的组件" class="headerlink" title="五、新的组件"></a>五、新的组件</h1><h2 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h2><ul><li>在Vue2中: 组件必须有一个根标签</li><li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li><li>好处: 减少标签层级, 减小内存占用</li></ul><h2 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h2><ul><li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件html结构</strong>移动到指定位置的技术。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;teleport to=&quot;移动位置&quot;&gt;</span><br><span class="line">&lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;</span><br><span class="line">&lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是一个弹窗&lt;/h3&gt;</span><br><span class="line">&lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/teleport&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h2><ul><li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p></li><li><p>使用步骤：</p><ul><li><p>异步引入组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure></li><li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">&lt;Suspense&gt;</span><br><span class="line">&lt;template v-slot:default&gt;</span><br><span class="line">&lt;Child/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template v-slot:fallback&gt;</span><br><span class="line">&lt;h3&gt;加载中.....&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="六、其他"><a href="#六、其他" class="headerlink" title="六、其他"></a>六、其他</h1><h2 id="1-全局API的转移"><a href="#1-全局API的转移" class="headerlink" title="1.全局API的转移"></a>1.全局API的转移</h2><ul><li><p>Vue 2.x 有许多全局 API 和配置。</p><ul><li><p>例如：注册全局组件、注册全局指令等。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册全局组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyButton&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//注册全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">inserted</span>: <span class="function"><span class="params">el</span> =&gt;</span> el.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Vue3.0中对这些API做出了调整：</p><ul><li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p><table><thead><tr><th>2.x 全局 API（<code>Vue</code>）</th><th>3.x 实例 API (<code>app</code>)</th></tr></thead><tbody><tr><td>Vue.config.xxxx</td><td>app.config.xxxx</td></tr><tr><td>Vue.config.productionTip</td><td><strong style="color:#DD5145">移除</strong></td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table></li></ul></li></ul><h2 id="2-其他改变"><a href="#2-其他改变" class="headerlink" title="2.其他改变"></a>2.其他改变</h2><ul><li><p>data选项应始终被声明为一个函数。</p></li><li><p>过度类名的更改：</p><ul><li><p>Vue2.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Vue3.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component</span><br><span class="line">  v-on:close=&quot;handleComponentEvent&quot;</span><br><span class="line">  v-on:click=&quot;handleNativeClickEvent&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></li><li><p>子组件中声明自定义事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    emits: [&#x27;close&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p></blockquote></li><li><p>……</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2的学习</title>
      <link href="/post/48c2.html"/>
      <url>/post/48c2.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><h2 id="脚手架文件结构"><a href="#脚手架文件结构" class="headerlink" title="脚手架文件结构"></a>脚手架文件结构</h2><p>(treer -d 路径)</p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230128104810285.png" alt="image-20230128104810285" style="zoom:50%;" /><h2 id="关于不同版本的Vue说明"><a href="#关于不同版本的Vue说明" class="headerlink" title="关于不同版本的Vue说明"></a>关于不同版本的Vue说明</h2><ul><li><p>vue.js与vue.runtime.xxx.js的区别：</p><p>​    (1) vue.js是完整版的Vue,包含：核心功能+模板解析器。</p><p>​    (2) vue.runtime.xxx.js是运行版的Vue,只包含：核心功能；没有模板解析器。</p></li><li><p>因为vue.runtime.xxx,js没有模板解析器，所以不能使用templatei配置项，需要使用renderi函数接收到的createElementi函数去指定具体内容。</p></li></ul><h2 id="vue-config-js配置文件"><a href="#vue-config-js配置文件" class="headerlink" title="vue.config.js配置文件"></a>vue.config.js配置文件</h2><ul><li>使用vue inspect &gt; output.js 可以查看到Vue脚手架的默认配置</li><li>使用vue.config.js 可以对脚手架进行个性化定制，详情 <a href="https://cli.vuejs.org/zh/config/">https://cli.vuejs.org/zh/config/</a></li></ul><h2 id="ref属性"><a href="#ref属性" class="headerlink" title="ref属性"></a>ref属性</h2><p>1.被用来给元素或子组件注册引用的信息（id的替代</p><p>2.应用在html标签上获取的是真实DOM元素，应用在组件标签上获取的是组件实例对象</p><p>3.使用方式：</p><ul><li>打标识 <code>&lt;h1 ref=&quot;title&quot;&gt;哈哈&lt;/h1&gt; 或者 &lt;School ref=&quot;sch&quot;/&gt;</code></li><li>获取 this.$refs.title啥的</li></ul><h2 id="配置项props"><a href="#配置项props" class="headerlink" title="配置项props"></a>配置项props</h2><p>功能：让组件接收外部传过来的数据</p><ul><li><p>传递数据：<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p></li><li><p>接收数据：</p><ul><li>只接收：<code>props: [&#39;name&#39;,&#39;sex&#39;,&#39;age&#39;]</code></li><li>限制类型：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    name: String,</span><br><span class="line">    sex: String,</span><br><span class="line">    age: Number</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>限制类型、限制必要性、指定默认值</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">props :&#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: String,//类型</span><br><span class="line">        required: true//必须</span><br><span class="line">    &#125;,</span><br><span class="line">    sex: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        required: true//默认值</span><br><span class="line">    &#125;,</span><br><span class="line">    age: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 99</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>备注：props是只读的。Vue底层会监测你对props的修改，如有修改会发出警告；若业务需求需要改，那么得从props中复制一份到data里，然后去修改data中的那个数据。</p></li></ul><h2 id="mixin-混入"><a href="#mixin-混入" class="headerlink" title="mixin-混入"></a>mixin-混入</h2><ul><li><p>功能：可以吧多个组件供用电额配置提取成一个混入对象</p></li><li><p>使用方式：</p><ul><li>第一步定义混合</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    data()&#123;&#125;,</span><br><span class="line">    methods:&#123;&#125;</span><br><span class="line">    ……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>第二步混入</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">局部引入：</span><br><span class="line">mixins:[&#x27;xxx&#x27;,&#x27;yyy&#x27;]</span><br><span class="line">全局引入：</span><br><span class="line">Vue.mixin(xxx)</span><br></pre></td></tr></table></figure></li></ul><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ul><li>功能：用于增强Vue</li><li>本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据</li><li>定义插件：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">对象.install = function(Vue, options) &#123;</span><br><span class="line">    //1.添加全局过滤器</span><br><span class="line">    Vue.filter(....)</span><br><span class="line">    //2.添加全局指令</span><br><span class="line">    Vue.directive(....)</span><br><span class="line">    //3.配置全局混入</span><br><span class="line">    Vue.mixin(....)</span><br><span class="line">    //4.添加实例方法</span><br><span class="line">    Vue.prototype.$myMethod = function()&#123;....&#125;</span><br><span class="line">    Vue.prototype.$myProperty = xxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>使用插件：<br><code>Vue.use()</code></li></ul><h2 id="scoped样式"><a href="#scoped样式" class="headerlink" title="scoped样式"></a>scoped样式</h2><ul><li>作用：让样式在布局生效，防止冲突</li><li>写法：<code>&lt;style scoped&gt;&lt;/style&gt;</code></li></ul><h2 id="总结TodoList案例"><a href="#总结TodoList案例" class="headerlink" title="总结TodoList案例"></a>总结TodoList案例</h2><ol><li>组件化编码流程</li></ol><ul><li><p>拆分静态组件：组件按照功能点拆分，命名不要与html元素冲突</p></li><li><p>实现动态组件：考虑好数据的存放位置，数据是组件在用，还是一些组件在用</p><ul><li>一个组件在用：放在组件自身即可</li><li>一些组件在用：放在他们的共同父组件上（状态提升）</li></ul></li><li><p>实现交互：从绑定事件开始</p></li></ul><ol start="2"><li>props适用于：</li></ol><ul><li>父组件→子组件 通信</li><li>子组件→父组件 通信（要求父先给自已个函数）</li></ul><ol start="3"><li><p>用v-model时切记：v-model绑定的值不能是props传过来的值，因为props是不可以被修改的！！</p></li><li><p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。</p></li></ol><h2 id="web-Storage"><a href="#web-Storage" class="headerlink" title="web Storage"></a>web Storage</h2><ol><li><p>存储内容大小一般5MB左右（不同浏览器不一样）</p></li><li><p>浏览器通过 Window.sessionStorage 和 Window.localStorage 属性实现本地存储机制</p></li><li><p>相关API</p><ol><li><code>xxxStorage.setItem(&#39;key&#39;, &#39;value&#39;)</code>：接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，更新其对应的值。</li><li><code>xxxStorage.getItem(&#39;key&#39;)</code>：接受一个键名作为参数，返回键名对应的值。</li><li><code>xxxStorage.removeItem(&#39;key&#39;)</code>：接受一个键名作为参数，把该键值从存储中删除。</li><li><code>xxxStorage.clear()</code>：清空存储中所有的数据。</li></ol></li><li><p>备注</p><ol><li>SessionStorage存储的内容会随着浏览器窗口关闭而消失</li><li>LocalStorage存储的内容需要手动清除</li><li>setItem如果对应键的值获取不到，那么getItem返回值是null</li><li><code>JSON.parse(null)</code>结果依然是null</li></ol></li></ol><h2 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h2><ol><li><p>一种组件间的通信方式，适用于：子组件=&gt;父组件</p></li><li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（事件的回调在A中）</p></li><li><p>绑定自定义事件：</p><ol><li><p>第一种，在父组件中：<code>&lt;Demo @qvq=&#39;test&#39;/&gt;</code>（v-on）</p></li><li><p>第二种，在父组件中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Demo ref=&quot;demo&quot;/&gt;</span><br><span class="line">......</span><br><span class="line">mounted() &#123;</span><br><span class="line">this.$refs.demo.$on(&#x27;qvq&#x27;,this.test)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>若想让自定义事件只触发一次，用<code>once</code>修饰符，或<code>$once</code>方法</p></li></ol></li><li><p>触发自定义事件：<code>this.$emit(&#39;qvq&#39;,数据)</code></p></li><li><p>解绑自定义事件：<code>this.$off(&#39;qvq&#39;)</code></p></li><li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符</p></li><li><p>注意：通过<code>this.$refs.xxx.$on(&#39;ref值&#39;,回调)</code>绑定自定义事件时，回调要么配置在methods中，要么箭头函数怼进去，否则this指向调用它的组件捏。</p></li></ol><h2 id="全局事件总线（GlobalEventBus）"><a href="#全局事件总线（GlobalEventBus）" class="headerlink" title="全局事件总线（GlobalEventBus）"></a>全局事件总线（GlobalEventBus）</h2><ol><li><p>一种组件间通信的方式，适用于任意组件间通信</p></li><li><p>安装全局事件总线：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm</span></span><br><span class="line">&#125;，</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>使用事件总线：</p><ol><li><p>接受数据：A想接收数据，则A组件给$bus绑定自定义事件，事件的回调留在A组件自身。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;....&#125;</span><br><span class="line">&#125;</span><br><span class="line">....</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br><span class="line">或者用箭头函数</span><br></pre></td></tr></table></figure></li><li><p>提供数据：<code>this.$bus.$on(&#39;xxx&#39;,this.demo)</code></p></li></ol></li><li><p>最好在beforeDestroy钩子中，用<code>$off</code>去解绑当前组件所用到的事件。</p></li></ol><h2 id="消息订阅与发布（pubsub）"><a href="#消息订阅与发布（pubsub）" class="headerlink" title="消息订阅与发布（pubsub）"></a>消息订阅与发布（pubsub）</h2><ol><li><p>一种组件间通信的方式，适用于任意组件间通信</p></li><li><p>使用步骤：</p><ol><li><p>安装pubsub：<code>npm i pubsub-js</code></p></li><li><p>引入：<code>import pubsub from &#39;pubsub-js&#39;</code></p></li><li><p>接受数据：A想收数据，则在A中订阅消息，订阅的回调留在A自己这里</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;....&#125;</span><br><span class="line">&#125;</span><br><span class="line">....</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">pid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>, <span class="variable language_">this</span>.<span class="property">demo</span>)<span class="comment">//订阅消息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>提供数据：<code>pubsub.publish(&#39;xxx&#39;,数据)</code></p></li><li><p>最好在beforeDestroy钩子中，用<code>pubsub.unsubscribe(pid)</code>去取消订阅。</p></li></ol></li></ol><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><ol><li>语法：<code>this.$nextTick(回调函数)</code></li><li>作用：在下一次DOM更新结束后执行其指令回调</li><li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作，要在nextTick所指定的回调函数中执行</li></ol><h2 id="Vue封装的过度与动画"><a href="#Vue封装的过度与动画" class="headerlink" title="Vue封装的过度与动画"></a>Vue封装的过度与动画</h2><ol><li><p>作用：在插入、更新或移除DOM元素时，在核实的时候给元素添加样式类名</p></li><li><p>图示：</p><p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230129200244340.png" alt="image-20230129200244340"></p></li><li><p>写法</p><ol><li><p>准备好样式</p><ul><li><p>元素进入的样式</p><blockquote><p>v-enter：进入的起点</p><p>v-enter-active：进入的过程中——单用active 可animation:搭配@keyframes animationName {}动画</p><p>v-enter-to：进入的终点</p></blockquote></li><li><p>元素离开的样式</p><blockquote><p>v-leave：离开的起点</p><p>v-leave-active：离开的过程中</p><p>v-leave-to：离开的终点</p></blockquote></li></ul></li><li><p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置<code>name</code>属性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;isShow&quot;&gt;</span><br><span class="line">        你好啊！</span><br><span class="line">    &lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure></li><li><p>备注：若有多个元素需要过度，则需要用：<code>&lt;transition-group&gt;</code>，且每个元素指定<code>&lt;key&gt;</code>值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition-group name=&quot;qvq&quot; appear&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;isShow&quot; key=&quot;1&quot;&gt;你好:D&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;!isShow&quot; key=&quot;2&quot;&gt;嗨嗨嗨:D&lt;/h1&gt;</span><br><span class="line">&lt;/transition-group&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="vue脚手架配置代理"><a href="#vue脚手架配置代理" class="headerlink" title="vue脚手架配置代理"></a>vue脚手架配置代理</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>在vue.config.js中添加如下配置：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>:<span class="string">&quot;http://localhoost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​    说明：</p><pre><code> 1. 优点：配置简单，请求资源时直接发给前端（8080）即可 2. 缺点：不能配置多个代理，不能灵活的控制请求是否走代理 3. 工作方式：若按照上述代理配置，当请求了前端不存在的资源时，那么该请求会专访给服务器（优先匹配前端资源）            </code></pre><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>编写vue.config.js配置具体代理规则：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"> ....</span><br><span class="line">  <span class="comment">//开启代理服务器(方式二)</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">//请求前缀，匹配所有以&#x27;/api1&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">//代理目标的基本路径</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>:<span class="string">&#x27;&#x27;</span>&#125;,<span class="comment">//路径重写，贼重要！！！</span></span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,<span class="comment">//用于支持websocket</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span><span class="comment">//用于控制请求头中的host值→请求说谎，说自己是5000的，可爱捏；默认值是false</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;<span class="comment">//请求前缀</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>:<span class="string">&#x27;&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">false：localhoost:8080</span></span><br><span class="line"><span class="comment">默认值为true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理</li><li>缺点：配置略微繁琐，请求资源时必须加前缀</li></ol><h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><ol><li><p>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间的通信方式，适用于 父组件=&gt;子组件</p></li><li><p>分类：默认插槽，具名插槽，作用域插槽</p></li><li><p>使用方式</p><ol><li><p>默认插槽</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        html结构1</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;!--定义插槽--&gt;</span><br><span class="line">        &lt;slot&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>具名插槽</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">    &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            html结构1</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template slot=&quot;footer&quot;&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            html结构2</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!--定义插槽--&gt;</span><br><span class="line">        &lt;slot name=&quot;center&quot;&gt;插槽默认内容&lt;/slot&gt;</span><br><span class="line">        &lt;slot name=&quot;footer&quot;&gt;插槽默认内容&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>作用域插槽</p><ol><li><p>理解：数据在组件的自身，但数据生成的结构需要组件的使用者来决定。（game数据在Category组件中，但是用数据所遍历出来的结构由APP组件决定）…….当然它也可以具名</p></li><li><p>具体编码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;ol&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ol&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">    &lt;h4 v-for=&quot;g in games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;slot :games=&quot;games&quot;&gt;默认&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;Category&#x27;,</span><br><span class="line">        props: [&#x27;title&#x27;],</span><br><span class="line">        //数据在子组件自身</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                games: [&#x27;原神&#x27;, &#x27;使命召唤&#x27;, &#x27;赛特斯2&#x27;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol></li></ol><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/vuex.png" alt="vuex" style="zoom: 33%;" /><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><p>在Vue中实现集中式状态（数据）管理的一个Vue插件，对vue应用中多一个组件的共享状态进行集中式管理（读/写），也是一种组件间的通信方式，切实用于任意组件间的通信。</p><h3 id="2-何时使用"><a href="#2-何时使用" class="headerlink" title="2.何时使用"></a>2.何时使用</h3><p>多个组件需要共享数据时。</p><h3 id="3-搭建vuex环境"><a href="#3-搭建vuex环境" class="headerlink" title="3.搭建vuex环境"></a>3.搭建vuex环境</h3><ol><li><p>创建文件：<code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//使用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions，用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//准备mutations，用于操作数据（state)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//准备state，用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span>  <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="comment">//引入store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">....</span><br><span class="line"><span class="comment">//创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol><li><p>初始化数据，配置<code>actions</code>配置<code>mutations</code>操作文件<code>store.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//引用Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = (</span><br><span class="line">    <span class="comment">//响应组建的加</span></span><br><span class="line">    <span class="title function_">increase</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">    context.<span class="title function_">commit</span>(<span class="string">&#x27;INCREASE&#x27;</span>, value)</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">///执行加</span></span><br><span class="line">    <span class="title function_">INCREASE</span>(<span class="params">state,value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="comment">//初始化数据</span></span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>组建中读取vuex中的数据：<code>$store.state.sum</code></p></li><li><p>组建中修改vuex中的数据：<code>$store.dispatch(&#39;action中的方法名&#39;, 数据)</code>或<code>$store.commit(&#39;mutations中的方法名&#39;, 数据)</code></p></li><li><p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dipatch</code>，直接<code>commit</code></p></li></ol><h3 id="5-getter的使用"><a href="#5-getter的使用" class="headerlink" title="5.getter的使用"></a>5.getter的使用</h3><ol><li><p>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工。</p></li><li><p>在<code>store.js</code>中追加<code>getters</code>配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span><span class="comment">//这里假装一波复杂运算</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建并暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    ....</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>组件中读取数据：<code>$store.getters.bigSum</code></p></li></ol><h3 id="6-四个map方法的使用"><a href="#6-四个map方法的使用" class="headerlink" title="6.四个map方法的使用"></a>6.四个map方法的使用</h3><ol><li><p><strong>mapState方法</strong>：用于帮助我们映射<code>state</code>中的数据为计算属性。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">//借助mapState生成计算属性，从state中读取数据（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>(&#123;<span class="comment">//...解构赋值，把对象里的东西展开</span></span><br><span class="line">       <span class="string">&#x27;sum&#x27;</span>: <span class="string">&#x27;sum&#x27;</span>,<span class="comment">//规范&#x27;sum&#x27;，图个简单↓</span></span><br><span class="line">        <span class="attr">school</span>: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">        <span class="attr">kecheng</span>: <span class="string">&#x27;subject&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//借助mapState生成计算属性，从state中读取数据（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;school&#x27;</span>, <span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapGetters方法</strong>：用于帮助我们映射<code>getters</code>中的数据为计算属性。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">//借助mapGetters生成计算属性，从getters中读取数据（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>: <span class="string">&#x27;bigeSum&#x27;</span>&#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//借助mapGetters生成计算属性，从getters中读取数据（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapActions生成对应的方法，方法中会调用despatch去联系actions（对象写法）——它自动生成的是func(value)&#123;&#125;，所以说在调用的时候要传参，这样是相较于再从methods里面调方法更简单的</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">increamentOdd</span>: <span class="string">&#x27;increaseOdd&#x27;</span>, <span class="attr">increamentWait</span>: <span class="string">&#x27;increaseWait&#x27;</span>&#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//借助mapActions生成对应的方法，方法中会调用despatch去联系actions（数组写法）——注意这里只能是actions中的名，那么前面调用就得用这种</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;increamentOdd&#x27;</span>, <span class="string">&#x27;increamentWait&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapMutations方法</strong>：用于帮助我们生成与<code>mutations</code>对话的方法，即：<code>$store.commit(xxx)</code>的函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations（对象写法）——它自动生成的是func(value)&#123;&#125;，所以说在调用的时候要传参，这样是相较于再从methods里面调方法更简单的</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increament</span>: <span class="string">&#x27;INCREASE&#x27;</span>, <span class="attr">decreament</span>: <span class="string">&#x27;DECREASE&#x27;</span>&#125;),</span><br><span class="line">    <span class="comment">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations（数组写法）——注意这里只能是mutations中的名，那么前面调用就得用这种</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;INCREASE&#x27;</span>, <span class="string">&#x27;DECREASE&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>备注：mapActions与mapMutations使用时，若需要传递参数，需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></li></ol><h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol><li><p>目的：让代码更好的维护，让多种数据分类更加明确。</p></li><li><p>修改<code>store.js</code>（这里直接份文件了）</p><p><strong>count.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//求和相关的配置</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> countOptions = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,<span class="comment">//开启命名空间，不想麻烦一定要写！</span></span><br><span class="line">    <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> countOptions</span><br></pre></td></tr></table></figure><p><strong>person.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//人名相关的配置</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> personOptions = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> personOptions</span><br></pre></td></tr></table></figure><p><strong>index.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//引入俩模块</span></span><br><span class="line"><span class="keyword">import</span> countOptions <span class="keyword">from</span> <span class="string">&#x27;./count&#x27;</span></span><br><span class="line"><span class="keyword">import</span> personOptions <span class="keyword">from</span> <span class="string">&#x27;./person&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//浅浅暴露一下</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span>  <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>: &#123;</span><br><span class="line">        <span class="attr">countAbout</span>: countOptions,<span class="comment">//简写也行</span></span><br><span class="line">        <span class="attr">personAbout</span>: personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取state数据：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">list</span><span class="comment">//自己读</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>, [<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;school&#x27;</span>, <span class="string">&#x27;subject&#x27;</span>])<span class="comment">//借助mapState读</span></span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取state数据：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]<span class="comment">//自己读</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>, [<span class="string">&#x27;bigSum&#x27;</span>])<span class="comment">//借助mapGetters读</span></span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用dispatch：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>, person)<span class="comment">//自己调用</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>, &#123;<span class="attr">increaseOdd</span>: <span class="string">&#x27;jiaOdd&#x27;</span>, <span class="attr">increasementWait</span>: <span class="string">&#x27;jiaWait&#x27;</span>&#125;)<span class="comment">//借助map.Actions调用</span></span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用commit：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>, person)<span class="comment">//自己调用</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>, &#123;<span class="attr">increasement</span>:<span class="string">&#x27;JIA&#x27;</span>, <span class="attr">decreasement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ol><li>理解：一个路由（route）就是一组映射关系，多个路由需要路由器（router）进行管理</li><li>前端路由：key是路径，value是组件</li></ol><h3 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h3><ol><li><p>安装vue-router，命令<code>npm i vue-router</code></p></li><li><p>应用插件：<code>Vue.use(VueRouter)</code></p></li><li><p>编写router配置项</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入VueRouter</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//引入路由组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"><span class="comment">//创建router实例对象，去管理一组一组的路由规则</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;./about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">About</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;./home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//暴露router</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>实现切换（active-class可配置高亮样式）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>指定展示位置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-几个注意点"><a href="#2-几个注意点" class="headerlink" title="2.几个注意点"></a>2.几个注意点</h3><ol><li><p>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹</p></li><li><p>通过切换，“隐藏”了路由组件，默认是被销毁掉的，需要的时候再去挂载</p></li><li><p>每个组件都有自己的<code>$route</code>属性，里面存储自己的路由信息</p></li><li><p>整个应用只有一个<code>router</code>，可以通过<code>$router</code>属性获取到</p><p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230202165843249.png" alt="image-20230202165843249"></p></li></ol><h3 id="3-多级路由（嵌套路由）"><a href="#3-多级路由（嵌套路由）" class="headerlink" title="3.多级路由（嵌套路由）"></a>3.多级路由（嵌套路由）</h3><ol><li><p>配置路由规则，使用children配置项：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>: [</span><br><span class="line">    &#123;<span class="comment">//一级路由</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;./home&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;<span class="comment">//这个地方一定不要加斜杠，因为已经帮着加了</span></span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">News</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">Message</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>跳转（要写完整路径）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to:&#x27;/home/news&#x27;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-路由传参"><a href="#4-路由传参" class="headerlink" title="4.路由传参"></a>4.路由传参</h3><ol><li><p>传递参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转路由并携带query参数，to的字符串写法 --&gt;</span><br><span class="line"> &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;m.id&#125;&amp;title=$&#123;m.title&#125;`&quot;&gt;跳转&lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转路由并携带query参数，to的对象写法 --&gt;</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">        path: &#x27;/home/message/detail&#x27;,</span><br><span class="line">        query: &#123;</span><br><span class="line">            id: m.id,</span><br><span class="line">            title: m.title,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;&quot;&gt;跳转</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>接收参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="5-命名路由"><a href="#5-命名路由" class="headerlink" title="5.命名路由"></a>5.命名路由</h3><ol><li><p>作用：可以简化路由的跳转</p></li><li><p>如何使用</p><ol><li><p>给路由命名</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>: [</span><br><span class="line">        <span class="comment">//一级路由</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;guanyu&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: myAbout,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;jia&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: myHome,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;xiaoxi&#x27;</span>,</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>: myNews,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;message&#x27;</span></span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>: myMessage,</span><br><span class="line">                    <span class="attr">children</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">name</span>: <span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">                            <span class="attr">path</span>: <span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">                            <span class="attr">component</span>: myDetail,</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></li><li><p>简化跳转</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">简化前，需要写完整路径</span><br><span class="line">&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">简化后，直接通过名字跳转</span><br><span class="line">&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; :to=&quot;&#123;name: &#x27;xiaoxi&#x27;&#125;&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">简化写法配合传递参数</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">    name: &#x27;xiangqing&#x27;,</span><br><span class="line">        query: &#123;</span><br><span class="line">              id: m.id,</span><br><span class="line">              title: m.title,</span><br><span class="line">        &#125;,</span><br><span class="line">     &#125;&quot; &gt; 跳转</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="6-params参数"><a href="#6-params参数" class="headerlink" title="6.params参数"></a>6.params参数</h3><ol><li><p>配置路由，声明接收params参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;detail/:id/:title&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: myDetail,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>传递参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转路由并携带params参数，to的字符串写法 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;`/home/message/detail/$&#123;m.id&#125;/$&#123;m.title&#125;`&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转路由并携带params参数，to的对象写法 --&gt;</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name: &#x27;xiangqing&#x27;,</span><br><span class="line">        //这个地方就必须得用name了</span><br><span class="line">        params: &#123;</span><br><span class="line">        id: m.id,</span><br><span class="line">        title: m.title,</span><br><span class="line">&#125;&quot;&gt;跳转</span><br><span class="line"> &lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>接收参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.params.id</span><br></pre></td></tr></table></figure></li></ol><h3 id="7-路由props配置"><a href="#7-路由props配置" class="headerlink" title="7.路由props配置"></a>7.路由props配置</h3><p>作用：让路由组件更方便收到参数</p><p>哈哈超级不喜欢params</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;detail/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span></span><br><span class="line"><span class="attr">props</span>:&#123;<span class="attr">a</span>:<span class="number">900</span>]</span><br><span class="line">    <span class="comment">//第二种写法：props值为布尔值，布尔值为true,则把路由收到的所有params参数通过props传给Detail:组件</span></span><br><span class="line">    /<span class="attr">props</span>:<span class="literal">true</span></span><br><span class="line">    <span class="comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过propst传给Detail组件</span></span><br><span class="line">    <span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">id</span>:route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">title</span>:route.<span class="property">query</span>.<span class="property">title</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-lt-router-link的replace属性"><a href="#8-lt-router-link的replace属性" class="headerlink" title="8.&lt;router-link的replace属性"></a>8.<code>&lt;router-link</code>的replace属性</h3><ol><li><p>作用：控制路由调好钻时操作浏览器历史记录的模式</p></li><li><p>浏览器的历史记录有两种写入方式</p><ul><li>push，追加历史记录（默认）</li><li>replace，替换当前记录</li></ul></li><li><p>如何开启replace模式</p><p><code>&lt;router-link repalce&gt;News&lt;/router-link&gt;</code>OR<code>&lt;router-link :repalce=&quot;true&quot;&gt;News&lt;/router-link&gt;</code></p></li></ol><h3 id="9-编程式路由导航"><a href="#9-编程式路由导航" class="headerlink" title="9.编程式路由导航"></a>9.编程式路由导航</h3><ol><li><p>作用：不借助<code>&lt;router-link&gt;</code>实现路由跳转，让路由跳转更加灵活（因为会转化成<code>&lt;a&gt;</code>呀）</p></li><li><p>具体编码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;<span class="comment">//按钮啥的</span></span><br><span class="line">    <span class="title function_">pushShow</span>(<span class="params">m</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;xiangqing&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">id</span>: m.<span class="property">id</span>,</span><br><span class="line">          <span class="attr">title</span>: m.<span class="property">title</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">replaceShow</span>(<span class="params">m</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;xiangqing&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">id</span>: m.<span class="property">id</span>,</span><br><span class="line">          <span class="attr">title</span>: m.<span class="property">title</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123; <span class="comment">//前进后退啥的</span></span><br><span class="line">    <span class="title function_">back</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">forward</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">//向前走n步</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(-<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure></li></ol><h3 id="10-缓存路由组件"><a href="#10-缓存路由组件" class="headerlink" title="10.缓存路由组件"></a>10.缓存路由组件</h3><ol><li><p>组件：让不展示的路由组件保持挂载，不被销毁</p></li><li><p>具体编码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;组件名&quot;&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="11-三个新的生命周期钩子"><a href="#11-三个新的生命周期钩子" class="headerlink" title="11.三个新的生命周期钩子"></a>11.三个新的生命周期钩子</h3><ol><li><p>作用：路由组件所独有的两个钩子，用于捕获有路由组件的激活状态</p></li><li><p>具体名字：</p><ol><li><code>activated</code>路由组件被激活时触发</li><li><code>deactivated</code>路由组件失活时触发</li></ol></li><li><p>还有一个叫<code>nextTick</code></p></li></ol><h3 id="12-路由守卫"><a href="#12-路由守卫" class="headerlink" title="12.路由守卫"></a>12.路由守卫</h3><ol><li><p>作用：对路由进行权限控制</p></li><li><p>分类：全局守卫、独享守卫、组件内守卫</p></li><li><p>全局守卫：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局 前置 路由守卫：初始化时/每一次路由切换之前调用</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;<span class="comment">//判断是否需要鉴权</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;当前用户无权限查看&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局 后置 路由守卫：初始化时被调用/每次路由切换之后被调用</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span> || <span class="string">&#x27;哈哈哈&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>独享守卫：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;<span class="comment">//判断是否需要鉴权</span></span><br><span class="line">         <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">               <span class="title function_">next</span>()</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="title function_">alert</span>(<span class="string">&#x27;当前用户无权限查看&#x27;</span>)</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>组件内守卫：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入守卫-组件路由守卫，通过路由规则，进入该组件时被调用</span></span><br><span class="line">    <span class="title function_">beforeRouteEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">idAuth</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">alert</span>(<span class="string">&#x27;该用户无权访问&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">//离开守卫-组件路由守卫，通过路由规则，离开该组件时被调用</span></span><br><span class="line">    <span class="title function_">beforeRouteLeave</span>(<span class="params">to,<span class="keyword">from</span>,next</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="13-路由器的两种工作模式"><a href="#13-路由器的两种工作模式" class="headerlink" title="13.路由器的两种工作模式"></a>13.路由器的两种工作模式</h3><ol><li>对于一个url来说，什么是hash值？——#及其后面的内容就是hash值</li><li>hash值不包括在http请求中，即：hash值不会带给服务器</li><li>hash模式：<ol><li>地址中永远带着#号，不美观</li><li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法</li><li>兼容性较好</li></ol></li><li>history模式：<ol><li>地址干净，美观</li><li>兼容性和hash模式相比略差</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务器404的问题</li></ol></li></ol><h2 id="Vue-UI组件库"><a href="#Vue-UI组件库" class="headerlink" title="Vue UI组件库"></a>Vue UI组件库</h2><h4 id="移动端常用UI组件库"><a href="#移动端常用UI组件库" class="headerlink" title="移动端常用UI组件库"></a>移动端常用UI组件库</h4><ol><li>Vant</li><li>Cube UI</li><li>Mint UI</li></ol><h4 id="PC端常用UI组件库"><a href="#PC端常用UI组件库" class="headerlink" title="PC端常用UI组件库"></a>PC端常用UI组件库</h4><ol><li>Element UI</li><li>IView UI</li></ol>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
            <tag> Vue-cli </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android基础</title>
      <link href="/post/86b8.html"/>
      <url>/post/86b8.html</url>
      
        <content type="html"><![CDATA[<h1 id="Android基础"><a href="#Android基础" class="headerlink" title="Android基础"></a>Android基础</h1><h2 id="基础中的基础"><a href="#基础中的基础" class="headerlink" title="基础中的基础"></a>基础中的基础</h2><h3 id="安卓系统四层结构"><a href="#安卓系统四层结构" class="headerlink" title="安卓系统四层结构"></a>安卓系统四层结构</h3><ul><li>Linux内核层</li><li>系统运行库层</li><li>应用程序库层</li><li>应用程序层</li></ul><p><img src="../images/Android%E5%9F%BA%E7%A1%80/uTools_1677462650078.png" alt="uTools_1677462650078"></p><h3 id="安卓四种组件"><a href="#安卓四种组件" class="headerlink" title="安卓四种组件"></a>安卓四种组件</h3><p><img src="../images/Android%E5%9F%BA%E7%A1%80/image-20230227095553850.png" alt="image-20230227095553850"></p><h3 id="安装-配置"><a href="#安装-配置" class="headerlink" title="安装/配置"></a>安装/配置</h3><ol><li><p>安装Android Studio，安装SDK，新建空项目，注意存储配置，熟悉一下。（基地的网好差）</p></li><li><p>关于界面预览问题</p><ul><li><p>本地模拟器</p></li><li><p>代理模拟器</p></li><li><p>真机连一连（悲惨鸿蒙）</p></li></ul></li><li><p>下了个模拟器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.\adb devices<span class="comment"># 查看配置</span></span><br><span class="line">.\adb <span class="built_in">kill</span><span class="literal">-server</span><span class="comment"># 关闭服务</span></span><br><span class="line">.\adb <span class="built_in">start-server</span><span class="comment"># 开启服务</span></span><br></pre></td></tr></table></figure><p>项目运行</p><p><img src="../images/Android%E5%9F%BA%E7%A1%80/image-20230227170255525.png" alt="image-20230227170255525"></p></li><li><p>耐心等待…</p></li></ol><h3 id="使用记录"><a href="#使用记录" class="headerlink" title="使用记录"></a>使用记录</h3>]]></content>
      
      
      <categories>
          
          <category> 跨平台开发 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>项目开发-Github工作流</title>
      <link href="/post/3150.html"/>
      <url>/post/3150.html</url>
      
        <content type="html"><![CDATA[<h1 id="GitHub工作流学习实践总结"><a href="#GitHub工作流学习实践总结" class="headerlink" title="GitHub工作流学习实践总结"></a>GitHub工作流学习实践总结</h1><p>这个工作流是跟着一超牛up主学的，比较规范。</p><p>但是为啥俺文档写出来别人看不懂啊喂！！</p><h2 id="fork"><a href="#fork" class="headerlink" title="fork"></a>fork</h2><blockquote><p>fork-分叉，是在github账户上完成的。</p><p>fork一个存储库，会在我们的GitHub账户上创建一个原始存储库的副本。</p><p>对分叉存储库所做的更改，可以通过一个pull请求与原始存储库合并。</p><p>fork只包含存储库的一个单独副本，不涉及命令。</p><p>这是管理代码的一个超牛手段啦！</p></blockquote><h3 id="必要性"><a href="#必要性" class="headerlink" title="必要性"></a>必要性</h3><ul><li>一些项目仓库在安全设置上会禁止直接在主仓库直接push——在参与开源项目代码贡献时，通常不会直接获得源代码仓库的Developer权限。这点和一般公司开发不太一样，公司一般都是设置在分支上是否有Push权限。</li><li>自己修改一些东西不会影响到主仓库，而且比较安全合理，很巧妙啊。</li></ul><h3 id="相关操作"><a href="#相关操作" class="headerlink" title="相关操作"></a>相关操作</h3><h4 id="fork一下"><a href="#fork一下" class="headerlink" title="fork一下"></a>fork一下</h4><p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/image-20230218103127303.png" alt="image-20230218103127303"></p><p>这样子就在自己账号下生成分仓库力！</p><p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/image-20230218103208307.png" alt="image-20230218103208307"></p><h4 id="同步一下"><a href="#同步一下" class="headerlink" title="同步一下"></a>同步一下</h4><blockquote><p>查了很多地方，百度搜出来的最不靠谱，官方文档最靠谱↓</p><p><a href="https://docs.github.com/zh/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork">https://docs.github.com/zh/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork</a></p></blockquote><h5 id="在WebUI同步分叉分支"><a href="#在WebUI同步分叉分支" class="headerlink" title="在WebUI同步分叉分支"></a>在WebUI同步分叉分支</h5><ol><li><p>在 GitHub 上，导航到您想要与上游版本库同步的复刻仓库主页。</p></li><li><p>选择“同步分支”下拉菜单。</p><p><img src="https://docs.github.com/assets/cb-18605/images/help/repository/sync-fork-dropdown.png" alt="突出显示“同步分支”下拉菜单"></p></li><li><p>查看有关上游存储库提交的详细信息，然后单击“更新分支”。<img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/update-branch-button.png" alt="突出显示“更新分支”按钮的同步分支模式"></p></li></ol><p>如果上游仓库的更改导致冲突，GitHub 将提示您创建拉取请求以解决冲突。</p><h5 id="从命令行同步分叉分支"><a href="#从命令行同步分叉分支" class="headerlink" title="从命令行同步分叉分支"></a>从命令行同步分叉分支</h5><ol><li><p>打开Git Bash。</p></li><li><p>将当前工作目录更改为您的本地仓库。</p></li><li><p>从上游仓库获取分支及其各自的提交。 对 <code>BRANCHNAME</code> 的提交将保存在本地分支 <code>upstream/BRANCHNAME</code> 中。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git fetch upstream</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Counting objects: 75, <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Compressing objects: 100% (53/53), <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Total 62 (delta 27), reused 44 (delta 9)</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Unpacking objects: 100% (62/62), <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> * [new branch]      main     -&gt; upstream/main</span></span><br></pre></td></tr></table></figure></li><li><p>签出分支的本地默认分支，在本例中，我们使用 <code>main</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Switched to branch <span class="string">&#x27;main&#x27;</span></span></span><br></pre></td></tr></table></figure></li><li><p>将上游默认分支（在本例中为 <code>upstream/main</code>）的更改合并到本地默认分支中。 这会使复刻的默认分支与上游仓库同步，而不会丢失本地更改。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge upstream/main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Updating a422352..5fdff0f</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Fast-forward</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README                    |    9 -------</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README.md                 |    7 ++++++</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> 2 files changed, 7 insertions(+), 9 deletions(-)</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> delete mode 100644 README</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> create mode 100644 README.md</span></span><br></pre></td></tr></table></figure><p>如果本地分支没有任何唯一提交，Git 将执行快速转发。 有关详细信息，请参阅 Git 文档中的<a href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">基本分支和合并</a>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge upstream/main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Updating 34e91da..16c56ad</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Fast-forward</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README.md                 |    5 +++--</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> 1 file changed, 3 insertions(+), 2 deletions(-)</span></span><br></pre></td></tr></table></figure><p>如果本地分支具有唯一提交，则可能需要解决冲突。</p></li></ol><h4 id="继续开发"><a href="#继续开发" class="headerlink" title="继续开发"></a>继续开发</h4><p>这样子就能保证项目基本开发线性啦</p><h2 id="pr基本流程"><a href="#pr基本流程" class="headerlink" title="pr基本流程"></a>pr基本流程</h2><p>在for不fork的基础上↓</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#！基本操作：</span></span><br><span class="line"><span class="variable">$</span> git clone<span class="comment">#搞下来</span></span><br><span class="line"><span class="variable">$</span> git checkout <span class="literal">-b</span> 分支名  <span class="comment">#创建分支并在该分支下工作（例:git checkout mybranch）</span></span><br><span class="line"><span class="variable">$</span> git <span class="built_in">diff</span><span class="comment">#查看自己改动了啥</span></span><br><span class="line"><span class="variable">$</span> git add <span class="literal">--all</span><span class="comment">#添加等待commit</span></span><br><span class="line"><span class="variable">$</span> git commit <span class="literal">-m</span> <span class="string">&quot;XXX&quot;</span>   <span class="comment">#放进local-git里（“附加信息”，一般就&quot;update from XXX&quot;）</span></span><br><span class="line"><span class="variable">$</span> git push origin raliz<span class="comment">#放github里</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#！有改动：</span></span><br><span class="line"><span class="variable">$</span> git checkout main<span class="comment">#先切换到主分支</span></span><br><span class="line"><span class="variable">$</span> git pull origin main<span class="comment">#把远端main同步到local_main中</span></span><br><span class="line"><span class="variable">$</span> git checkout raliz<span class="comment">#切换到自己的分支</span></span><br><span class="line"><span class="variable">$</span> git rebase main<span class="comment">#拿到main中最新的修改</span></span><br><span class="line"><span class="comment"># 手动解决rebase conflict</span></span><br><span class="line"><span class="variable">$</span> git commit <span class="literal">-m</span> <span class="string">&quot;msg&quot;</span></span><br><span class="line"><span class="variable">$</span> git rebase cotinue</span><br><span class="line"><span class="comment"># 可能会用到上面这些</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$</span> git push <span class="operator">-f</span> origin 分支名  <span class="comment">#强行push</span></span><br><span class="line"><span class="comment"># 去pull request</span></span><br><span class="line"><span class="comment"># 等管理squash and merge，把所有改变合并成一个改变</span></span><br><span class="line"><span class="comment"># 等管理delete分支</span></span><br><span class="line"><span class="comment"># 等待远端更新完毕</span></span><br><span class="line"><span class="variable">$</span> git checkout main<span class="comment">#切换到主分支</span></span><br><span class="line"><span class="variable">$</span> git branch <span class="literal">-D</span> 分支名  <span class="comment">#删除自己创建的分支</span></span><br><span class="line"><span class="variable">$</span> git pull origin main<span class="comment">#拉取船新版本</span></span><br></pre></td></tr></table></figure><p>牛牛！！</p><h2 id="commite-message"><a href="#commite-message" class="headerlink" title="commite message"></a>commite message</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">type</span>&gt;: &lt;subject&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span>(必须)——用于说明git commit的类别，只允许使用下面的标识。</span><br><span class="line">feat：新功能（feature）。</span><br><span class="line">fix/to：修复bug，可以是QA发现的BUG，也可以是研发自己发现的BUG。</span><br><span class="line">fix：产生diff并自动修复此问题。适合于一次提交直接修复问题</span><br><span class="line">to：只产生diff不自动修复此问题。适合于多次提交。最终修复问题提交时使用fix</span><br><span class="line">docs：文档（documentation）。</span><br><span class="line">style：格式（不影响代码运行的变动）。</span><br><span class="line">refactor：重构（即不是新增功能，也不是修改bug的代码变动）。</span><br><span class="line">perf：优化相关，比如提升性能、体验。</span><br><span class="line">test：增加测试。</span><br><span class="line">chore：构建过程或辅助工具的变动。</span><br><span class="line">revert：回滚到上一个版本。</span><br><span class="line">merge：代码合并。</span><br><span class="line">sync：同步主线或分支的Bug。</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">feat: 添加 button 组件</span><br><span class="line">fix: 修复 button 组件 circle 样式</span><br><span class="line">refactor(docs): 添加input文档</span><br></pre></td></tr></table></figure><h2 id="常用命令行"><a href="#常用命令行" class="headerlink" title="常用命令行"></a>常用命令行</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> git branch<span class="comment">#查看本地所有分支</span></span><br><span class="line"><span class="variable">$</span> git branch <span class="literal">-m</span> oldName newName<span class="comment">#更改分支名</span></span><br><span class="line"><span class="variable">$</span> git remote <span class="literal">-v</span><span class="comment">#查看本地关联地址</span></span><br><span class="line"><span class="variable">$</span> git remote remove origin<span class="comment">#删除现在关远程仓库</span></span><br><span class="line"><span class="variable">$</span> git remote add origin XXX<span class="comment">#添加新的远程仓库</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$</span> git rebase <span class="literal">--abort</span><span class="comment">#取消rebase</span></span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>提交pr过程中要注意这些问题，不然自己都会嫌弃自己。</p><ul><li>分支名字尽量用新增的功能或者修复了什么 bug 命名</li><li>干一点就提交一点，不然要过度rebase</li></ul>]]></content>
      
      
      <categories>
          
          <category> 版本控制 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP跟学笔记</title>
      <link href="/post/7743.html"/>
      <url>/post/7743.html</url>
      
        <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><p>正经人谁学HTTP啊</p><h2 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h2><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094221823.png" alt="image-20230211094221823"></p><h3 id="什么是HTTP？"><a href="#什么是HTTP？" class="headerlink" title="什么是HTTP？"></a>什么是HTTP？</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094241402.png" alt="image-20230211094241402"></p><h2 id="协议分析"><a href="#协议分析" class="headerlink" title="协议分析"></a>协议分析</h2><h3 id="变化"><a href="#变化" class="headerlink" title="变化"></a>变化</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094253459.png" alt="image-20230211094253459"></p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>以HTTP/1.1为例：</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094305325.png" alt="image-20230211094305325"></p><h3 id="1-Method"><a href="#1-Method" class="headerlink" title="1.Method"></a>1.Method</h3><h4 id="常见"><a href="#常见" class="headerlink" title="常见"></a>常见</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094316160.png" alt="image-20230211094316160"></p><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul><li><p>Safe安全：不会修改服务器的数据的方法</p><blockquote><p>GET HEAD OPTIONS</p></blockquote></li><li><p>Indempotene幂等：同样的请求被执行一次与连续执行多次的效果是一样的，服务器的状态也是一样的，所有的safe的方法都是幂等的</p><blockquote><p>GET HEAD OPTIONS PUT DELETE</p></blockquote></li></ul><h3 id="2-状态码"><a href="#2-状态码" class="headerlink" title="2.状态码"></a>2.状态码</h3><h4 id="常见-1"><a href="#常见-1" class="headerlink" title="常见"></a>常见</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094325151.png" alt="image-20230211094325151"></p><h4 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h4><p>Representational State Transfer（REST）ful API</p><p>一种API设计风格</p><h5 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h5><ol><li>每个URI代表一种资源</li><li>客户端和服务器之间，传递这种资源的某种表现层</li><li>客户端通过HTTP method，对服务器端资源进行操作，实现“表现层状态转化”</li></ol><h5 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h5><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094336678.png" alt="image-20230211094336678"></p><h3 id="3-请求头"><a href="#3-请求头" class="headerlink" title="3.请求头"></a>3.请求头</h3><h4 id="常用请求头"><a href="#常用请求头" class="headerlink" title="常用请求头"></a>常用请求头</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094405977.png" alt="image-20230211094405977"></p><h3 id="4-缓存"><a href="#4-缓存" class="headerlink" title="4.缓存"></a>4.缓存</h3><h4 id="强缓存-协商缓存"><a href="#强缓存-协商缓存" class="headerlink" title="强缓存/协商缓存"></a>强缓存/协商缓存</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094419297.png" alt="image-20230211094419297"></p><h4 id="优先级-流程"><a href="#优先级-流程" class="headerlink" title="优先级/流程"></a>优先级/流程</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094428650.png" alt="image-20230211094428650"></p><h3 id="5-cookie"><a href="#5-cookie" class="headerlink" title="5.cookie"></a>5.cookie</h3><h4 id="Set-Cookie-response"><a href="#Set-Cookie-response" class="headerlink" title="Set-Cookie -response"></a>Set-Cookie -response</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094442637.png" alt="image-20230211094442637"></p><h3 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP/2"></a>HTTP/2</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>更快更稳更简单</p><h4 id="一些名词"><a href="#一些名词" class="headerlink" title="一些名词"></a>一些名词</h4><ul><li> 帧：HTTP/2通信的最小单位，每个帧都包含帧头，至少也会标识出当前帧所属的数据流</li><li>二进制 极大提高效率</li><li>压缩算法 极大提高效率</li><li>消息：与逻辑请求或响应消息对应的完整的一系列帧。</li><li>数据流：已建立的连接内的双向字节流，可以承载一条或多条消息。</li><li>交错发送，接收方重组织</li></ul><h4 id="一些特性"><a href="#一些特性" class="headerlink" title="一些特性"></a>一些特性</h4><ul><li>HTTP/2连接都是永久的，而且仅需要每个来源一个连接</li><li>流控制：阻止发送方向接收方发送大量数据的机制</li><li>服务器推送：服务器主动推送一些信息（比如一些静态资源，但是要根据实际情况，不要盲目怼进去）</li></ul><h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><ul><li>HTTPS Hypertext Transfer Protocol Secure</li><li>经过TSL/SSL加密</li></ul><h4 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h4><ul><li> 对称加密：加密和解密都是使用同一个密钥</li><li>非对称加密，加密和解密需要使用两个不同的密钥：公钥(public key)和私钥(private key)</li><li>为了达到更高安全性——两者混用↓</li></ul><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094458634.png" alt="image-20230211094458634"></p><h2 id="常见场景"><a href="#常见场景" class="headerlink" title="常见场景"></a>常见场景</h2><h3 id="静态资源"><a href="#静态资源" class="headerlink" title="静态资源"></a>静态资源</h3><p>好玩吧</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094458634-1676694486063-29.png" alt="image-20230211094458634"></p><h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211104616306.png" alt="image-20230211104616306"></p><h4 id="OPTIONS引出"><a href="#OPTIONS引出" class="headerlink" title="OPTIONS引出"></a>OPTIONS引出</h4><ul><li>跨域问题-cross-origin</li><li>需要same-origin</li></ul><p>https:       //<a href="http://www.example.com/">www.example.com</a>     :443<br>scheme     host name                    port</p><h4 id="如何解决跨域问题？"><a href="#如何解决跨域问题？" class="headerlink" title="如何解决跨域问题？"></a>如何解决跨域问题？</h4><ol><li><p>CORS    Cross-Origin Resource Sharing</p><ul><li><p>预请求：获知服务端是否允许该跨源请求（复杂请求）</p></li><li><p>相关协议头<br>Access-Control-Allow-Origin<br>Access-Control-Expose-Headers<br>Access-Control-Max-Age<br>Access-Control-Allow-Credentials<br>Access-Control-Allow-Methods<br>Access-Control-Allow-Headers<br>Access-Control-Request-Method<br>Access-Control-Request-Headers<br>Origin</p></li></ul></li><li><p>代理服务器</p><ul><li><p>同源策略是浏览器的安全策略，不是HTTP的</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211105054923.png" alt="image-20230211105054923"></p></li></ul></li><li><p>Iframe</p><ul><li>诸多不便</li></ul></li></ol><h4 id="携带信息"><a href="#携带信息" class="headerlink" title="携带信息"></a>携带信息</h4><ol><li>向什么地址做了什么动作？（栗子）<ul><li>使用POST方法</li><li>目标域名https:/sso.toutiao.com</li><li>目标path/quick_login,/v2/</li></ul></li><li>携带了哪些信息，返回了哪些信息？<ul><li>携带信息<pre><code>Post body,数据格式为form希望获取的数据格式为json已有的cookie</code></pre></li><li>返回信息<pre><code>数据格式json种cookie的信息</code></pre></li></ul></li></ol><h4 id="鉴权"><a href="#鉴权" class="headerlink" title="鉴权"></a>鉴权</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211105550005.png" alt="image-20230211105550005"></p><h4 id="SSO单点登录"><a href="#SSO单点登录" class="headerlink" title="SSO单点登录"></a>SSO单点登录</h4><p>单点登录（Single Sign-On，缩写为 SSO）是一种用户认证方式，使用一个凭证（如用户名和密码）即可登录多个相关系统。这样，用户只需要登录一次就可以在多个系统中访问所需的资源，而不需要在每个系统上进行独立登录。</p><p>单点登录通常用于组织内部的系统，如企业内部的人力资源系统、财务系统等。它的好处在于简化了用户登录过程，提高了用户体验，并且提高了安全性。</p><h2 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a>实际应用</h2><h3 id="XHR"><a href="#XHR" class="headerlink" title="XHR"></a>XHR</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153030107.png" alt="image-20230211153030107"></p><h3 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153051629.png" alt="image-20230211153051629"></p><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><h4 id="HTTP-HTTPS"><a href="#HTTP-HTTPS" class="headerlink" title="HTTP/HTTPS"></a>HTTP/HTTPS</h4><ul><li>默认模块，无需安装其他依赖</li><li>功能有限/不是十分友好</li></ul><h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul><li>支持浏览器、nodejs环境</li><li>丰富的拦截器</li></ul><h3 id="网络优化"><a href="#网络优化" class="headerlink" title="网络优化"></a>网络优化</h3><h4 id="快"><a href="#快" class="headerlink" title="快"></a>快</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153308004.png" alt="image-20230211153308004"></p><h4 id="稳"><a href="#稳" class="headerlink" title="稳"></a>稳</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153414258.png" alt="image-20230211153414258"></p><ul><li>重试是保证稳定的有效手段，但是要防止加剧恶劣情况</li><li>缓存合理使用，作为最后的一道防线</li></ul><h2 id="了解更多"><a href="#了解更多" class="headerlink" title="了解更多"></a>了解更多</h2><h3 id="通信方式"><a href="#通信方式" class="headerlink" title="通信方式"></a>通信方式</h3><h4 id="WEbSocket"><a href="#WEbSocket" class="headerlink" title="WEbSocket"></a>WEbSocket</h4><ul><li>浏览器与服务器进行全双工通讯的网络技术</li><li>典型场景：实时性要求高，例如聊天室</li><li>URL使用ws://或wSs:/等开头</li></ul><h3 id="传输层UDP"><a href="#传输层UDP" class="headerlink" title="传输层UDP"></a>传输层UDP</h3><h4 id="QUIC（目前不适合大规模应用）"><a href="#QUIC（目前不适合大规模应用）" class="headerlink" title="QUIC（目前不适合大规模应用）"></a>QUIC（目前不适合大规模应用）</h4><ul><li>QUIC:Quick UDP Internet Connection</li><li>O-RTT建联（首次建联除外）。</li><li>类似TCP的可靠传输。</li><li>类似TLS的加密传输，支持完美前向安全。</li><li>用户空间的拥塞控制，最新的BBR算法。</li><li>支持h2的基于流的多路复用，但没有TCP的HOL问题。</li><li>前向纠错FEC。</li><li>类似MPTCP的Connection migration。</li></ul><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153755036.png" alt="image-20230211153755036"></p>]]></content>
      
      
      <categories>
          
          <category> 网络通信 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青训营 </tag>
            
            <tag> HTTP协议 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TS跟学笔记</title>
      <link href="/post/bd24.html"/>
      <url>/post/bd24.html</url>
      
        <content type="html"><![CDATA[<h1 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h1><p>正经人谁学TS啊</p><h2 id="发展历史"><a href="#发展历史" class="headerlink" title="发展历史"></a>发展历史</h2><blockquote><ul><li>2012-10:微软发布了TypeScript第-个版本(0.8)</li><li>2014-10:Angular2发布了基于TypeScript的2.0版本</li><li>2015-04:微软发布了Visual Studio Code</li><li>2016-05:@types/react?发布，TypeScript可开发React</li><li>2020-09:ue发布了3.0版本，官方支持TypeScript</li><li>2021-11:v4.5版本发布</li></ul></blockquote><h2 id="为什么TS"><a href="#为什么TS" class="headerlink" title="为什么TS"></a>为什么TS</h2><h3 id="和JS的比较"><a href="#和JS的比较" class="headerlink" title="和JS的比较"></a>和JS的比较</h3><table><thead><tr><th>JS</th><th>TS</th></tr></thead><tbody><tr><td>动态类型</td><td>静态类型</td></tr><tr><td>弱类型语言</td><td>弱类型语言</td></tr></tbody></table><h4 id="动态类型"><a href="#动态类型" class="headerlink" title="动态类型"></a>动态类型</h4><p>在执行阶段才确定类型的匹配。编译在执行时</p><h4 id="静态类型"><a href="#静态类型" class="headerlink" title="静态类型"></a>静态类型</h4><p>提前确定类型匹配。编译在执行前</p><h4 id="弱类型语言"><a href="#弱类型语言" class="headerlink" title="弱类型语言"></a>弱类型语言</h4><p>数据类型可以被忽略的语言=&gt;一个变量可以赋不同的数据类型的值。</p><h4 id="强类型语言"><a href="#强类型语言" class="headerlink" title="强类型语言"></a>强类型语言</h4><p>强制数据类型定义的语言=&gt;一个变量被指定了某个数据类型，如果不经过强制转换，永远是这个类型=&gt;一个类型的变量不会被当成另一种类型处理，（强类型定义语言是类型安全的语言）</p><h4 id="TS优势"><a href="#TS优势" class="headerlink" title="TS优势"></a>TS优势</h4><h5 id="静态类型-1"><a href="#静态类型-1" class="headerlink" title="静态类型"></a>静态类型</h5><ul><li>可读性增强：基于语法解析TSDoc，ide增强</li><li>可维护性增强：在编译阶段暴露大部分错误=&gt;多人合作的大型项目中获得更好的稳定性和开发效率</li></ul><h5 id="JS的超集"><a href="#JS的超集" class="headerlink" title="JS的超集"></a>JS的超集</h5><ul><li>包含于兼容所有的JS特性，支持共存</li><li>支持渐进式引入的升级</li></ul><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="基础数据类型"><a href="#基础数据类型" class="headerlink" title="基础数据类型"></a>基础数据类型</h3><p>JS</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> q = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> w = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> e = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> r = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> t = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">q</span>: <span class="built_in">string</span> = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">w</span>: <span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">e</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">r</span>: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line">ocnst <span class="attr">t</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><h3 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h3><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">bytedancer</span>: <span class="title class_">IBytedancer</span> = &#123;</span><br><span class="line">    <span class="attr">jobId</span>: <span class="number">9303245</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Lin&#x27;</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">28</span>,</span><br><span class="line">    <span class="attr">hobby</span>: swimming<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*自定义对象类型：I开头表示是个类型，与普通对象/类的作区分*/</span></span><br><span class="line"><span class="string">interface IBytedancer &#123;</span></span><br><span class="line"><span class="string">    /*只读属性：约束属性不可在对象初始化外赋值*/</span></span><br><span class="line"><span class="string">    readonly jobId: number;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    name: string;</span></span><br><span class="line"><span class="string">    sex: &#x27;</span>man<span class="string">&#x27;|&#x27;</span>woman<span class="string">&#x27;|&#x27;</span>other<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">    age: number;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    /*可选属性：定义该属性可以不存在*/</span></span><br><span class="line"><span class="string">    hobby?: string;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    /*任意属性：约束所有对象属性都必须是该属性的子类型*/</span></span><br><span class="line"><span class="string">    [key: string]: any;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*报错：无法分配到&quot;jobId”,因为它是只读属性*/</span></span><br><span class="line"><span class="string">bytedancer.jobId = 12345;</span></span><br><span class="line"><span class="string">/*成功：任意属性标注下可以添加任意属性*/</span></span><br><span class="line"><span class="string">bytedancer.plateform = &#x27;</span>data<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">/*报错：缺少属性&quot;name&quot;,hobby可缺省*/</span></span><br><span class="line"><span class="string">const bytedancer2: IBytedancer = &#123;</span></span><br><span class="line"><span class="string">    jobId: 89757,</span></span><br><span class="line"><span class="string">    sex: &#x27;</span>woman<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    age: 18,</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h3><p>JS</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mult</span> = (<span class="params">x, y</span>) =&gt; x * y;</span><br></pre></td></tr></table></figure><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y;</span><br><span class="line">↓更加清晰</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMult</span> &#123;</span><br><span class="line">    (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="title class_">IMult</span> = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y;</span><br></pre></td></tr></table></figure><h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*对getDate函数进行重载，timestamp为可缺省参数*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDate</span>(<span class="params"><span class="keyword">type</span>:<span class="string">&#x27;string&#x27;</span>,timestamp?:<span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line">↓</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IGetDate</span> &#123;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;string&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="built_in">string</span>;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;date&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="title class_">Date</span>;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;string&#x27;</span>|<span class="string">&#x27;date&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="title class_">Date</span> <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 报错，因为没有给参数声明类型 */</span></span><br><span class="line"><span class="comment">/*不能将类型“(type:any,timestamp:any)=&gt;string|Date&quot;分配给类型“IGetDate”。</span></span><br><span class="line"><span class="comment">不能将类型“string|Date&quot;分配给类型“string”。</span></span><br><span class="line"><span class="comment">不能将类型“Date”分配给类型“string”。ts(322) */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">getDate2</span>:<span class="title class_">IGetDate</span> = <span class="function">(<span class="params"><span class="keyword">type</span>, timestamp</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">type</span> ===<span class="string">&#x27;string&#x27;</span> ? date.<span class="title function_">toLocalestring</span>():date;</span><br><span class="line">&#125;</span><br><span class="line">也就是说，函数里面的函数的类型范围要小于函数本身所在的类型范围。</span><br></pre></td></tr></table></figure><h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*「类型+方括号」表示-常用*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr1</span> = <span class="built_in">number</span>[];</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr</span> = <span class="built_in">string</span>[];</span><br><span class="line"><span class="comment">/*泛型表示-常用,第三个是对象的简写形式*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr2</span> = <span class="title class_">Array</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,<span class="built_in">number</span>&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*元祖表示*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr3</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">string</span>, <span class="built_in">string</span>];</span><br><span class="line"><span class="comment">/*接口表示*/</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IArr4</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">number</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr1</span>: <span class="title class_">IArr1</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr2</span>: <span class="title class_">IArr2</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr3</span>: <span class="title class_">IArr3</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr4</span>: <span class="title class_">IArr4</span> [<span class="string">&#x27;string&#x27;</span>,<span class="function">() =&gt;</span> <span class="literal">null</span>, &#123;&#125;, []];</span><br></pre></td></tr></table></figure><h3 id="TS补充类型"><a href="#TS补充类型" class="headerlink" title="TS补充类型"></a>TS补充类型</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*空类型，表示无赋值*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IEmptyFunction</span> = <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"><span class="comment">/*任意类型，是所有类型的子类型*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IAnyType</span> = <span class="built_in">any</span>;</span><br><span class="line"><span class="comment">/*枚举类型：支持枚举值到枚举名的正、反向映射*/</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">EnumExample</span> &#123;</span><br><span class="line">    add = <span class="string">&#x27;+&#x27;</span>,</span><br><span class="line">mult = <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;add&#x27;</span>] === <span class="string">&#x27;+&#x27;</span>;</span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;*&#x27;</span>] === <span class="string">&#x27;mult&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">ECorlor</span> &#123; <span class="title class_">Mon</span>, <span class="title class_">Tue</span>, <span class="title class_">Wed</span>, <span class="title class_">Thu</span>, <span class="title class_">Fri</span>, <span class="title class_">Sat</span>, <span class="title class_">Sun</span> &#125;;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="string">&#x27;Mon&#x27;</span>] === <span class="number">0</span>;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="number">0</span>] === <span class="string">&#x27;Mon&#x27;</span>;</span><br><span class="line"><span class="comment">/* 泛型 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">INumArr</span> = <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="TS泛型"><a href="#TS泛型" class="headerlink" title="TS泛型"></a>TS泛型</h3><p>特征：不预先指定类型的时候，也就是在使用某类型时，才确定该类型。</p><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRepeatArr</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span> = <span class="function">(<span class="params">target: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>[];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不预先指定具体的类型，而在使用的时候再指定类型的一种特性 */</span></span><br><span class="line"><span class="comment">/* 函数中泛型：&lt;T&gt;函数定义 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArrR</span> = &lt;T&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 类，泛型接口，Object中：类型名&lt;T&gt; */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 泛型接口 &amp; 多泛型 */</span></span><br><span class="line"><span class="keyword">interface</span> IX&lt;T,U&gt; &#123;</span><br><span class="line">    <span class="attr">key</span>: T;</span><br><span class="line">    <span class="attr">val</span>: U;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 泛型类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IMan</span>&lt;T&gt; &#123;</span><br><span class="line"><span class="attr">instance</span>: T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 泛型别名 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ITypeArr</span>&lt;T&gt; = <span class="title class_">Array</span>&lt;T&gt;;</span><br></pre></td></tr></table></figure><h4 id="有点高级的语法"><a href="#有点高级的语法" class="headerlink" title="有点高级的语法"></a>有点高级的语法</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">函数的泛型</span><br><span class="line"><span class="comment">/* 泛型约束：限制泛型必须符合字符串 */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatStringArr</span> = &lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[]; </span><br><span class="line"><span class="keyword">const</span> <span class="attr">getstrArr</span>: <span class="title class_">IGetRepeatStringArr</span> = <span class="function"><span class="params">target</span> =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line"><span class="comment">/*报错：类型“number&quot;的参数不能赋给类型“string”的参数*/</span></span><br><span class="line"><span class="title function_">getstrArr</span>(<span class="number">123</span>);</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">类型别名的泛型</span><br><span class="line"><span class="comment">/*泛型参数默认类型*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span>&lt;T = <span class="built_in">number</span>&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">getRepeatArr</span>: <span class="title class_">IGetRepeatArr</span> target = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line"><span class="comment">/*报错：类型“string”的参数不能赋给类型“number&quot;的参数*/</span></span><br><span class="line"><span class="title function_">getRepeatArr</span>(<span class="string">&#x27;123&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="类型别名-amp-类型断言"><a href="#类型别名-amp-类型断言" class="headerlink" title="类型别名&amp;类型断言"></a>类型别名&amp;类型断言</h3><p>这段代码是使用TypeScript定义了一个函数”keyBy”，它用于将一个对象数组转换为一个键值对字典。</p><p>第1行：通过”type”关键字定义了一个别名类型”IObjArr”，它代表了一个对象数组，每个元素都是一个包含key属性与任意其他属性的对象。</p><p>第3行：声明了一个名为”keyBy”的函数，它参数为”objArr”，它类型为Array<T>，T继承自IObjArr，意味着objArr的元素必须是包含key属性的对象。</p><p>第5行：定义了一个名为result的变量，初始值是将objArr使用reduce方法转换为的对象，reduce方法会接收一个回调函数，对数组进行遍历，不断累积最终的结果。</p><p>第9行：使用”as”关键字断言result的类型为Record&lt;string,T&gt;，意味着result是一个以字符串为键，T类型为值的字典。</p><p>最后，返回result。</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*通过type关键字定义了I0 bjArrl的别名类型*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IObjArr</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">    [<span class="attr">objKey</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;&gt;</span><br><span class="line"><span class="keyword">function</span> keyBy&lt;T <span class="keyword">extends</span> <span class="title class_">IObjArr</span>&gt;(<span class="attr">objArr</span>: <span class="title class_">Array</span>&lt;T&gt;)&#123;</span><br><span class="line"><span class="comment">/*未指定类型时，result类型为&#123;&#125;*/</span></span><br><span class="line">    <span class="keyword">const</span> result = objArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">res, val, key</span>) =&gt;</span> &#123;</span><br><span class="line">    res[key] = val;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;,&#123;&#125;);</span><br><span class="line"><span class="comment">/*通过as关键字，断言result类型为正确类型*/</span></span><br><span class="line"><span class="keyword">return</span> result <span class="keyword">as</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,T&gt;;</span><br></pre></td></tr></table></figure><h3 id="字符串-数字-字面量"><a href="#字符串-数字-字面量" class="headerlink" title="字符串/数字 字面量"></a>字符串/数字 字面量</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*允许指定字符串/数字必须的固定值*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*IDomTag必须为html、body、div、span中的其一*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDomTag</span> = <span class="string">&#x27;html&#x27;</span> | <span class="string">&#x27;body&#x27;</span> | <span class="string">&#x27;div&#x27;</span> | <span class="string">&#x27;span&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*I0 ddNumber必须为1、3、5、7、9中的其一*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IOddNumber</span> = <span class="number">1</span> |<span class="number">3</span> | <span class="number">5</span> | <span class="number">7</span> | <span class="number">9</span>;</span><br></pre></td></tr></table></figure><h2 id="高级类型"><a href="#高级类型" class="headerlink" title="高级类型"></a>高级类型</h2><h3 id="来自chatGPT"><a href="#来自chatGPT" class="headerlink" title="来自chatGPT"></a>来自chatGPT</h3><p>一些常用类型：</p><ol><li>可读属性</li><li>可选属性</li><li>索引签名</li><li>字面量类型</li></ol><p>常用的 TypeScript 高级类型有：</p><ol><li><p>交叉类型 (Intersection Types)</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Role</span> &#123;</span><br><span class="line">  <span class="attr">role</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserWithRole</span> = <span class="title class_">User</span> &amp; <span class="title class_">Role</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userWithRole</span>: <span class="title class_">UserWithRole</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&#x27;admin&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>联合类型 (Union Types)</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">UserID</span> = <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userID</span>: <span class="title class_">UserID</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">anotherUserID</span>: <span class="title class_">UserID</span> = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误，因为true不是number或string</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">wrongUserID</span>: <span class="title class_">UserID</span> = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li><li><p>类型别名 (Type Aliases)</p></li><li><p>映射类型 (Mapped Types)</p></li><li><p>条件类型 (Conditional Types)</p></li><li><p>可辨识联合类型 (Discriminated Unions)</p></li><li><p>类型推断 (Type Inference)</p></li><li><p>类型保护 (Type Guards)</p></li><li><p>索引类型 (Index Types)</p></li><li><p>联合类型推断 (Union Type Inference)</p></li></ol><h3 id="1-联合-交叉类型"><a href="#1-联合-交叉类型" class="headerlink" title="1.联合/交叉类型"></a>1.联合/交叉类型</h3><h4 id="为书籍列表编写类型"><a href="#为书籍列表编写类型" class="headerlink" title="为书籍列表编写类型"></a>为书籍列表编写类型</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bookList = [&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xioaming&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    <span class="attr">range</span>: <span class="string">&#x27;2001-2021&#x27;</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoli&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;love&#x27;</span>,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p>↓类型声明繁琐，存在较多重复</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IHistoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IStoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;<span class="title class_">IHistoryBook</span> | <span class="title class_">IStoryBook</span>&gt;;</span><br></pre></td></tr></table></figure><h4 id="改进后"><a href="#改进后" class="headerlink" title="改进后"></a>改进后</h4><ul><li>联合类型：IA | IB    联合类型表示一个值可以是几种类型之一</li><li>交叉类型：IA &amp; IB   多种类型叠加到一起形成的一种类型，包含了所有所需的所有类型特性 </li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; (&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; | &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;)&gt;</span><br></pre></td></tr></table></figure><h3 id="2-类型保护-amp-类型守卫"><a href="#2-类型保护-amp-类型守卫" class="headerlink" title="2.类型保护&amp;类型守卫"></a>2.类型保护&amp;类型守卫</h3><h4 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IA &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">a2</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">interface</span> IB &#123;<span class="attr">b</span>: <span class="number">1</span>, <span class="attr">b1</span>: <span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">args: IA | IB</span>) &#123;</span><br><span class="line"><span class="comment">/*报错：类型“IA|IB”上不存在属性“a”。类型“IB”上不存在属性“a”。*/</span></span><br><span class="line"><span class="comment">/*结论：访问联合类型时，处于程序安全，仅能访问联合类型中的交集部分*/</span></span><br><span class="line">    <span class="keyword">if</span>(arg.<span class="property">a</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">a1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">b1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="改造"><a href="#改造" class="headerlink" title="改造"></a>改造</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IA a:1,al:2</span><br><span class="line"><span class="keyword">interface</span> IB b:1,b1:2</span><br><span class="line"></span><br><span class="line">/*类型守卫：定义一个函数，它的返回值是一个类型谓词，生效范围为子作用域*/</span><br><span class="line">function getIsIA(arg: IA | IB): arg is IA &#123;</span><br><span class="line">    <span class="comment">/*as-断言,当存在a时，断言为IA类型*/</span></span><br><span class="line">    <span class="keyword">return</span> !!(arg <span class="keyword">as</span> <span class="variable constant_">IA</span>).<span class="property">a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log2</span>(<span class="params">arg: IA | IB</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">getIsIA</span>(arg))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">a1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">b1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="实现函数logBook类型"><a href="#实现函数logBook类型" class="headerlink" title="实现函数logBook类型"></a>实现函数logBook类型</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数接受书本类型，并logger出相关特征</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logBook</span>(<span class="params">book: IBookItem</span>) &#123;</span><br><span class="line">    <span class="comment">// 联合类型 + 类型保护 = 自动类型判断</span></span><br><span class="line">    <span class="keyword">if</span>(book.<span class="property">type</span> === <span class="string">&#x27;history&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(book.<span class="property">range</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(book.<span class="property">theme</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-merge函数类型"><a href="#3-merge函数类型" class="headerlink" title="3.merge函数类型"></a>3.merge函数类型</h3><h4 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*实现merge函数类型</span></span><br><span class="line"><span class="comment">*要求sourceObj必须为targetObj的子集</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge1</span>(<span class="params">sourceObj, targetObj</span>)&#123;</span><br><span class="line"><span class="keyword">const</span> result &#123;...sourceobj &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> targetobj) &#123;</span><br><span class="line">        <span class="keyword">const</span> itemVal = sourceobj[key];</span><br><span class="line">        itemVal &amp;&amp; (result[key] = itemVal);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge2</span>(<span class="params">sourceObj, targetObj</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;...sourceobj,...targetobj &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="TS-1"><a href="#TS-1" class="headerlink" title="TS"></a>TS</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ISourceobj</span> &#123;</span><br><span class="line">    x?: <span class="built_in">string</span>;</span><br><span class="line">y?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*定义时不明确，使用时才明确*/</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITargetobj</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IMerge</span> = <span class="function">(<span class="params">sourceobj: ISourceobj, targetobj: ITargetobj</span>) =&gt;</span> <span class="title class_">ITargetobj</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*类型实现繁琐：若obj类型较为复杂，则声明source和target便需要大量重复2遍</span></span><br><span class="line"><span class="comment">*容易出错：若target增加/减少key,则需要source联动去除</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="改进"><a href="#改进" class="headerlink" title="改进"></a>改进</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IMerge</span> &#123;</span><br><span class="line">    &lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,<span class="built_in">any</span>&gt;&gt;(<span class="attr">sourceObj</span>: <span class="title class_">Partial</span>&lt;T&gt;, <span class="attr">targetObj</span>: T): T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IPartial</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IKeys</span> = keyof &#123; <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line">        </span><br><span class="line"><span class="comment">/* 索引类型：</span></span><br><span class="line"><span class="comment">关键字【keyof】,其相当于取值对像中的所有key组成的字符串字面量，如=&gt;type IKeys &quot;a&quot;|&quot;b&quot;</span></span><br><span class="line"><span class="comment">关键字【in】,其相当于取值字符串字面量中的一种可能，配合泛型P,即表示每个key</span></span><br><span class="line"><span class="comment">关键字【?】，通过设定对象可选选项，即可自动推导出子集类型 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h5 id="解释说明"><a href="#解释说明" class="headerlink" title="解释说明"></a>解释说明</h5><blockquote><p>这段代码是一个定义了多个TypeScript类型的代码。</p><ol><li><p>IMerge是一个接口，它定义了一个方法，该方法接受两个对象，并返回一个新的对象，其中第一个对象是Partial<T>类型，第二个对象是T类型，T是Record类型的泛型。</p></li><li><p>IPartial是一个类型别名，它定义了T类型的可选部分，T是Record类型的泛型。</p></li><li><p>IKeys是一个类型别名，它定义了一个名为’a’和’b’的对象的键的类型，其中’a’的类型是字符串，’b’的类型是数字。</p></li><li><p>关系：</p><ul><li><p><code>IMerge</code> 是一个接口，它定义了一个合并两个对象的方法，并将合并后的对象返回。它接受两个对象作为参数，分别是源对象和目标对象，返回值为目标对象。</p></li><li><p><code>IPartial</code> 是一个类型别名，它定义了一个可选字段的对象。也就是说，可以有一些字段是不是必填的。</p></li><li><p><code>IKeys</code> 是一个类型别名，它定义了一个字符串字面量类型的联合类型。它的值是 ‘a’ 和 ‘b’。</p></li></ul></li></ol></blockquote><h3 id="4-函数返回值类型"><a href="#4-函数返回值类型" class="headerlink" title="4.函数返回值类型"></a>4.函数返回值类型</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现函数delayCall的类型声明</span></span><br><span class="line"><span class="comment">// delayCall接受一个函数作为入参，其实现延迟1s运行函数</span></span><br><span class="line"><span class="comment">// 其返回promise,结果为入参函数的返回结果</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">delayCall</span>(<span class="params">func</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> result = <span class="title function_">func</span>();</span><br><span class="line">            <span class="title function_">resolve</span>(result)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>↓怎么写个类型声明嘞？</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个类型别名, extends泛型限定为函数</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDelayCall</span> = &lt; T <span class="keyword">extends</span> () =&gt; <span class="built_in">any</span> &gt;<span class="function">(<span class="params">func: T</span>) =&gt;</span> <span class="title class_">ReturnType</span>&lt;T&gt;;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IReturnType</span>&lt; T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span> &gt; = T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; infer R ? R : <span class="built_in">any</span>;                          <span class="comment">/*类型推断*/</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 关键字【extends】跟随泛型出现时，表示类型推断，其表达可类比三元表达式</span></span><br><span class="line"><span class="comment">// 如 T === 判断类型？类型A:类型B</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 关键字【infer】)出现在类型推荐中，表示定义类型变量，可以用于指代类型</span></span><br><span class="line"><span class="comment">// 如该场景下，将函数的返回值类型作为变量，使用新泛型R表示，使用在类型推荐命中的结果中    </span></span><br></pre></td></tr></table></figure><h4 id="解释说明-1"><a href="#解释说明-1" class="headerlink" title="解释说明"></a>解释说明</h4><blockquote><p>这段 TypeScript 代码定义了两种类型：<code>IDelayCall</code> 和 <code>IReturnType</code>.</p><ul><li><p><code>IDelayCall</code>是一个泛型函数，接受一个类型为 <code>(...args: any) =&gt; any</code> 的参数<code>func</code>，返回值为 <code>func</code> 的返回类型（使用了 TypeScript 的 <code>ReturnType</code> 内置类型）。</p></li><li><p><code>IReturnType</code> 也是一个泛型函数，它接受一个类型为 <code>(...args: any) =&gt; any</code> 的参数，并使用 TypeScript 的 <code>infer</code>关键字来推断该函数的返回类型，如果返回类型不能被推断出来，则默认为<code>any</code>类型。</p></li></ul><p>这两个类型定义之间是有关系的。</p><ul><li><p><code>IDelayCall</code> 类型定义了一个函数，接受一个函数 <code>func</code> 作为参数，并返回该函数的返回类型。</p></li><li><p>而 <code>IReturnType</code> 类型定义了一个模板类型，它接受一个函数类型为参数 <code>T</code>，并通过 TypeScript 的推导功能将该函数的返回类型推导为 <code>R</code>，最后返回结果为 <code>R</code> 或者 <code>any</code>，具体取决于 <code>T</code> 类型是否满足上述函数类型。</p></li></ul><p>因此，我们可以将 <code>IReturnType</code> 定义为 <code>IDelayCall</code> 函数的<strong>内部类型</strong>，以便进行更简洁、清晰的代码编写。</p></blockquote><h2 id="工程运用"><a href="#工程运用" class="headerlink" title="工程运用"></a>工程运用</h2><h3 id="浏览器Web"><a href="#浏览器Web" class="headerlink" title="浏览器Web"></a>浏览器Web</h3><h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><ol><li>配置<strong>webpack loader</strong>相关配置（处理ts文件，转化成js文件）</li><li>配置tsconfig.js文件</li><li>运行webpack启动/打包</li><li>loader处理ts文件时，会进行编译与类型检查</li></ol><p>相关loader：</p><ol><li>awesome-typescript-loader</li><li>babel-loader</li></ol><h3 id="NodeJs"><a href="#NodeJs" class="headerlink" title="NodeJs"></a>NodeJs</h3><p>使用TSC编译</p><ol><li>安装node npm</li><li>使用npm安装tsc</li><li>配置tsocnfig.js文件</li><li>使用tsc运行编译得到的js文件</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青训营 </tag>
            
            <tag> TS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS跟学笔记</title>
      <link href="/post/a33a.html"/>
      <url>/post/a33a.html</url>
      
        <content type="html"><![CDATA[<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><p>正经人谁学</p><h2 id="一、本堂课重点内容："><a href="#一、本堂课重点内容：" class="headerlink" title="一、本堂课重点内容："></a><strong>一、本堂课重点内容：</strong></h2><p>（如何写好JS↓）</p><p>JS编码原则</p><ul><li>各司其责</li><li>组件封装（课程内容属实强，要花很长时间消化）</li><li>过程抽象</li></ul><p>Left-pad事故背景引入</p><p>JS代码质量优化</p><h2 id="二、详细知识点介绍："><a href="#二、详细知识点介绍：" class="headerlink" title="二、详细知识点介绍："></a><strong>二、详细知识点介绍：</strong></h2><h3 id="JS编码原则-各司其职"><a href="#JS编码原则-各司其职" class="headerlink" title="JS编码原则-各司其职"></a>JS编码原则-各司其职</h3><blockquote><p>让HTML、CSS、JS职能分离</p></blockquote><h4 id="举例-深夜食堂的明暗模式mode"><a href="#举例-深夜食堂的明暗模式mode" class="headerlink" title="举例-深夜食堂的明暗模式mode"></a>举例-深夜食堂的明暗模式mode</h4><p>HTML代码</p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon.png" alt="carbon"></p><p>CSS代码</p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(1).png" alt="carbon (1)"></p><p><a href="https://code.juejin.cn/pen/7189551881298346039">码上掘金链接</a></p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li>三者各司其责</li><li>避免不必要的由JS直接操作样式</li><li>可以用class来表示状态</li><li>纯展示交互寻求零JS方案</li></ul><h3 id="JS编码原则-组件封装"><a href="#JS编码原则-组件封装" class="headerlink" title="JS编码原则-组件封装"></a>JS编码原则-组件封装</h3><blockquote><p>好的UI组件具备正确性、扩展性、复用性</p></blockquote><h4 id="举例-原生JS电商网站轮播图"><a href="#举例-原生JS电商网站轮播图" class="headerlink" title="举例-原生JS电商网站轮播图"></a>举例-原生JS电商网站轮播图</h4><h5 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h5><p><a href="https://code.juejin.cn/pen/7189574916541251643">轮播图-原型</a></p><h6 id="HTML-结构"><a href="#HTML-结构" class="headerlink" title="HTML-结构"></a>HTML-结构</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(2).png" alt="carbon (2)"></p><h6 id="CSS-表现"><a href="#CSS-表现" class="headerlink" title="CSS-表现"></a>CSS-表现</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(6).png" alt="carbon (6)"></p><h6 id="JS-行为（功能API、控制流Event）"><a href="#JS-行为（功能API、控制流Event）" class="headerlink" title="JS-行为（功能API、控制流Event）"></a>JS-行为（功能API、控制流Event）</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(5).png" alt="carbon (5)"></p><h5 id="重构-插件化"><a href="#重构-插件化" class="headerlink" title="重构-插件化"></a>重构-插件化</h5><p><a href="https://code.juejin.cn/pen/7189573539517693986">轮播图-插件化</a></p><h6 id="解耦"><a href="#解耦" class="headerlink" title="解耦"></a>解耦</h6><ul><li>将控制元素抽成插件</li><li>插件与组件之间通过<strong>依赖注入</strong>方式建立联系</li></ul><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230117191726546.png" alt="image-20230117191726546"></p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(8).png" alt="carbon (8)"></p><h5 id="重构-模块化"><a href="#重构-模块化" class="headerlink" title="重构-模块化"></a>重构-模块化</h5><p><a href="https://code.juejin.cn/pen/7189563473347477541">轮播图-模块化</a></p><h6 id="解耦-1"><a href="#解耦-1" class="headerlink" title="解耦"></a>解耦</h6><ul><li>将HTML模板化，更易于扩展</li></ul><h6 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h6><ul><li>将组件通用模型抽象出来，组件框架</li></ul><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(4).png" alt="carbon (4)"></p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(9).png" alt="carbon (9)"></p><h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><h5 id="组件设计原则"><a href="#组件设计原则" class="headerlink" title="组件设计原则"></a>组件设计原则</h5><ul><li>封装性</li><li>正确性</li><li>扩展性</li><li>复用性</li></ul><h5 id="实现组件的步骤"><a href="#实现组件的步骤" class="headerlink" title="实现组件的步骤"></a>实现组件的步骤</h5><ul><li>结构设计</li><li>展现效果</li><li>行为设计</li></ul><h5 id="三次重构"><a href="#三次重构" class="headerlink" title="三次重构"></a>三次重构</h5><ul><li>模块化</li><li>模板化</li><li>抽象化（组件框架-组件是指Web页面上抽出来的一个包含模板、功能、样式的单元。）</li></ul><h3 id="JS编码原则-过程抽象"><a href="#JS编码原则-过程抽象" class="headerlink" title="JS编码原则-过程抽象"></a>JS编码原则-过程抽象</h3><blockquote><p>应用函数式编程思想</p></blockquote><h4 id="过程抽象"><a href="#过程抽象" class="headerlink" title="过程抽象"></a>过程抽象</h4><ul><li>用来处理局部细节控制的一些方法</li><li>函数式编程思想的基础应用</li></ul><h4 id="高阶函数-HOF"><a href="#高阶函数-HOF" class="headerlink" title="高阶函数-HOF"></a>高阶函数-HOF</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">HOF</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h5><p>为了能让“只执行一次”的需求覆盖不用的事件处理，可以将该需求剥离出来，这个过程称为“过程抽象”。</p><h5 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h5><ul><li>以函数作为参数</li><li>以函数作为返回值</li><li>常用于作为函数装饰器</li></ul><h5 id="常用高阶函数"><a href="#常用高阶函数" class="headerlink" title="常用高阶函数"></a>常用高阶函数</h5><ul><li>Once<img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon-1673957466450-60.png" alt="carbon"></li><li>Throttle 节流，限制函数执行间隔    <a href="https://code.juejin.cn/pen/7189592749836861455">栗子</a></li><li>Debounce 防抖，防止给服务器过多负担    <a href="https://code.juejin.cn/pen/7189593149349003279">栗子</a></li><li>Consumer /2 异步消耗    <a href="https://code.juejin.cn/pen/7189593573535416354">栗子</a></li><li>Iterative 迭代函数    <a href="https://code.juejin.cn/pen/7189594190404288571">栗子</a></li></ul><h4 id="编程范式"><a href="#编程范式" class="headerlink" title="编程范式"></a>编程范式</h4><h5 id="命令式"><a href="#命令式" class="headerlink" title="命令式"></a>命令式</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> mapl = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    mapl.<span class="title function_">push</span>(list[i] * <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="声明式"><a href="#声明式" class="headerlink" title="声明式"></a>声明式</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">double</span> = x =&gt; x * <span class="number">2</span>;</span><br><span class="line">list.<span class="title function_">map</span>(double);</span><br></pre></td></tr></table></figure><h5 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h5><p><a href="https://code.juejin.cn/pen/7189595739490943034">Toggle-命令式</a></p><p><a href="https://code.juejin.cn/pen/7189595796021444664">Toggle-声明式</a></p><p><a href="https://code.juejin.cn/pen/7189595847963705405">Toggle-三态</a>由此可见声明式更能减轻内容修改添加的代码量负担</p><h3 id="Left-pad事故背景引入"><a href="#Left-pad事故背景引入" class="headerlink" title="Left-pad事故背景引入"></a>Left-pad事故背景引入</h3><h4 id="栗子1-判断是否为单位矩阵"><a href="#栗子1-判断是否为单位矩阵" class="headerlink" title="栗子1-判断是否为单位矩阵"></a>栗子1-判断是否为单位矩阵</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isUnitMatrix2d</span>(<span class="params">m</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> m[<span class="number">0</span>] === <span class="number">1</span> &amp;&amp; m[<span class="number">1</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">2</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">3</span>] === <span class="number">1</span> &amp;&amp; m[<span class="number">4</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">5</span>] === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>写代码最应该关注什么？</p><ul><li>风格——很重要，代码维护成本小关键</li><li>效率——很重要，结合场景选择合适代码，抉择是效率还是可读性</li><li>约定</li><li>使用场景</li><li>设计</li></ul><h4 id="栗子2-Left-pad事件"><a href="#栗子2-Left-pad事件" class="headerlink" title="栗子2-Left-pad事件"></a>栗子2-Left-pad事件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leftpad</span>(<span class="params">str, len, ch</span>)&#123;</span><br><span class="line">    str = <span class="title class_">String</span>(str);</span><br><span class="line">    <span class="keyword">var</span> i = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(!ch &amp;&amp; ch !== <span class="number">0</span>) ch=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    len = len - str.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">while</span>(++i&lt;len)&#123;</span><br><span class="line">        str = ch + str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>事件本身槽点：</p><ul><li>NPM模块粒度——模块化、打包工具不成熟</li><li>代码风格——可读性不算好</li><li>代码效率质量——效率不算高</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leftpad</span>(<span class="params">str, len, ch</span>)&#123;</span><br><span class="line">    str = <span class="string">&quot;&quot;</span> + str;</span><br><span class="line">    <span class="keyword">const</span> padLen = len - str.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">if</span>(padLen &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(<span class="string">&quot;&quot;</span>+ch).<span class="title function_">repeat</span>(padLen) + str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>大佬优化：</p><ul><li>更简洁</li><li>更高效</li></ul><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat">巨佬优化</a></p><ul><li>性能更好</li></ul><p>但是就它的使用场景上，优化的意义不大。</p><p>（以下的部分本人效率就不高了，脑子转不动了，打算明天完善）</p><h3 id="JS代码质量优化"><a href="#JS代码质量优化" class="headerlink" title="JS代码质量优化"></a>JS代码质量优化</h3><h4 id="栗子1-交通灯状态切换"><a href="#栗子1-交通灯状态切换" class="headerlink" title="栗子1-交通灯状态切换"></a>栗子1-交通灯状态切换</h4><h5 id="1-过于繁琐，回调会出问题"><a href="#1-过于繁琐，回调会出问题" class="headerlink" title="1.过于繁琐，回调会出问题"></a>1.过于繁琐，回调会出问题</h5><p><a href="https://code.h5jun.com/jezew/2/edit?html,css,js,output">查看源码</a></p><h5 id="2-函数封装"><a href="#2-函数封装" class="headerlink" title="2.函数封装"></a>2.函数封装</h5><p><a href="https://code.h5jun.com/xof/5/edit?js,output">查看源码</a></p><h5 id="3-轮巡HOF"><a href="#3-轮巡HOF" class="headerlink" title="3.轮巡HOF"></a>3.轮巡HOF</h5><p><a href="https://code.h5jun.com/bodul/2/edit?js,output">查看源码</a></p><h5 id="4-异步命令式"><a href="#4-异步命令式" class="headerlink" title="4.异步命令式"></a>4.异步命令式</h5><p><a href="https://code.h5jun.com/jobe/3/edit?js,output">查看源码</a></p><p>可延伸异步声明式……</p><h4 id="栗子2-判断4的幂"><a href="#栗子2-判断4的幂" class="headerlink" title="栗子2-判断4的幂"></a>栗子2-判断4的幂</h4><h5 id="1-暴力循环"><a href="#1-暴力循环" class="headerlink" title="1.暴力循环"></a>1.暴力循环</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">while</span>(num&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num%<span class="number">4</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        num /= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">while</span>(num&gt;<span class="number">1</span>)&#123;</span><br><span class="line">       <span class="keyword">if</span>(num&amp; <span class="number">0b11</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       num &gt;&gt;&gt;=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">return</span> num &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (num&amp;(num - <span class="number">1</span>)) === <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (num&amp; <span class="number">0xAAAAAAAA</span>) === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="正则表达式-最喜欢的"><a href="#正则表达式-最喜欢的" class="headerlink" title="正则表达式-最喜欢的"></a>正则表达式-最喜欢的</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num).<span class="title function_">toString</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/^1(?:00)*$/</span>.<span class="title function_">test</span>(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="栗子3-洗牌"><a href="#栗子3-洗牌" class="headerlink" title="栗子3-洗牌"></a>栗子3-洗牌</h4><p>5555我又懒得敲了，明天继续！</p><h5 id="1-简单实现"><a href="#1-简单实现" class="headerlink" title="1.简单实现"></a>1.简单实现</h5><p><a href="https://code.h5jun.com/cuvig/edit?js,console">https://code.h5jun.com/cuvig/edit?js,console</a></p><h5 id="2-正确性"><a href="#2-正确性" class="headerlink" title="2.正确性"></a>2.正确性</h5><p><a href="https://code.h5jun.com/venol/edit?js,console">https://code.h5jun.com/venol/edit?js,console</a></p><h5 id="3-公平性"><a href="#3-公平性" class="headerlink" title="3.公平性"></a>3.公平性</h5><p><a href="https://code.h5jun.com/huqi/edit?js,console">https://code.h5jun.com/huqi/edit?js,console</a></p><h5 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h5><p><a href="https://code.h5jun.com/zamuv/edit?js,console">https://code.h5jun.com/zamuv/edit?js,console</a></p><h4 id="栗子4-分红包"><a href="#栗子4-分红包" class="headerlink" title="栗子4-分红包"></a>栗子4-分红包</h4><h5 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h5><p><a href="https://code.h5jun.com/wuv/1/edit?js,output">https://code.h5jun.com/wuv/1/edit?js,output</a></p><h5 id="2-1"><a href="#2-1" class="headerlink" title="2."></a>2.</h5><p><a href="https://code.h5jun.com/luba/edit?js,output">https://code.h5jun.com/luba/edit?js,output</a></p><h2 id="三、课后个人总结："><a href="#三、课后个人总结：" class="headerlink" title="三、课后个人总结："></a><strong>三、课后个人总结：</strong></h2><p>优雅，实在是太优雅了！</p><p>JS竟然有这么多层优化，我好像只在第一层！！！！</p><h2 id="四、引用参考："><a href="#四、引用参考：" class="headerlink" title="四、引用参考："></a><strong>四、引用参考：</strong></h2><p>见上文一些链接</p>]]></content>
      
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青训营 </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS跟学笔记</title>
      <link href="/post/4b21.html"/>
      <url>/post/4b21.html</url>
      
        <content type="html"><![CDATA[<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><p>正经人谁学CSS啊</p><h2 id="一、本堂课重点内容："><a href="#一、本堂课重点内容：" class="headerlink" title="一、本堂课重点内容："></a><strong>一、本堂课重点内容：</strong></h2><ul><li>了解CSS（是什么、如何使用、如何工作、一些重要属性键值、如何调试）</li><li>深入了解CSS（哪条规则生效、选择器特异度、CSS求值过程、CSS继承、布局、块级与行级）</li></ul><h2 id="二、详细知识点介绍："><a href="#二、详细知识点介绍：" class="headerlink" title="二、详细知识点介绍："></a><strong>二、详细知识点介绍：</strong></h2><h3 id="走进前端技术栈-CSS"><a href="#走进前端技术栈-CSS" class="headerlink" title="走进前端技术栈-CSS"></a>走进前端技术栈-CSS</h3><h4 id="什么是CSS"><a href="#什么是CSS" class="headerlink" title="什么是CSS"></a>什么是CSS</h4><ul><li>Cascading Style Sheets</li><li>用来定义页面元素的样式（字体、位置、动画效果等）</li></ul><h4 id="CSS组成"><a href="#CSS组成" class="headerlink" title="CSS组成"></a>CSS组成</h4><ul><li>选择器Selector</li><li>属性Property</li><li>属性值Value</li><li>声明Declaration  🌰： <code>selector &#123;   property: value;   （声明语句） &#125;</code></li></ul><h4 id="CSS使用"><a href="#CSS使用" class="headerlink" title="CSS使用"></a>CSS使用</h4><p>内联、嵌入、外链 </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218121629136.png" alt="image-20230218121629136"></p><h4 id="CSS的工作"><a href="#CSS的工作" class="headerlink" title="CSS的工作"></a>CSS的工作</h4><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218121638505.png" alt="image-20230218121638505"></p><h5 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h5><p>找出页面中的元素，以便给他们设置样式。</p><p>使用多种方式选择元素：按照标签名、类名或id，按照属性，按照DOM树中的位置</p><h6 id="选择器类型"><a href="#选择器类型" class="headerlink" title="选择器类型"></a>选择器类型</h6><ul><li>通配选择器 🌰:<code>* &#123;color:red; font-size: 20px&#125;</code></li><li>标签选择器</li><li>id选择器</li><li>类选择器（可出现多次，常用）</li><li>属性选择器</li></ul><p>属性🌰:<code>&lt;input value=&quot;haha&quot; disabled&gt;</code> <code>&lt;style&gt;[disabled] &#123;background: #eee;&#125;&lt;/style&gt;</code></p><p>带值属性🌰:<code>&lt;input type=&quot;passworld&quot;&gt;</code> <code>&lt;style&gt;input[type=&quot;passworld&quot;] &#123;color: red;&#125;&lt;/style&gt;</code></p><p>符合条件值属性🌰:<code>&lt;a href=&quot;#top&quot;回到顶部&gt;&lt;/a&gt;</code> <code>&lt;style&gt;a[href^=&quot;#&quot;] &#123;color: red;&#125;&lt;/style&gt;</code></p><ul><li><p>伪类（pseudo-classes）——不基于标签和属性定位元素</p><ul><li><p>状态性伪类🌰</p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122353962.png" alt="image-20230218122353962"></p></li><li><p>结构性伪类🌰 （直接组合) </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122406549.png" alt="image-20230218122406549"></p></li><li><p>其他类型组合<img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122417953.png" alt="image-20230218122417953"></p></li></ul></li></ul><h6 id="选择器组"><a href="#选择器组" class="headerlink" title="选择器组"></a>选择器组</h6><p>🌰：<code>body, h1, h2 &#123;margin: 0; padding: 0;&#125;</code></p><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><h5 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h5><ul><li>rgb(值，值，值)</li><li>#8fac87(00-ff值)</li></ul><h5 id="HSL——Hue色相-Saturation饱和度-Lightness亮度"><a href="#HSL——Hue色相-Saturation饱和度-Lightness亮度" class="headerlink" title="HSL——Hue色相 Saturation饱和度 Lightness亮度"></a>HSL——Hue色相 Saturation饱和度 Lightness亮度</h5><ul><li>hsl(0-360, 100%, 100%)</li></ul><h5 id="一些颜色名"><a href="#一些颜色名" class="headerlink" title="一些颜色名"></a>一些颜色名</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122428812.png" alt="image-20230218122428812"></p><h5 id="alpha透明度"><a href="#alpha透明度" class="headerlink" title="alpha透明度"></a>alpha透明度</h5><ul><li>rgba(值，值，值，0-1值)</li><li>#ff000078(0-1转化成0-255)</li><li>hsla(同上，0透明 1不透明)</li></ul><h4 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h4><h5 id="字体族"><a href="#字体族" class="headerlink" title="字体族"></a>字体族</h5><p>font-family  🌰:<code>font-family:Optima,Georgia，Serif;</code></p><h6 id="经常放多个字体的原因"><a href="#经常放多个字体的原因" class="headerlink" title="经常放多个字体的原因"></a>经常放多个字体的原因</h6><p>不同客户使用的设备支持拥有和支持的字体不一样，有哪个用哪个。</p><h6 id="通用字体族"><a href="#通用字体族" class="headerlink" title="通用字体族"></a>通用字体族</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122436470.png" alt="image-20230218122436470"></p><h6 id="使用Web-Fonts"><a href="#使用Web-Fonts" class="headerlink" title="使用Web Fonts"></a>使用Web Fonts</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122443241.png" alt="image-20230218122443241"></p><h6 id="字体裁切"><a href="#字体裁切" class="headerlink" title="字体裁切"></a>字体裁切</h6><p>适当裁切字体，保证存储合适大小</p><h5 id="字体大小"><a href="#字体大小" class="headerlink" title="字体大小"></a>字体大小</h5><p>font-size(px,em,%)</p><h5 id="字体效果"><a href="#字体效果" class="headerlink" title="字体效果"></a>字体效果</h5><p>font-style(normal,italic斜体)</p><h5 id="字体粗细-字重"><a href="#字体粗细-字重" class="headerlink" title="字体粗细/字重"></a>字体粗细/字重</h5><p>font-weight(100-900,其中400:normal，700:bold)</p><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><ul><li>字体后面一定要添加一个字体族，以防万一！！</li><li>英文字体尽量写在中文字体前面</li><li>字重与字体密切相关</li></ul><h4 id="排版"><a href="#排版" class="headerlink" title="排版"></a>排版</h4><h5 id="行高"><a href="#行高" class="headerlink" title="行高"></a>行高</h5><p>line-height(1.6 在自身字体大小的倍数)</p><h5 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h5><p>text-align(right,left,center,justify)</p><h5 id="间距"><a href="#间距" class="headerlink" title="间距"></a>间距</h5><p>spacing 属性类型：</p><ul><li>letter-spacing：字间距</li><li>word-spacing：单词间距</li></ul><h5 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h5><p>text-indent(px)</p><h5 id="文段格式"><a href="#文段格式" class="headerlink" title="文段格式"></a>文段格式</h5><p>text-decoration(none,underline,line-through,overline)</p><h5 id="空白符处理"><a href="#空白符处理" class="headerlink" title="空白符处理"></a>空白符处理</h5><p>white-space 属性值：</p><ul><li>normal：默认，空白会被浏览器忽略</li><li>nowrap：文本不换行，会在同一行继续，直到</li><li>pre：空白保留，类似&lt;pre标签</li><li>pre-wrap：保留空白符序列，但是正常地进行换行</li><li>pre-line：合并空白符序列，但是保留换行符</li><li>inherit：规定应该从父元素继承white-space属性值</li></ul><h4 id="调试CSS"><a href="#调试CSS" class="headerlink" title="调试CSS"></a>调试CSS</h4><p>【检查】页面</p><h3 id="深入CSS（一）"><a href="#深入CSS（一）" class="headerlink" title="深入CSS（一）"></a>深入CSS（一）</h3><h4 id="选择器样式优先级"><a href="#选择器样式优先级" class="headerlink" title="选择器样式优先级"></a>选择器样式优先级</h4><p>Inline style（内联样式） &gt; Internal style sheet（内部样式） &gt; External style sheet（外部样式）&gt;！important &gt; 内联样式 &gt; ID 选择器 &gt; 类选择器 = 属性选择器 = 伪类选择器 &gt; 标签选择器 = 伪元素选择器 &gt; 通配选择器</p><p>🌰:</p><ul><li><p>内联样式：写在标签属性style的样式，如 </p></li><li><p>ID选择器，如#id{…}</p></li><li><p>类选择器，如 .class{…}</p></li><li><p>属性选择器，如 input[type=”email”]{…}</p></li><li><p>伪类选择器，如a:hover{…}</p></li><li><p>伪元素选择器，如 p::before{…}</p></li><li><p>标签选择器，如 input{…}</p></li><li><p>通配选择器，如 *{…}</p></li></ul><h5 id="选择器的特异度Specificity"><a href="#选择器的特异度Specificity" class="headerlink" title="选择器的特异度Specificity"></a>选择器的特异度Specificity</h5><p>通过比较元素使用选择器类型和数量判断选择器的特异度 </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122452047.png" alt="image-20230218122452047"></p><h5 id="使用策略"><a href="#使用策略" class="headerlink" title="使用策略"></a>使用策略</h5><h6 id="复用"><a href="#复用" class="headerlink" title="复用"></a>复用</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122501623.png" alt="image-20230218122501623"></p><h6 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h6><p>扩展-CSS属性的继承性分类（光码不看没有用）</p><ul><li>不可继承的：display、margin、border、padding、background、height、min-height、max- height、width、min-width、max-width、overflow、position、left、right、top、 bottom、z-index、float、clear、table-layout、vertical-align、page-break-after、 page-bread-before和unicode-bidi。</li><li>所有元素可继承：visibility和cursor。</li><li>内联元素可继承：letter-spacing、word-spacing、white-space、line-height、color、font、 font-family、font-size、font-style、font-variant、font-weight、text- decoration、text-transform、direction。</li><li>块状元素可继承：text-indent和text-align。</li><li>列表元素可继承：list-style、list-style-type、list-style-position、list-style-image。</li><li>表格元素可继承：border-collapse。</li></ul><p>显示继承</p><p>把不可继承的变成可继承的，属性值：inherit</p><h6 id="属性的初始值initial"><a href="#属性的初始值initial" class="headerlink" title="属性的初始值initial"></a>属性的初始值initial</h6><h5 id="CSS运算过程"><a href="#CSS运算过程" class="headerlink" title="CSS运算过程"></a>CSS运算过程</h5><p><a href="https://link.juejin.cn/?target=url">cdpn.io/webzhao/deb…</a></p><h4 id="布局Layout"><a href="#布局Layout" class="headerlink" title="布局Layout"></a>布局Layout</h4><p>听累了写累了，整点截图喘口气↓</p><h5 id="常规流"><a href="#常规流" class="headerlink" title="常规流"></a>常规流</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122508756.png" alt="image-20230218122508756"></p><h5 id="属性关系"><a href="#属性关系" class="headerlink" title="属性关系"></a>属性关系</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122516618.png" alt="image-20230218122516618"></p><h5 id="border属性"><a href="#border属性" class="headerlink" title="border属性"></a>border属性</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122523744.png" alt="image-20230218122523744"></p><h5 id="padding属性略"><a href="#padding属性略" class="headerlink" title="padding属性略"></a>padding属性略</h5><h5 id="margin属性"><a href="#margin属性" class="headerlink" title="margin属性"></a>margin属性</h5><p><code>margin:auto</code>:水平居中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">margin collapse</span><br></pre></td></tr></table></figure><h5 id="box-sizing-border-box非常常用↓"><a href="#box-sizing-border-box非常常用↓" class="headerlink" title="box-sizing:border-box非常常用↓"></a><strong>box-sizing:border-box</strong>非常常用↓</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122530721.png" alt="image-20230218122530721"></p><h5 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h5><ul><li>visible</li><li>hidden</li><li>scrool</li></ul><h3 id="深入CSS（二）"><a href="#深入CSS（二）" class="headerlink" title="深入CSS（二）"></a>深入CSS（二）</h3><h4 id="块级和行级"><a href="#块级和行级" class="headerlink" title="块级和行级"></a>块级和行级</h4><p>不行了真的不行了，以后还是得用自己的工具写文档 </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211095206059.png" alt="image-20230211095206059"></p><h2 id="三、课后个人总结："><a href="#三、课后个人总结：" class="headerlink" title="三、课后个人总结："></a><strong>三、课后个人总结：</strong></h2><p>1.跟着视频顺一遍真的很有用 2.选一款适合自己的写文档的工具很重要，不要图省事 3.写文档是个仔细活，需精进 4.不愧是CSS（脑子真的转不动了不知道怎么总结了，明天早上想好了写评论里）</p><h2 id="四、引用参考："><a href="#四、引用参考：" class="headerlink" title="四、引用参考："></a><strong>四、引用参考：</strong></h2><p><a href="https://link.juejin.cn/?target=https://www.nowcoder.com/questionTerminal/82951db93fec4c6bb1a5a44e649b2bfc">牛客真题1</a></p><p><a href="https://link.juejin.cn/?target=https://www.nowcoder.com/questionTerminal/e441b994986a411bb4872d640b790484">牛客真题2</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青训营 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML跟学笔记</title>
      <link href="/post/f274.html"/>
      <url>/post/f274.html</url>
      
        <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><p>正经人谁学HTML啊</p><h2 id="一、本堂课重点内容："><a href="#一、本堂课重点内容：" class="headerlink" title="一、本堂课重点内容："></a><strong>一、本堂课重点内容：</strong></h2><ul><li>HTML基本标签、属性、属性值</li><li>HTML语义化</li></ul><h2 id="二、详细知识点介绍："><a href="#二、详细知识点介绍：" class="headerlink" title="二、详细知识点介绍："></a><strong>二、详细知识点介绍：</strong></h2><p>HTML： TyperText Markup Language</p><h3 id="HTML基本标签"><a href="#HTML基本标签" class="headerlink" title="HTML基本标签"></a>HTML基本标签</h3><h4 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h4><p><code>&lt;ol&gt;&lt;li&gt;序号排列&lt;/li&gt;&lt;/ol&gt;</code></p><p><code>&lt;ul&gt;&lt;li&gt;无序号排列&lt;/li&gt;&lt;/ul&gt;</code></p><p><code>&lt;dl&gt;&lt;dt&gt;描述列表标题&lt;/dt&gt;&lt;dd&gt;具体元素1&lt;/dd&gt;&lt;dd&gt;具体元素2&lt;/dd&gt;&lt;/dl&gt;</code></p><h4 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h4><p><code>&lt;a href=&quot;&quot; target=&quot;_blank&quot;&gt;这_blank属性是让在新的页面中打开链接&lt;/a&gt;</code></p><h4 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h4><p><code>&lt;img src=&quot;&quot; alt=&quot;降级文字&quot;/&gt;</code></p><h4 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h4><p><code>&lt;audio src=&quot;&quot; controls(默认显示)&gt;&lt;/audio&gt;</code></p><h4 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h4><p><code>&lt;video src=&quot;&quot; contiols(同上）&gt;&lt;/vedio&gt;</code></p><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p>好玩标签：</p><ul><li>input</li><li>textarea</li></ul><p>好玩属性：</p><ul><li>placeholder:未输入时的占位符</li></ul><p>好玩属性值：</p><ul><li>type=”range”滑动进度条</li><li>type=”number” min=”” max=””规定最大值最小值的数字输入</li><li>type=”date” min=”2022.12.31”规定最早从这个日期开始的日期输入</li></ul><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094752754.png" alt="image-20230211094752754"></p><h4 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h4><p>常规包裹：</p><p>!<img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094742169.png" alt="image-20230211094742169">常规包裹</p><p>（坠后一种可以提供一些输入快捷提示)</p><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094725801.png" alt="image-20230211094725801"></p><h4 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h4><h5 id="块级引用"><a href="#块级引用" class="headerlink" title="块级引用"></a>块级引用</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">&quot;引用地址&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        一段话，比如说书内语句啥的</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="名称章节的短引用、具体内容的短引用"><a href="#名称章节的短引用、具体内容的短引用" class="headerlink" title="名称章节的短引用、具体内容的短引用"></a>名称章节的短引用、具体内容的短引用</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    在<span class="tag">&lt;<span class="name">cite</span>&gt;</span>第一章（斜体）<span class="tag">&lt;/<span class="name">cite</span>&gt;</span>，我们讲过<span class="tag">&lt;<span class="name">q</span>&gt;</span>字符号才能是不可变量（会有引号，表示之前写过的语句）<span class="tag">&lt;/<span class="name">q</span>&gt;</span>。</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="代码的单行引用"><a href="#代码的单行引用" class="headerlink" title="代码的单行引用"></a>代码的单行引用</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>const qvq = &quot;qvq&quot;<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="代码的多行引用"><a href="#代码的多行引用" class="headerlink" title="代码的多行引用"></a>代码的多行引用</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span></span><br><span class="line">const add = (a,b) =&gt; a + b;</span><br><span class="line">const multipy = (a,b) =&gt; a * b;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="紧急文本强调"><a href="#紧急文本强调" class="headerlink" title="紧急文本强调"></a>紧急文本强调</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    在投资前，<span class="tag">&lt;<span class="name">strong</span>&gt;</span>一定要做风险评估<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>。</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="语气文本强调"><a href="#语气文本强调" class="headerlink" title="语气文本强调"></a>语气文本强调</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Cats <span class="tag">&lt;<span class="name">em</span>&gt;</span>are<span class="tag">&lt;/<span class="name">em</span>&gt;</span> cute animals.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果图见下方的</p><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094658863.png" alt="image-20230211094658863"></p><h3 id="HTML语义化"><a href="#HTML语义化" class="headerlink" title="HTML语义化"></a>HTML语义化</h3><h4 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h4><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094624477.png" alt="image-20230211094624477"></p><h4 id="语义化作用"><a href="#语义化作用" class="headerlink" title="语义化作用"></a>语义化作用</h4><p>代码可读性、可维护性、搜索引擎优化、提升无障碍性</p><h4 id="如何做到语义化"><a href="#如何做到语义化" class="headerlink" title="如何做到语义化"></a>如何做到语义化</h4><ul><li><p>了解每个标签和属性的含义</p></li><li><p>思考什么标签最适合描述该内容</p></li><li><p>不使用可视化工具生成代码</p></li><li><p>涉及到的语义化标签整理</p></li></ul><h4 id="页面内容划分"><a href="#页面内容划分" class="headerlink" title="页面内容划分"></a>页面内容划分</h4><ul><li>header：页眉,通常包括网站标志、主导航、全站链接以及搜索框。</li><li>nav：标记导航。</li><li>main：页面主要内容，一个页面只能用一次。</li><li>article：定义外部的内容，其中的内容独立于文档的其余部分。</li><li>aside：定义其所处内容之外的内容。如侧栏、文章的一组链接、广告、友情链接、相关产品列表等。</li><li>footer：页脚，只有当父级是body时，才是整个页面的页脚。</li></ul><h4 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h4><ul><li>title：定义文档标题,只能在head标签内出现。</li><li>hn：h1~h6，分级标题，与 title 协调有利于搜索引擎优化。</li></ul><h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><ul><li>ul：无序列表。</li><li>ol：有序列表。</li></ul><h4 id="强调和引用"><a href="#强调和引用" class="headerlink" title="强调和引用"></a>强调和引用</h4><ul><li>small：呈现小号字体效果，指定细则，输入免责声明、注解、署名、版权。</li><li>strong：和 em 标签一样，用于强调文本，但它强调的程度更强一些。</li><li>em：将其中的文本表示为强调的内容，表现为斜体。</li><li>mark：使用黄色突出显示部分文本。</li><li>cite：表示所包含的文本对某个参考文献的引用，比如书籍或者杂志的标题。</li><li>blockquoto：块级引用，块引用拥有它们自己的空间。</li><li>q：短的引述，引用写过的内容。</li><li>code：标记代码。</li></ul><h2 id="三、课后个人总结："><a href="#三、课后个人总结：" class="headerlink" title="三、课后个人总结："></a><strong>三、课后个人总结：</strong></h2><p>回顾了常见的HTML语义化标签，进一步了解语义化标签优势。</p><h2 id="四、引用参考："><a href="#四、引用参考：" class="headerlink" title="四、引用参考："></a><strong>四、引用参考：</strong></h2><p><a href="https://link.juejin.cn/?target=_blanck">HTML语义化-CSDN</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 青训营 </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vite跟学笔记</title>
      <link href="/post/db5b.html"/>
      <url>/post/db5b.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vite跟学笔记"><a href="#Vite跟学笔记" class="headerlink" title="Vite跟学笔记"></a>Vite跟学笔记</h1><p>正经人谁学Vite啊</p><h2 id="Vite系列课程前言"><a href="#Vite系列课程前言" class="headerlink" title="Vite系列课程前言"></a>Vite系列课程前言</h2><h3 id="冰山一角"><a href="#冰山一角" class="headerlink" title="冰山一角"></a>冰山一角</h3><ol><li><p>Vite: 思维比较前卫而且先进的构建工具 他确实解决了一些webpack解决不了的问题, 同时降低了一些心智负担</p></li><li><p>已经有一些大厂在使用Vite去构建项目</p></li><li><p>Vite基于自己得天独厚的优势, 他未来一定会占有一席之地 前段时间阿里的面试已经在问Vite了</p></li><li><p>Vite是Vue团队的官方出品, 背靠这么大的生态, Vue-cli会在下面两个版本中将vite作为预设构建工具 </p></li><li><p>未来你使用vue-cli去构建vue项目的时候你要写的vue.config.js不再是webpack的配置而是vite的配置(目前只基于浏览器项目)</p></li><li><p>Vite也支持直接构建react项目, 也支持构建angular项目, svelte项目也支持构建</p></li></ol><h3 id="学习模块"><a href="#学习模块" class="headerlink" title="学习模块"></a>学习模块</h3><ol><li>什么是构建工具? </li><li>webpack的一个缺点在哪</li><li>es module的规范</li><li>vite他到底是什么东西 </li><li>vite的基本安装和使用</li><li>vite的编译结果</li><li>vite编译结果的分析</li><li>vite的配置文件(可能会有节课程)</li><li>vite中处理css, 静态资源怎么去做</li><li>vite的插件以及常用插件的使用</li><li>vite与ts的结合</li><li>vite生产打包</li><li>vite构建react项目, svelte项目, vue3项目</li><li>vite的一个构建原理 </li></ol><h2 id="什么是构建工具"><a href="#什么是构建工具" class="headerlink" title="什么是构建工具"></a>什么是构建工具</h2><p><strong>浏览器它只能识别html css js</strong></p><h3 id="企业及项目可能具备哪些功能"><a href="#企业及项目可能具备哪些功能" class="headerlink" title="企业及项目可能具备哪些功能"></a>企业及项目可能具备哪些功能</h3><ol><li>typescript: 如果遇到ts文件我们需要使用tsc将typescript代码转换为js代码   </li><li>React/Vue: 安装react-compiler / vue-complier, 将我们写的jsx文件或者.vue文件转换为render函数</li><li>less/sass/postcss/component-style: 我们又需要安装less-loader, sass-loader等一系列编译工具</li><li>语法降级: babel —&gt; 将es的新语法转换旧版浏览器可以接受的语法</li><li>体积优化: uglifyjs —&gt; 将我们的代码进行压缩变成体积更小性能更高的文件</li><li>…..</li></ol><p>稍微改一点点东西, 非常麻烦</p><blockquote><p>e.g.将App.tsx —&gt; tsc —&gt; App.jsx —&gt; React-complier —&gt; js文件 </p></blockquote><p>有一个东西能够帮你把tsc, react-compiler, less, babel, uglifyjs全部集成到一起，让我们只需要关心我们写的代码就好了 </p><blockquote><p>e.g.我们写的代码一变化 —&gt; 有人帮我们自动去tsc, react-compiler, less, babel, uglifyjs全部挨个走一遍 —&gt; js</p></blockquote><p>↑这个东西就叫做<strong>构建工具</strong></p><blockquote><p>打包: 将我们写的浏览器不认识的代码 交给构建工具进行编译处理的过程就叫做打包, 打包完成以后会给我们一个浏览器可以认识的文件</p></blockquote><h3 id="构建工具承担的工作"><a href="#构建工具承担的工作" class="headerlink" title="构建工具承担的工作"></a>构建工具承担的工作</h3><ol><li>模块化开发支持: 支持直接从node_modules里引入代码 + 多种模块化支持</li><li>处理代码兼容性: 比如babel语法降级, less,ts 语法转换(<strong>不是构建工具做的, 构建工具将这些语法对应的处理工具集成进来自动化处理</strong>)</li><li>提高项目性能: 压缩文件, <strong>代码分割</strong></li><li>优化开发体验: <ul><li>构建工具会帮你自动监听文件的变化, 当文件变化以后自动帮你调用对应的集成工具进行重新打包, 然后再浏览器重新运行（整个过程叫做热更新, hot replacement</li><li>开发服务器: 跨域的问题, 用react-cli create-react-element vue-cli  解决跨域的问题, </li></ul></li></ol><p>每次改一点 —&gt; 这个顺序还不能错 </p><h3 id="构建工具的作用"><a href="#构建工具的作用" class="headerlink" title="构建工具的作用"></a>构建工具的作用</h3><ol><li><p>构建工具让我们可以不用每次都关心我们的代码在浏览器中如何运行，我们只需要首次给构建工具提供一个配置文件（必须），有了这个集成的配置文件以后，我们就可以在下次需要更新的时候调用一次对应的命令就好了。</p></li><li><p>如果我们再结合热更新，我们就更加不需要管任何东西了。</p></li></ol><p>==它让我们不用关心生产的代码，也不用担心代码如何在浏览器运行，只需要关心我们开发怎么写得爽。==</p><h3 id="市面上主流构建工具"><a href="#市面上主流构建工具" class="headerlink" title="市面上主流构建工具"></a>市面上主流构建工具</h3><ul><li>webpack-国内主流</li><li>vite-国内主流，本次学习</li><li>parcel</li><li>esbuild-国内主流</li><li>rollup</li><li>grunt</li><li>gulp</li></ul><h2 id="vite相较于webpack的优势"><a href="#vite相较于webpack的优势" class="headerlink" title="vite相较于webpack的优势"></a>vite相较于webpack的优势</h2><blockquote><p>然而，当我们开始构建越来越大型的应用时，需要处理的 JavaScript 代码量也呈指数级增长。</p><p>包含数千个模块的大型项目相当普遍。基于 JavaScript 开发的工具就会开始遇到性能瓶颈：通常需要很长时间（甚至是几分钟！）才能启动开发服务器，即使使用模块热替换（HMR），文件修改后的效果也需要几秒钟才能在浏览器中反映出来。如此循环往复，迟钝的反馈会极大地影响开发者的开发效率和幸福感。</p><p>Vite 旨在利用生态系统中的新进展解决上述问题：浏览器开始原生支持 ES 模块，且越来越多 JavaScript 工具使用编译型语言编写。</p></blockquote><ul><li>==采取先开启开发服务器==</li><li>==不会把所有依赖都解析完==</li></ul><h3 id="构建工具存在的问题"><a href="#构建工具存在的问题" class="headerlink" title="构建工具存在的问题"></a>构建工具存在的问题</h3><p>项目越大，构建工具所需要处理的js代码就越多=&gt;构建工具需要很长时间才能启动开发服务器</p><h3 id="举一个webpack栗子"><a href="#举一个webpack栗子" class="headerlink" title="举一个webpack栗子"></a>举一个webpack栗子</h3><p>众所周知，==webpack支持多种模块化==，你的工程可能不止泡在浏览器端。</p><p>那webpack能不能改？一旦要改，将会动到它的大动脉。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loadsh = <span class="built_in">require</span>(<span class="string">&quot;loadsh&quot;</span>)<span class="comment">//commonjs规范</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span><span class="comment">//es6规范</span></span><br><span class="line">|</span><br><span class="line">|经过一定过程，webpack转换（构建工具是运行在服务端的）</span><br><span class="line">↓    </span><br><span class="line"><span class="keyword">const</span> loadsh = <span class="title function_">webpack_require</span>(<span class="string">&quot;loadsh&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="title function_">webpack_require</span>(<span class="string">&quot;vue&quot;</span>)</span><br><span class="line"></span><br><span class="line">延伸原理（不需要看懂）</span><br><span class="line">(<span class="keyword">function</span>(<span class="params">modules</span>)&#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">webpack_require</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    <span class="comment">//入口是index.js</span></span><br><span class="line">    <span class="comment">//通过webpack的配置文件得来的：webpack.config.js ./src/index.js</span></span><br><span class="line">    modules[entry](webpack_require);</span><br><span class="line">&#125;,(&#123;</span><br><span class="line">    <span class="string">&quot;./src/index.js&quot;</span>: <span class="function">(<span class="params">webpack_require</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> lodash = <span class="title function_">webpack_require</span>(<span class="string">&quot;lodash&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="title function_">webpack_require</span>(<span class="string">&quot;vue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>因为webpack支持多种模块化，它一旦开始必须要统一模块化代码，意味着它需要将所有的依赖全部读一遍。</p><h3 id="Vite呢？"><a href="#Vite呢？" class="headerlink" title="Vite呢？"></a>Vite呢？</h3><p>当然不！</p><p>两者侧重点不一样。Vite基于es module，更关注浏览器端的开发体验；而webpack更多关注兼容性。</p><h2 id="vite和webpack启动工程比较"><a href="#vite和webpack启动工程比较" class="headerlink" title="vite和webpack启动工程比较"></a>vite和webpack启动工程比较</h2><ol><li>是通过使用vue-cli去构建一个基于webpack的vue工程</li><li>使用vite去构建一个基于vite的vue工程</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="literal">-g</span> @vue/<span class="built_in">cli</span></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">yarn global add @vue/<span class="built_in">cli</span></span><br></pre></td></tr></table></figure><ul><li>全局安装: 这个依赖会被安装到你的用户目录, 某些依赖还会自动给你注入环境变量 别名注入一个vue<ul><li>webpack去找寻依赖的时候他并不会只找寻当前目录的node_modules, 他会依次往上找直到在根目录都没有找到对应的依赖, 他才会报错</li><li>所以我们全局安装的话无论在哪个文件夹下里都可以访问到这个依赖</li></ul></li><li>非全局安装<ul><li>生产状态: -S</li><li>开发状态: -D eslint </li></ul></li></ul><h2 id="搭建一个vite项目"><a href="#搭建一个vite项目" class="headerlink" title="搭建一个vite项目"></a>搭建一个vite项目</h2><h3 id="必须要理解的vite脚手架和vite"><a href="#必须要理解的vite脚手架和vite" class="headerlink" title="必须要理解的vite脚手架和vite"></a>必须要理解的vite脚手架和vite</h3><ol><li>全局安装create-vite ——vite脚手架</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn create vite</span><br></pre></td></tr></table></figure><ol start="2"><li>直接运行create-vite bin目录下的一个执行配置</li></ol><ul><li>​    误区：认为官网中使用对应yarn create构建项目的过程也是vite在做的事情</li><li>​    create-vite和vite的关系：前者内置了后者</li></ul><h4 id="什么是精装修？（doge）"><a href="#什么是精装修？（doge）" class="headerlink" title="什么是精装修？（doge）"></a>什么是精装修？（doge）</h4><blockquote><p>vue-cli/create-react-app：把vue/react都下好了，同时还帮忙把配置调整到了最佳实践</p><p>create-vite： 给你一套预设，下载了各种东西，并且做好了最佳实践的配置</p></blockquote><h4 id="区分"><a href="#区分" class="headerlink" title="区分"></a>区分</h4><ul><li>vite–&gt;webpack</li><li>create-vite–&gt;vue-cli</li></ul><h3 id="vite启动项目初体验"><a href="#vite启动项目初体验" class="headerlink" title="vite启动项目初体验"></a>vite启动项目初体验</h3><p>vite开箱即用（out of box）：你不需要做任何额外的配置就可以使用vite来帮助你处理构建工作。</p><p>在默认情况下，esmodule去导入资源的时候，要么是绝对路径，要么是相对。</p><p>既然最佳实践就是node_modules，那么为什么es官方在给我们导入非绝对路径和绝对路径资源的饿时候不默认帮我们搜寻node_modules呢？？</p><p>通过网络请求去找的，太消耗性能了。</p><h3 id="vite的预加载"><a href="#vite的预加载" class="headerlink" title="vite的预加载"></a>vite的预加载</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&quot;lodash&quot;</span>; <span class="comment">// lodash可能也import了其他的东西</span></span><br></pre></td></tr></table></figure><p>在处理的过程中如果说看到了有非绝对路径或者相对路径的引用, 他则会尝试开启路径补全</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&quot;/node_modules/.vite/lodash&quot;</span>; <span class="comment">// lodash可能也import了其他的东西</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> __vite__cjsImport0_lodash <span class="keyword">from</span> <span class="string">&quot;/node_modules/.vite/deps/lodash.js?v=ebe57916&quot;</span>;</span><br></pre></td></tr></table></figure><p>找寻依赖的过程是自当前目录依次向上查找的过程, 直到搜寻到根目录或者搜寻到对应依赖为止 /user/node_modules/lodash, ../</p><h4 id="生产和开发"><a href="#生产和开发" class="headerlink" title="生产和开发"></a>生产和开发</h4><p>yarn dev —&gt; 开发(每次依赖预构建所重新构建的相对路径都是正确的)</p><p>vite会全权交给一个叫做rollup的库去完成生产环境的打包</p><p>缓存 —&gt; </p><p>实际上vite在考虑另外一个问题的时候就顺便把这个问题解决了</p><p>commonjs 规范的导出 module.exports </p><p>有的包他是以commonjs规范的格式导出 axios </p><p><strong>依赖预构建</strong>: 首先vite会找到对应的依赖, 然后调用esbuild(对js语法进行处理的一个库), 将其他规范的代码转换成esmodule规范, 然后放到当前目录下的node_modules/.vite/deps, 同时对esmodule规范的各个模块进行统一集成 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> a  &#125; <span class="keyword">from</span> <span class="string">&quot;./a.js&quot;</span></span><br></pre></td></tr></table></figure><p>vite重写以后</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure><p>他解决了3个问题: </p><ol><li>不同的第三方包会有不同的导出格式(这个是vite没法约束人家的事情)</li><li>对路径的处理上可以直接使用.vite/deps, 方便路径重写</li><li>叫做网络多包传输的性能问题(也是原生esmodule规范不敢支持node_modules的原因之一), 有了依赖预构建以后无论他有多少的额外export 和import, vite都会尽可能的将他们进行集成最后只生成一个或者几个模块</li></ol><p>vite.config.js === webpack.config.hs</p><h1 id="vite-配置文件处理细节"><a href="#vite-配置文件处理细节" class="headerlink" title="vite 配置文件处理细节"></a>vite 配置文件处理细节</h1><ol><li>vite配置文件的语法提示<ol><li>如果你使用的是webstorm, 那你可以得到很好的语法补全</li><li>如果你使用是vscode或者其他的编辑器, 则需要做一些特殊处理</li></ol></li><li>关于环境的处理<br>过去我们使用webpack的时候, 我们要区分配置文件的一个环境<ul><li>webpack.dev.config</li><li>webpack.prod.config</li><li>webpack.base.config</li><li>webpackmerge</li></ul></li></ol><h1 id="vite和ts的结合"><a href="#vite和ts的结合" class="headerlink" title="vite和ts的结合"></a>vite和ts的结合</h1><blockquote><p>vite他天生就对ts支持非常良好, 因为vite在开发时态是基于esbuild, 而esbuild是天生支持对ts文件的转换的</p></blockquote><p>那么对ts的校验呢？</p><blockquote><p>vite只对ts文件进行转换, 并不会对ts文件进行类型检查</p></blockquote><ol><li>安装一个插件: vite-plugin-eslint</li></ol><p>  我们的这个插件只会在开发时态帮助我们校验ts语法</p><p>为什么我们在vite.config.js里可以使用esmodule: 主要是因为vite在读取配置文件并执行的前一刻会进行替换</p><h1 id="vite环境变量配置"><a href="#vite环境变量配置" class="headerlink" title="vite环境变量配置"></a>vite环境变量配置</h1><blockquote><p>环境变量: 会根据当前的代码环境产生值的变化的变量就叫做环境变量</p></blockquote><p>代码环境:</p><ol><li>开发环境</li><li>测试环境</li><li>预发布环境</li><li>灰度环境</li><li>生产环境</li></ol><p>举个例子: 百度地图sdk, 小程序的sdk</p><p>APP_KEY: 测试环境和生产还有开发环境是不一样的key </p><ul><li>开发环境: 110</li><li>生产环境: 111</li><li>测试环境: 112</li></ul><p>我们去请求第三方sdk接口的时候需要带上的一个身份信息</p><p>我们在和后端同学对接的时候, 前端在开发环境中请求的后端API地址和生产环境的后端API地址是一个吗？ 肯定不是同一个</p><ul><li>开发和测试: <a href="http://test.api/">http://test.api/</a></li><li>生产: <a href="https://api/">https://api/</a></li></ul><p>在vite中的环境变量处理:</p><p>vite内置了dotenv这个第三方库</p><p>dotenv会自动读取.env文件, 并解析这个文件中的对应环境变量 并将其注入到process对象下(但是vite考虑到和其他配置的一些冲突问题, 他不会直接注入到process对象下)</p><p>涉及到vite.config.js中的一些配置:</p><ul><li>root</li><li>envDir: 用来配置当前环境变量的文件地址</li></ul><p>vite给我们提供了一些补偿措施:我们可以调用vite的loadEnv来手动确认env文件</p><p>process.cwd方法: 返回当前node进程的工作目录</p><p>.env: 所有环境都需要用到的环境变量<br>.env.development: 开发环境需要用到的环境变量(默认情况下vite将我们的开发环境取名为development)<br>.env.production: 生产环境需要用到的环境变量(默认情况下vite将我们的生产环境取名为production)</p><p>yarn dev –mode development 会将mode设置为development传递进来</p><p>当我们调用loadenv的时候, 他会做如下几件事:</p><ol><li>直接找到.env文件不解释 并解析其中的环境变量 并放进一个对象里</li><li>会将传进来的mode这个变量的值进行拼接: <code>.env.development</code>,  并根据我们提供的目录去取对应的配置文件并进行解析, 并放进一个对象</li><li>我们可以理解为<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> baseEnvConfig = 读取.<span class="property">env</span>的配置</span><br><span class="line"><span class="keyword">const</span> modeEnvConfig = 读取env相关配置</span><br><span class="line"><span class="keyword">const</span> lastEnvConfig = &#123; ...baseEnvConfig, ...modeEnvConfig &#125;</span><br></pre></td></tr></table></figure></li></ol><p>如果是客户端, vite会将对应的环境变量注入到import.meta.env里去</p><p>vite做了一个拦截, 他为了防止我们将隐私性的变量直接送进import.meta.env中, 所以他做了一层拦截, 如果你的环境变量不是以VITE开头的, 他就不会帮你注入到客户端中去, 如果我们想要更改这个前缀, 可以去使用envPrefix配置</p><p>补充一个小知识: 为什么vite.config.js可以书写成esmodule的形式, 这是因为vite他在读取这个vite.config.js的时候会率先node去解析文件语法, 如果发现你是esmodule规范会直接将你的esmodule规范进行替换变成commonjs规范</p><h1 id="【原理篇】vite是怎么让浏览器可以识别-vue文件的"><a href="#【原理篇】vite是怎么让浏览器可以识别-vue文件的" class="headerlink" title="【原理篇】vite是怎么让浏览器可以识别.vue文件的"></a>【原理篇】vite是怎么让浏览器可以识别.vue文件的</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install vite</span><br></pre></td></tr></table></figure><p>yarn create 实际上就等于在安装create-vite脚手架 然后使用脚手架的指令去构建项目</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn create vite my-vue-app --template vue</span><br></pre></td></tr></table></figure><p>我们来实现一套简单的vite的开发服务器</p><ol><li>解决我们刚刚的这个问题</li><li>让大家对开发服务器的原理层面有一个基础的简单的认识</li></ol><p>会涉及到node的一些知识</p><p>koa: node端的一个框架</p><p>那么我们平时去访问一个网页的时候, 我们敲下域名: baidu.com</p><h1 id="在vite中处理css"><a href="#在vite中处理css" class="headerlink" title="在vite中处理css"></a>在vite中处理css</h1><p>vite天生就支持对css文件的直接处理</p><ol><li>vite在读取到main.js中引用到了Index.css</li><li>直接去使用fs模块去读取index.css中文件内容</li><li>直接创建一个style标签, 将index.css中文件内容直接copy进style标签里</li><li>将style标签插入到index.html的head中</li><li>将该css文件中的内容直接替换为js脚本(方便热更新或者css模块化), 同时设置Content-Type为js 从而让浏览器以JS脚本的形式来执行该css后缀的文件</li></ol><p>场景:</p><ul><li>一个组件最外层的元素类名一般取名 : wrapper</li><li>一个组件最底层的元素雷明明我们一般取名: .footer</li></ul><p>你取了footer这个名字, 别人因为没有看过你这个组件的源代码, 也可能去取名footer这个类名</p><p>最终可能会导致样式被覆盖（因为类名重复）, 这就是我们在协同开发的时候很容易出现的问题</p><p>cssmodule就是来解决这个问题的</p><p>大概说一下原理: </p><p>全部都是基于node</p><ol><li>module.css (module是一种约定, 表示需要开启css模块化)</li><li>他会将你的所有类名进行一定规则的替换（将footer 替换成 _footer_i22st_1）</li><li>同时创建一个映射对象{ footer: “_footer_i22st_1” }</li><li>将替换过后的内容塞进style标签里然后放入到head标签中 (能够读到index.html的文件内容)</li><li>将componentA.module.css内容进行全部抹除, 替换成JS脚本</li><li>将创建的映射对象在脚本中进行默认导出</li></ol><p>less(预处理器): less给我们提供了一些方便且非常实用的方法</p><h1 id="vite-config-js中css配置（modules篇）"><a href="#vite-config-js中css配置（modules篇）" class="headerlink" title="vite.config.js中css配置（modules篇）"></a>vite.config.js中css配置（modules篇）</h1><p>在vite.config.js中我们通过css属性去控制真个vite对于css的处理行为</p><ul><li>localConvention: 修改生成的配置对象的key的展示形式(驼峰还是中划线形式)</li><li>scopeBehaviour: 配置当前的模块化行为是模块化还是全局化 (有hash就是开启了模块化的一个标志, 因为他可以保证产生不同的hash值来控制我们的样式类名不被覆盖)</li><li>generateScopedName: 生成的类名的规则(可以配置为函数, 也可以配置成字符串规则: <a href="https://github.com/webpack/loader-utils#interpolatename">https://github.com/webpack/loader-utils#interpolatename</a>)</li><li>hashPrefix: 生成hash会根据你的类名 + 一些其他的字符串(文件名 + 他内部随机生成一个字符串)去进行生成, 如果你想要你生成hash更加的独特一点, 你可以配置hashPrefix, 你配置的这个字符串会参与到最终的hash生成, （hash: 只要你的字符串有一个字不一样, 那么生成的hash就完全不一样, 但是只要你的字符串完全一样, 生成的hash就会一样）</li><li>globalModulePaths: 代表你不想参与到css模块化的路径</li></ul><h1 id="vite配置文件中css配置流程-preprocessorOptions篇"><a href="#vite配置文件中css配置流程-preprocessorOptions篇" class="headerlink" title="vite配置文件中css配置流程(preprocessorOptions篇)"></a>vite配置文件中css配置流程(preprocessorOptions篇)</h1><p>主要是用来配置css预处理的一些全局参数</p><p>假设没有使用构建工具, 我们又想去编译less文件的话</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add less # lessc的编译器</span><br></pre></td></tr></table></figure><p>你只要安装了node, 你就可以使用node index.js</p><p>你只要安装了less 你就可以使用lessc去编译less文件</p><p>less是可以定义变量的</p><h2 id="sourceMap"><a href="#sourceMap" class="headerlink" title="sourceMap"></a>sourceMap</h2><p>文件之间的索引: </p><p>假设我们的代码被压缩或者被编译过了, 这个时候假设程序出错, 他将不会产生正确的错误位置信息 如果设置了sourceMap, 他就会有一个索引文件map </p><p>sourceMap解决的问题极其的微小, 但是他的实现过程非常的复杂</p><h1 id="postcss"><a href="#postcss" class="headerlink" title="postcss"></a>postcss</h1><p>vite天生对postcss有非常良好的支持</p><p>全屋净水系统有一个了解</p><p>水龙头里来的水是自来水 </p><p>自来水 从 管道里 先到这个全屋净水系统 给全屋净水系统做一些插槽 —&gt; 去除砂砾 –&gt; 净化细菌微生物 —&gt; … –&gt; 输送到水龙头 –&gt; 我们可以喝的纯净水 （为了保证到我们嘴里喝的水是万无一失）</p><p>postcss 他的工作基本和全屋净水系统一致: 保证css在执行起来是万无一失的</p><p><strong>都对postcss有一个误区: 他们认为postcss和less sass是差不多级别</strong></p><p>我们写的css代码(怎么爽怎么来) –&gt; postcss —&gt; less –&gt; 再次对未来的高级css语法进行降级 –&gt; 前缀补全 –&gt; 浏览器客户端 </p><p>目前来说 less和sass等一系列预处理器的postcss插件已经停止维护了 less插件 你自己去用less和sass编译完了, 然后你把编译结果给我</p><p><strong>所以业内就产生了一个新的说法: postcss是后处理器</strong> less的postcss的插件就ok了 </p><p>我们写的js代码(怎么爽怎么来) –&gt; babel –&gt; 将最新的ts语法进行转换js语法 –&gt; 做一次语法降级  –&gt; 浏览器客户端去执行</p><p>babel –&gt; 帮助我们让js执行起来万无一失 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;&#125; <span class="comment">// es6的写法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;&#125; <span class="comment">// es3的语法</span></span><br></pre></td></tr></table></figure><p>浏览器的兼容性你能考虑到吗, 预处理器并不能够解决这些问题:</p><ol><li>对未来css属性的一些使用降级问题</li><li>前缀补全: Google非常卷 –webkit </li></ol><h2 id="使用postcss"><a href="#使用postcss" class="headerlink" title="使用postcss"></a>使用postcss</h2><ol><li><p>安装依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add postcss-cli postcss -D</span><br></pre></td></tr></table></figure></li><li><p>书写描述文件</p></li></ol><p>postcss配置文件的格式</p><ul><li>postcss.config.js</li></ul><h1 id="为什么我们在服务端处理路径的时候一定要用path"><a href="#为什么我们在服务端处理路径的时候一定要用path" class="headerlink" title="为什么我们在服务端处理路径的时候一定要用path"></a>为什么我们在服务端处理路径的时候一定要用path</h1><h1 id="vite配置文件中css配置流程-postcss篇"><a href="#vite配置文件中css配置流程-postcss篇" class="headerlink" title="vite配置文件中css配置流程(postcss篇)"></a>vite配置文件中css配置流程(postcss篇)</h1><p>直接在css.postcss中进行配置, 该属性直接配置的就是postcss的配置</p><ul><li>postcss-preset-env: 支持css变量和一些未来css语法 自动补全(autoprefixer)</li></ul><h1 id="vite加载静态资源"><a href="#vite加载静态资源" class="headerlink" title="vite加载静态资源"></a>vite加载静态资源</h1><p>什么是静态资源？ </p><p>​    图片, 视频资源</p><p>除了动态API以外, 百分之九十九资源都被视作静态资源 API –&gt; 来了一个请求 /getUserName</p><p>vite对静态资源基本上是开箱即用的, 除了一些特殊情况(svg)</p><h1 id="resolve-alias的原理"><a href="#resolve-alias的原理" class="headerlink" title="resolve.alias的原理"></a>resolve.alias的原理</h1><h1 id="vite中处理svg资源"><a href="#vite中处理svg资源" class="headerlink" title="vite中处理svg资源"></a>vite中处理svg资源</h1><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul><li><p>vite对svg有特殊处理 (❌)</p></li><li><p>vite对svg依旧是开箱即用的</p></li><li><p>svg: scalable vector graphics 可伸缩矢量图形 (新的图片格式)</p></li><li><p>传统图片格式: jpg, jpeg…</p></li></ul><h2 id="svg特点"><a href="#svg特点" class="headerlink" title="svg特点"></a>svg特点</h2><ol><li><p>svg是不会失真的 </p></li><li><p>尺寸小</p></li></ol><h2 id="SVG缺点"><a href="#SVG缺点" class="headerlink" title="SVG缺点"></a>SVG缺点</h2><p>​    没法很好的去表示层次丰富的图片信息</p><blockquote><p> 前端领域里更多的是用svg 去做图标</p></blockquote><h1 id="vite在生产环境对静态资源的处理"><a href="#vite在生产环境对静态资源的处理" class="headerlink" title="vite在生产环境对静态资源的处理"></a>vite在生产环境对静态资源的处理</h1><p>当我们将工程进行打包以后, 会发现找不到原来的资源</p><p>baseUrl: “/“</p><p>打包后的静态资源为什么要有hash</p><p>浏览器是有一个缓存机制 静态资源名字只要不改, 那么他就会直接用缓存的</p><p>刷新页面: 请求的名字是不是同一个 读取缓存 </p><p>所以我们要尽量去避免名字一致</p><p>hash算法: 将一串字符串经过运算得到一个新的乱码字符串 全世界独一无二(uuid才是独一无二的 )</p><p>利用好hash算法 可以让我们更好的去控制浏览器的缓存机制</p><p>base64图片 </p><h1 id="vite插件"><a href="#vite插件" class="headerlink" title="vite插件"></a>vite插件</h1><p>插件是什么？</p><blockquote><p>vite会在生命周期的不同阶段中去调用不同的插件以达到不同的目的</p></blockquote><ol><li><p>生命周期: 其实就和我们人一样, vite从开始执行到执行结束, 那么着整个过程就是vite的生命周期</p></li><li><p>webpack: 输出html文件的一个插件 清除输出目录: clean-webpack-plugin</p></li><li><p>中间件 , 插件</p></li><li><p>redux中间件是干嘛的: redux会在整个生命周期的不同阶段去调用不同的中间件以达到不同的目的</p></li></ol><h1 id="vite-aliases"><a href="#vite-aliases" class="headerlink" title="vite-aliases"></a>vite-aliases</h1><p>插件学习由简入繁</p><p>vite-aliases可以帮助我们自动生成别名: 检测你当前目录下包括src在内的所有文件夹, 并帮助我们去生成别名</p><p>{</p><p>  “@”: “/**/src”,</p><p>  “@aseets”: “/**/src/assets”,</p><p>  “@components”: “/**/src/components”,</p><p>}</p><p>nvm: node的一个版本管理工具</p><h1 id="手写vite-alias插件"><a href="#手写vite-alias插件" class="headerlink" title="手写vite-alias插件"></a>手写vite-alias插件</h1><p>整个插件就是在vite的生命周期的不同阶段去做不同的事情 </p><p>比方说vue和react会给你提供一些生命周期函数:</p><ul><li><p>created</p></li><li><p>mounted</p></li></ul><p>生命周期钩子</p><p>我们去手写Vite-aliases其实就是抢在vite执行配置文件之前去改写配置文件</p><p>通过vite.config.js 返回出去的配置对象以及我们在插件的config生命周期中返回的对象都不是最终的一个配置对象</p><p>vite会把这几个配置对象进行一个merge合并</p><p>{…defaultConfig, …specifyConfig}</p><h1 id="vite常用插件之vite-plugin-html"><a href="#vite常用插件之vite-plugin-html" class="headerlink" title="vite常用插件之vite-plugin-html"></a>vite常用插件之vite-plugin-html</h1><p>webpack –&gt; webpack-html-plugin / clean-webpack-plugin (clean: true)</p><p>其实就是因为vite他内置了非常多的插件, 然后我们作为普通的开发者不需要承担这么高的心智负担</p><p>vue react </p><p>vite也集成了vue团队一贯的作风 减少心智负担 css-loader less-loader ts-loader</p><p>vite将很多核心插件全部内置了</p><p>就是帮我们动态的去控制整个html文件中内容</p><p>ejs在服务端会用的比较频繁 因为服务端可能经常会动态的去修改index.html的内容</p><h1 id="vite常用插件之vite-plugin-mock"><a href="#vite常用插件之vite-plugin-mock" class="headerlink" title="vite常用插件之vite-plugin-mock"></a>vite常用插件之vite-plugin-mock</h1><p>mock数据: 模拟数据</p><p>前后端一般是并行开发 用户列表 ( 接口文档 )</p><p>mock数据 去做你前端的工作 </p><ol><li>简单方式: 直接去写死一两个数据 方便调试</li></ol><ul><li><p>缺陷： </p><ul><li>没法做海量数据测试</li><li>没法获得一些标准数据 </li><li>没法去感知http的异常</li></ul><p>axios: http请求库 </p></li></ul><ol start="2"><li>mockjs: 模拟海量数据的， vite-plugin-mock的依赖项就是mockjs</li></ol><p><a href="https://github.com/vbenjs/vite-plugin-mock">https://github.com/vbenjs/vite-plugin-mock</a></p><p># 手写vite-plugin-mock</p><p>- config </p><p>- configureSever</p><p>- transformIndexHtml</p>]]></content>
      
      
      <categories>
          
          <category> 前端工程化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 构建工具 </tag>
            
            <tag> Vite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自我介绍</title>
      <link href="/post/7f89b6f6.html"/>
      <url>/post/7f89b6f6.html</url>
      
        <content type="html"><![CDATA[<p>我是一个大三学生55</p><p>是一个想成为前端开发工程师的有志青年555</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/4a17b156.html"/>
      <url>/post/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>友情链接</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
