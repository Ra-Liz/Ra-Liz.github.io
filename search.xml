<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‰ç«¯ vue2 leaflet ç¦»çº¿åœ°å›¾(ä»¥ç™¾åº¦åœ°å›¾ä¸ºä¾‹)</title>
      <link href="/post/df3e.html"/>
      <url>/post/df3e.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>ä¸‹è½½åœ°å›¾ç“¦ç‰‡â‡’ç“¦ç‰‡å­˜é¡¹ç›®ä¸­â‡’leafletæ¥å…¥åœ°å›¾ï¼Œç®€å•é…ç½®ä¸€ä¸‹</p><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://juejin.cn/post/7102330662425722894">https://juejin.cn/post/7102330662425722894</a>  å¦‚æœè§‰å¾—éš¾æ“ä½œå¯ä»¥çœ‹æœ¬æ–‡çš„è¯¦ç»†æ“ä½œæ­¥éª¤ã€‚</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç¦»çº¿åœ°å›¾æœ€å¥½ç¡®å®šå¥½ç¼©æ”¾çº§åˆ«å’Œåœ°å›¾çš„èŒƒå›´ï¼Œä¸ç„¶ç“¦ç‰‡æ•°é‡ä¼šç‰¹åˆ«å¤šï¼Œé¡¹ç›®æ‰“åŒ…ç›´æ¥æŒ‡æ•°çˆ†ç‚¸</p><blockquote><p>å‰ç½®ä¿¡æ¯ï¼šleafletçš„ç¼©æ”¾çº§åˆ«ä»1åˆ°18ï¼Œè¶Šå¤§è¶Šè¿‘ã€‚ä½¿ç”¨leafletæ—¶å€™ä¸€å®šè®°å¾—å¼•å…¥å…¶.cssæ–‡ä»¶ï¼Œä¸ç„¶ç“¦ç‰‡é”™ä½ï¼Œè¿™ä¸ªä¸ç”¨æ‹…å¿ƒï¼Œå…·ä½“ä»£ç æ”¾åœ¨ä¸‹é¢äº†ã€‚</p><p>leafletæ–‡æ¡£: <a href="https://leafletjs.cn/reference.html">https://leafletjs.cn/reference.html</a></p></blockquote><h2 id="å…·ä½“æ“ä½œ"><a href="#å…·ä½“æ“ä½œ" class="headerlink" title="å…·ä½“æ“ä½œ"></a>å…·ä½“æ“ä½œ</h2><ol><li><p>ä¸‹è½½ç“¦ç‰‡</p><ol><li>è¿è¡Œç¨‹åºä¸‹è½½åœ°å€ï¼š<a href="https://github.com/muddyrain/vue-ol-map">https://github.com/muddyrain/vue-ol-map</a>     å…¨èƒ½åœ°å›¾ä¸‹è½½å™¨-MapTileDownloader.rar<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_79e1fb7c-be34-460f-86e4-eb31aa918c1g.jpg" alt="img_v3_02ih_79e1fb7c-be34-460f-86e4-eb31aa918c1g"></li><li>é€‰æ‹©åœ°å›¾<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_1293936b-08e3-4998-a2fa-6adeb952699g.jpg" alt="img_v3_02ih_1293936b-08e3-4998-a2fa-6adeb952699g"></li><li>é€‰æ‹©åœ°ç†èŒƒå›´<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_22f81d98-f507-4748-8202-4ad0608394eg.jpg" alt="img_v3_02ih_22f81d98-f507-4748-8202-4ad0608394eg"></li><li>é€‰æ‹©åœ°å›¾çº§åˆ«<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_5e121bdd-d3a6-49a8-8661-263b7372ebdg.jpg" alt="img_v3_02ih_5e121bdd-d3a6-49a8-8661-263b7372ebdg"></li><li>ä¸‹è½½ï¼Œä¸éœ€è¦ä¸‹ä¸€æ­¥çš„æ‹¼æ¥ç¯èŠ‚<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_5649f686-4795-4e00-9e1d-3199aec949eg.png" alt="img_v3_02ih_5649f686-4795-4e00-9e1d-3199aec949eg"></li><li>æŸ¥çœ‹ä¸‹è½½ç»“æœ<img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/img_v3_02ih_4633f09a-8f70-47ee-ad14-9b1e26d96a7g.jpg" alt="img_v3_02ih_4633f09a-8f70-47ee-ad14-9b1e26d96a7g"></li></ol></li><li><p>ç“¦ç‰‡å­˜æ”¾</p><p>æŠŠ/16/17/18è¿™äº›æ–‡ä»¶å¤¹ç»™å¤åˆ¶åˆ°é¡¹ç›®/public/mapé‡Œ</p><p><img src="../images/%E5%89%8D%E7%AB%AF-vue2-leaflet-%E7%A6%BB%E7%BA%BF%E5%9C%B0%E5%9B%BE-%E4%BB%A5%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E4%B8%BA%E4%BE%8B/image-20250114193401872.png" alt="image-20250114193401872"></p></li><li><p>æ¥å…¥leafletï¼šé€šè¿‡å„ç§æ–¹å¼ä¸‹è½½åŒ…åˆ°é¡¹ç›®ã€‚è®°å¾—å¼•å…¥.cssæ–‡ä»¶ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶å¼•å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;leaflet/dist/leaflet.css&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨leaflet</p><ol><li><p>è¿æ¥æœ¬åœ°ç“¦ç‰‡çš„utilï¼Œæœ‰ä¸¤ä¸ªæ³¨æ„çš„ç‚¹ï¼Œè¯·çœ‹ä»£ç æ³¨é‡ŠğŸ‘‡  (æ–‡ä»¶ tileLayer.baidu.js éœ€è¦æ•´ä¸ªcopy)</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. ä¸¤ä¸ªåŒ…ï¼šproj4.js å’Œ proj4leaflet.jsï¼Œéœ€è¦ç»™é¡¹ç›®åŠ ä¸€ä¸‹</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;proj4&#x27;</span>)</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;proj4leaflet&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> L = <span class="built_in">require</span>(<span class="string">&#x27;leaflet&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. ç“¦ç‰‡æ–‡ä»¶ä½ç½®ï¼šæœ¬åœ°ç™¾åº¦åœ°å›¾ç¦»çº¿ç“¦ç‰‡åœ°å›¾</span></span><br><span class="line"><span class="keyword">const</span> titleD = <span class="string">&#x27;/map/&#123;z&#125;/&#123;x&#125;/&#123;y&#125;.png&#x27;</span></span><br><span class="line"><span class="keyword">var</span> urlPath = titleD</span><br><span class="line"></span><br><span class="line">L.<span class="property">CRS</span>.<span class="property">Baidu</span> = <span class="keyword">new</span> L.<span class="property">Proj</span>.<span class="title function_">CRS</span>(</span><br><span class="line">  <span class="string">&#x27;EPSG:900913&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs&#x27;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">resolutions</span>: (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> level = <span class="number">19</span></span><br><span class="line">      <span class="keyword">var</span> res = []</span><br><span class="line">      res[<span class="number">0</span>] = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>, <span class="number">18</span>)</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; level; i++) &#123;</span><br><span class="line">        res[i] = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>, <span class="number">18</span> - i)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> res</span><br><span class="line">    &#125;)(),</span><br><span class="line">    <span class="attr">origin</span>: [<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">    <span class="attr">bounds</span>: L.<span class="title function_">bounds</span>([<span class="number">20037508.342789244</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">20037508.342789244</span>]),</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">L.<span class="property">tileLayer</span>.<span class="property">baidu</span> = <span class="keyword">function</span> (<span class="params">option</span>) &#123;</span><br><span class="line">  option = option || &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> layer</span><br><span class="line">  <span class="keyword">var</span> subdomains = <span class="string">&#x27;0123456789&#x27;</span></span><br><span class="line">  <span class="keyword">switch</span> (option.<span class="property">layer</span>) &#123;</span><br><span class="line">    <span class="comment">//å•å›¾å±‚</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;vec&#x27;</span>:</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      layer = L.<span class="title function_">tileLayer</span>(urlPath, &#123;</span><br><span class="line">        <span class="attr">name</span>: option.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">subdomains</span>: subdomains,</span><br><span class="line">        <span class="attr">tms</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;img_d&#x27;</span>:</span><br><span class="line">      layer = L.<span class="title function_">tileLayer</span>(</span><br><span class="line">        <span class="string">&#x27;&lt;http://shangetu&gt;&#123;s&#125;.map.bdimg.com/it/u=x=&#123;x&#125;;y=&#123;y&#125;;z=&#123;z&#125;;v=009;type=sate&amp;fm=46&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">name</span>: option.<span class="property">name</span>,</span><br><span class="line">          <span class="attr">subdomains</span>: subdomains,</span><br><span class="line">          <span class="attr">tms</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;img_z&#x27;</span>:</span><br><span class="line">      layer = L.<span class="title function_">tileLayer</span>(</span><br><span class="line">        <span class="string">&#x27;&lt;http://online&gt;&#123;s&#125;.map.bdimg.com/tile/?qt=tile&amp;x=&#123;x&#125;&amp;y=&#123;y&#125;&amp;z=&#123;z&#125;&amp;styles=&#x27;</span> +</span><br><span class="line">          (option.<span class="property">bigfont</span> ? <span class="string">&#x27;sh&#x27;</span> : <span class="string">&#x27;sl&#x27;</span>) +</span><br><span class="line">          <span class="string">&#x27;&amp;v=020&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">name</span>: option.<span class="property">name</span>,</span><br><span class="line">          <span class="attr">subdomains</span>: subdomains,</span><br><span class="line">          <span class="attr">tms</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;custom&#x27;</span>: <span class="comment">//Custom å„ç§è‡ªå®šä¹‰æ ·å¼</span></span><br><span class="line">      <span class="comment">//å¯é€‰å€¼ï¼šdark,midnight,grayscale,hardedge,light,redalert,googlelite,grassgreen,pink,darkgreen,bluish</span></span><br><span class="line">      option.<span class="property">customid</span> = option.<span class="property">customid</span> || <span class="string">&#x27;midnight&#x27;</span></span><br><span class="line">      <span class="comment">// layer = L.tileLayer(&#x27;&lt;http://api&gt;&#123;s&#125;.map.bdimg.com/customimage/tile?&amp;x=&#123;x&#125;&amp;y=&#123;y&#125;&amp;z=&#123;z&#125;&amp;scale=1&amp;customid=&#x27; + option.customid, &#123;</span></span><br><span class="line">      <span class="comment">//     name: option.name, subdomains: &quot;012&quot;, tms: true</span></span><br><span class="line">      <span class="comment">// &#125;);</span></span><br><span class="line">      layer = L.<span class="title function_">tileLayer</span>(urlPath, &#123;</span><br><span class="line">        <span class="attr">name</span>: option.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">subdomains</span>: subdomains,</span><br><span class="line">        <span class="attr">tms</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;time&#x27;</span>: <span class="comment">//å®æ—¶è·¯å†µ</span></span><br><span class="line">      <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>()</span><br><span class="line">      layer = L.<span class="title function_">tileLayer</span>(</span><br><span class="line">        <span class="string">&#x27;&lt;http://its.map.baidu.com:8002/traffic/TrafficTileService?x=&#123;x&#125;&amp;y=&#123;y&#125;&amp;level=&#123;z&#125;&amp;time=&gt;&#x27;</span> +</span><br><span class="line">          time +</span><br><span class="line">          <span class="string">&#x27;&amp;label=web2D&amp;v=017&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">name</span>: option.<span class="property">name</span>,</span><br><span class="line">          <span class="attr">subdomains</span>: subdomains,</span><br><span class="line">          <span class="attr">tms</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå¹¶</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;img&#x27;</span>:</span><br><span class="line">      layer = L.<span class="title function_">layerGroup</span>([</span><br><span class="line">        L.<span class="property">tileLayer</span>.<span class="title function_">baidu</span>(&#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;åº•å›¾&#x27;</span>,</span><br><span class="line">          <span class="attr">layer</span>: <span class="string">&#x27;img_d&#x27;</span>,</span><br><span class="line">          <span class="attr">bigfont</span>: option.<span class="property">bigfont</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">        L.<span class="property">tileLayer</span>.<span class="title function_">baidu</span>(&#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;æ³¨è®°&#x27;</span>,</span><br><span class="line">          <span class="attr">layer</span>: <span class="string">&#x27;img_z&#x27;</span>,</span><br><span class="line">          <span class="attr">bigfont</span>: option.<span class="property">bigfont</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">      ])</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> layer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ–‡ä»¶ä¸­åˆ›å»ºmapï¼Œè¦ç‚¹è¯·çœ‹ä»£ç ä¸­çš„æ³¨é‡ŠğŸ‘‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 1.åˆ›å»ºidä¸ºmapçš„å®¹å™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// <span class="number">2</span>.å¿…è¦çš„æ ·å¼</span><br><span class="line"><span class="selector-id">#map</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3. å¼•å…¥leaflet å¼•å…¥åˆšæ‰åˆ›å»ºçš„å·¥å…·å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> L <span class="keyword">from</span> <span class="string">&quot;leaflet&quot;</span>;</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&quot;@/utils/tileLayer.baidu&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. åˆ›å»ºmap</span></span><br><span class="line"><span class="title function_">setMap</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> latitude = <span class="number">36.0671</span>;</span><br><span class="line">  <span class="keyword">let</span> longitude = <span class="number">120.3826</span>;</span><br><span class="line">  <span class="comment">// 5. æ ¹æ®éœ€æ±‚é…ç½®</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">map</span> = L.<span class="title function_">map</span>(<span class="string">&quot;map&quot;</span>, &#123;</span><br><span class="line">      <span class="comment">// åœ°å›¾ä¸­å¿ƒ </span></span><br><span class="line">    <span class="attr">center</span>: [latitude, longitude],</span><br><span class="line">    <span class="comment">// å½“å‰åº•å›¾ç¼©æ”¾çº§åˆ«</span></span><br><span class="line">    <span class="attr">zoom</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="comment">// ç¦æ­¢ç¼©æ”¾</span></span><br><span class="line">    <span class="attr">zoomControl</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">attributionControl</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// ç¦æ­¢æ‹–æ‹½</span></span><br><span class="line">    <span class="attr">dragging</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// æœ€å°ç¼©æ”¾çº§åˆ«</span></span><br><span class="line">    <span class="attr">minZoom</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="comment">// æœ€å¤§ç¼©æ”¾çº§åˆ«</span></span><br><span class="line">    <span class="attr">maxZoom</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">crs</span>: L.<span class="property">CRS</span>.<span class="property">Baidu</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  L.<span class="property">tileLayer</span>.<span class="title function_">baidu</span>(&#123; <span class="attr">layer</span>: <span class="string">&quot;vec&quot;</span> &#125;).<span class="title function_">addTo</span>(<span class="variable language_">this</span>.<span class="property">map</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> urlStr = <span class="built_in">require</span>(<span class="string">&quot;@/assets/image/device/device_icon.png&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> <span class="title class_">Icon</span> = L.<span class="title function_">icon</span>(&#123;</span><br><span class="line">    <span class="attr">iconUrl</span>: urlStr,</span><br><span class="line">    <span class="attr">iconSize</span>: [<span class="number">60</span>],</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> marker = L.<span class="title function_">marker</span>([latitude, longitude], &#123;</span><br><span class="line">    <span class="attr">icon</span>: <span class="title class_">Icon</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  marker</span><br><span class="line">    .<span class="title function_">addTo</span>(<span class="variable language_">this</span>.<span class="property">map</span>)</span><br><span class="line">    .<span class="title function_">bindPopup</span>(<span class="string">`ç»åº¦:<span class="subst">$&#123;longitude&#125;</span>&lt;br&gt; çº¬åº¦:<span class="subst">$&#123;latitude&#125;</span>`</span>)</span><br><span class="line">    .<span class="title function_">openPopup</span>();</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p>è¿™æ ·å°±å¯ä»¥äº†</p></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç»˜å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leaflet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰“ç®—è§„èŒƒä¸€ä¸‹åšå®¢</title>
      <link href="/post/7abf.html"/>
      <url>/post/7abf.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆæƒ³é‡æ–°è§„èŒƒä¸€ä¸‹åšå®¢å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæƒ³é‡æ–°è§„èŒƒä¸€ä¸‹åšå®¢å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæƒ³é‡æ–°è§„èŒƒä¸€ä¸‹åšå®¢å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæƒ³é‡æ–°è§„èŒƒä¸€ä¸‹åšå®¢å‘¢ï¼Ÿ</h2><p>æœ€è¿‘ä¸šä½™æ—¶é—´ç»å¸¸ä¼šçœ‹å‘¨åˆŠï¼Œæœºç¼˜å·§åˆä¸‹åˆæ•è·åˆ°äº†å‡ ä¸ªä¸é”™çš„æ–‡ç« ç«™ç‚¹ã€‚</p><p>ä¸€ä¸ªç«™ç‚¹æ˜¯<a href="https://juejin.cn/user/3579665587900030/posts">XboxYanå¤§ä½¬çš„çº¯CSSå®ç°åŠŸèƒ½åˆé›†</a>ï¼Œå¦ä¸€ä¸ªç«™ç‚¹æ˜¯<a href="https://spacexcode.com/">èŒƒå…„ç‰¹åˆ«ç®€æ˜ä¸”ä¼˜é›…çš„ä¸ªäººåšå®¢</a>ã€‚</p><p>è·Ÿç€ä¸¤ä½å¤§ä½¬å†™äº†ä¸å°‘å°åŠŸèƒ½ï¼Œè€Œä¸”çœ‹å®ŒèŒƒå…„çš„2023å¹´åº¦æ€»ç»“æ–‡ç« å¿ƒæ½®æ¾æ¹ƒã€‚</p><p>è½¬çœ¼çœ‹çœ‹è‡ªå·±çš„åšå®¢ï¼Œè¥å…»ä»·å€¼æä½ï¼Œè€Œä¸”æœ‰çš„å¤ªå•°å—¦äº†ï¼ˆå­¦ç”Ÿæ—¶ä»£å†™çš„ä¸œè¥¿è®©ç°åœ¨çš„è‡ªå·±æ„Ÿåˆ°ä¸€å¤´é—®å·ï¼‰ï¼Œæ‰€ä»¥æ‰“ç®—æŠŠè‡ªå·±çš„åšå®¢ç¿»ä¿®ä¸€ä¸‹ã€‚</p><p>è®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–ï¼Œä»è¿™é‡ŒåŠ¨æ€è®°å½•ç›–æˆ¿å­è£…ä¿®è¿‡ç¨‹å§ã€‚</p><ol><li>æ–‡ç« çš„åˆ†ç±»å’Œæ ‡ç­¾æ•´ç†ä¸€ä¸‹âˆš</li><li>æ²¡ç”¨çš„æ–‡ç« å¾—åˆ ä¸€ä¸‹äº†</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ€è€ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨leafletç»˜åˆ¶åœ°å›¾ï¼Œåœ°å›¾åŒ…å«ç«™ç‚¹</title>
      <link href="/post/4922.html"/>
      <url>/post/4922.html</url>
      
        <content type="html"><![CDATA[<ol><li><p>åˆ›å»ºä¸€ä¸ªå®¹å™¨</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = L.<span class="title function_">map</span>(<span class="string">&quot;map&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">center</span>: [<span class="number">41.486904</span>, <span class="number">122.621087</span>], <span class="comment">// ä¸­å¿ƒlo&amp;la</span></span><br><span class="line">        <span class="attr">zoom</span>: <span class="number">7.25</span>, <span class="comment">// ç¼©æ”¾çº§åˆ«</span></span><br><span class="line">        <span class="attr">zoomControl</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å°†zoomæ§ä»¶æ”¾å…¥å›¾ä¸­</span></span><br><span class="line">        <span class="attr">minZoom</span>: <span class="number">7</span>,</span><br><span class="line">        <span class="attr">maxZoom</span>: <span class="number">11</span>,</span><br><span class="line">        <span class="attr">zoomSnap</span>: <span class="number">0.25</span>, <span class="comment">// ç¼©æ”¾çº§åˆ«å€æ•°ï¼Œé»˜è®¤æ¥è¿‘æ•´æ•°ï¼Œè¿™é‡Œå…è®¸æ›´å¤§é¢—ç²’åº¦</span></span><br><span class="line">        <span class="attr">scrollWheelZoom</span>: <span class="literal">false</span>, <span class="comment">// can scroll everywhere</span></span><br><span class="line">        <span class="attr">smoothWheelZoom</span>: <span class="literal">true</span>, <span class="comment">// enable smooth zoom ?è¿™ä¸ªæ–‡æ¡£é‡Œæ²¡æ‰¾åˆ°</span></span><br><span class="line">        <span class="attr">smoothSensitivity</span>: <span class="number">0.4</span>, <span class="comment">// zoom speed. default is 1 åŒä¸Š</span></span><br><span class="line">        <span class="attr">attributionControl</span>: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦æ˜¾ç¤ºå½’å±ç‰ˆæƒ</span></span><br><span class="line">        <span class="attr">maxBounds</span>: [ <span class="comment">// æŒ‡å®šè¾¹ç•Œï¼Œè¶…å‡ºå¼¹å›</span></span><br><span class="line">          [<span class="number">47.709761542666</span>, <span class="number">139.81201171875</span>],</span><br><span class="line">          [<span class="number">33.063924198121</span>, <span class="number">104.21630859375</span>],</span><br><span class="line">        ],</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºæ …æ ¼å›¾å±‚<code>const BaseLayer = L.tileLayer(url)</code></p></li><li><p>å°†æ …æ ¼å›¾å±‚æ”¾å…¥å®¹å™¨<code>BaseLsyer.addTo(map)</code></p></li><li><p>æ ¹æ®åœ°å›¾æ–‡ä»¶åˆ›å»ºåœ°å›¾å¯¹è±¡ï¼Œæ”¾å…¥å®¹å™¨<code>L.geoJson(jsonæ•°æ®, &#123;style: ()â‡’&#123;&#125;, onEachFeature: ç»‘å®šäº‹ä»¶å›è°ƒ&#125;).addTo(map)</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* éƒ¨åˆ†äº‹ä»¶å›è°ƒ */</span></span><br><span class="line"><span class="comment">// é«˜äº®å›¾å±‚äº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">highlightFeature</span> = (<span class="params">e</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">shadowLayer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">removeLayer</span>(<span class="variable language_">this</span>.<span class="property">shadowLayer</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">city</span> = e.<span class="property">target</span>.<span class="property">feature</span>.<span class="property">properties</span>.<span class="property">name</span>;</span><br><span class="line">  <span class="comment">// é˜´å½±å±‚</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadowLayer</span> = L.<span class="title function_">geoJson</span>(e.<span class="property">target</span>.<span class="title function_">toGeoJSON</span>(), &#123;</span><br><span class="line">    <span class="attr">style</span>: &#123;</span><br><span class="line">      <span class="attr">fillColor</span>: <span class="string">&quot;#f2f9ff&quot;</span>,</span><br><span class="line">      <span class="attr">fillOpacity</span>: <span class="number">0.4</span>,</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&quot;#f2f9ff&quot;</span>,</span><br><span class="line">      <span class="attr">weight</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;).<span class="title function_">addTo</span>(<span class="variable language_">this</span>.<span class="property">map</span>);</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="variable language_">this</span>.<span class="property">shadowLayer</span>.<span class="property">_layers</span>;</span><br><span class="line">  <span class="keyword">const</span> values = <span class="title class_">Object</span>.<span class="title function_">values</span>(obj);</span><br><span class="line">  <span class="keyword">const</span> container = values[<span class="number">0</span>].<span class="property">_path</span>;</span><br><span class="line">  container.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">&quot;translateY(10px)&quot;</span>; <span class="comment">// ä½¿ç«‹ä½“</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">shadowLayer</span>.<span class="title function_">bringToFront</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é«˜äº®å±‚</span></span><br><span class="line">  <span class="keyword">let</span> originalLayer = e.<span class="property">target</span>;</span><br><span class="line">  originalLayer.<span class="title function_">setStyle</span>(&#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&quot;#C2F7FF &quot;</span>, <span class="comment">// è¾¹ç•Œçº¿é¢œè‰²</span></span><br><span class="line">    <span class="attr">fillColor</span>: <span class="string">&quot;#82E0FF&quot;</span>, <span class="comment">// åŒºåŸŸå¡«å……é¢œè‰²</span></span><br><span class="line">    <span class="attr">fillOpacity</span>: <span class="number">0.5</span>, <span class="comment">// åŒºåŸŸå¡«å……çš„é€æ˜åº¦</span></span><br><span class="line">    <span class="attr">weight</span>: <span class="number">2</span>, <span class="comment">// è¾¹ç•Œçº¿å®½åº¦</span></span><br><span class="line">  &#125;);</span><br><span class="line">  originalLayer.<span class="title function_">bringToFront</span>();</span><br><span class="line">&#125;;</span><br><span class="line">   </span><br><span class="line"><span class="comment">// ç¥›é™¤é«˜äº®äº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">resetHighlight</span> = (<span class="params">e</span>) =&gt; &#123;</span><br><span class="line">  geojson.<span class="title function_">resetStyle</span>(e.<span class="property">target</span>); <span class="comment">// è¿˜åŸåœ°å›¾æ ·å¼</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">shadowLayer</span>) &#123; <span class="comment">// åˆ å»é˜´å½±å±‚</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">removeLayer</span>(<span class="variable language_">this</span>.<span class="property">shadowLayer</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¼ æ ‡äº‹ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">onEachFeature</span> = (<span class="params">feature, layer</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">cityLayerMap</span>[feature.<span class="property">properties</span>.<span class="property">name</span>] = layer;</span><br><span class="line">  layer.<span class="title function_">on</span>(&#123;</span><br><span class="line">    <span class="attr">mouseover</span>: highlightFeature,</span><br><span class="line">    <span class="attr">mouseout</span>: resetHighlight,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>å°†éœ€è¦çš„å›¾å±‚è‡³äºé¡¶å±‚<code>geoLayer.bringToFront()</code></p></li><li><p>æ ¹æ®æ•°æ®æ˜¾ç¤ºmerker: è·å–æ•°æ®; å¤„ç†æ•°æ®; éå†ç”ŸæˆmarkerğŸ‘‡</p><ol><li>æ™®é€šmarker: <code>for()&#123;const aIcon = L.icon(iconUrl, className); L.marker([lo, la], &#123;icon: aIcon&#125;).addTo(map)&#125;</code></li><li>è‡ªå®šä¹‰marker: <code>....; const icon = L.divIcon(&#123;html: è‡ªå·±æ‹¼æ¥çš„å›¾æ ‡æ¨¡æ¿å­—ç¬¦ä¸²&#125;); ....</code></li></ol></li><li><p>ç»™markerç»‘å®šç›‘å¬ <code>marker.on(&#39;click/dblclick/....&#39;, () =&gt; &#123;active-shadow(ğŸ‘‡)/open/flyTo/cancelBefore&#125;)</code></p><ol><li>markeré«˜äº® <code>activeMarkerArr.push(marker); document.querySelector(â€¦).classList.toggle(â€™active); </code></li><li>æ‰€åœ¨åœ°å›¾å—é«˜äº® <code>const combineLayer = L.layerGroup([activeLayer, shadowLayer]); map.addLayer(combineLayer)</code></li><li>å–æ¶ˆmarkeré«˜äº® <code>toggle(&#39;active&#39;)</code></li><li>å–æ¶ˆåœ°å›¾å—é«˜äº® <code>map.removeLayer(combineLayer )</code></li></ol></li><li><p>è‹¥ç»“åˆå¤šé€‰æ¡†ï¼Œåˆ™éœ€<code>activeList.â€¦; activeMarkerArrâ€¦.;</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç»˜å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leaflet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>el-uploadå®ç°å›¾ç‰‡åˆ—è¡¨å±•ç¤ºä¸Šä¼ åˆ é™¤</title>
      <link href="/post/f90b.html"/>
      <url>/post/f90b.html</url>
      
        <content type="html"><![CDATA[<h1 id="elementui-el-uploadå®ç°å›¾ç‰‡åˆ—è¡¨å±•ç¤ºã€ä¸Šä¼ å’Œåˆ é™¤"><a href="#elementui-el-uploadå®ç°å›¾ç‰‡åˆ—è¡¨å±•ç¤ºã€ä¸Šä¼ å’Œåˆ é™¤" class="headerlink" title="elementui el-uploadå®ç°å›¾ç‰‡åˆ—è¡¨å±•ç¤ºã€ä¸Šä¼ å’Œåˆ é™¤"></a>elementui el-uploadå®ç°å›¾ç‰‡åˆ—è¡¨å±•ç¤ºã€ä¸Šä¼ å’Œåˆ é™¤</h1><p>halohalohaloå¥½ä¹…ä¸è§</p><h2 id="ä¸šåŠ¡éœ€æ±‚"><a href="#ä¸šåŠ¡éœ€æ±‚" class="headerlink" title="ä¸šåŠ¡éœ€æ±‚"></a><strong>ä¸šåŠ¡éœ€æ±‚</strong></h2><p>å¢åŠ å’Œä¿®æ”¹å†…å®¹ä¸­åŒ…å«ä¸€ä¸ªå›¾ç‰‡è·¯å¾„åˆ—è¡¨ï¼Œéœ€è¦å¯¹å›¾ç‰‡åˆ—è¡¨è¿›è¡Œå±•ç¤ºå’Œæ“ä½œï¼ˆæ·»åŠ ã€é¢„è§ˆã€æŸ¥çœ‹å¤§å›¾ã€ä¸‹è½½ã€åˆ é™¤ï¼‰</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a><strong>åˆ†æ</strong></h2><ul><li>å¼¹å‡ºæ¡†ä¸­ä½¿ç”¨<code>el-upload</code>ç»„ä»¶å±•ç¤ºå’Œæ“ä½œå›¾ç‰‡åˆ—è¡¨ï¼Œå‚è€ƒæ•ˆæœï¼š<a href="https://element.eleme.io/#/zh-CN/component/upload#wen-jian-suo-lue-tu">https://element.eleme.io/#/zh-CN/component/upload#wen-jian-suo-lue-tu</a></li><li>å…³é—­å¼¹å‡ºæ¡†/ç‚¹å‡»å–æ¶ˆæ—¶ï¼Œéœ€è¦å°†æ­¤æ¬¡å›¾ç‰‡åˆ—è¡¨æ–°å¢çš„å›¾ç‰‡åˆ å»ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´</li><li>ç›¸è¾ƒäºæ–°å¢å¼¹å‡ºæ¡†ï¼Œä¿®æ”¹å¼¹å‡ºæ¡†éœ€è¦äº‹å…ˆå±•ç¤ºä»åç«¯è·å–åˆ°çš„å›¾ç‰‡åˆ—è¡¨ï¼Œå› æ­¤éœ€è¦ä¸¤ä¸ª<code>el-upload</code>æ ‡ç­¾æ¥åˆ†ç±»</li></ul><h2 id="æ¥å£éœ€æ±‚"><a href="#æ¥å£éœ€æ±‚" class="headerlink" title="æ¥å£éœ€æ±‚"></a><strong>æ¥å£éœ€æ±‚</strong></h2><ul><li>æ·»åŠ å›¾ç‰‡POST</li><li>åˆ é™¤å›¾ç‰‡DELETE</li><li>æŸ¥è¯¢å›¾ç‰‡GET</li></ul><p>å…¶ä¸­ï¼Œ<code>el-upload</code>æ·»åŠ å›¾ç‰‡ä½¿ç”¨ç»„ä»¶å‚æ•°æ–¹å¼è®¾ç½®ï¼ŒæŸ¥è¯¢äº¦æ˜¯æ— éœ€æ‰‹åŠ¨è·å–ã€‚åˆ é™¤éœ€è¦æ‰‹åŠ¨ã€‚</p><p><img src="../images/el-upload%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA%E4%B8%8A%E4%BC%A0%E5%88%A0%E9%99%A4/image-20241021201854790.png" alt="image-20241021201854790"></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">imgUrl</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_BASE_API</span> + <span class="string">&quot;/system/deviceFault/uploadPhoto&quot;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥åˆ†æ–°å¢å’Œä¿®æ”¹ä¸¤ç§æ¥é˜è¿°ä»£ç æ„å»ºè¿‡ç¨‹</p><h3 id="æ–°å¢"><a href="#æ–°å¢" class="headerlink" title="æ–°å¢"></a><strong>æ–°å¢</strong></h3><p>é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ä¸ªå›¾ç‰‡åˆ—è¡¨ï¼Œå¯ä»¥ä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼Œæ‰€ä»¥è®¾ç½®å¥½multipleæ”¯æŒå¤šå¼ å›¾ç‰‡\list-typeå›¾ç‰‡å±•ç¤ºæ–¹å¼\file-listç»‘å®šå›¾ç‰‡åˆ—è¡¨æ•°æ®\limitå›¾ç‰‡æ•°é‡é™åˆ¶@exceedè¶…å‡ºé™åˆ¶å›è°ƒã€‚</p><p>å…¶æ¬¡ï¼Œåƒåç«¯ä¸Šä¼ å›¾ç‰‡æœ‰æŒ‡å®šè·¯å¾„ï¼Œä¸”ä¸€èˆ¬æœ‰è®¤è¯è¯·æ±‚å¤´ï¼Œæ‰€ä»¥è®¾ç½®å¥½headerè¯·æ±‚å¤´\imgUrlè·¯å¾„ã€‚</p><p>éšåï¼Œå›¾ç‰‡ä¸Šä¼ æˆåŠŸéœ€è¦æœ‰ä¸€ä¸ªå›è°ƒæ¥å±•ç¤ºå›æ˜¾å›¾ç‰‡åˆ—è¡¨ï¼Œæ‰€ä»¥è®¾ç½®å¥½@successä¸Šä¼ æˆåŠŸåå›è°ƒã€‚</p><p>ç„¶åï¼Œå¯¹å›¾ç‰‡çš„æ“ä½œéœ€è¦å‡ ä¸ªå›è°ƒï¼Œåˆ†åˆ«æ˜¯æŸ¥çœ‹å¤§å›¾ã€ä¸‹è½½å’Œåˆ é™¤ã€‚</p><p>æœ€åï¼Œå¼¹å‡ºæ¡†å…³é—­æˆ–ç‚¹å‡»å–æ¶ˆæ—¶ï¼Œä¸Šä¼ æˆåŠŸçš„æ–‡ä»¶åˆ—è¡¨éœ€è¦åˆ æ‰ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"> &lt;-! å¯ä»¥ä½¿ç”¨ v-<span class="keyword">else</span> åˆ†ä¸€æ³¢æ–°å¢uploadè¿˜æ˜¯åˆ é™¤uplaod --&gt;</span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">el-upload</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:action</span>=<span class="string">&quot;imgUrl&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:headers</span>=<span class="string">&quot;&#123; Token: Token &#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">list-type</span>=<span class="string">&quot;picture-card&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:on-success</span>=<span class="string">&quot;handleUploadSuccess&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">multiple</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:file-list</span>=<span class="string">&quot;picList&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:limit</span>=<span class="string">&quot;4&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  <span class="attr">:on-exceed</span>=<span class="string">&quot;handleExceed&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">slot</span>=<span class="string">&quot;default&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-plus&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;file&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; file &#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">img</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-thumbnail&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:src</span>=<span class="string">&quot;file.url&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">alt</span>=<span class="string">&quot;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-actions&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-preview&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click</span>=<span class="string">&quot;handlePictureCardPreview(file)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-zoom-in&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-delete&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click</span>=<span class="string">&quot;handleDownload(file)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-download&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-delete&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click</span>=<span class="string">&quot;handleRemove(file)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-delete&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">&lt;-! å¤§å›¾é¢„è§ˆå¼¹æ¡† --&gt;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">:visible.sync</span>=<span class="string">&quot;previewOpen&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;previewImgUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span></span><br><span class="line"><span class="language-xml">    /* æ·»åŠ /ä¿®æ”¹å¼¹æ¡†ä¸­çš„é™„ä»¶å¤„ç† */</span></span><br><span class="line"><span class="language-xml">    // æ·»åŠ -@success</span></span><br><span class="line"><span class="language-xml">    handleUploadSuccess(response, file, fileList) &#123;</span></span><br><span class="line"><span class="language-xml">      this.picList = fileList;</span></span><br><span class="line"><span class="language-xml">    &#125;,</span></span><br><span class="line"><span class="language-xml">    // æ·»åŠ -@delete</span></span><br><span class="line"><span class="language-xml">    handleRemove(file) &#123;</span></span><br><span class="line"><span class="language-xml">      this.picList.forEach((item, index) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">        if (item.name == file.name) &#123;</span></span><br><span class="line"><span class="language-xml">          let pos = item.response.data.lastIndexOf(&quot;/&quot;);</span></span><br><span class="line"><span class="language-xml">          let name = item.response.data.slice(pos + 1);</span></span><br><span class="line"><span class="language-xml">          // æ¥å£-æ ¹æ®æ–‡ä»¶ååˆ é™¤å›¾ç‰‡</span></span><br><span class="line"><span class="language-xml">          deletePhoto(name).then((res) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">            this.picList.splice(index, 1);</span></span><br><span class="line"><span class="language-xml">          &#125;);</span></span><br><span class="line"><span class="language-xml">        &#125;</span></span><br><span class="line"><span class="language-xml">      &#125;);</span></span><br><span class="line"><span class="language-xml">    &#125;,</span></span><br><span class="line"><span class="language-xml">    // é™„ä»¶æ•°é‡è¶…å‡º</span></span><br><span class="line"><span class="language-xml">    handleExceed() &#123;</span></span><br><span class="line"><span class="language-xml">      this.$message(&#123;</span></span><br><span class="line"><span class="language-xml">        message: &quot;æœ€å¤šåªèƒ½ä¸Šä¼ 4å¼ ç…§ç‰‡&quot;,</span></span><br><span class="line"><span class="language-xml">        type: &quot;warning&quot;,</span></span><br><span class="line"><span class="language-xml">      &#125;);</span></span><br><span class="line"><span class="language-xml">      return;</span></span><br><span class="line"><span class="language-xml">    &#125;,</span></span><br><span class="line"><span class="language-xml">    // å›¾ç‰‡é¢„è§ˆ</span></span><br><span class="line"><span class="language-xml">    handlePictureCardPreview(file) &#123;</span></span><br><span class="line"><span class="language-xml">      this.previewImgUrl = file.url;</span></span><br><span class="line"><span class="language-xml">      this.previewOpen = true;</span></span><br><span class="line"><span class="language-xml">    &#125;,</span></span><br><span class="line"><span class="language-xml">    // å›¾ç‰‡ä¸‹è½½</span></span><br><span class="line"><span class="language-xml">    handleDownload(file) &#123;</span></span><br><span class="line"><span class="language-xml">      if (file.url.startsWith(&quot;blob&quot;)) &#123;</span></span><br><span class="line"><span class="language-xml">        // æ·»åŠ </span></span><br><span class="line"><span class="language-xml">        var link = document.createElement(&quot;a&quot;);</span></span><br><span class="line"><span class="language-xml">        link.href = file.url;</span></span><br><span class="line"><span class="language-xml">        link.download = &quot;é™„ä»¶å›¾ç‰‡.png&quot;;</span></span><br><span class="line"><span class="language-xml">        link.click();</span></span><br><span class="line"><span class="language-xml">        link.remove();</span></span><br><span class="line"><span class="language-xml">      &#125; else &#123;</span></span><br><span class="line"><span class="language-xml">      // ä¿®æ”¹</span></span><br><span class="line"><span class="language-xml">        fetch(file.url)</span></span><br><span class="line"><span class="language-xml">          .then((response) =&gt; response.blob())</span></span><br><span class="line"><span class="language-xml">          .then((blob) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">            const url = URL.createObjectURL(blob);</span></span><br><span class="line"><span class="language-xml">            const link = document.createElement(&quot;a&quot;);</span></span><br><span class="line"><span class="language-xml">            link.href = url;</span></span><br><span class="line"><span class="language-xml">            link.download = &quot;é™„ä»¶å›¾ç‰‡.png&quot;;</span></span><br><span class="line"><span class="language-xml">            link.click();</span></span><br><span class="line"><span class="language-xml">            link.remove();</span></span><br><span class="line"><span class="language-xml">            URL.revokeObjectURL(url);</span></span><br><span class="line"><span class="language-xml">          &#125;)</span></span><br><span class="line"><span class="language-xml">          .catch((error) =&gt; console.error(error));</span></span><br><span class="line"><span class="language-xml">      &#125;</span></span><br><span class="line"><span class="language-xml">    &#125;, </span></span><br><span class="line"><span class="language-xml">    // éç¡®è®¤æ“ä½œå¼å…³é—­å¯¹è¯æ¡†å›è°ƒ</span></span><br><span class="line"><span class="language-xml">    cancel() &#123;</span></span><br><span class="line"><span class="language-xml">    this.open = false; // å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line"><span class="language-xml">    // æ¸…é™¤å¢åŠ å¼¹æ¡†ä¸­çš„å›¾ç‰‡åˆ—è¡¨</span></span><br><span class="line"><span class="language-xml">    if (this.picList &amp;&amp; this.picList.length &gt; 0) &#123;</span></span><br><span class="line"><span class="language-xml">    cancelAndDelete(this.picList)</span></span><br><span class="line"><span class="language-xml">    &#125;</span></span><br><span class="line"><span class="language-xml">    // åŒæ ·çš„æ–¹å¼æ¸…é™¤ä¿®æ”¹å¼¹æ¡†ä¸­çš„æ–°å¢çš„å›¾ç‰‡åˆ—è¡¨addUpdateFileList(çœç•¥)</span></span><br><span class="line"><span class="language-xml">    function cancelAndDelete(list) &#123;</span></span><br><span class="line"><span class="language-xml">        let deletePromises = list.map((item) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          let pos = item.response.data.lastIndexOf(&quot;/&quot;);</span></span><br><span class="line"><span class="language-xml">          let name = item.response.data.slice(pos + 1);</span></span><br><span class="line"><span class="language-xml">          return deletePhoto(name);</span></span><br><span class="line"><span class="language-xml">        &#125;);</span></span><br><span class="line"><span class="language-xml">        Promise.all(deletePromises).catch((error) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          console.error(error);</span></span><br><span class="line"><span class="language-xml">        &#125;);</span></span><br><span class="line"><span class="language-xml">      &#125;</span></span><br><span class="line"><span class="language-xml">    &#125;    </span></span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a><strong>ä¿®æ”¹</strong></h3><p>ä¸æ–°å¢ç¨æœ‰å‡ºå…¥çš„æ˜¯ï¼šä¿®æ”¹å¼¹å‡ºæ¡†éœ€è¦å…ˆå±•ç¤ºå·²å­˜åœ¨çš„å›¾ç‰‡é“¾æ¥ã€‚</p><p>å› æ­¤ï¼Œåˆ é™¤å½“åˆ é™¤è¿™æ ·ä¸€ä¸ªå›¾ç‰‡åˆ—è¡¨ä¸­çš„æ•°æ®æ—¶ï¼Œéœ€è¦ç°æ ¹æ®å½“å‰å›¾ç‰‡æ˜¯å¦å±äºæœ¬åœ°å›¾ç‰‡æ¥åˆ†ç±»æ“ä½œã€‚</p><p>ç‰¹åˆ«çš„ï¼Œå› ä¸ºè¡¨å•éç¡®è®¤å¼å…³é—­å®é™…ä¸Šæ˜¯ä¸è¿›è¡Œå¢æ”¹æ“ä½œçš„ï¼Œæ‰€ä»¥è¿™é‡Œel-uploadä¸­ç»‘å®šçš„å›è°ƒå®é™…æ˜¯ä¼ªåˆ é™¤ï¼Œå½“ç¡®è®¤/éç¡®è®¤æ—¶ï¼Œå†æ‰¹é‡æ‰§è¡ŒçœŸå®è¯·æ±‚ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–</span></span><br><span class="line"><span class="title function_">getRow</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="title function_">getRow</span>(id).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">updateList</span> = res.<span class="property">pics</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="attr">name</span>: item.<span class="property">name</span>,</span><br><span class="line">            <span class="attr">url</span>: item.<span class="property">url</span></span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•…éšœ-@success</span></span><br><span class="line"><span class="title function_">handleUploadSuccess1</span>(<span class="params">response, file, fileList</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">updateFileList</span> = fileList;</span><br><span class="line">  <span class="comment">// æ–°å¢çš„å›¾ç‰‡åˆ—è¡¨ï¼Œä¸ºäº†æ–¹ä¾¿ç‚¹éç¡®è®¤å¼å…³é—­å¯¹è¯æ¡†æ—¶æŠŠæ–°å¢çš„å›¾ç‰‡åˆ å»</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">addUpdateFileList</span>.<span class="title function_">push</span>(file);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•…éšœ-@delete</span></span><br><span class="line"><span class="title function_">handleRemove1</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">updateFileList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="property">name</span> == file.<span class="property">name</span>) &#123;</span><br><span class="line">        <span class="comment">// æ›´æ–°ç­‰å¾…åˆ é™¤åˆ—è¡¨</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">deleteUpdateFileList</span>.<span class="title function_">push</span>(</span><br><span class="line">          <span class="comment">// æ›´æ–°å›¾ç‰‡åˆ—è¡¨</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">updateFileList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ç¡®è®¤å¼</span></span><br><span class="line"><span class="title function_">saveForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 1.ä¿®æ”¹</span></span><br><span class="line">    <span class="comment">// ä¿å­˜è¡¨å•è¯·æ±‚...</span></span><br><span class="line">    <span class="comment">// ğŸ‘†updateFileListè¿™ä¸ªlistç”±ä¸¤ç§å›¾ç‰‡æ•°æ®ç»„æˆï¼Œä¸€ç§æ˜¯å·²å­˜åœ¨çš„åç«¯é“¾æ¥ï¼Œä¸€ç§æ˜¯æ–°å¢æœ¬åœ°çš„é“¾æ¥</span></span><br><span class="line">    <span class="comment">// ğŸ‘†æ‰€ä»¥è¦æœ‰ä¸€ä¸ªåˆ¤æ–­ï¼Œæ˜¯ä½¿ç”¨.response.dataè¿˜æ˜¯.url</span></span><br><span class="line">    <span class="comment">// ğŸ‘†è®°å¾—æŠŠæ•°æ®å¤„ç†æˆè¯·æ±‚å‚æ•°æ ¼å¼</span></span><br><span class="line">    <span class="comment">// åˆ é™¤ç­‰å¾…åˆ é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰å›¾ç‰‡ï¼Œå°†deleteUpdateFileListéå†åˆ é™¤</span></span><br><span class="line">    <span class="comment">// å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line">    <span class="comment">// æ¸…ç†ä¸€ä¸‹è¡¨å•æ•°æ®</span></span><br><span class="line">    <span class="comment">// 2.æ·»åŠ </span></span><br><span class="line">    <span class="comment">// ä¿å­˜è¡¨å•è¯·æ±‚ï¼Œæ¸…ç†è¡¨å•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æŠŠè¿™ä¸ªå¼¹å‡ºæ¡†æ‰€ç”¨åˆ°çš„æ•°æ®ç»™ç½®ç©º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> elementui </category>
          
      </categories>
      
      
        <tags>
            
            <tag> el-upload </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæœ‰æ•ˆä½¿ç”¨nvmæ§åˆ¶nodeç‰ˆæœ¬ï¼ˆæ‰‹åŠ¨æ“ä½œï¼Œæœ‰æ•ˆï¼‰</title>
      <link href="/post/5821.html"/>
      <url>/post/5821.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/MM5KZQDFLD9EXJLWVYJV710.gif" alt="MM5KZQDFLD9EXJLWVYJV710"></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å·¥ä½œä¸­é‡åˆ°é¡¹ç›®ä½¿ç”¨çš„nodeç‰ˆæœ¬æ¯”è¾ƒæ—©ï¼Œè¿™ä¸ªæ—¶å€™ä¸€èˆ¬ä¼šé€‰æ‹©ä¸¤ç§æ–¹å¼è§£å†³ï¼š</p><ol><li>ç›´æ¥å®‰è£…ä¸€ä¸ªæŒ‡å®šç‰ˆæœ¬çš„nodeï¼Œæ¯”è¾ƒç›´æ¥ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿åˆ‡æ¢</li><li>ä½¿ç”¨nvmç®¡ç†nodeç‰ˆæœ¬ï¼Œå¯ä»¥éšæ—¶åˆ‡æ¢nodeç‰ˆæœ¬ï¼Œä½†æ˜¯å®‰è£…é…ç½®æœ‰å¯èƒ½å‡ºç‚¹é—®é¢˜</li></ol><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910183708549.png" alt="image-20240910183708549"></p><p>æˆ‘å°±é‡åˆ°äº†ä¸Šå›¾çš„é—®é¢˜ï¼ŒæŸ¥äº†å¾ˆå¤šåœ°æ–¹ï¼Œæ²¡å•¥ç”¨ï¼Œæœ€åæ‰¾åˆ°äº†è¿™ä¸ªæ–¹æ³•ğŸ‘‡</p><p>åˆ«è·Ÿæˆ‘è¯´è¦åˆ å¹²å‡€nodeå†ä¸‹è½½nvmï¼Œinstallä¸æˆåŠŸéœ€è¦é…ç½®é•œåƒä»€ä¹ˆä»€ä¹ˆçš„ã€‚</p><p>ç›´æ¥ä¸‹è½½nodeåŒ…ï¼Œè§£å‹é‡å‘½åï¼Œæ”¾nvmæ–‡ä»¶å¤¹é‡Œï¼Œè°¢è°¢qvq</p><h2 id="è¯¦ç»†æ­¥éª¤"><a href="#è¯¦ç»†æ­¥éª¤" class="headerlink" title="è¯¦ç»†æ­¥éª¤"></a>è¯¦ç»†æ­¥éª¤</h2><ol><li><p>ä¸‹è½½å®‰è£…nvmï¼Œå‚è€ƒfccç»™å‡ºçš„æµç¨‹ï¼š<a href="https://www.freecodecamp.org/chinese/news/node-version-manager-nvm-install-guide/">https://www.freecodecamp.org/chinese/news/node-version-manager-nvm-install-guide/</a></p></li><li><p>æ‰‹åŠ¨ä¸‹è½½nodeåŒ… <a href="https://nodejs.org/zh-cn/download/prebuilt-binaries">https://nodejs.org/zh-cn/download/prebuilt-binaries</a></p><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910183800305.png" alt="image-20240910183800305"></p></li><li><p>è§£å‹nodeåŒ…ï¼Œé‡å‘½åï¼Œæ”¾å…¥nvmç›®å½•ä¸‹</p><p>é‡å‘½åï¼šv+ç‰ˆæœ¬ï¼Œè§ä¸‹å›¾</p><p>æ³¨æ„æ£€æŸ¥ä¸€ä¸‹è§£å‹æ˜¯æ€ä¹ˆè§£çš„ï¼Œåˆ«ç›®å½•å¥—ç›®å½•äº†</p><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910183919506.png" alt="image-20240910183919506"></p><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910184014644.png" alt="image-20240910184014644"></p><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910183952672.png" alt="image-20240910183952672"></p></li><li><p>æ£€æŸ¥æˆæ²¡æˆåŠŸ</p><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/image-20240910184059498.png" alt="image-20240910184059498"></p><p>æˆåŠŸäº†ã€‚</p></li></ol><p><img src="../images/%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E4%BD%BF%E7%94%A8nvm%E6%8E%A7%E5%88%B6node%E7%89%88%E6%9C%AC%EF%BC%88%E6%89%8B%E5%8A%A8%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%89%E6%95%88%EF%BC%89/Z_YTEMQ@%25_3PKXMM$D$F77Y.gif" alt="Z_YTEMQ@%_3PKXMM$D$F77Y"></p><p>å¯ä»¥ä»¿ç…§è¿™ä¸ªæ€è·¯è¯•ä¸€è¯•æï¼Œå¦‚æœæœ‰æ•ˆï¼Œæ¬¢è¿èµåŠ©æˆ‘ä¸€ç“¶çŸ¿æ³‰æ°´qvqï¼ˆæˆ–è€…ä½ è‡ªå·±å¤šå–ä¸€ç‚¹æ°´å“¦ï¼ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®é…ç½® </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é€‚ç”¨äºruoyi vue2çš„cesiumé…ç½®</title>
      <link href="/post/4de9.html"/>
      <url>/post/4de9.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>â€‹    æœ¬äººruoyi vue2æ¨¡æ¿æ­å»ºçš„ç®¡ç†é¡¹ç›®ä¸­é›†æˆCesiumï¼Œè¸©äº†è¯¸å¤šå‘ã€‚</p><p>â€‹    å„ç§æŸ¥é˜…å’Œçœ‹Demoï¼Œæµ‹è¯•å‡ºæ¥äº†å¯è¡Œçš„é…ç½®ã€‚ç‰¹æ¥åˆ†äº«ï¼Œæˆ–è®¸å¯ä»¥å‡å°‘å„ä½åŒä¼´è¸©åˆ°çš„å‘ï¼ˆå¦‚æœå¯ä»¥ï¼Œéº»çƒ¦åœ¨æ–‡ç« åº•éƒ¨ç•™ä¸ªè¨€ï¼Œæˆ‘æƒ³çŸ¥é“æœ‰å¤šå°‘æœ‹å‹ä¹Ÿåœ¨åšè¿™ä¸ªå·¥ä½œï¼‰ã€‚</p><h2 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h2><ol><li><p>ç‰ˆæœ¬é“ä¼ ç‰ˆæœ¬è¦<strong>â‰¤1.95.0</strong>ï¼Œè¿™é‡Œå‚è€ƒ<a href="https://github.com/syzdev/vue-cesium-start%E4%BD%BF%E7%94%A8%E4%BA%861.80.0%E7%89%88%E6%9C%AC">https://github.com/syzdev/vue-cesium-startä½¿ç”¨äº†1.80.0ç‰ˆæœ¬</a></p></li><li><p>æ·»åŠ ä¸€ä¸ªloader: @open-wc/webpack-import-meta-loader</p></li><li><p>vue.config.jsé…ç½®</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;webpack&quot;</span>)</span><br><span class="line"><span class="comment">// ....çœç•¥ï¼Œä¸çŸ¥é“ä½ èƒ½å¦ç†è§£ä¿ºä¸‹é¢å†™çš„æ³¨é‡Šï¼Œæœ‰é—®é¢˜å¯ä»¥ç•™è¨€é—®ï¼Œä¿ºçœ‹åˆ°ä¼šå›å¤çš„</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CopyPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;copy-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="comment">// ....</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ....</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="comment">// ....</span></span><br><span class="line">      <span class="comment">// cesium-copy-plugin[copyplugin prop type is array]</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">CopyPlugin</span>([&#123;</span><br><span class="line">        <span class="attr">from</span>: <span class="string">&#x27;node_modules/cesium/Build/Cesium/Workers&#x27;</span>,</span><br><span class="line">        <span class="attr">to</span>: <span class="string">&#x27;cesium/Workers&#x27;</span></span><br><span class="line">      &#125;]), <span class="keyword">new</span> <span class="title class_">CopyPlugin</span>([&#123;</span><br><span class="line">        <span class="attr">from</span>: <span class="string">&#x27;node_modules/cesium/Build/Cesium/ThirdParty&#x27;</span>,</span><br><span class="line">        <span class="attr">to</span>: <span class="string">&#x27;cesium/ThirdParty&#x27;</span></span><br><span class="line">      &#125;]), <span class="keyword">new</span> <span class="title class_">CopyPlugin</span>([&#123;</span><br><span class="line">        <span class="attr">from</span>: <span class="string">&#x27;node_modules/cesium/Build/Cesium/Assets&#x27;</span>,</span><br><span class="line">        <span class="attr">to</span>: <span class="string">&#x27;cesium/Assets&#x27;</span></span><br><span class="line">      &#125;]), <span class="keyword">new</span> <span class="title class_">CopyPlugin</span>([&#123;</span><br><span class="line">        <span class="attr">from</span>: <span class="string">&#x27;node_modules/cesium/Build/Cesium/Widgets&#x27;</span>,</span><br><span class="line">        <span class="attr">to</span>: <span class="string">&#x27;cesium/Widgets&#x27;</span></span><br><span class="line">      &#125;]), </span><br><span class="line">      <span class="comment">// cesium-resource-path</span></span><br><span class="line">      <span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">        <span class="attr">CESIUM_BASE_URL</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;./cesium&#x27;</span>), </span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// cesium-meta-loader</span></span><br><span class="line">    <span class="attr">module</span>: &#123;</span><br><span class="line">      <span class="attr">unknownContextCritical</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">rules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/.js$/</span>,</span><br><span class="line">          <span class="attr">use</span>: &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;@open-wc/webpack-import-meta-loader&quot;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">          <span class="attr">include</span>: <span class="regexp">/src/</span>,</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/.js$/</span>,</span><br><span class="line">          <span class="attr">use</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ceisum-multi-line</span></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">      <span class="attr">sourcePrefix</span>: <span class="string">&quot; &quot;</span>, </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// cesium-better-require</span></span><br><span class="line">    <span class="attr">amd</span>: &#123;</span><br><span class="line">      <span class="attr">toUrlUndefined</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">chainWebpack</span>(<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="comment">// cesium-babel-loader</span></span><br><span class="line">    config.<span class="property">module</span></span><br><span class="line">      .<span class="title function_">rule</span>(<span class="string">&#x27;babel&#x27;</span>)</span><br><span class="line">      .<span class="title function_">test</span>(<span class="regexp">/\\.js$/</span>)</span><br><span class="line">      .<span class="property">include</span></span><br><span class="line">      .<span class="title function_">add</span>(<span class="regexp">/node_modules\\/</span>@cesium/)</span><br><span class="line">      .<span class="title function_">end</span>()</span><br><span class="line">      .<span class="title function_">use</span>(<span class="string">&#x27;babel-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">loader</span>(<span class="string">&#x27;babel-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">options</span>(&#123;</span><br><span class="line">        <span class="attr">presets</span>: [<span class="string">&#x27;@babel/preset-env&#x27;</span>],</span><br><span class="line">        <span class="attr">plugins</span>: [</span><br><span class="line">          <span class="string">&#x27;@babel/plugin-proposal-optional-chaining&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;@babel/plugin-proposal-nullish-coalescing-operator&#x27;</span>,</span><br><span class="line">        ]</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// cesium-pile-deps</span></span><br><span class="line">  <span class="attr">transpileDependencies</span>: [</span><br><span class="line">    <span class="string">&#x27;@cesium&#x27;</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><img src="../images/%E9%80%82%E7%94%A8%E4%BA%8Eruoyi-vue2%E7%9A%84cesium%E9%85%8D%E7%BD%AE/Z_YTEMQ@%25_3PKXMM$D$F77Y.gif" alt="Z_YTEMQ@%_3PKXMM$D$F77Y"></p><p>å¥½äº†è¿™å°±æ˜¯å…¨éƒ¨é…ç½®å†…å®¹äº†ï¼Œå¸Œæœ›ä½ çš„é…ç½®è¿‡ç¨‹è¶…çº§é¡ºåˆ©ï¼Œå¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è®¸å¯ä»¥èµ„åŠ©æˆ‘ä¹°ä¸€ç“¶çŸ¿æ³‰æ°´qvqï¼ˆæˆ–è€…ä½ è‡ªå·±å¤šå–ä¸€ç‚¹æ°´å“¦ï¼ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ruoyi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰‹æ“â€”â€”å®ç°å¤šè§’æ ‡çš„é¢œè‰²/å€¼æ»‘åŠ¨æ¡</title>
      <link href="/post/5502.html"/>
      <url>/post/5502.html</url>
      
        <content type="html"><![CDATA[<h1 id="MyVisualMapå®ç°æ€è·¯ï¼ˆä¸åŒ…å«å®Œæ•´ä»£ç ï¼‰"><a href="#MyVisualMapå®ç°æ€è·¯ï¼ˆä¸åŒ…å«å®Œæ•´ä»£ç ï¼‰" class="headerlink" title="MyVisualMapå®ç°æ€è·¯ï¼ˆä¸åŒ…å«å®Œæ•´ä»£ç ï¼‰"></a>MyVisualMapå®ç°æ€è·¯ï¼ˆä¸åŒ…å«å®Œæ•´ä»£ç ï¼‰</h1><p>æ•ˆæœç±»ä¼¼è¿™ç§ï¼Œå®ç°æ–¹å¼æƒ³å¿…éå¸¸å¤šï¼Œæ¥ä¸‹æ¥ä»…è®²è§£æˆ‘çš„æ€è·¯ï¼Œå¯åšä¸€ç§å‚è€ƒã€‚</p><p><img src="../images/%E6%89%8B%E6%90%93%E2%80%94%E2%80%94%E5%AE%9E%E7%8E%B0%E5%A4%9A%E8%A7%92%E6%A0%87%E7%9A%84%E9%A2%9C%E8%89%B2-%E5%80%BC%E6%BB%91%E5%8A%A8%E6%9D%A1/img_v3_02e8_87c910d1-37c0-4302-8028-af56849c74bg.jpg" alt="img_v3_02e8_87c910d1-37c0-4302-8028-af56849c74bg"></p><h2 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a><strong>æè¿°</strong></h2><p>å®ç°ä¸€ä¸ªç±»echarts visualMapçš„å·¥å…·barï¼Œå¯ä»¥è°ƒæ•´ä¸€ä¸ªé«˜åº¦è‡ªå®šä¹‰çš„echartså›¾å½¢çš„valueså’Œcolors</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a><strong>åˆ†æ</strong></h2><p>å®ç°ä¸€ä¸ªå¸¦ä¸¤ç§æ¨¡å¼çš„å¤šè§’æ ‡(ç½‘ä¸Šæ™®éå«æ³•æ˜¯multiple handles)Sliderã€‚</p><p>æ¨¡å¼ä¸€ï¼ˆæ¸å˜æ¨¡å¼ï¼‰æ˜¯å›ºå®švaluesï¼Œä¿®æ”¹å¯¹åº”çš„colorsï¼Œæ­¤æ—¶æ»‘åŠ¨æ¡æ˜¯ä¸€ä¸ªæ¸å˜è‰²å—ï¼›</p><p>æ¨¡å¼äºŒï¼ˆéæ¸å˜æ¨¡å¼ï¼‰æ˜¯å›ºå®šcolorsï¼Œä¿®æ”¹å¯¹åº”çš„valuesï¼Œæ­¤æ—¶æ»‘åŠ¨æ¡æ˜¯ä¸€ä¸ªå¤šä¸ªè‰²å—ç»„æˆçš„å‡åŒ€æ¡ã€‚</p><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a><strong>æ€è·¯</strong></h2><p>å’±ä»¬æ…¢æ…¢æ¥ï¼Œæ‰‹æŒ«è‚¯å®šæ˜¯è¦ç”»ç‚¹æ—¶é—´çš„ï¼Œå–å£æ°´æ…¢æ…¢æ¥ã€‚</p><h3 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h3><ul><li>å‰ç½®å…±è¯†ï¼švalueså’Œcolorsä¸€ä¸€å¯¹åº”ï¼Œæ‹–æ‹½ç‰µæ‰¯åˆ°çš„å˜åŠ¨å±æ€§(top/heightç­‰)åœ¨ç»˜å›¾çš„æ—¶å€™éœ€è¦è€ƒè™‘åˆ°ï¼Œåˆ«æ¡†æ­»äº†ã€‚</li><li>å›ºå®šä¸€ä¸ªdivä½œä¸ºç››æ”¾è‰²å—å’Œè§’æ ‡çš„å®¹å™¨ï¼Œçµæ´»ä½¿ç”¨css-position-relative/absoluteï¼Œå¯¹åº”ç»™divä¸¤å—å­å…ƒç´ ã€‚<ul><li>é¢œè‰²å—-colorRef<ul><li>æ¸å˜æ¨¡å¼æ—¶ï¼Œå¯ä»¥ç›´æ¥ç»™colorRefè®¾ç½®ä¸€ä¸ª<code>linear-gradient(to bottom, $&#123;colorStr&#125;)</code>çš„èƒŒæ™¯è‰²ã€‚</li><li>éæ¸å˜æ¨¡å¼ï¼Œå¯ä»¥ç»™colorRefå‡åˆ†æˆcolors.lengthæ•°é‡çš„è‰²å—ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªé«˜åº¦ä¸ºheight/lençš„ä¸åŒé¢œè‰²çš„divï¼Œå…¶topå€¼ä¸ºidx * height/lenã€‚</li></ul></li><li>è§’æ ‡å—-textRef<ul><li>æ¸å˜æ¨¡å¼æ—¶ï¼ŒtextRefå‡åˆ†æˆheight/(len-1)ä¸ªï¼Œé‚£ä¹ˆæ¯ä¸ªè§’æ ‡çš„topå°± *idx æœ‰äº†ã€‚</li><li>éæ¸å˜æ¨¡å¼ï¼ŒtextRefå‡åˆ†æˆheight/lenä¸ªï¼ŒåŒæ ·é¡µç¡®å®šå¥½äº†æ¯ä¸ªè§’æ ‡çš„ä½ç½®ã€‚</li></ul></li></ul></li><li>ç”»è§’æ ‡å›¾å½¢ï¼šä¸€èˆ¬ä½¿ç”¨ç»˜åˆ¶ä¸‰è§’å½¢çš„æ–¹æ³•ï¼Œæˆ–è€…ä½¿ç”¨clip-path: polygon()ï¼Œæ¥ä¸‹æ¥ç®€å•ä»‹ç»ä¸€ä¸‹åè€…çš„ä½¿ç”¨æ–¹æ³•<ul><li>æ¯ä¸€ä¸ªâ€™,â€™ä¸ºä¸€ç»„ï¼Œæ¯ç»„ç»“æ„æ˜¯(xé•¿åº¦ yé•¿åº¦)ï¼š<code>clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);</code></li></ul></li><li>å…¶ä»–</li></ul><h3 id="ä¸å¸¦è®¡ç®—çš„äº¤äº’"><a href="#ä¸å¸¦è®¡ç®—çš„äº¤äº’" class="headerlink" title="ä¸å¸¦è®¡ç®—çš„äº¤äº’"></a>ä¸å¸¦è®¡ç®—çš„äº¤äº’</h3><ul><li>å‰ç½®å…±è¯†ï¼šæœ€ä¸Šè§’æ ‡å’Œæœ€ä¸‹è§’æ ‡ä¸å¯æ‹–æ‹½ï¼Œæ¯ä¸ªè§’æ ‡çš„æ‹–æ‹½åŒºåŸŸåœ¨å…¶å‰åè§’æ ‡ä½ç½®ä¹‹é—´ã€‚</li><li>ç»™éå†çš„è§’æ ‡å­©å­æ·»åŠ mousedownç›‘å¬ï¼Œç»‘å®šå¼€å§‹æ‹–æ‹½å‡½æ•°</li><li>å¼€å§‹æ‹–æ‹½(startDrag)<ul><li>è®°å½•å½“å‰è§’æ ‡index</li><li>è®°å½•å½“å‰è§’æ ‡è·è§†å£é¡¶éƒ¨è·ç¦»event.clientY</li><li>è®°å½•å½“å‰è§’æ ‡style.topï¼Œä»textRef.children[index].style.topä¸­æ‹¿</li><li>ç»™å½“å‰è§’æ ‡æ·»åŠ mousemoveå’Œmouseupç›‘å¬ï¼Œåˆ†åˆ«ç»‘å®šæ‹–æ‹½ä¸­å’Œç»“æŸæ‹–æ‹½å‡½æ•°</li></ul></li><li>æ‹–æ‹½ä¸­(Drag)<ul><li>æ ¹æ®å½“å‰æ–°event.clientYå’Œä¹‹å‰è®°å½•çš„åˆå§‹clientYï¼Œè®¡ç®—åç§»é‡</li><li>æ ¹æ®åç§»é‡å’Œä¹‹å‰è®°å½•çš„è§’æ ‡topï¼Œè®¡ç®—å‡ºæ–°çš„topå€¼</li><li>è¾¹ç•Œåˆ¤å®šï¼ˆæœ€å‰åä¸¤ä¸ªä¸æ‹–æ‹½ï¼Œï¼‰ç»™å½“å‰è§’æ ‡çš„style.topèµ‹æ–°topå€¼</li></ul></li><li>ç»“æŸæ‹–æ‹½(endDrag)<ul><li>å°†å¼€å§‹æ‹–æ‹½å‡½æ•°ä¸­æ¶‰åŠåˆ°çš„å‡ ä¸ªçŠ¶æ€é‡ç½®</li><li>å°†mousemoveå’Œmouseupä¸¤ä¸ªç›‘å¬é”€æ¯</li></ul></li></ul><h3 id="è®¡ç®—"><a href="#è®¡ç®—" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h3><ul><li><p>éæ¸å˜æ¨¡å¼ï¼Œæ‹–æ‹½æ›´æ–°colorå¯¹åº”çš„value</p><ul><li>æ ¹æ®å…¶ä¸Šä¸‹è§’æ ‡é—´è·(top1-top2)å’Œå…¶ç›¸å¯¹ä¸Šè§’æ ‡é—´è·(top-)ï¼Œè®¡ç®—æ–°valueå€¼ã€‚è¿™é‡Œæ³¨æ„æ•°æ®ç±»å‹å’Œç²¾ç¡®åº¦ï¼Œç²¾ç¡®åº¦å®Œå…¨å¯ä»¥ä½œä¸ºä¸€ä¸ªç»„ä»¶é…ç½®é¡¹</li><li>æ˜¾ç¤ºï¼šå°†è§’æ ‡æ–‡æœ¬éƒ¨åˆ†çš„innerTextæ›´æ–°ä¸ºæ–°valueå€¼</li><li>æ˜¾ç¤ºï¼šå°†ç‰µæ‰¯åˆ°çš„è‰²å—é«˜åº¦å˜ä¸€ä¸‹ï¼Œè§’æ ‡çš„ä¸Šä¸‹è‰²å—ï¼Œä¹Ÿå°±æ˜¯children[index]å’Œ[index-1]</li></ul></li><li><p>æ¸å˜æ¨¡å¼ï¼Œæ‹–æ‹½æ›´æ–°valueå¯¹åº”çš„color</p><ul><li><p>åˆ¤æ–­è§’æ ‡åœ¨å“ªä¸ªåŒºé—´ç§»åŠ¨ï¼Œæ ¹æ®ç§»åŠ¨é‡ã€å¹³å‡é«˜åº¦ã€ä¸¤å¤´çš„é¢œè‰²æ¥è®¡ç®—æ’å€¼é¢œè‰²</p></li><li><p>åˆ¤æ–­ç§»åŠ¨åŒºé—´ï¼šæ ¹æ®è§’æ ‡çš„newtopè·åŸtopçš„åç§»ï¼Œç¡®å®šä¸Šä¸‹é¢œè‰²ï¼Œä¹Ÿèƒ½ç¡®å®šåç§»çš„åŒºé—´ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯å‘ä¸‹åç§»ï¼Œé‚£ä¹ˆä¸Šä¸‹é¢œè‰²å°±æ˜¯æœ¬é¢œè‰²å’Œä¸‹é¢œè‰²ï¼›å¦‚æœæ˜¯å‘ä¸Šåç§»ï¼Œé‚£ä¹ˆä¸Šä¸‹é¢œè‰²å°±æ˜¯ä¸Šé¢œè‰²å’Œæœ¬é¢œè‰²ï¼Œåç§»é‡ä¸€æ­£ä¸€è´Ÿå¾ˆæ–¹ä¾¿ä»£å…¥è®¡ç®—</p></li><li><p>æ’å€¼é¢œè‰²ï¼šå¯èƒ½ç”¨åˆ°hex-rgbçš„ç›¸äº’è½¬æ¢ï¼Œæ’å€¼è®¡ç®—å°±æ˜¯å°†rgbæ ¼å¼é¢œè‰²æŒ‰ç…§æ¯”ä¾‹è®¡ç®—ï¼Œæ•´ç‚¹æºä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> interpolateColor = <span class="keyword">function</span> (<span class="params">color1, color2, factor</span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> è¿™é‡Œè¿˜éœ€è¦å°†factorè§„èŒƒä¸€ä¸‹ï¼Œä½¿å…¶ä»‹äº0-1èŒƒå›´</span></span><br><span class="line">  <span class="comment">// hex =&gt; rgb 1ä¸Šé¢œè‰²2ä¸‹é¢œè‰²</span></span><br><span class="line">  <span class="keyword">const</span> color1RGB = <span class="title function_">hexToRgb</span>(color1);</span><br><span class="line">  <span class="keyword">const</span> color2RGB = <span class="title function_">hexToRgb</span>(color2);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// çº¿æ€§æ’å€¼ æ¯”ä¾‹-factorè¦æ ¹æ®åç§»é‡å’ŒåŒºé—´æ€»é«˜åº¦æ¥è®¡ç®—</span></span><br><span class="line">  <span class="keyword">const</span> result = color1RGB.<span class="title function_">map</span>(<span class="function">(<span class="params">val, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(val + (color2RGB[index] - val) * factor);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// rgb =&gt; hex</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">rgbToHex</span>(result[<span class="number">0</span>], result[<span class="number">1</span>], result[<span class="number">2</span>]);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hexToRgb = <span class="keyword">function</span> (<span class="params">hex</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> shorthandRegex = <span class="regexp">/^#?([a-f\d])([a-f\d])([a-f\d])$/i</span>;</span><br><span class="line">  hex = hex.<span class="title function_">replace</span>(shorthandRegex, <span class="function">(<span class="params">m, r, g, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r + r + g + g + b + b;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> result = <span class="regexp">/^#?([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i</span>.<span class="title function_">exec</span>(hex);</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">    ? [</span><br><span class="line">        <span class="built_in">parseInt</span>(result[<span class="number">1</span>], <span class="number">16</span>),</span><br><span class="line">        <span class="built_in">parseInt</span>(result[<span class="number">2</span>], <span class="number">16</span>),</span><br><span class="line">        <span class="built_in">parseInt</span>(result[<span class="number">3</span>], <span class="number">16</span>),</span><br><span class="line">      ]</span><br><span class="line">    : <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> rgbToHex = <span class="keyword">function</span> (<span class="params">r, g, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;#&quot;</span> + ((<span class="number">1</span> &lt;&lt; <span class="number">24</span>) + (r &lt;&lt; <span class="number">16</span>) + (g &lt;&lt; <span class="number">8</span>) + b).<span class="title function_">toString</span>(<span class="number">16</span>).<span class="title function_">slice</span>(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‰‹æ“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è§†è§‰æ˜ å°„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elementui(vue2)--tableæ ·å¼è‡ªå®šä¹‰</title>
      <link href="/post/2b16.html"/>
      <url>/post/2b16.html</url>
      
        <content type="html"><![CDATA[<h1 id="elementui-vue2ç‰ˆæœ¬å¦‚ä½•ç»™el-table-el-paginationç­‰ç»„ä»¶è¿›è¡Œæ ·å¼è‡ªå®šä¹‰"><a href="#elementui-vue2ç‰ˆæœ¬å¦‚ä½•ç»™el-table-el-paginationç­‰ç»„ä»¶è¿›è¡Œæ ·å¼è‡ªå®šä¹‰" class="headerlink" title="elementui vue2ç‰ˆæœ¬å¦‚ä½•ç»™el-table/el-paginationç­‰ç»„ä»¶è¿›è¡Œæ ·å¼è‡ªå®šä¹‰"></a>elementui vue2ç‰ˆæœ¬å¦‚ä½•ç»™el-table/el-paginationç­‰ç»„ä»¶è¿›è¡Œæ ·å¼è‡ªå®šä¹‰</h1><h2 id="el-table"><a href="#el-table" class="headerlink" title="el-table"></a>el-table</h2><ol><li><p>ç°æœ‰ç»„ä»¶æè¿°</p><p>ç›´è§å®˜ç½‘ï¼š<a href="https://element.eleme.io/#/zh-CN/component/table#table-column-scoped-slot">https://element.eleme.io/#/zh-CN/component/table#table-column-scoped-slot</a></p></li><li><p>åœºæ™¯æè¿°</p><ul><li>èƒŒæ™¯é€æ˜</li><li>hoveræœ‰ç‚¹é¢œè‰²ï¼ˆåŠé€æ˜ï¼‰</li></ul></li><li><p>ä»£ç ï¼š</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;el-card&gt;</span><br><span class="line">        &lt;el-table class=&quot;right-table&quot;&gt;</span><br><span class="line">              &lt;el-table-column&gt;....&lt;/el-table-column&gt;</span><br><span class="line">              ....</span><br><span class="line">        &lt;/el-table&gt;</span><br><span class="line">    &lt;/el-card&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/** ç»™el-tableè‡ªå®šä¹‰æ ·å¼-æŒ‰ç…§æœ¬äººè®¤ä¸ºçš„ä¸»æ¬¡é¡ºåºæ’åˆ—çš„ã€‚å¦å¤–ï¼Œå…³äºæ ·å¼ç©¿é€å’Œå±‚çº§ï¼Œå–å†³äºä½ çš„é¡¹ç›®ï¼Œä»…ä½œå‚è€ƒ **/</span><br><span class="line">// 0.è¡¨æ ¼çˆ¶å®¹å™¨-ä»”ç»†æ£€æŸ¥ä½ çš„el-tableå¤–å±‚æœ‰å¯èƒ½ä¼šå½±å“å…¶èƒŒæ™¯æ•ˆæœçš„çˆ¶çº§å…ƒç´ ï¼Œæˆ‘è¿™é‡Œå¤–å–å°±åŒ…äº†ä¸€ä¸ªel-card</span><br><span class="line">::v-deep .el-card &#123;</span><br><span class="line">  border: none;</span><br><span class="line">  background-color: transparent; // cardèƒŒæ™¯ä¹Ÿé€æ˜äº†ï¼Œä½ å½“ç„¶å¯ä»¥åœ¨æ­¤è®¾ç½®é¢œè‰²</span><br><span class="line">&#125;</span><br><span class="line">::v-deep .el-card__body &#123;</span><br><span class="line">  padding: 8px 16px 16px 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 1-1.è¡¨æ ¼ä¸­è¡¨å¤´çš„èƒŒæ™¯</span><br><span class="line">::v-deep .el-table th &#123;</span><br><span class="line">  background-color: rgba(72, 143, 249, 0.18);</span><br><span class="line">&#125;</span><br><span class="line">// 1-2.è¡¨å¤´æ–‡å­—</span><br><span class="line">::v-deep .is-leaf .cell &#123;</span><br><span class="line">  font-size: 14px !important;</span><br><span class="line">  color: white;</span><br><span class="line">  padding-left: 0px;</span><br><span class="line">&#125;</span><br><span class="line">// 2-1.è¡¨æ ¼æ‰€æœ‰è¡Œ</span><br><span class="line">::v-deep .el-table tr &#123;</span><br><span class="line">  background-color: transparent !important;</span><br><span class="line">&#125;</span><br><span class="line">// 2-2.è¡¨å†…å®¹å•å…ƒæ ¼</span><br><span class="line">::v-deep .el-table .cell &#123;</span><br><span class="line">  background-color: transparent; // æ‰€æœ‰è¡ŒèƒŒæ™¯é€æ˜</span><br><span class="line">  color: white; // å­—ä½“é¢œè‰²</span><br><span class="line">&#125;</span><br><span class="line">// 3.è¡¨æ ¼è¡ŒhoverèƒŒæ™¯</span><br><span class="line">::v-deep .el-table tbody tr:hover &gt; td &#123;</span><br><span class="line">  // è¯¥å…ƒç´ éå¸¸éå¸¸éå¸¸éš¾æ‰¾</span><br><span class="line">  background-color: rgba(108, 141, 192, 0.18);</span><br><span class="line">&#125;</span><br><span class="line">// 4.è¡¨æ ¼hoveræŒ‡é’ˆ</span><br><span class="line">::v-deep .el-table tr:hover &#123;</span><br><span class="line">  cursor: pointer; // å°æ‰‹æŒ‡é’ˆ</span><br><span class="line">&#125;</span><br><span class="line">// 5.å…¶ä»–çš„ï¼Œæ¯”å¦‚è®¾ç½®äº†æ–‘é©¬æ¡çº¹/æƒ³è®¾ç½®çŠ¶æ€é¢œè‰²ç­‰ï¼Œå»ºè®®f12ç‚¹ä¸€ç‚¹çœ‹ä¸€çœ‹æµ‹è¯•æµ‹è¯•ï¼Œæ€»èƒ½æ‰¾åˆ°ï¼Œç›¸ä¿¡è‡ªå·±</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="el-pagination"><a href="#el-pagination" class="headerlink" title="el-pagination"></a>el-pagination</h2><p>continueâ€¦</p>]]></content>
      
      
      <categories>
          
          <category> elementui </category>
          
      </categories>
      
      
        <tags>
            
            <tag> el-pagination </tag>
            
            <tag> el-table </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>echartså›é¡¾ä¸è¿›é˜¶</title>
      <link href="/post/47c4.html"/>
      <url>/post/47c4.html</url>
      
        <content type="html"><![CDATA[<h1 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h1><p>æœ€è¿‘åœ¨æ¢å·¥ä½œï¼ŒæŠ•äº†ç‰¹åˆ«å–œæ¬¢çš„ä¸€å®¶å…¬å¸ï¼Œæ­£åœ¨ç­‰æ„å‘ï¼ˆæ›´æ–°åç»­ï¼Œç›®å‰æˆåŠŸå…¥èŒäº†ï¼Œååˆ†æ„Ÿæ©ï¼‰ï¼Œç­‰å¾…æ—¶é—´æ˜¯ä¸èƒ½æµªè´¹çš„ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å…ˆç†Ÿæ‚‰ä¸€ä¸‹å…¬å¸çš„æŠ€æœ¯ã€‚echartså°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä¹‹å‰æœ‰ç”¨è¿‡Echartsï¼Œä½†æ˜¯è¿™å®¶å…¬å¸çš„ä¸šåŠ¡æ˜¯éœ€è¦é«˜åº¦è‡ªå®šä¹‰çš„ã€‚é‚£ä¹ˆå°±å¼€å§‹å§ï¼</p><p>é¡¹ç›®é“¾æ¥åœ¨è¿™å„¿ğŸ‘‰<a href="https://github.com/Ra-Liz/vue-echarts-test">https://github.com/Ra-Liz/vue-echarts-test</a></p><p>ä»¥ä¸‹çš„ç»ƒæ‰‹é¡¹ç›®ä½¿ç”¨vue3æ­å»ºã€‚ï¼ˆé¡ºä¾¿å›é¡¾äº†vue3ï¼Œæ²¡æƒ³åˆ°ä¸Šæ‰‹è¿™ä¹ˆå¿«ï¼‰</p><h1 id="ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰é¥¼å›¾"><a href="#ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰é¥¼å›¾" class="headerlink" title="ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰é¥¼å›¾"></a>ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰é¥¼å›¾</h1><p><img src="../images/echarts%E5%9B%9E%E9%A1%BE%E4%B8%8E%E8%BF%9B%E9%98%B6/image-20240730112451189.png" alt="image-20240730112451189"></p><p>æ€è·¯ï¼š</p><ol><li>ä½¿ç”¨refç»‘å®šå›¾å®¹å™¨</li><li>åˆå§‹åŒ–echartç”»å¸ƒ</li><li>é…ç½®ç”»å¸ƒå†…å…ƒç´ <ol><li>æ ‡é¢˜ã€å·¥å…·æ–‡æœ¬ã€æ•´ä½“æ ·å¼</li><li>æ•°æ®æ’åºã€ç»†èŠ‚æ ·å¼</li></ol></li><li>æŒ‚è½½ç›‘å¬å™¨</li><li>æµ‹è¯•æ•°æ®å®æ—¶æ›´æ–°é€»è¾‘<ol><li>btnç»‘å®šå›è°ƒï¼Œwatchç›‘å¬æ•°æ®å˜åŒ–</li><li>ä¼˜åŒ–å‡½æ•°å£°æ˜ï¼Œåˆ†å—ï¼Œæ‹¼æ¥</li></ol></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;w-full h-full&quot;&gt;</span><br><span class="line">    &lt;button class=&quot;w-1/2 h-20 rounded bg-blue-200 hover:bg-blue-400&quot; @click=&quot;handleChangeData&quot;&gt;</span><br><span class="line">      ç‚¹å‡»æ›´æ–°æ•°æ®</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">    &lt;div id=&quot;chart&quot; ref=&quot;chartContainer&quot; class=&quot;w-1/2 h-1/2 bg-pink-200&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line">import &#123; onBeforeUnmount, onMounted, reactive, ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const fakeData = reactive([</span><br><span class="line">  &#123; value: 335, name: &#x27;Direct&#x27; &#125;,</span><br><span class="line">  &#123; value: 310, name: &#x27;Email&#x27; &#125;,</span><br><span class="line">  &#123; value: 274, name: &#x27;Union Ads&#x27; &#125;,</span><br><span class="line">  &#123; value: 235, name: &#x27;Video Ads&#x27; &#125;,</span><br><span class="line">  &#123; value: 400, name: &#x27;Search Engine&#x27; &#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">const chartContainer = ref(null)</span><br><span class="line">let myChart = null</span><br><span class="line"></span><br><span class="line">const initChart = () =&gt; &#123;</span><br><span class="line">  if (chartContainer.value) &#123;</span><br><span class="line">    myChart = echarts.init(chartContainer.value)</span><br><span class="line">    setChartOptions()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const setChartOptions = () =&gt; &#123;</span><br><span class="line">  if (myChart) &#123;</span><br><span class="line">    const option = &#123;</span><br><span class="line">      backgroundColor: &#x27;#2c343c&#x27;,</span><br><span class="line">      title: &#123;</span><br><span class="line">        text: &#x27;Customized Pie&#x27;,</span><br><span class="line">        left: &#x27;center&#x27;,</span><br><span class="line">        top: 20,</span><br><span class="line">        textStyle: &#123;</span><br><span class="line">          color: &#x27;#ccc&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      tooltip: &#123;</span><br><span class="line">        trigger: &#x27;item&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      visualMap: &#123;</span><br><span class="line">        show: false,</span><br><span class="line">        min: 80,</span><br><span class="line">        max: 600,</span><br><span class="line">        inRange: &#123;</span><br><span class="line">          colorLightness: [0, 1]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      series: [</span><br><span class="line">        &#123;</span><br><span class="line">          name: &#x27;Access From&#x27;,</span><br><span class="line">          type: &#x27;pie&#x27;,</span><br><span class="line">          radius: &#x27;55%&#x27;,</span><br><span class="line">          center: [&#x27;50%&#x27;, &#x27;50%&#x27;],</span><br><span class="line">          data: fakeData.sort((a, b) =&gt; a.value - b.value),</span><br><span class="line">          roseType: &#x27;radius&#x27;,</span><br><span class="line">          label: &#123;</span><br><span class="line">            color: &#x27;rgba(255, 255, 255, 0.3)&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          labelLine: &#123;</span><br><span class="line">            lineStyle: &#123;</span><br><span class="line">              color: &#x27;rgba(255, 255, 255, 0.3)&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            smooth: 0.2,</span><br><span class="line">            length: 10,</span><br><span class="line">            length2: 20</span><br><span class="line">          &#125;,</span><br><span class="line">          itemStyle: &#123;</span><br><span class="line">            color: &#x27;#c23531&#x27;,</span><br><span class="line">            shadowBlur: 200,</span><br><span class="line">            shadowColor: &#x27;rgba(0, 0, 0, 0.5)&#x27;</span><br><span class="line">          &#125;,</span><br><span class="line">          animationType: &#x27;scale&#x27;,</span><br><span class="line">          animationEasing: &#x27;elasticOut&#x27;,</span><br><span class="line">          animationDelay: (idx) =&gt; Math.random() * 200</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">    myChart.setOption(option)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const handleChangeData = () =&gt; &#123;</span><br><span class="line">  fakeData.forEach((item) =&gt; &#123;</span><br><span class="line">    item.value = Math.floor(Math.random() * 500)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  initChart()</span><br><span class="line">  window.addEventListener(&#x27;resize&#x27;, () =&gt; myChart &amp;&amp; myChart.resize())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">onBeforeUnmount(() =&gt; &#123;</span><br><span class="line">  window.removeEventListener(&#x27;resize&#x27;, () =&gt; myChart &amp;&amp; myChart.resize())</span><br><span class="line">  if (myChart) &#123;</span><br><span class="line">    myChart.dispose()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">watch(</span><br><span class="line">  fakeData,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    setChartOptions()</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; deep: true &#125;</span><br><span class="line">)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰æŸ±çŠ¶å›¾è¶‹åŠ¿"><a href="#è‡ªå®šä¹‰æŸ±çŠ¶å›¾è¶‹åŠ¿" class="headerlink" title="è‡ªå®šä¹‰æŸ±çŠ¶å›¾è¶‹åŠ¿"></a>è‡ªå®šä¹‰æŸ±çŠ¶å›¾è¶‹åŠ¿</h1><p><img src="../images/echarts%E5%9B%9E%E9%A1%BE%E4%B8%8E%E8%BF%9B%E9%98%B6/image-20240730112509879.png" alt="image-20240730112509879"></p><p>æ€è·¯ï¼š</p><ol><li>åŒä¸Š</li><li>ä½¿ç”¨apiâ€¦.è¿›è¡Œæ ·å¼è‡ªå®šä¹‰</li><li>ä½¿ç”¨åˆ†åŒºç¼©æ”¾</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;w-full h-full&quot;&gt;</span><br><span class="line">    &lt;h1 class=&quot;text-3xl text-black&quot;&gt;Test 2&lt;/h1&gt;</span><br><span class="line">    &lt;div ref=&quot;containerRef&quot; class=&quot;w-1/2 h-1/2 rounded bg-blue-300&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref, onMounted, nextTick &#125; from &#x27;vue&#x27;</span><br><span class="line">import * as echarts from &#x27;echarts&#x27;</span><br><span class="line"></span><br><span class="line">let myChart: echarts.ECharts | null = null</span><br><span class="line">const containerRef = ref&lt;HTMLDivElement | null&gt;(null)</span><br><span class="line"></span><br><span class="line">const originYear: number = 2020</span><br><span class="line">const years: number = 10</span><br><span class="line">const cnt: number = 7</span><br><span class="line">const legendData: string[] = [&#x27;trend&#x27;]</span><br><span class="line">const xAxisData: string[] = []</span><br><span class="line">const customData: any[] = []</span><br><span class="line">const encodeY: any = []</span><br><span class="line">const dataList: any = []</span><br><span class="line"></span><br><span class="line">for (let i = 0; i &lt; cnt; i++) &#123;</span><br><span class="line">  legendData.push(`$&#123;originYear + i&#125;`)</span><br><span class="line">  dataList.push([])</span><br><span class="line">  encodeY.push(1 + i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for (let i = 0; i &lt; years; i++) &#123;</span><br><span class="line">  xAxisData.push(&#x27;category&#x27; + i)</span><br><span class="line"></span><br><span class="line">  const customVal = [i]</span><br><span class="line">  customData.push(customVal)</span><br><span class="line"></span><br><span class="line">  let val = Math.random() * 1000</span><br><span class="line">  for (let j = 0; j &lt; dataList.length; j++) &#123;</span><br><span class="line">    let value =</span><br><span class="line">      j === 0</span><br><span class="line">        ? echarts.number.round(val, 2)</span><br><span class="line">        : echarts.number.round(Math.max(0, dataList[j - 1][i] + (Math.random() - 0.5) * 200), 2)</span><br><span class="line">    dataList[j].push(value)</span><br><span class="line">    customVal.push(value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const initChart = () =&gt; &#123;</span><br><span class="line">  if (containerRef.value) &#123;</span><br><span class="line">    myChart = echarts.init(containerRef.value)</span><br><span class="line">    setChartOptions()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const setChartOptions = async () =&gt; &#123;</span><br><span class="line">  if (myChart) &#123;</span><br><span class="line">    const options = &#123;</span><br><span class="line">      tooltip: &#123;</span><br><span class="line">        trigger: &#x27;axis&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      legend: &#123;</span><br><span class="line">        data: legendData</span><br><span class="line">      &#125;,</span><br><span class="line">      dataZoom: [</span><br><span class="line">        &#123;</span><br><span class="line">          type: &#x27;slider&#x27;,</span><br><span class="line">          start: 50,</span><br><span class="line">          end: 70</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          type: &#x27;inside&#x27;,</span><br><span class="line">          start: 50,</span><br><span class="line">          end: 70</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      xAxis: &#123;</span><br><span class="line">        type: &#x27;category&#x27;,</span><br><span class="line">        data: xAxisData</span><br><span class="line">      &#125;,</span><br><span class="line">      yAxis: &#123;&#125;,</span><br><span class="line">      series: [</span><br><span class="line">        &#123;</span><br><span class="line">          name: &#x27;trend&#x27;,</span><br><span class="line">          type: &#x27;custom&#x27;,</span><br><span class="line">          renderItem: (params: any, api: any) =&gt; &#123;</span><br><span class="line">            let xValue = api.value(0)</span><br><span class="line">            let currentSeriesIndices = api.currentSeriesIndices()</span><br><span class="line">            let barLayout = api.barLayout(&#123;</span><br><span class="line">              barGap: &#x27;30%&#x27;,</span><br><span class="line">              barCategoryGap: &#x27;20%&#x27;,</span><br><span class="line">              count: currentSeriesIndices.length - 1</span><br><span class="line">            &#125;)</span><br><span class="line">            let points = []</span><br><span class="line"></span><br><span class="line">            for (let i = 0; i &lt; currentSeriesIndices.length; i++) &#123;</span><br><span class="line">              let seriesIndex = currentSeriesIndices[i]</span><br><span class="line">              if (seriesIndex !== params.seriesIndex) &#123;</span><br><span class="line">                let point = api.coord([xValue, api.value(seriesIndex)])</span><br><span class="line">                point[0] += barLayout[i - 1].offsetCenter</span><br><span class="line">                point[1] -= 20</span><br><span class="line">                points.push(point)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            let style = api.style(&#123;</span><br><span class="line">              stroke: api.visual(&#x27;color&#x27;),</span><br><span class="line">              fill: &#x27;none&#x27;</span><br><span class="line">            &#125;)</span><br><span class="line">            return &#123;</span><br><span class="line">              type: &#x27;polyline&#x27;,</span><br><span class="line">              shape: &#123;</span><br><span class="line">                points: points</span><br><span class="line">              &#125;,</span><br><span class="line">              style: style</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          data: customData,</span><br><span class="line">          encode: &#123;</span><br><span class="line">            x: 0,</span><br><span class="line">            y: encodeY</span><br><span class="line">          &#125;,</span><br><span class="line">          z: 100</span><br><span class="line">        &#125;,</span><br><span class="line">        ...dataList.map((data: any, index: any) =&gt; &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            type: &#x27;bar&#x27;,</span><br><span class="line">            animation: false,</span><br><span class="line">            name: legendData[index + 1],</span><br><span class="line">            data: data</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    myChart.setOption(options)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  nextTick(() =&gt; &#123;</span><br><span class="line">    if (containerRef.value) &#123;</span><br><span class="line">      console.log(containerRef.value)</span><br><span class="line">      initChart()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è‡ªå®šä¹‰ç»˜åˆ¶é£åœº"><a href="#è‡ªå®šä¹‰ç»˜åˆ¶é£åœº" class="headerlink" title="è‡ªå®šä¹‰ç»˜åˆ¶é£åœº"></a>è‡ªå®šä¹‰ç»˜åˆ¶é£åœº</h1>]]></content>
      
      
      <categories>
          
          <category> ç»˜å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> echarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tailwindcsså¤„ç†èƒŒæ™¯æ¸å˜</title>
      <link href="/post/5f8d.html"/>
      <url>/post/5f8d.html</url>
      
        <content type="html"><![CDATA[<h1 id="Tailwindcss-å¤„ç†èƒŒæ™¯æ¸å˜"><a href="#Tailwindcss-å¤„ç†èƒŒæ™¯æ¸å˜" class="headerlink" title="Tailwindcss å¤„ç†èƒŒæ™¯æ¸å˜"></a>Tailwindcss å¤„ç†èƒŒæ™¯æ¸å˜</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨èƒŒæ™¯æ¸å˜ï¼Œä½†æ˜¯ Tailwindcss é»˜è®¤å¹¶æ²¡æœ‰æä¾›èƒŒæ™¯æ¸å˜çš„å·¥å…·ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±æ¥å®ç°ã€‚</p><h2 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h2><ol><li>åœ¨<code>tailwind.config.js</code>ä¸­æ·»åŠ è‡ªå®šä¹‰å·¥å…·ç±»ï¼š</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">theme</span>: &#123;</span><br><span class="line">    <span class="attr">extend</span>: &#123;</span><br><span class="line">      <span class="attr">backgroundImage</span>: &#123;</span><br><span class="line">        <span class="string">&quot;gradient-to-r&quot;</span>: <span class="string">&quot;linear-gradient(to right, var(--tw-gradient-stops))&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">colors</span>: &#123;</span><br><span class="line">      <span class="string">&quot;start-color&quot;</span>: <span class="string">&quot;#FD7A61&quot;</span>,</span><br><span class="line">      <span class="string">&quot;end-color&quot;</span>: <span class="string">&quot;#FF934D&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨éœ€è¦ä½¿ç”¨èƒŒæ™¯æ¸å˜çš„åœ°æ–¹ï¼Œä½¿ç”¨<code>bg-gradient</code>å·¥å…·ç±»ï¼š</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg-gradient-to-r from-start-color to-end-color&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tailwindcss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nextjsä¸­ä½¿ç”¨tailwindcssæ·»åŠ è‡ªå®šä¹‰å­—ä½“</title>
      <link href="/post/cc29.html"/>
      <url>/post/cc29.html</url>
      
        <content type="html"><![CDATA[<h1 id="nextjsä¸­ä½¿ç”¨tailwindcssæ·»åŠ è‡ªå®šä¹‰å­—ä½“"><a href="#nextjsä¸­ä½¿ç”¨tailwindcssæ·»åŠ è‡ªå®šä¹‰å­—ä½“" class="headerlink" title="nextjsä¸­ä½¿ç”¨tailwindcssæ·»åŠ è‡ªå®šä¹‰å­—ä½“"></a>nextjsä¸­ä½¿ç”¨tailwindcssæ·»åŠ è‡ªå®šä¹‰å­—ä½“</h1><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p><a href="https://tailwindcss.com/docs/font-family#providing-default-font-settings">æŒ‡è·¯å®˜æ–¹æ–‡æ¡£</a></p><p>é¡¹ç›®æ¡†æ¶</p><ul><li>next.js</li><li>tailwindcss</li><li>app router</li></ul><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li><p>åœ¨publicç›®å½•ä¸­æ·»åŠ å­—ä½“æ–‡ä»¶ï¼ˆæˆ‘çš„æ˜¯ä¸ª.TTFæ–‡ä»¶ï¼‰</p><p><img src="../images/nextjs%E4%B8%AD%E4%BD%BF%E7%94%A8tailwindcss%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93/image-20231221114910144.png" alt="image-20231221114910144"></p></li><li><p>åœ¨global.cssæ–‡ä»¶ä¸­æ·»åŠ å­—ä½“</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è‡ªå®šä¹‰å­—ä½“ï¼Œæ³¨æ„è¿™é‡Œurl()ä¸­è·¯å¾„å·²ç„¶æ˜¯publicç›®å½•ä¸‹ */</span></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;lcd-font&quot;</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&quot;/DS-DIGIB.TTF&quot;</span>) <span class="built_in">format</span>(<span class="string">&quot;truetype&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨tailwind.config.jsä¸­é…ç½®å­—ä½“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">theme</span>: &#123;</span><br><span class="line">    <span class="attr">extend</span>: &#123;</span><br><span class="line">      <span class="attr">fontFamily</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;sans-serif&#x27;</span>: <span class="string">&#x27;Helvetica, Arial, sans-serif&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;serif&#x27;</span>: <span class="string">&#x27;Georgia, &quot;Times New Roman&quot;, Times, serif&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;monospace&#x27;</span>: <span class="string">&#x27;Courier New, monospace&#x27;</span>,</span><br><span class="line">        <span class="comment">// ğŸ‘‡åœ¨è¿™é‡Œæ·»åŠ å¥½åˆšæ‰çš„å­—ä½“</span></span><br><span class="line">        <span class="string">&#x27;lcd&#x27;</span>: <span class="string">&quot;lcd-font&quot;</span>, </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// çœç•¥</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å­—ä½“</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=<span class="string">&quot;font-lcd&quot;</span>&gt;å†…å®¹&lt;/div&gt;</span><br></pre></td></tr></table></figure></li></ol><p>æ¤°ä¸æˆåŠŸäº†ğŸ˜Š</p>]]></content>
      
      
      <categories>
          
          <category> Next.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tailwindcss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSéªŒè¯URLçš„æ–°æ–¹æ³•</title>
      <link href="/post/aad0.html"/>
      <url>/post/aad0.html</url>
      
        <content type="html"><![CDATA[<p><img src="../images/JS%E9%AA%8C%E8%AF%81URL%E7%9A%84%E6%96%B0%E6%96%B9%E6%B3%95/image-20231213145139677.png" alt="image-20231213145139677"></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/canParse_static">MDN URL.carParse()</a></p><p><a href="https://www.stefanjudis.com/blog/validate-urls-in-javascript/">æ–‡ç« æ‘˜è‡ª</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç€‘å¸ƒæµå¸ƒå±€Demo</title>
      <link href="/post/20fa.html"/>
      <url>/post/20fa.html</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>æ—©ä¸Šæˆ‘æŸ¥äº†å¾ˆå¤šç€‘å¸ƒæµå®ç°çš„æ–¹æ³•ï¼Œå±•ç¤ºé€»è¾‘éƒ½ä¸æ˜¯å¾ˆå–œæ¬¢ã€‚</p><p>çº¸é¹¤ç»™æˆ‘çœ‹äº†ä¸€ä¸ªä½¿ç”¨äº†ç€‘å¸ƒæµå¸ƒå±€çš„ç½‘é¡µï¼Œç½‘é¡µåˆ©ç”¨<code>transform</code>å¯¹æ¯ä¸ªæ¡ç›®è¿›è¡Œå®šä½â€¦â€¦æç„¶å¤§æ‚Ÿã€‚</p><p>ä¸­åˆåšé¥­çš„æ—¶å€™çœ‹äº†<a href="https://www.bilibili.com/video/BV12u4y187FD/?share_source=copy_web&vd_source=23714ab7b0dd0417fa8c1283e9c4b36f">Bç«™ä¸€upä¸»çš„ç€‘å¸ƒæµå®ç°è§†é¢‘</a>(éº¦å…‹é˜¿ç‘Ÿè¿˜æ˜¯æœ‰ç‚¹å®åŠ›çš„)ï¼Œå¤§æ¦‚çŸ¥é“æ€æ ·å®ç°äº†ã€‚</p><h2 id="ç€‘å¸ƒæµå¸ƒå±€é›å½¢"><a href="#ç€‘å¸ƒæµå¸ƒå±€é›å½¢" class="headerlink" title="ç€‘å¸ƒæµå¸ƒå±€é›å½¢"></a>ç€‘å¸ƒæµå¸ƒå±€é›å½¢</h2><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ç”¨ä¸€ä¸ªå®šé•¿æ•°ç»„å­˜æ”¾ç¬¬nåˆ—æŸè¡Œæ¡ç›®çš„topå€¼ï¼Œæ¯æ¬¡ä¾¿åˆ©æ‰¾æœ€å°topå€¼æ‰€åœ¨å…ƒç´ ï¼Œæ·»åŠ ä¸€æ¡æ–°æ¡ç›®ï¼Œå¹¶æ›´æ–°topå€¼ã€‚ç­‰æˆ‘å»ç”»ä¸ªå›¾ã€‚</p><p><img src="../images/%E7%80%91%E5%B8%83%E6%B5%81%E5%B8%83%E5%B1%80Demo/image-20231211112404970.png" alt="image-20231211112404970"></p><h3 id="ä¸å®Œæ•´çš„ä»£ç -ä»…æä¾›ä¸€ç§æ€è·¯"><a href="#ä¸å®Œæ•´çš„ä»£ç -ä»…æä¾›ä¸€ç§æ€è·¯" class="headerlink" title="ä¸å®Œæ•´çš„ä»£ç (ä»…æä¾›ä¸€ç§æ€è·¯)"></a>ä¸å®Œæ•´çš„ä»£ç (ä»…æä¾›ä¸€ç§æ€è·¯)</h3><p>ä½¿ç”¨reactå®ç°ï¼Œå’ŒåŸç”ŸJSæœ‰äº›å·®åˆ«ï¼ˆæ˜¯å“Ÿä¸ªåŸç”ŸJSå®ç°å¯ä»¥ç›´æ¥çœ‹ä¸Šé¢é‚£ä¸ªè§†é¢‘ï¼‰</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> defualt <span class="title function_">testPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªå¸ƒå±€å®¹å™¨</span></span><br><span class="line">    <span class="keyword">const</span> boxRef = <span class="title function_">useRef</span>(<span class="literal">null</span>); </span><br><span class="line">    <span class="comment">// å­˜æ”¾æ¡ç›®åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">const</span> [list, setList] = <span class="title function_">useState</span>([])</span><br><span class="line">    <span class="comment">// åˆ¤æ–­åˆ—è¡¨å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆ</span></span><br><span class="line">    <span class="keyword">const</span> [imagesLoaded, setImagesLoaded] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–list</span></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">getList</span>(); <span class="comment">// è¯¥å‡½æ•°ä¸­åº”è¯¥ç¡®ä¿è·å–åˆ°çš„åˆ—è¡¨å›¾ç‰‡å…¨éƒ¨åŠ è½½å®Œæˆ</span></span><br><span class="line">    &#125;, [])</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­å›¾ç‰‡æ˜¯å¦å…¨éƒ¨åŠ è½½å®Œæˆ</span></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      imagesLoaded === list?.<span class="property">length</span> &amp;&amp; <span class="title function_">layout</span>();</span><br><span class="line">    &#125;, [imagesLoaded, list]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»‘å®šlayout</span></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> resizeObserver = <span class="keyword">new</span> <span class="title class_">ResizeObserver</span>(<span class="function">(<span class="params">entries</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> entry <span class="keyword">of</span> entries) &#123;</span><br><span class="line">          <span class="title function_">layout</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (boxRef.<span class="property">current</span>) &#123;</span><br><span class="line">        resizeObserver.<span class="title function_">observe</span>(boxRef.<span class="property">current</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resizeObserver.<span class="title function_">disconnect</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;, [boxRef.<span class="property">current</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¸ƒå±€å‡½æ•°</span></span><br><span class="line">    funciton <span class="title function_">layout</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> box = boxRef.<span class="property">current</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¡ç®—å®¹å™¨å‚æ•°</span></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// è®¡ç®—å½“å‰å®¹å™¨èƒ½å­˜æ”¾å¤šå°‘åˆ—æ¡ç›® cardWidth-æ¯ä¸ªæ¡ç›®çš„å®½åº¦</span></span><br><span class="line">            <span class="keyword">let</span> boxWidth = box.<span class="property">offsetWidth</span>;</span><br><span class="line">            <span class="keyword">let</span> col = <span class="title class_">Math</span>.<span class="title function_">floor</span>(boxWidth / cardWidth); </span><br><span class="line">            </span><br><span class="line">            <span class="comment">// gap-æ¡ç›®é—´è·</span></span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                boxWidth,</span><br><span class="line">                col,</span><br><span class="line">                gap,  <span class="comment">// ä½ å¯ä»¥å®šå€¼æˆ–è€…è®¡ç®—gapå€¼ï¼Œæ¨èå®šå€¼</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–topå€¼æœ€å°çš„åˆ—</span></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getMinTop</span>(<span class="params">nextTop</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> min = nextTop[<span class="number">0</span>],</span><br><span class="line">                minIdx = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nextTop.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                min,</span><br><span class="line">                minIdx</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è·å–topå€¼æœ€å¤§çš„åˆ—</span></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getMaxTop</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> info = <span class="title function_">getInfo</span>()</span><br><span class="line">        <span class="keyword">let</span> nextTop = <span class="keyword">new</span> <span class="title class_">Array</span>(info.<span class="property">col</span>).<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éå†æ¯ä¸€ä¸ªæ¡ç›®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = box.<span class="property">children</span>.<span class="property">length</span>; i &lt; len; i++ &#123;</span><br><span class="line">            <span class="keyword">const</span> card = box.<span class="property">children</span>[i];</span><br><span class="line">            <span class="keyword">let</span> minTop = <span class="title function_">getMinTop</span>(nextTop);</span><br><span class="line">            <span class="keyword">const</span> dirstX = <span class="number">0</span>; <span class="comment">// ä½ å¯ä»¥è®¾ç½®ä¸€ä¸ªåˆå§‹å€¼ä½¿å¾—æ‰€æœ‰å…ƒç´ å±…ä¸­</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¡ç‰‡å®šä½</span></span><br><span class="line">            card.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translate(<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">             firstX + minTop.minIdx * (cardWidth + info.gap)</span></span></span><br><span class="line"><span class="subst"><span class="string">             &#125;</span>px, <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">             minTop.min + info.gap / <span class="number">2</span></span></span></span><br><span class="line"><span class="subst"><span class="string">             &#125;</span>px)`</span>;</span><br><span class="line">             </span><br><span class="line">            <span class="comment">// æ›´æ–°æ•°ç»„</span></span><br><span class="line">            nextTop[minTop.<span class="property">minIdx</span>] = nextTop[minTop.<span class="property">minIdx</span>] + card.<span class="property">offsetHeight</span> + info.<span class="property">gap</span>;</span><br><span class="line">            <span class="comment">// æ›´æ–°å®¹å™¨</span></span><br><span class="line">            <span class="keyword">let</span> maxTop = <span class="title function_">getMaxTop</span>(nextTop);</span><br><span class="line">            box.<span class="property">style</span>.<span class="property">height</span> = maxTop.<span class="property">max</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">             </span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&quot;w-full relative&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                  &#123;list.map(item =&gt; (</span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;&#125;</span> <span class="attr">className</span>=<span class="string">&#123;absolute</span> <span class="attr">transition-all</span> <span class="attr">w-</span>[]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                      <span class="tag">&lt;<span class="name">CardItem</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">                     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                  ))&#125;</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“åˆæ— é™åˆ—è¡¨"><a href="#ç»“åˆæ— é™åˆ—è¡¨" class="headerlink" title="ç»“åˆæ— é™åˆ—è¡¨"></a>ç»“åˆæ— é™åˆ—è¡¨</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [curPage, setCurPage] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> [totalPages, setTotalPages] = <span class="title function_">useState</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> containerRef = <span class="title function_">useRef</span>(contianerRef)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!contianerRef?.<span class="property">current</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> current = containerRef.<span class="property">current</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (current.<span class="property">scrollTop</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">//åˆ°é¡¶</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (</span><br><span class="line">      current.<span class="property">scrollTop</span> + current.<span class="property">clientHeight</span> ===</span><br><span class="line">      current.<span class="property">scrollHeight</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="comment">// è§¦åº•</span></span><br><span class="line">      <span class="keyword">if</span> (curPage &gt;= totalPages) &#123;</span><br><span class="line">        <span class="comment">//æ²¡æœ‰æ›´å¤š</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setCurPage</span>(curPage + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µæ•°æ”¹å˜æ—¶è¯·æ±‚æ–°ä¸€ç»„åˆ†é¡µæ•°æ®</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (curPage &gt; totalPages) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getList</span>();</span><br><span class="line">&#125;, [curPage]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;containerRef&#125;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">className</span>=<span class="string">&#x27;h-full w-full flex flex-col overflow-x-hidden overflow-y-auto&#x27;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onScroll</span>=<span class="string">&#123;handleScroll&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;list &amp;&amp; (</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;list.map(item) =&gt; (<span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;&#125;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>)&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            )&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="å®ç°ä¸­ï¼šæŠ½æˆç€‘å¸ƒæµæ— çº¿åˆ—è¡¨ç»„ä»¶"><a href="#å®ç°ä¸­ï¼šæŠ½æˆç€‘å¸ƒæµæ— çº¿åˆ—è¡¨ç»„ä»¶" class="headerlink" title="å®ç°ä¸­ï¼šæŠ½æˆç€‘å¸ƒæµæ— çº¿åˆ—è¡¨ç»„ä»¶"></a>å®ç°ä¸­ï¼šæŠ½æˆç€‘å¸ƒæµæ— çº¿åˆ—è¡¨ç»„ä»¶</h2><h1 id="æ±‚äº¤æµå„ç§å¦™çš„å®ç°æ–¹æ³•ï¼"><a href="#æ±‚äº¤æµå„ç§å¦™çš„å®ç°æ–¹æ³•ï¼" class="headerlink" title="æ±‚äº¤æµå„ç§å¦™çš„å®ç°æ–¹æ³•ï¼"></a>æ±‚äº¤æµå„ç§å¦™çš„å®ç°æ–¹æ³•ï¼</h1>]]></content>
      
      
      <categories>
          
          <category> æ‰‹æ“ç»„ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç€‘å¸ƒæµå¸ƒå±€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ— é™åˆ—è¡¨Demo</title>
      <link href="/post/edde.html"/>
      <url>/post/edde.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ— é™åˆ—è¡¨Demo"><a href="#æ— é™åˆ—è¡¨Demo" class="headerlink" title="æ— é™åˆ—è¡¨Demo"></a>æ— é™åˆ—è¡¨Demo</h1><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>å·¥ç»„ä¸­é‡åˆ°çš„ï¼Œæƒ³æ‰‹æ“ä¸€ä¸ªï¼Œæ…¢æ…¢ä¼˜åŒ–å§ã€‚</p><p>Reactå®ç°ï¼Œåœ¨è¿™é‡Œä»…åˆ†äº«é€»è¾‘ã€‚</p><h2 id="ç®€å•çš„ä¸€ä¸ªå®ç°æ–¹æ³•"><a href="#ç®€å•çš„ä¸€ä¸ªå®ç°æ–¹æ³•" class="headerlink" title="ç®€å•çš„ä¸€ä¸ªå®ç°æ–¹æ³•"></a>ç®€å•çš„ä¸€ä¸ªå®ç°æ–¹æ³•</h2><h2 id="å®ç°ä¸­ï¼šå¦‚ä½•æŠ½æˆä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿ"><a href="#å®ç°ä¸­ï¼šå¦‚ä½•æŠ½æˆä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿ" class="headerlink" title="å®ç°ä¸­ï¼šå¦‚ä½•æŠ½æˆä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿ"></a>å®ç°ä¸­ï¼šå¦‚ä½•æŠ½æˆä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿ</h2><h2 id="å®ç°ä¸­ï¼šç»“åˆå›¾ç‰‡ç€‘å¸ƒæµ"><a href="#å®ç°ä¸­ï¼šç»“åˆå›¾ç‰‡ç€‘å¸ƒæµ" class="headerlink" title="å®ç°ä¸­ï¼šç»“åˆå›¾ç‰‡ç€‘å¸ƒæµ"></a>å®ç°ä¸­ï¼šç»“åˆå›¾ç‰‡ç€‘å¸ƒæµ</h2>]]></content>
      
      
      <categories>
          
          <category> æ‰‹æ“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ— é™åˆ—è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºä»€ä¹ˆè¦é—®æˆ‘å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢å•Š</title>
      <link href="/post/6529.html"/>
      <url>/post/6529.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸ºä»€ä¹ˆè¦é—®æˆ‘å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢å•Šï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦é—®æˆ‘å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢å•Šï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦é—®æˆ‘å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢å•Šï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦é—®æˆ‘å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢å•Šï¼Ÿ</h1><blockquote><p>åœ¨å‰ç«¯é¢è¯•ä¸­ï¼Œè¢«é—®åŠå¦‚ä½•ä½¿ç”¨CSSå®ç°ä¸€ä¸ªä¸‰è§’å½¢çš„é—®é¢˜å¯èƒ½æœ‰å‡ ä¸ªä¸åŒçš„ç›®çš„å’Œä»·å€¼ï¼š</p><ol><li><p>åŸºæœ¬CSSçŸ¥è¯†æµ‹è¯•ï¼šè¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨æ¥æµ‹è¯•é¢è¯•è€…å¯¹åŸºæœ¬çš„CSSå±æ€§å’ŒæŠ€å·§æ˜¯å¦ç†Ÿæ‚‰ã€‚å®ç°ä¸€ä¸ªä¸‰è§’å½¢é€šå¸¸æ¶‰åŠä½¿ç”¨CSSçš„ä¸€äº›å¸¸è§å±æ€§ï¼Œä¾‹å¦‚<code>width</code>ã€<code>height</code>ã€<code>border</code>ã€<code>border-color</code>å’Œ<code>transparent</code>ç­‰ã€‚å¦‚æœé¢è¯•è€…èƒ½å¤Ÿæ­£ç¡®å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œè¡¨æ˜ä»–ä»¬æŒæ¡äº†åŸºæœ¬çš„CSSæŠ€èƒ½ã€‚</p></li><li><p>é—®é¢˜è§£å†³èƒ½åŠ›ï¼šè¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥ç”¨æ¥æµ‹è¯•é¢è¯•è€…çš„é—®é¢˜è§£å†³èƒ½åŠ›ã€‚å³ä½¿ä»–ä»¬ä¹‹å‰æ²¡æœ‰ç›´æ¥å®ç°è¿‡ä¸‰è§’å½¢ï¼Œä½†å¦‚æœä»–ä»¬èƒ½å¤Ÿé€šè¿‡åˆ†æå’Œè¯•éªŒæ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œè¿™æ˜¾ç¤ºäº†ä»–ä»¬çš„æ€ç»´æ–¹å¼å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚</p></li><li><p>CSSçš„ kung fu æ°´å¹³ï¼šå®ç°ä¸€ä¸ªä¸‰è§’å½¢å¯ä»¥æœ‰å¤šç§æ–¹æ³•ï¼ŒåŒ…æ‹¬ä½¿ç”¨<code>border</code>ã€<code>transform</code>ã€ä¼ªå…ƒç´ ï¼ˆ<code>::before</code>æˆ–<code>::after</code>ï¼‰ç­‰ã€‚é€šè¿‡é—®è¿™ä¸ªé—®é¢˜ä¸¤æ¬¡ï¼Œé¢è¯•å®˜å¯èƒ½æƒ³è¦äº†è§£é¢è¯•è€…åœ¨CSSæ–¹é¢çš„æ·±åº¦å’Œå¹¿åº¦ã€‚å¦‚æœç¬¬ä¸€æ¬¡é—®çš„æ–¹æ³•æ˜¯ä½¿ç”¨<code>border</code>ï¼Œè€Œç¬¬äºŒæ¬¡é—®çš„æ˜¯ä½¿ç”¨ä¼ªå…ƒç´ ï¼Œé‚£ä¹ˆé¢è¯•è€…éœ€è¦å±•ç¤ºä»–ä»¬å¯¹å¤šç§CSSæŠ€å·§çš„äº†è§£ã€‚</p></li><li><p>æ£€éªŒç»éªŒï¼šåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæœ‰æ—¶éœ€è¦å®ç°å„ç§å„æ ·çš„å½¢çŠ¶å’Œæ•ˆæœã€‚é—®å…³äºå®ç°ä¸‰è§’å½¢çš„é—®é¢˜å¯èƒ½æ˜¯ä¸ºäº†äº†è§£é¢è¯•è€…æ˜¯å¦æœ‰å®é™…é¡¹ç›®ç»éªŒï¼Œå¹¶ä¸”æ˜¯å¦èƒ½å¤Ÿåº”å¯¹å®é™…å·¥ä½œä¸­çš„å¸¸è§éœ€æ±‚ã€‚</p></li></ol><p>è™½ç„¶è¿™ä¸ªé—®é¢˜å¯èƒ½åœ¨å¤šæ¬¡é¢è¯•ä¸­åå¤å‡ºç°ï¼Œä½†æ¯æ¬¡å¯èƒ½ä¼šæœ‰ä¸åŒçš„å˜åŒ–æˆ–æ·±åº¦ï¼Œä»¥æµ‹è¯•ä¸åŒå±‚æ¬¡çš„çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚å¦‚æœä½ å¤šæ¬¡è¢«é—®åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå»ºè®®ä½ åœ¨å‡†å¤‡é¢è¯•æ—¶é‡ç‚¹å¤ä¹ ä¸€ä¸‹ä¸CSSç›¸å…³çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬å„ç§CSSå±æ€§å’ŒæŠ€å·§ï¼Œä»¥ç¡®ä¿èƒ½å¤Ÿåº”å¯¹è¿™ç±»é—®é¢˜ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥è€ƒè™‘äº†è§£æ›´é«˜çº§çš„CSSæ¦‚å¿µï¼Œä»¥åœ¨é¢è¯•ä¸­å±•ç¤ºæ›´å¹¿æ³›çš„çŸ¥è¯†ã€‚</p></blockquote><h2 id="å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢ï¼Ÿ"><a href="#å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢ï¼Ÿ"></a>å¦‚ä½•ç”¨CSSå®ç°ä¸‰è§’å½¢ï¼Ÿ</h2><h3 id="border"><a href="#border" class="headerlink" title="border"></a>border</h3><p>ä¸€è¾¹éšè—ï¼Œä¸¤è¾¹é€æ˜ï¼Œä¸‰è¾¹è®¾å®½</p><p><img src="../images/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%97%AE%E6%88%91%E5%A6%82%E4%BD%95%E7%94%A8CSS%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2%E5%95%8A/triangle.png" alt="A CSS Triangle"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border</span>-buttom: <span class="number">80px</span> solid lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼ªç±»å…ƒç´ "><a href="#ä¼ªç±»å…ƒç´ " class="headerlink" title="ä¼ªç±»å…ƒç´ "></a>ä¼ªç±»å…ƒç´ </h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.triangle-container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative; <span class="comment">/* çˆ¶å®¹å™¨è®¾ç½®ä¸ºç›¸å¯¹å®šä½ï¼Œä»¥ä¾¿å­å…ƒç´ ä¼ªå…ƒç´ å‚è€ƒ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">50px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.triangle</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">30px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">30px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">30px</span> solid blue;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">10px</span>; <span class="comment">/* è´Ÿå€¼å®šä½ä¼ªå…ƒç´ åœ¨çˆ¶å®¹å™¨çš„ä¸Šæ–¹ */</span></span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="clip-pathå±æ€§"><a href="#clip-pathå±æ€§" class="headerlink" title="clip-pathå±æ€§"></a>clip-pathå±æ€§</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">polygon</span>(<span class="number">0%</span> <span class="number">0%</span>, <span class="number">100%</span> <span class="number">0%</span>, <span class="number">50%</span> <span class="number">100%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h2><p>clip-path &amp; shape-outside</p><p><img src="../images/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%97%AE%E6%88%91%E5%A6%82%E4%BD%95%E7%94%A8CSS%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2%E5%95%8A/image-20230911204015854.png" alt="image-20230911204015854" style="zoom: 67%;" /><img src="../images/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%97%AE%E6%88%91%E5%A6%82%E4%BD%95%E7%94%A8CSS%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2%E5%95%8A/image-20230911204042645.png" alt="image-20230911204042645" style="zoom:80%;" /></p><p>å‰è€…è§„å®šå“ªäº›æ˜¾ç¤ºå“ªäº›ä¸æ˜¾ç¤ºï¼Œåè€…ç±»ä¼¼äºè£å‰ªå‡ºå¯ä»¥æ˜¾ç¤ºçš„åœ°æ–¹ï¼Œç»™å†…è”å…ƒç´ æä¾›ä¸€ä¸ªå½¢çŠ¶è¾¹ç•Œã€‚</p><p>æ­é…ä½¿ç”¨ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.circle</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">shape-outside</span>: <span class="built_in">circle</span>();</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">circle</span>();</span><br><span class="line">    <span class="attribute">background</span>: lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSSå®ç°ä¸‰è§’å½¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Next.jsä¸­é—´ä»¶çš„ä½¿ç”¨æ¢ç´¢</title>
      <link href="/post/7609.html"/>
      <url>/post/7609.html</url>
      
        <content type="html"><![CDATA[<h1 id="Next-jsä¸­é—´ä»¶çš„ä½¿ç”¨æ¢ç´¢"><a href="#Next-jsä¸­é—´ä»¶çš„ä½¿ç”¨æ¢ç´¢" class="headerlink" title="Next.jsä¸­é—´ä»¶çš„ä½¿ç”¨æ¢ç´¢"></a>Next.jsä¸­é—´ä»¶çš„ä½¿ç”¨æ¢ç´¢</h1><p>è‡³äºä¸ºå•¥æ¢ç´¢ï¼Œå› ä¸ºç‰µæ‰¯åˆ°ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œå¹¿æ³›æœç´¢æŸ¥ä¸åˆ°å¯¹èƒƒå£çš„ï¼Œåªèƒ½è‡ªè¡Œæ¢ç´¢è®°å½•ã€‚</p><p>ä¸­é—´ä»¶æ˜¯å•¥ï¼Ÿ</p><blockquote><p>â€‹    Middleware allows you to run code before a request is completed. Then, based on the incoming request, you can modify the response by rewriting, redirecting, modifying the request or response headers, or responding directly.</p><p>â€‹    ä¸­é—´ä»¶å…è®¸æ‚¨åœ¨è¯·æ±‚å®Œæˆä¹‹å‰è¿è¡Œä»£ç ã€‚ç„¶åï¼Œæ ¹æ®ä¼ å…¥çš„è¯·æ±‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡é‡å†™ã€é‡å®šå‘ã€ä¿®æ”¹è¯·æ±‚æˆ–å“åº”æ ‡å¤´æˆ–ç›´æ¥å“åº”æ¥ä¿®æ”¹å“åº”ã€‚</p></blockquote><h2 id="åˆ›å»ºæ–‡ä»¶"><a href="#åˆ›å»ºæ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ–‡ä»¶"></a>åˆ›å»ºæ–‡ä»¶</h2><p>åˆ›å»ºmiddleware.jsæ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NextResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;next/server&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•å†™ä¸€ä¸‹ä¸­é—´ä»¶ï¼Œä¸­é—´ä»¶ä¸»è¦ä½œç”¨æ˜¯ï¼šåœ¨è¯·æ±‚å®Œæˆä¹‹å‰ä¿®æ”¹å¯¹è¯·æ±‚çš„å“åº”ã€‚</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">middleware</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æŠ“åˆ°äº†è·¯ç”±åå•ä¸Šçš„request&quot;</span>, request.<span class="property">nextUrl</span>.<span class="property">pathname</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> config = &#123;</span><br><span class="line">    <span class="comment">// é€‚é…å™¨ï¼šç­›é€‰å‡ºç‰¹å®šçš„è·¯å¾„å…è®¸ä¸­é—´ä»¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="attr">matcher</span>: <span class="string">&quot;/views/:path*&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// =&gt; æŠ“åˆ°äº†è·¯ç”±åå•ä¸Šçš„request /views/today</span></span><br></pre></td></tr></table></figure><h2 id="æ”¾ç½®æ–‡ä»¶"><a href="#æ”¾ç½®æ–‡ä»¶" class="headerlink" title="æ”¾ç½®æ–‡ä»¶"></a>æ”¾ç½®æ–‡ä»¶</h2><blockquote><p> å®˜ç½‘</p><p>Use the file middleware.ts (or .js) in the root of your project to define Middleware. For example, at the same level as pages or app, or inside src if applicable.</p><p>ç¿»è¯‘</p><p>ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸­çš„æ–‡ä»¶ middleware.tsï¼ˆæˆ– .jsï¼‰æ¥å®šä¹‰ä¸­é—´ä»¶ã€‚ä¾‹å¦‚ï¼Œä¸é¡µé¢æˆ–åº”ç”¨ç¨‹åºå¤„äºåŒä¸€çº§åˆ«ï¼Œæˆ–è€…åœ¨ src å†…éƒ¨ï¼ˆå¦‚æœé€‚ç”¨ï¼‰</p></blockquote><p>æˆ‘çš„é¡¹ç›®è¦æ”¾åœ¨srcä¸­æ˜¯èµ·æ•ˆçš„ã€‚</p><p><img src="../images/Next-js%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%8E%A2%E7%B4%A2/image-20230904103146821.png" alt="image-20230904103146821"></p><h2 id="å¼•å…¥NextResponse"><a href="#å¼•å…¥NextResponse" class="headerlink" title="å¼•å…¥NextResponse"></a>å¼•å…¥NextResponse</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NextResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;next/server&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; validateUserToken &#125; <span class="keyword">from</span> <span class="string">&quot;./lib/validateUserToken&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">middleware</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æŠ“åˆ°äº†è·¯ç”±åå•ä¸Šçš„&quot;</span>, request.<span class="property">nextUrl</span>.<span class="property">pathname</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (request.<span class="property">nextUrl</span>.<span class="property">pathname</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;/views&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_">validateUserToken</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">rewrite</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (request.<span class="property">nextUrl</span>.<span class="property">pathname</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;/signin&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">validateUserToken</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">rewrite</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;/views/today&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> config = &#123;</span><br><span class="line">    <span class="attr">matcher</span>: [<span class="string">&quot;/views/:path*&quot;</span>, <span class="string">&quot;/signin&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ä¸€äº›API"><a href="#ä¸€äº›API" class="headerlink" title="ä¸€äº›API"></a>ä¸€äº›API</h3><p>è§åçŸ¥æ„ï¼Œä¸çŸ¥æ„å¯çœ‹å®˜ç½‘ã€‚</p><ul><li>cookies<ul><li>get</li><li>getAll</li><li>set </li><li>delete</li></ul></li><li>redirect()</li><li>rewrite()</li><li>next()</li></ul><h3 id="é‡å®šå‘å’Œé‡å†™"><a href="#é‡å®šå‘å’Œé‡å†™" class="headerlink" title="é‡å®šå‘å’Œé‡å†™"></a>é‡å®šå‘å’Œé‡å†™</h3><blockquote><pre><code> URL é‡å†™ï¼ˆURL rewritingï¼‰å’Œé‡å®šå‘ï¼ˆredirectï¼‰æ˜¯ä¸¤ä¸ªåœ¨ Web å¼€å‘ä¸­ç»å¸¸è¢«ä½¿ç”¨çš„æ¦‚å¿µï¼Œå®ƒä»¬çš„ä½œç”¨æ˜¯æ”¹å˜æµè§ˆå™¨è¯·æ±‚çš„ URLï¼Œä½†å®ƒä»¬çš„å®ç°æ–¹å¼å’Œä½œç”¨ç•¥æœ‰ä¸åŒã€‚</code></pre></blockquote><p>å®ç°â†“</p><h4 id="redirecté‡å®šå‘"><a href="#redirecté‡å®šå‘" class="headerlink" title="redirecté‡å®šå‘"></a>redirecté‡å®šå‘</h4><blockquote><p>â€‹    URL é‡å†™æ˜¯æŒ‡å°†æµè§ˆå™¨è¯·æ±‚çš„ URL è·¯å¾„æˆ–å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œä»¥ä¾¿äºæœåŠ¡å™¨ç«¯èƒ½å¤Ÿè¯†åˆ«å’Œå¤„ç†è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå°† <code>http://example.com/user?id=1</code> çš„è¯·æ±‚è·¯å¾„é‡å†™ä¸º <code>http://example.com/user/1</code>ï¼Œè¿™æ ·æœåŠ¡å™¨ç«¯å°±å¯ä»¥é€šè¿‡è§£æ URL è·¯å¾„æ¥è·å–ç”¨æˆ· IDã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">NextResponse</span>.<span class="title function_">redirect</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;è·¯å¾„&#x27;</span>, req.<span class="property">url</span>))</span><br></pre></td></tr></table></figure><p>ä¸å¥½æ„æ€ä¸‹é¢è¿™å—è·Ÿä¸Šé¢æ²¡å•¥è”ç³»ï¼Œçœ‹é”™äº†ï¼Œä½†æ˜¯è§‰å¾—æœ‰æ„æ€ï¼Œå…ˆæ”¾åœ¨è¿™å§</p><h5 id="é‡å®šå‘ç±»å‹"><a href="#é‡å®šå‘ç±»å‹" class="headerlink" title="é‡å®šå‘ç±»å‹"></a><a href="https://developers.google.com/search/docs/crawling-indexing/301-redirects?hl=zh-cn#overview-of-redirect-types">é‡å®šå‘ç±»å‹</a></h5><blockquote><p>â€‹    URL é‡å®šå‘åˆ™æ˜¯æŒ‡å½“æµè§ˆå™¨è¯·æ±‚ä¸€ä¸ª URL æ—¶ï¼ŒæœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨å°†è¯·æ±‚è½¬åˆ°å¦ä¸€ä¸ª URLã€‚é‡å®šå‘å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šæ°¸ä¹…é‡å®šå‘ï¼ˆ301 Moved Permanentlyï¼‰å’Œä¸´æ—¶é‡å®šå‘ï¼ˆ302 Foundï¼‰ã€‚æ°¸ä¹…é‡å®šå‘è¡¨ç¤ºè¯·æ±‚çš„ URL å·²ç»æ°¸ä¹…ç§»åŠ¨åˆ°äº†å¦ä¸€ä¸ª URLï¼Œæœç´¢å¼•æ“ä¼šæŠŠåŸæœ‰çš„æƒé‡è½¬ç§»åˆ°æ–°çš„ URL ä¸Šï¼›è€Œä¸´æ—¶é‡å®šå‘è¡¨ç¤ºè¯·æ±‚çš„ URL åªæ˜¯æš‚æ—¶æ€§åœ°ç§»åŠ¨åˆ°äº†å¦ä¸€ä¸ª URLï¼Œæœç´¢å¼•æ“ä¼šç»§ç»­ä¿ç•™åŸæœ‰çš„æƒé‡ã€‚</p></blockquote><ul><li>æ°¸ä¹…æ€§é‡å®šå‘<ul><li>HTTP 301 è®¾ç½®æœåŠ¡å™¨ç«¯é‡å®šå‘</li><li>HTTP 308</li><li>meta refresh è®¾ç½®meta refrashé‡å®šå‘</li><li>HTTPåˆ·æ–° </li><li>JS location </li><li>Cryptoé‡å®šå‘</li></ul></li><li>ä¸´æ—¶é‡å®šå‘<ul><li>HTTP 302 è®¾ç½®æœåŠ¡å™¨é‡å®šå‘</li><li>HTTP 303</li><li>HTTP 307</li><li>meta refrash è®¾ç½®meta refrashé‡å®šå‘</li><li>HTTP refrash</li></ul></li></ul><h4 id="rewriteé‡å†™"><a href="#rewriteé‡å†™" class="headerlink" title="rewriteé‡å†™"></a>rewriteé‡å†™</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">NextResponse</span>.<span class="title function_">rewrite</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;è·¯å¾„&#x27;</span>, req.<span class="property">url</span>))</span><br></pre></td></tr></table></figure><h4 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h4><pre><code> URL é‡å†™ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æœåŠ¡å™¨ç«¯çš„å¤„ç†ï¼Œ URL é‡å®šå‘ä¸»è¦æ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæœç´¢å¼•æ“ä¼˜åŒ–(æˆ‘å»ï¼Œä»€ä¹ˆå¤§å‘)ã€‚</code></pre>]]></content>
      
      
      <categories>
          
          <category> Next.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¸­é—´ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”ç±»</title>
      <link href="/post/8ed5.html"/>
      <url>/post/8ed5.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸‰ç§å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹å¼"><a href="#ä¸‰ç§å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹å¼" class="headerlink" title="ä¸‰ç§å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹å¼"></a>ä¸‰ç§å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹å¼</h1><h2 id="ä¸¤ç§å½¢å¼å®šä¹‰ç±»"><a href="#ä¸¤ç§å½¢å¼å®šä¹‰ç±»" class="headerlink" title="ä¸¤ç§å½¢å¼å®šä¹‰ç±»"></a>ä¸¤ç§å½¢å¼å®šä¹‰ç±»</h2><h3 id="å·¥å‚å‡½æ•°"><a href="#å·¥å‚å‡½æ•°" class="headerlink" title="å·¥å‚å‡½æ•°"></a>å·¥å‚å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">range</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> r = <span class="title class_">Object</span>.<span class="title function_">create</span>(range.<span class="property">methods</span>) <span class="comment">// æŒ‚ä¸Šæ–¹æ³•</span></span><br><span class="line">    r.<span class="property">from</span> = <span class="keyword">from</span> <span class="comment">// å…¬æœ‰å±æ€§</span></span><br><span class="line">    r.<span class="property">to</span> = to</span><br><span class="line">    <span class="keyword">return</span> r <span class="comment">// è¿”å›åˆ›å»ºå¥½çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line">range.<span class="property">methods</span> = &#123;</span><br><span class="line">    <span class="title function_">includes</span>(<span class="params">x</span>) &#123; <span class="comment">// ä¸€ä¸ªåˆ¤æ–­èŒƒå›´çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="variable language_">this</span>.<span class="property">from</span> &amp;&amp; x &lt;= <span class="variable language_">this</span>.<span class="property">to</span></span><br><span class="line">    &#125;,</span><br><span class="line">    *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123; <span class="comment">// ä¸€ä¸ªè®¾ç½®å¯è¿­ä»£çš„ç”Ÿæˆå™¨æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">from</span>); i &lt;= <span class="variable language_">this</span>.<span class="property">to</span>; i ++) &#123;</span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123; <span class="comment">// æ¯ä¸ªå¯¹è±¡éƒ½æœ‰çš„toStringå‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.<span class="keyword">from</span>&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.to&#125;</span>]`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = <span class="title function_">range</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// ç”¨ræ¥ä½äº†ä¸€ä¸ªä½¿ç”¨å·¥å‚å‡½æ•°åˆ›å»ºå¥½çš„å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">includes</span>(<span class="number">2</span>)) <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">toString</span>()) <span class="comment">// =&gt; [1, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...r]) <span class="comment">// =&gt;[1,2,3]</span></span><br></pre></td></tr></table></figure><h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Range</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123; <span class="comment">// æ³¨æ„æ„é€ å‡½æ•°çš„å‘½åè§„èŒƒï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç±»åäº¦æ˜¯</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">from</span> = <span class="keyword">from</span> <span class="comment">// å…¬æœ‰å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">to</span> = to</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Range</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123; <span class="comment">// åŸå‹ä¸ŠæŒ‚æ–¹æ³•</span></span><br><span class="line">    <span class="attr">includes</span>: <span class="keyword">function</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="variable language_">this</span>.<span class="property">from</span> &amp;&amp; x &lt;= <span class="variable language_">this</span>.<span class="property">to</span></span><br><span class="line">    &#125;,</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="keyword">function</span>*() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">from</span>); i &lt;= <span class="variable language_">this</span>.<span class="property">to</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; ,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.<span class="keyword">from</span>&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.to&#125;</span>]`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = <span class="keyword">new</span> <span class="title class_">Range</span>(<span class="number">1</span>, <span class="number">3</span>) <span class="comment">// å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">toString</span>()) <span class="comment">// =&gt; [1, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">includes</span>(<span class="number">2</span>)) <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...r]) <span class="comment">// =&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><p>è¶æœºå›é¡¾ä¸€ä¸‹new ä¸€ä¸ªæ–°å¯¹è±¡çš„è¿‡ç¨‹</p><ul><li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li><code>__proto__</code>æŒ‡å‘æ„é€ å‡½æ•°çš„<code>prototype</code></li><li><code>this</code>æŒ‡å‘è¯¥å¯¹è±¡</li></ul><p>è¶æœºå›é¡¾ä¸€ä¸‹æ„é€ å‡½æ•°å’Œæ™®é€šå‡½æ•°è°ƒç”¨çš„åŒºåˆ«</p><ul><li>thisï¼šæ„é€ å‡½æ•°é€šè¿‡newè°ƒç”¨ï¼ŒthisæŒ‡å‘æ–°å»ºçš„ç©ºå¯¹è±¡(æŒ‡å‘å®ä¾‹å¯¹è±¡)ï¼›è€Œæ™®é€šå‡½æ•°è°ƒç”¨thiså¾€å¾€å‚ç…§æ‰€åœ¨ä¸Šä¸‹æ–‡ï¼Œä¸€èˆ¬æ˜¯windowï¼Œåæ­£è°è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„thiså°±æŒ‡å‘è°ã€‚</li><li>è¿”å›å€¼ï¼šæ„é€ å‡½æ•°ä¸éœ€è¦æ˜¾ç¤ºåœ°è¿”å›å€¼ï¼Œè°ƒç”¨çš„æ—¶å€™è‡ªåŠ¨è¿”å›ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼›æ™®é€šå‡½æ•°å¿…é¡»è¦æœ‰è¿”å›å€¼ï¼Œä¸”è¿”å›å€¼å–å†³äºå‡½æ•°å†…éƒ¨çš„returnè¯­å¥ï¼Œä¸ç„¶undefinedã€‚</li></ul><h2 id="ä¸€ç§ES6èˆ¹æ–°çš„classå…³é”®å­—ç±»"><a href="#ä¸€ç§ES6èˆ¹æ–°çš„classå…³é”®å­—ç±»" class="headerlink" title="ä¸€ç§ES6èˆ¹æ–°çš„classå…³é”®å­—ç±»"></a>ä¸€ç§ES6èˆ¹æ–°çš„classå…³é”®å­—ç±»</h2><p>å®é™…ä¸Šæ˜¯è¯­æ³•ç³–å•¦~</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123; <span class="comment">// å…³é”®ä¸€è„š</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">from</span> = <span class="keyword">from</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">to</span> = to</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">includes</span>(<span class="params">x</span>) &#123; </span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="variable language_">this</span>.<span class="property">from</span> &amp;&amp; x &lt;= <span class="variable language_">this</span>.<span class="property">to</span></span><br><span class="line">    &#125;</span><br><span class="line">    *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">from</span>); i &lt;= <span class="variable language_">this</span>.<span class="property">to</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.<span class="keyword">from</span>&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.to&#125;</span>]`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = <span class="keyword">new</span> <span class="title class_">Range</span>(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">toString</span>()) <span class="comment">// =&gt; [1, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r.<span class="title function_">includes</span>(<span class="number">2</span>)) <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...r]) <span class="comment">// =&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><blockquote><p>åŸå‹å¯¹è±¡æ˜¯ç±»çš„å…³é”®ç‰¹æ€§ï¼Œæ„é€ å‡½æ•°æ˜¯ç±»çš„å…¬å…±æ ‡è¯†</p></blockquote><h1 id="å…ˆç†Ÿæ‚‰ä¸€ä¸‹class"><a href="#å…ˆç†Ÿæ‚‰ä¸€ä¸‹class" class="headerlink" title="å…ˆç†Ÿæ‚‰ä¸€ä¸‹class"></a>å…ˆç†Ÿæ‚‰ä¸€ä¸‹class</h1><h2 id="ç»§æ‰¿ç±»è¯­æ³•"><a href="#ç»§æ‰¿ç±»è¯­æ³•" class="headerlink" title="ç»§æ‰¿ç±»è¯­æ³•"></a>ç»§æ‰¿ç±»è¯­æ³•</h2><p>extendså’¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Span</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Range</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">start, length</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (length &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="variable language_">super</span>(start, start + length)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">super</span>(start + length, start)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç±»å®šä¹‰è¡¨è¾¾å¼è¯­æ³•"><a href="#ç±»å®šä¹‰è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="ç±»å®šä¹‰è¡¨è¾¾å¼è¯­æ³•"></a>ç±»å®šä¹‰è¡¨è¾¾å¼è¯­æ³•</h2><p>è¿™ç§æƒ…å†µè›®å°‘ï¼Œè¿˜æ˜¯ä¸Šé¢çš„æ¯”è¾ƒèˆ’æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> square = <span class="keyword">function</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">square</span>(<span class="number">3</span>) <span class="comment">// 9</span></span><br><span class="line">â†“â†“â†“</span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Square</span> = <span class="keyword">class</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">area</span> = x * x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Square</span>(<span class="number">3</span>).<span class="property">area</span> <span class="comment">// 9</span></span><br></pre></td></tr></table></figure><h2 id="classå£°æ˜"><a href="#classå£°æ˜" class="headerlink" title="classå£°æ˜"></a>classå£°æ˜</h2><p>ç±»å£°æ˜ä¸ä¼šåƒå‡½æ•°å£°æ˜ä¸€æ ·æœ‰å£°æ˜æå‡ã€‚å¿…é¡»å…ˆå£°æ˜å†åˆå§‹åŒ–æ“ä½œã€‚</p><h2 id="classå£°æ˜ä½“å†…"><a href="#classå£°æ˜ä½“å†…" class="headerlink" title="classå£°æ˜ä½“å†…"></a>classå£°æ˜ä½“å†…</h2><p>å£°æ˜ä½“å†…æ‰€æœ‰ä»£ç é»˜è®¤å¤„äºä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ä½¿ç”¨å…«è¿›åˆ¶æ•´æ•°å­—é¢é‡ã€withè¯­å¥å•¥å•¥å•¥çš„ï¼Œé‚£å½“ç„¶å¦‚æœä½ åœ¨å£°æ˜ä¸€ä¸ªå˜é‡å‰ä½¿ç”¨äº†è¿™ä¸ªå˜é‡ï¼Œgå’¯ã€‚</p><h1 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h1><p>æ‰€è°“é™æ€æ–¹æ³•ï¼Œæ˜¯ä½œä¸ºæ„é€ å‡½æ•°è€ŒéåŸå‹å¯¹è±¡çš„å±æ€§å®šä¹‰çš„â€”â€”é™æ€æ–¹æ³•æ˜¯æ„é€ å‡½æ•°çš„æ–¹æ³•ã€‚</p><p>é™æ€æ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºâ€™ç±»æ–¹æ³•â€™ï¼Œå› ä¸ºè¦é€šè¿‡ç±»å/æ„é€ å‡½æ•°åè°ƒç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Range</span> &#123;</span><br><span class="line">    ....</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">parse</span>(<span class="params">s</span>) &#123; <span class="comment">// ç±»ä¸­çš„é™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">let</span> matches = s.<span class="title function_">matches</span>(<span class="regexp">/^\(\d+)\.\.\.(\d+)\$/</span>)</span><br><span class="line">        <span class="keyword">if</span> (!matches) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;NoNo&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Range</span>(<span class="built_in">parseInt</span>(matches[<span class="number">1</span>]), <span class="built_in">parseInt</span>(matches[<span class="number">2</span>]))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = <span class="title class_">Range</span>.<span class="title function_">parse</span>(<span class="string">&#x27;(1...10)&#x27;</span>) <span class="comment">// æ¤°ä¸ï¼Œæ˜¯è¿™æ ·å­—è°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯è¿™ä¸ªç±»çš„åŸå‹çš„æ–¹æ³•</span></span><br><span class="line">r.<span class="title function_">parse</span>(<span class="string">&#x27;(1...10)&#x27;</span>) <span class="comment">// TypeError: parse is not a function è¿™æ ·è°ƒç”¨å¤§é”™ç‰¹é”™</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyClass</span>(<span class="params">....</span>) &#123;....&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyClass</span>.<span class="property">staticMethod</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ„é€ å‡½æ•°ä¸­çš„é™æ€æ–¹æ³•&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyClass</span>.<span class="title function_">staticMethod</span>()</span><br></pre></td></tr></table></figure><p>åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨thisæ²¡å•¥æ„ä¹‰ï¼Œå› ä¸ºæœ¬èº«å°±æ˜¯é ç±»/æ„é€ å‡½æ•°è°ƒç”¨ï¼Œè€Œéå®ä¾‹å¯¹è±¡ã€‚</p><h1 id="è·å–ã€è®¾ç½®ç­‰æ–¹æ³•"><a href="#è·å–ã€è®¾ç½®ç­‰æ–¹æ³•" class="headerlink" title="è·å–ã€è®¾ç½®ç­‰æ–¹æ³•"></a>è·å–ã€è®¾ç½®ç­‰æ–¹æ³•</h1><p>å¯¹è±¡å­—é¢é‡æ”¯æŒçš„æ‰€æœ‰ç®€å†™çš„æ–¹æ³•å®šä¹‰è¯­æ³•éƒ½å¯ä»¥åœ¨ç±»ä½“ä¸­ä½¿ç”¨ã€‚ä¸”åŒ…æ‹¬ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•å®šä¹‰ï¼Œæ¯”å¦‚ç”Ÿæˆå™¨æ–¹æ³•ï¼Œåå­—ä¸ºæ–¹æ‹¬å·ä¸­è¡¨è¾¾å¼å€¼çš„æ–¹æ³•ç­‰</p><h1 id="å…¬æœ‰ã€ç§æœ‰ã€é™æ€å­—æ®µ"><a href="#å…¬æœ‰ã€ç§æœ‰ã€é™æ€å­—æ®µ" class="headerlink" title="å…¬æœ‰ã€ç§æœ‰ã€é™æ€å­—æ®µ"></a>å…¬æœ‰ã€ç§æœ‰ã€é™æ€å­—æ®µ</h1><ul><li>public fields å…¬æœ‰å­—æ®µ åœ¨ç±»ä¸­ç›´æ¥å£°æ˜çš„å±æ€§ï¼Œå¯ä»¥åœ¨ç±»çš„å®ä¾‹ä¸­è®¿é—®ï¼ŒåŒ…å«å„ç§æ•°æ®ç±»å‹</li><li>privite fields  ç§æœ‰å­—æ®µ åªèƒ½åœ¨ç±»å†…éƒ¨è®¿é—®çš„å±æ€§ï¼Œå¯¹å¤–éƒ¨ä¸å¯è§ï¼Œå‰æœ‰<code>#</code>æ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬ç”¨æ¥æ”¾ç±»é‡Œæ•æ„Ÿæ•°æ®/è¦éšè—çš„ç»†èŠ‚çš„</li><li>static fileds é™æ€å­—æ®µ  å±äºç±»æœ¬èº«çš„å±æ€§ï¼Œåœ¨æ‰€æœ‰ç±»å®ä¾‹é—´å…±äº«ï¼Œå‰æœ‰<code>static</code>å…³é”®å­—ï¼Œä¸€èˆ¬ç”¨æ¥ç±»çº§åˆ«ä¸Šå­˜å‚¨çŠ¶æ€/è®¡æ•°</li></ul><h2 id="ES6-classé£æ ¼"><a href="#ES6-classé£æ ¼" class="headerlink" title="ES6 classé£æ ¼"></a>ES6 classé£æ ¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name <span class="comment">// å…¬æœ‰å­—æ®µ</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi~<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    #qvq = <span class="string">&#x27;114514&#x27;</span> <span class="comment">// ç§æœ‰å­—æ®µ</span></span><br><span class="line">    <span class="title function_">saying</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#qvq</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">updateSaying</span>(<span class="params">s</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.#qvq = s</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> cnt = <span class="number">0</span> <span class="comment">// é™æ€å­—æ®µ</span></span><br><span class="line">    <span class="title function_">calculator</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Person</span>.<span class="property">cnt</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">getCnt</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Person</span>.<span class="property">cnt</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;raliz&#x27;</span>, <span class="number">21</span>)</span><br><span class="line">p.<span class="title function_">sayHi</span>() <span class="comment">// =&gt; hi~raliz</span></span><br><span class="line">p.<span class="title function_">saying</span>() <span class="comment">// 114514</span></span><br><span class="line">p.#qvq <span class="comment">// æ— æ³•è®¿é—®</span></span><br><span class="line">p.<span class="title function_">updateSaying</span>(<span class="string">&#x27;555&#x27;</span>) <span class="comment">// 114514-&gt;555</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">getCnt</span>() <span class="comment">// 1</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">cnt</span> <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;qzhihe&#x27;</span>, <span class="number">21</span>)</span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">getCnt</span>() <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="ES5-æ„é€ å‡½æ•°é£æ ¼"><a href="#ES5-æ„é€ å‡½æ•°é£æ ¼" class="headerlink" title="ES5 æ„é€ å‡½æ•°é£æ ¼"></a>ES5 æ„é€ å‡½æ•°é£æ ¼</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name <span class="comment">// å…¬æœ‰å­—æ®µ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> qvq = <span class="string">&#x27;114514&#x27;</span> <span class="comment">// ç§æœ‰å­—æ®µ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">saying</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">qvq</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title class_">Person</span>.<span class="property">cnt</span>++ <span class="comment">// é™æ€å­—æ®µ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    cosole.<span class="title function_">log</span>(<span class="string">`hi~<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">cnt</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;raliz&#x27;</span>, <span class="number">21</span>)</span><br><span class="line">p.<span class="property">qvq</span> <span class="comment">// undefiendï¼Œä¸å¯è®¿é—®</span></span><br><span class="line">p.<span class="title function_">saying</span>() <span class="comment">// =&gt; 114514</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">cnt</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h1 id="ä¸ºå·²æœ‰çš„ç±»æ·»åŠ æ–¹æ³•"><a href="#ä¸ºå·²æœ‰çš„ç±»æ·»åŠ æ–¹æ³•" class="headerlink" title="ä¸ºå·²æœ‰çš„ç±»æ·»åŠ æ–¹æ³•"></a>ä¸ºå·²æœ‰çš„ç±»æ·»åŠ æ–¹æ³•</h1><p>JSåŸºäºåŸå‹æœºåˆ¶æ˜¯åŠ¨æ€çš„ï¼Œå¯¹è±¡ä»å®ƒçš„åŸå‹ç»§æ‰¿å±æ€§ï¼Œæ›´æ”¹è¯¥åŸå‹ä¸­çš„å±æ€§åï¼Œå¯¹è±¡ä¼šç»§æ‰¿æ›´æ”¹åçš„å±æ€§ã€‚</p><p>åŸºäºè¿™ä¸€ç‚¹ï¼Œç»™å·²æœ‰çš„ç±»å¢åŠ æ–¹æ³•ä¸ç®—éš¾äº†â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹æ¯”æ–°æ—§ç‰ˆæœ¬ç†Ÿæ‚‰ä¸€ä¸‹</span></span><br><span class="line"><span class="comment">// æ—§çš„ï¼Œnooooooooot goooooooooood é‡åå†²çªã€for/inå¯è§</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">startsWith</span>) &#123;</span><br><span class="line">    <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">satrtsWith</span> = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">indexOf</span>(s) === <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ExternP</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="title function_">newMethod</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³•&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å­ç±»"><a href="#å­ç±»" class="headerlink" title="å­ç±»"></a>å­ç±»</h1><h2 id="å­ç±»å’ŒåŸå‹"><a href="#å­ç±»å’ŒåŸå‹" class="headerlink" title="å­ç±»å’ŒåŸå‹"></a>å­ç±»å’ŒåŸå‹</h2><p>è®©æˆ‘ä»¬æ¥ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼å®ç°ä¸€ä¸ªRangeçš„å­ç±»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Range</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123; <span class="comment">// æ³¨æ„æ„é€ å‡½æ•°çš„å‘½åè§„èŒƒï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç±»åäº¦æ˜¯</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">from</span> = <span class="keyword">from</span> <span class="comment">// å…¬æœ‰å±æ€§</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">to</span> = to</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Range</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123; <span class="comment">// åŸå‹ä¸ŠæŒ‚æ–¹æ³•</span></span><br><span class="line">    <span class="attr">includes</span>: <span class="keyword">function</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="variable language_">this</span>.<span class="property">from</span> &amp;&amp; x &lt;= <span class="variable language_">this</span>.<span class="property">to</span></span><br><span class="line">    &#125;,</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="keyword">function</span>*() &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">from</span>); i &lt;= <span class="variable language_">this</span>.<span class="property">to</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; ,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`[<span class="subst">$&#123;<span class="variable language_">this</span>.<span class="keyword">from</span>&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.to&#125;</span>]`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Rangeå­ç±»Spanæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Span</span>(<span class="params">start, span</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (span &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">from</span> = start</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">to</span> = start + span</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">from</span> = start + span</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">to</span> = start</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¡®ä¿Spançš„åŸå‹ç»§æ‰¿RangeåŸå‹------å…³é”®ä¸€è„š------ï¼</span></span><br><span class="line"><span class="title class_">Span</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Range</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"><span class="comment">// constructoræŒ‡å‘æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="title class_">Span</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Span</span></span><br><span class="line"><span class="comment">// å¦‚æœä¸æƒ³ç»§æ‰¿åŸå‹çš„toStringï¼Œé‚£å°±å®šä¹‰è¦†ç›–æˆè‡ªå·±çš„toString</span></span><br><span class="line"><span class="title class_">Span</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`å“ˆå“ˆ[<span class="subst">$&#123;<span class="variable language_">this</span>.<span class="keyword">from</span>&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.to&#125;</span>]å“ˆå“ˆ`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå­ç±»"><a href="#åˆ›å»ºå­ç±»" class="headerlink" title="åˆ›å»ºå­ç±»"></a>åˆ›å»ºå­ç±»</h2><h3 id="é€šè¿‡extendså’Œsuperåˆ›å»ºå­ç±»"><a href="#é€šè¿‡extendså’Œsuperåˆ›å»ºå­ç±»" class="headerlink" title="é€šè¿‡extendså’Œsuperåˆ›å»ºå­ç±»"></a>é€šè¿‡extendså’Œsuperåˆ›å»ºå­ç±»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªArrayçš„å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EZArray</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Array</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ äº†ä¸¤ç§è·å–å‡½æ•°</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">first</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">last</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="variable language_">this</span>.<span class="property">length</span> - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">EZArray</span>()</span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">EZArray</span> <span class="comment">// true</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Array</span> <span class="comment">// true</span></span><br><span class="line">a.<span class="title function_">push</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">a.<span class="title function_">pop</span>() <span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>(a) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">EZArray</span>.<span class="title function_">isArray</span>(a) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">isPrototypeOf</span>(<span class="title class_">EZArray</span>.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">isPrototypeOf</span>(<span class="title class_">EZArray</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="æ•´ä¸€ä¸ªæ£€æŸ¥é”®å€¼ç±»å‹çš„Mapå­ç±»"><a href="#æ•´ä¸€ä¸ªæ£€æŸ¥é”®å€¼ç±»å‹çš„Mapå­ç±»" class="headerlink" title="æ•´ä¸€ä¸ªæ£€æŸ¥é”®å€¼ç±»å‹çš„Mapå­ç±»"></a>æ•´ä¸€ä¸ªæ£€æŸ¥é”®å€¼ç±»å‹çš„Mapå­ç±»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªç±»å¾ˆé€‚åˆæ”¹è£…æˆç§æœ‰å­—æ®µï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ç”¨æˆ·æ›´æ”¹æ¥è·³è¿‡ç±»å‹æ£€æŸ¥ï¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TypedMap</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Map</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">keyType, valType, entries</span>) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦æŒ‡å®šæ¡ç›®</span></span><br><span class="line">        <span class="keyword">if</span> (entries) &#123; </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> [k, v] <span class="keyword">of</span> entries) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> k !== keyType || <span class="keyword">typeof</span> v !== valType) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">`å­˜åœ¨ä¸ç¬¦åˆç±»å‹é™åˆ¶çš„é”®å€¼å¯¹[<span class="subst">$&#123;k&#125;</span>, <span class="subst">$&#123;v&#125;</span>]`</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–çˆ¶ç±»</span></span><br><span class="line">        <span class="variable language_">super</span>(entries)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–å­ç±»ï¼Œ</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">keyType</span> = keyType</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">valType</span> = valType</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">set</span>(<span class="params">key, val</span>) &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ å‰æ–°å¢é”®å€¼ç±»å‹åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span> (keyType &amp;&amp; <span class="keyword">typeof</span> key !== <span class="variable language_">this</span>.<span class="property">keyType</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">`å­˜åœ¨ä¸ç¬¦åˆç±»å‹é™åˆ¶çš„é”®<span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (valType &amp;&amp; <span class="keyword">typeof</span> val !== <span class="variable language_">this</span>.<span class="property">valType</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">`å­˜åœ¨ä¸ç¬¦åˆç±»å‹é™åˆ¶çš„å€¼<span class="subst">$&#123;val&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„setæ–¹æ³•ï¼Œç¡®ä¿ç±»å‹æ£€æŸ¥é€šè¿‡çš„é”®å€¼å¯¹èƒ½åŠ è¿›å»</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">super</span>.<span class="title function_">set</span>(key, val)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨Superéœ€è¦æ³¨æ„çš„è§„åˆ™"><a href="#åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨Superéœ€è¦æ³¨æ„çš„è§„åˆ™" class="headerlink" title="åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨Superéœ€è¦æ³¨æ„çš„è§„åˆ™"></a>åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨Superéœ€è¦æ³¨æ„çš„è§„åˆ™</h3><ul><li>å¦‚æœä½¿ç”¨extendsç»§æ‰¿ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆå¿…é¡»è¦ä½¿ç”¨superæ¥åˆå§‹åŒ–è°ƒç”¨ä¸€ä¸‹çˆ¶ç±»æ„é€ å‡½æ•°</li><li>å¦‚æœå­ç±»ä¸­æ²¡æœ‰å†™æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆè§£é‡Šå™¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç©ºæ„é€ å‡½æ•°ï¼Œéšå¼åœ°è·å–ä¼ å€¼å’Œè°ƒç”¨</li><li>åœ¨è°ƒç”¨super()ä¹‹å‰ï¼Œä¸èƒ½åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–å­ç±»çŠ¶æ€(ä½¿ç”¨thiså…³é”®å­—)ï¼Œè¿™ç§å¼ºåˆ¶è§„åˆ™ç¡®ä¿äº†çˆ¶ç±»å…ˆäºå­ç±»å¾—åˆ°åˆå§‹åŒ–</li><li>å½“å­ç±»æ„é€ å‡½æ•°è¢«è°ƒç”¨ä¸”superè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°æ—¶ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°å¯ä»¥é€šè¿‡new.targetè·å–åˆ°å­ç±»æ„é€ å‡½æ•°ã€‚<ul><li>æ²¡æœ‰newè°ƒç”¨çš„å‡½æ•°ä¸­ï¼Œnew.targetæ˜¯undefiendï¼›æ„é€ å‡½æ•°ä¸­new.targetå¼•ç”¨çš„æ˜¯è¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ã€‚</li><li>ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„çˆ¶ç±»ä¸éœ€è¦ç›´åˆ°è‡ªå·±çš„å­ç±»ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡new.target.nameæ¥è®°å½•æ—¥å¿—æ¶ˆæ¯ã€‚</li><li>â†‘æ ¹æ®å•ä¸€èŒè´£åŸåˆ™ï¼Œå¼€æ–¹å°é—­åŸåˆ™ï¼Œä¾èµ–å€’ç½®åŸåˆ™ï¼Œä½è€¦åˆï¼Œé‡ç”¨ï¼ŒæŠ½è±¡â€¦çˆ¶ç±»ä¸åº”ä¾èµ–äºå­ç±»ï¼Œsoâ†‘</li></ul></li></ul><h2 id="å§”æ‰˜"><a href="#å§”æ‰˜" class="headerlink" title="å§”æ‰˜"></a>å§”æ‰˜</h2><h3 id="èƒ½ç»„åˆä¸ç»§æ‰¿"><a href="#èƒ½ç»„åˆä¸ç»§æ‰¿" class="headerlink" title="èƒ½ç»„åˆä¸ç»§æ‰¿"></a>èƒ½ç»„åˆä¸ç»§æ‰¿</h3><p>å¦‚æœæœ‰ä¸ªç±»å’Œå¦ä¸€ä¸ªç±»æœ‰ç›¸åŒçš„è¡Œä¸ºï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºå­ç±»æ¥ç»§æ‰¿è¯¥è¡Œä¸ºï¼Œä½†æ˜¯åœ¨ç±»ä¸­åˆ›å»ºå¦ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œå¹¶åœ¨éœ€è¦çš„æ—¶å€™å§”æ‰˜è¯¥å®ä¾‹å»åšå¸Œæœ›åšçš„äº‹æƒ…åè€Œæ˜¯æ›´æ–¹ä¾¿çµæ´»ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å€™ä¸éœ€è¦åˆ›å»ºå­ç±»ï¼Œè€Œæ˜¯åŒ…è£…/ç»„åˆå…¶ä»–ç±»å³å¯ã€‚</p><p>ä»¥ä¸Šè¿™ç§å§”æ‰˜ç­–ç•¥ è¢«ç§°ä¸ºâ€™ç»„åˆcompositionâ€™ã€‚</p><p>å®ç°ä¸€ä¸ªç›´æ–¹å›¾ç±»â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Histogram</span> &#123;</span><br><span class="line">    <span class="title function_">ocnstructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªè¦å§”æ‰˜çš„Mapå¯¹è±¡</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">map</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">count</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">get</span>(key) ||<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">has</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">count</span>(key) &gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">size</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="property">size</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">set</span>(key, <span class="variable language_">this</span>.<span class="title function_">count</span>(key) + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">delete</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cnt = <span class="variable language_">this</span>.<span class="title function_">count</span>(key)</span><br><span class="line">        <span class="keyword">if</span> (cnt === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">set</span>(key, cnt - <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">keys</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">keys</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">keys</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">values</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">keys</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">entries</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">entries</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£å¼çš„ç»§æ‰¿å…³ç³»è™½å¥½ï¼Œå¯ä¸è¦è´ªæ¯å“¦(doge)</p><h2 id="ç±»å±‚æ¬¡å’ŒæŠ½è±¡ç±»"><a href="#ç±»å±‚æ¬¡å’ŒæŠ½è±¡ç±»" class="headerlink" title="ç±»å±‚æ¬¡å’ŒæŠ½è±¡ç±»"></a>ç±»å±‚æ¬¡å’ŒæŠ½è±¡ç±»</h2><p>æˆ‘è§‰å¾—å’Œè®¾è®¡æ¨¡å¼ç»“åˆæ¥çœ‹æ¯”è¾ƒå¥½ã€‚</p><h1 id="ä¸€é“ç®—æ³•é¢˜"><a href="#ä¸€é“ç®—æ³•é¢˜" class="headerlink" title="ä¸€é“ç®—æ³•é¢˜"></a>ä¸€é“ç®—æ³•é¢˜</h1><p><a href="https://leetcode.cn/problems/minimum-operations-to-halve-array-sum/">2208. å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°</a></p><p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>nums</code> ã€‚æ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥ä» <code>nums</code> ä¸­é€‰æ‹© <strong>ä»»æ„</strong> ä¸€ä¸ªæ•°å¹¶å°†å®ƒå‡å°åˆ° <strong>æ°å¥½</strong> ä¸€åŠã€‚ï¼ˆæ³¨æ„ï¼Œåœ¨åç»­æ“ä½œä¸­ä½ å¯ä»¥å¯¹å‡åŠè¿‡çš„æ•°ç»§ç»­æ‰§è¡Œæ“ä½œï¼‰</p><p>è¯·ä½ è¿”å›å°† <code>nums</code> æ•°ç»„å’Œ <strong>è‡³å°‘</strong> å‡å°‘ä¸€åŠçš„ <strong>æœ€å°‘</strong> æ“ä½œæ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [5,19,8,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šåˆå§‹ nums çš„å’Œä¸º 5 + 19 + 8 + 1 = 33 ã€‚</span><br><span class="line">ä»¥ä¸‹æ˜¯å°†æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠçš„ä¸€ç§æ–¹æ³•ï¼š</span><br><span class="line">é€‰æ‹©æ•°å­— 19 å¹¶å‡å°ä¸º 9.5 ã€‚</span><br><span class="line">é€‰æ‹©æ•°å­— 9.5 å¹¶å‡å°ä¸º 4.75 ã€‚</span><br><span class="line">é€‰æ‹©æ•°å­— 8 å¹¶å‡å°ä¸º 4 ã€‚</span><br><span class="line">æœ€ç»ˆæ•°ç»„ä¸º [5, 4.75, 4, 1] ï¼Œå’Œä¸º 5 + 4.75 + 4 + 1 = 14.75 ã€‚</span><br><span class="line">nums çš„å’Œå‡å°äº† 33 - 14.75 = 18.25 ï¼Œå‡å°çš„éƒ¨åˆ†è¶…è¿‡äº†åˆå§‹æ•°ç»„å’Œçš„ä¸€åŠï¼Œ18.25 &gt;= 33/2 = 16.5 ã€‚</span><br><span class="line">æˆ‘ä»¬éœ€è¦ 3 ä¸ªæ“ä½œå®ç°é¢˜ç›®è¦æ±‚ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚</span><br><span class="line">å¯ä»¥è¯æ˜ï¼Œæ— æ³•é€šè¿‡å°‘äº 3 ä¸ªæ“ä½œä½¿æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠã€‚</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,8,20]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šåˆå§‹ nums çš„å’Œä¸º 3 + 8 + 20 = 31 ã€‚</span><br><span class="line">ä»¥ä¸‹æ˜¯å°†æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠçš„ä¸€ç§æ–¹æ³•ï¼š</span><br><span class="line">é€‰æ‹©æ•°å­— 20 å¹¶å‡å°ä¸º 10 ã€‚</span><br><span class="line">é€‰æ‹©æ•°å­— 10 å¹¶å‡å°ä¸º 5 ã€‚</span><br><span class="line">é€‰æ‹©æ•°å­— 3 å¹¶å‡å°ä¸º 1.5 ã€‚</span><br><span class="line">æœ€ç»ˆæ•°ç»„ä¸º [1.5, 8, 5] ï¼Œå’Œä¸º 1.5 + 8 + 5 = 14.5 ã€‚</span><br><span class="line">nums çš„å’Œå‡å°äº† 31 - 14.5 = 16.5 ï¼Œå‡å°çš„éƒ¨åˆ†è¶…è¿‡äº†åˆå§‹æ•°ç»„å’Œçš„ä¸€åŠï¼Œ 16.5 &gt;= 31/2 = 16.5 ã€‚</span><br><span class="line">æˆ‘ä»¬éœ€è¦ 3 ä¸ªæ“ä½œå®ç°é¢˜ç›®è¦æ±‚ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚</span><br><span class="line">å¯ä»¥è¯æ˜ï¼Œæ— æ³•é€šè¿‡å°‘äº 3 ä¸ªæ“ä½œä½¿æ•°ç»„å’Œå‡å°‘è‡³å°‘ä¸€åŠã€‚</span><br></pre></td></tr></table></figure><p> <strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 105</code></li><li><code>1 &lt;= nums[i] &lt;= 107</code></li></ul><p><strong>è§£é¢˜ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªä¼˜å…ˆé˜Ÿåˆ—ç±»çœ‹å¾—æˆ‘ç³å­”æ‰©æ•£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Heap</span> &#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">data, compare</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">data</span> = data;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">compare</span> = compare;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¡®å®šè¦å †åŒ–çš„èŒƒå›´-æ•°ç»„ä¸€åŠä»¥åçš„éƒ½æ˜¯å¶å­ç»“ç‚¹ï¼Œæ— éœ€å †åŒ–</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = (data.<span class="property">length</span> &gt;&gt; <span class="number">1</span>) - <span class="number">1</span>; i &gt;=<span class="number">0</span> ; i--) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">heapify</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// å †åŒ–æ“ä½œ</span></span><br><span class="line"><span class="title function_">heapify</span>(<span class="params">index</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> target = index;</span><br><span class="line"><span class="keyword">let</span> left = index * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> right = index * <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// ç¡®å®šçˆ¶å·¦å³ä¸­æœ€å°çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (left &lt; <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span> &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">compare</span>(<span class="variable language_">this</span>.<span class="property">data</span>[left], <span class="variable language_">this</span>.<span class="property">data</span>[target])) &#123;</span><br><span class="line">target = left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (right &lt; <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span> &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">compare</span>(<span class="variable language_">this</span>.<span class="property">data</span>[right], <span class="variable language_">this</span>.<span class="property">data</span>[target])) &#123;</span><br><span class="line">target = right;</span><br><span class="line">&#125;</span><br><span class="line">        <span class="comment">// å¦‚æœèŠ‚ç‚¹ä¸æ˜¯çˆ¶èŠ‚ç‚¹ï¼Œè¿›è¡Œçˆ¶å­ç½®æ¢ï¼Œåœ¨ç½®æ¢åçš„å­å¤„ç»§ç»­å †åŒ–</span></span><br><span class="line"><span class="keyword">if</span> (target !== index) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">swap</span>(target, index);</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">heapify</span>(target);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// ä¸¤æ•°ç½®æ¢</span></span><br><span class="line"><span class="title function_">swap</span>(<span class="params">l, r</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> data = <span class="variable language_">this</span>.<span class="property">data</span>;</span><br><span class="line">[data[l], data[r]] = [data[r], data[l]];</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ æ–°å…ƒç´ åˆ°æ•°ç»„æœ«å°¾</span></span><br><span class="line"><span class="title function_">push</span>(<span class="params">item</span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">push</span>(item);</span><br><span class="line"><span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> father = ((index + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>) - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// ç¡®ä¿è¿›æ¥ä¹‹åæ•°ç»„å…ƒç´ ä¾æ—§æ˜¯å‡åºæ’åº</span></span><br><span class="line"><span class="keyword">while</span> (father &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">compare</span>(<span class="variable language_">this</span>.<span class="property">data</span>[index], <span class="variable language_">this</span>.<span class="property">data</span>[father])) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">swap</span>(index, father);</span><br><span class="line">index = father;</span><br><span class="line">father = ((index + <span class="number">1</span>) &gt;&gt; <span class="number">1</span>) - <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">// ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line"><span class="title function_">pop</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">swap</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>); <span class="comment">// æ€ä¹ˆæ¢äº†</span></span><br><span class="line"><span class="keyword">let</span> ret = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">pop</span>(); </span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">heapify</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> halveArray = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="comment">// æŒ‰ç…§ä»å°åˆ°å¤§æ’åºæ–¹å¼å®ä¾‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">let</span> pq = <span class="keyword">new</span> <span class="title class_">Heap</span>(nums, <span class="function">(<span class="params">lower, higher</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">return</span> lower &gt; higher;</span><br><span class="line">&#125;);</span><br><span class="line">    <span class="keyword">let</span> total = nums.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, item</span>) =&gt;</span> total + item);</span><br><span class="line">    <span class="keyword">let</span> now = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> times = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (now &lt; total / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> tmp = pq.<span class="title function_">pop</span>();</span><br><span class="line">        now += tmp / <span class="number">2</span>;</span><br><span class="line">        pq.<span class="title function_">push</span>(tmp / <span class="number">2</span>);</span><br><span class="line">        times++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> times;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">é¢˜è§£é“¾æ¥ï¼š<span class="attr">https</span>:<span class="comment">//leetcode.cn/problems/minimum-operations-to-halve-array-sum/solutions/1352690/zhou-sai-t3-by-lianxin-n8pt/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è’œæ³•-äºŒå‰æ ‘DFS</title>
      <link href="/post/c05d.html"/>
      <url>/post/c05d.html</url>
      
        <content type="html"><![CDATA[<h1 id="979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"><a href="#979-åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸" class="headerlink" title="979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸"></a><a href="https://leetcode.cn/problems/distribute-coins-in-binary-tree/">979. åœ¨äºŒå‰æ ‘ä¸­åˆ†é…ç¡¬å¸</a></h1><p>é‚ªé—¨äºŒå‰æ ‘+DFSï¼Œæ ¹æœ¬è®¾è®¡ä¸å‡ºæ¥ï¼Œå›¾è§£é‚£ä¹ˆå·§å¦™ï¼Œæˆ‘ç›´æ¥å¤§å£å•ƒèœã€‚<img src="../images/%E8%92%9C%E6%B3%95-DFS%E5%92%8CBFS/%E8%8F%9C%E7%8B%97.gif" alt="èœç‹—" style="zoom:50%;" /></p><p>é¢˜ç›®è¦æ±‚å¤§è‡´ï¼š</p><p>ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰éšæœºæ•°é‡ä¸ªç¡¬å¸ï¼Œè¦æ±‚é€šè¿‡çˆ¶å­ä¼ é€’ä¸€æ¬¡ä¸€ç¡¬å¸çš„æ–¹å¼ä½¿äºŒå‰æ ‘å†…èŠ‚ç‚¹ä¸Šçš„ç¡¬å¸æ•°é‡å…¨éƒ¨åˆ†æˆ<code>1</code>ã€‚</p><p>å…ˆæ”¾ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val, left, right) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.left = (left===undefined ? null : left)</span></span><br><span class="line"><span class="comment"> *     this.right = (right===undefined ? null : right)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TreeNode</span>&#125; <span class="variable">root</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> distributeCoins = <span class="keyword">function</span>(<span class="params">root</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">node</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> leftMove = <span class="number">0</span>,</span><br><span class="line">            rightMove = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">left</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">            leftMove = <span class="title function_">dfs</span>(node.<span class="property">left</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">right</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">            rightMove = <span class="title function_">dfs</span>(node.<span class="property">right</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sum += <span class="title class_">Math</span>.<span class="title function_">abs</span>(leftMove) + <span class="title class_">Math</span>.<span class="title function_">abs</span>(rightMove)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> nodeMove = leftMove + rightMove + node.<span class="property">val</span> - <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">dfs</span>(root)</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åé¡ºæ€è·¯ï¼š</p><ul><li>è‡ªä¸‹è€Œä¸Šç¡®å®šå˜é‡<ul><li>å¶å­ç»“ç‚¹ï¼šè‡ªèº«éœ€è¦å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨(æ‹¿/å‡º)å¤šå°‘æ¬¡ç¡¬å¸</li><li>æ¯å±‚æ ¹èŠ‚ç‚¹ï¼šå·¦å­©å­éœ€è¦ä»æ ¹èŠ‚ç‚¹ç§»åŠ¨å¤šå°‘æ¬¡ç¡¬å¸ï¼Œå³å­©å­éœ€è¦ä»æ ¹èŠ‚ç‚¹ç§»åŠ¨å¤šå°‘æ¬¡ç¡¬å¸ï¼Œå‡ºæ¥å¥½å­©å­çš„äº‹æƒ…åè‡ªå·±è¿˜éœ€è¦å‘çˆ¶èŠ‚ç‚¹ç§»åŠ¨å¤šå°‘æ¬¡ç¡¬å¸</li><li>sumå€¼ï¼šç”¨æ¥è®°å½•æ¯å±‚ç§»åŠ¨ç¡¬å¸æ¬¡æ•°å’Œ</li></ul></li><li>ç¡®å®šå˜é‡ä¹‹é—´çš„å…³ç³»<ul><li>å­èŠ‚ç‚¹ä¼šå‘çˆ¶èŠ‚ç‚¹æ‹‰æ‰¯ä¸€ä¸‹ï¼Œä¸¾ä¸ªä¾‹å­ï¼š(0)-2-(0)ï¼Œé‚£ä¹ˆå·¦ä¸Šå…¥1å³ä¸Šå…¥1ï¼Œçˆ¶ä¸‹å‡º2ï¼Œå‰©0ï¼Œæ­¤æ—¶çˆ¶éœ€è¦ä¸Šå…¥1ã€‚</li><li>ä»¥æ­¤ç±»æ¨å¾€ä¸Šæ’</li></ul></li><li>ç¡®å®šå‡½æ•°å®ç°æ–¹å¼<ul><li>å‡½æ•°é€’å½’ï¼šæ·±æœå•¦~</li><li>å…¨å±€sumè®°å½•ï¼šæ”¾åœ¨å…¨å±€ï¼Œè°ƒç”¨çš„å‡½æ•°ä¼šæ“ä½œå®ƒï¼Œç¨‹åºæœ€åè¿”å›</li><li>å¤„ç†ç‰¹æ®Šæƒ…å†µï¼šnull/è¾¹ç•Œå€¼(åè¯ä¹±ç”¨äº†å±äºæ˜¯)</li></ul></li></ul><p>æƒ³ç”»ç‚¹å›¾ï¼š</p><img src="../images/%E8%92%9C%E6%B3%95-DFS%E5%92%8CBFS/%E4%BA%8C%E5%8F%89%E6%A0%91%E4%BE%8B%E5%AD%90.jpg" alt="äºŒå‰æ ‘ä¾‹å­" style="zoom: 50%;" /><h1 id="834-æ ‘ä¸­è·ç¦»ä¹‹å’Œ"><a href="#834-æ ‘ä¸­è·ç¦»ä¹‹å’Œ" class="headerlink" title="834. æ ‘ä¸­è·ç¦»ä¹‹å’Œ"></a><a href="https://leetcode.cn/problems/sum-of-distances-in-tree/">834. æ ‘ä¸­è·ç¦»ä¹‹å’Œ</a></h1><p>ç¬¨æ­»æˆ‘äº†ï¼Œä¸¤æ¬¡æ·±æœï¼Œè¿˜æ˜¯äºŒå‰æ ‘ï¼Œåˆæ˜¯å•ƒèœçš„ä¸€å¤©â€¦â€¦<img src="../images/%E8%92%9C%E6%B3%95-DFS%E5%92%8CBFS/%E8%8F%9C%E7%8B%97.gif" alt="èœç‹—" style="zoom:50%;" />å¯æ¶ä¸ä¿¡å¤šçœ‹å‡ éé¢˜è§£å¤šæ•²ä¸€ä¸‹è„‘å­ä¸€ç‚¹è¤¶çš±éƒ½ä¸é•¿ï¼</p><p><a href="https://leetcode.cn/problems/sum-of-distances-in-tree/solution/shou-hua-tu-jie-shu-zhong-ju-chi-zhi-he-shu-xing-d/">å¤§ä½¬é¢˜è§£</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">edges</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> sumOfDistancesInTree = <span class="keyword">function</span>(<span class="params">n, edges</span>) &#123;</span><br><span class="line">    <span class="comment">// é‚»æ¥å…³ç³»è¡¨</span></span><br><span class="line">    <span class="keyword">const</span> graph = <span class="keyword">new</span> <span class="title class_">Array</span>(n)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; graph.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        graph[i] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> edge <span class="keyword">of</span> edges) &#123;</span><br><span class="line">        <span class="keyword">const</span> [<span class="keyword">from</span>, to] = edge</span><br><span class="line">        graph[<span class="keyword">from</span>].<span class="title function_">push</span>(to)</span><br><span class="line">        graph[to].<span class="title function_">push</span>(<span class="keyword">from</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹æ‰€åœ¨å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">let</span> nodeNum = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹åˆ°å…¶æ‰€åœ¨å­æ ‘èŠ‚ç‚¹çš„è·ç¦»å’Œ èŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»å’Œ</span></span><br><span class="line">    <span class="keyword">let</span> distNum = <span class="keyword">new</span> <span class="title class_">Array</span>(n).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å­èŠ‚ç‚¹è·ç¦»-ååº-é€’å½’</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">postOrder</span> = (<span class="params">root, parent</span>) =&gt; &#123;</span><br><span class="line">        <span class="comment">// è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">const</span> neighbors = graph[root]</span><br><span class="line">        <span class="comment">// è¯¥èŠ‚ç‚¹æ¯ä¸ªå­èŠ‚ç‚¹é€’å½’</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> neighbor <span class="keyword">of</span> neighbors) &#123;</span><br><span class="line">            <span class="keyword">if</span> (neighbor === parent) &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">postOrder</span>(neighbor, root)</span><br><span class="line"></span><br><span class="line">            nodeNum[root] += nodeNum[neighbor]</span><br><span class="line">            distNum[root] += distNum[neighbor] + nodeNum[neighbor]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹å…ˆåº-é€’å½’</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">preOrder</span> = (<span class="params">root, parent</span>) =&gt; &#123;</span><br><span class="line">        <span class="comment">// è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">const</span> neighbors = graph[root]</span><br><span class="line">        <span class="comment">// è¯¥èŠ‚ç‚¹æ¯ä¸ªå­èŠ‚ç‚¹é€’å½’</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> neighbor <span class="keyword">of</span> neighbors) &#123;</span><br><span class="line">            <span class="keyword">if</span> (neighbor === parent) &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            distNum[neighbor] = distNum[root] - nodeNum[neighbor] + (n - nodeNum[neighbor])</span><br><span class="line">            <span class="title function_">preOrder</span>(neighbor, root)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">postOrder</span>(<span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">    <span class="title function_">preOrder</span>(<span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> distNum</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è’œæ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
            <tag> äºŒå‰æ ‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è’œæ³•-æ•°å­—å„ç§å’Œ</title>
      <link href="/post/a24d.html"/>
      <url>/post/a24d.html</url>
      
        <content type="html"><![CDATA[<p>å…ˆå¼€ä¸ªå¤´ï¼Œä»Šå¤©å’Œå‰å¤©çš„é¢˜æ¶‰åŠåˆ°äº†æ•°çš„åŠ å’Œå¤„ç†ã€‚</p><p>æ‰“ç®—å†æ•´ä¸€ä¸ªæ•°å­—åŠ å’Œç³»åˆ—ç®—æ³•é¢˜æ±‡æ€»ï¼Œå‰ææ˜¯æˆ‘çš„è‚¡ç¥¨ç®—æ³•ä¹‹æ—…èƒ½å¤Ÿå–„ç»ˆï¼ˆç¬¬å››ä¸ªå¡å£³äº†ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> è’œæ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è’œæ³•-ä¹°å–è‚¡ç¥¨</title>
      <link href="/post/e4f3.html"/>
      <url>/post/e4f3.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¹°å–è‚¡ç¥¨"><a href="#ä¹°å–è‚¡ç¥¨" class="headerlink" title="ä¹°å–è‚¡ç¥¨"></a>ä¹°å–è‚¡ç¥¨</h1><p>æœ€è¿‘åšäº†ä¸€ä¸ªåŠ¨è§„ç®—æ³•é¢˜ï¼ˆ1911ï¼‰ï¼Œå‘ç°æœ‰ä¸€ä¸ªä¹°å–è‚¡ç¥¨ç³»åˆ—å¾ˆå€¼å¾—å¾ªåºæ¸è¿›åœ°ä¸Šæ‰‹åŠ¨è§„ï¼Œäºæ˜¯åšäº†åš æ±‡æ€»äº†ä¸€ä¸‹ã€‚</p><blockquote><p>LeeCodeæ•™ä½ å­¦ç‚’è‚¡ï¼š </p><p>1.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a> </p><p>2.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</a> </p><p>3.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</a> </p><p>4.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV</a> </p><p>5.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</a> </p><p>6.<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/">æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</a></p><p>æœ€ååšä¸€ä¸‹1911ï¼Œä¼šå‘ç°ç®€å•å¥½å¤š</p></blockquote><h2 id="121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"><a href="#121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº" class="headerlink" title="121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/">121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</a></h2><p>åªæœ‰ä¸€æ¬¡è´­å…¥å’Œä¸€æ¬¡å‡ºå”®ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§åˆ©æ¶¦æ–¹æ¡ˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> now = -prices[<span class="number">0</span>], <span class="comment">// å‡è®¾å¦‚æœç¬¬ä¸€å¤©ä¹°å…¥ï¼Œæ‰‹é‡Œè¿˜æœ‰è¿™ä¹ˆå¤šé’±ï¼ˆè´Ÿæˆæœ¬ï¼‰</span></span><br><span class="line">    max = <span class="number">0</span> <span class="comment">// å‡è®¾ç¬¬ä¸€å¤©ä¹°äº†æ¥ç€å–å‡ºï¼Œåˆ©æ¶¦ä¸º0ï¼ˆåˆ©æ¶¦åˆå§‹å€¼ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        now = <span class="title class_">Math</span>.<span class="title function_">max</span>(now, -prices[i]) <span class="comment">// ç›®å‰æ‰‹é‡Œè¿˜æœ‰å¤šå°‘é’±  å…¶å®æ˜¯æ‰¾ä¸€ä¸ªæœ€ä½æˆæœ¬</span></span><br><span class="line">        max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, prices[i] + now) <span class="comment">// æœ€å¤§åˆ©æ¶¦  æ‰¾ä¸€ä¸ªæœ€å¤§çš„ä»·é’±ï¼Œå‡å»æœ€å°æˆæœ¬</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II"><a href="#122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II" class="headerlink" title="122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/">122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</a></h2><p>å¯ä»¥æœ‰å¤šæ¬¡è´­å…¥å’Œå”®å‡ºï¼Œæ²¡æœ‰æ¬¡æ•°é™åˆ¶ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§åˆ©æ¶¦å’Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices</span>) &#123;    </span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span>,</span><br><span class="line">        cost = -prices[<span class="number">0</span>] <span class="comment">// è´Ÿåˆ©æ¶¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">// å®åœ¨æ˜¯éš¾è®¾è®¡ï¼Œå®åœ¨æ˜¯å¦™å•Šï¼</span></span><br><span class="line">        max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, prices[i] + cost) <span class="comment">// å…³ç³»1ï¼šåˆ©æ¶¦ = å½“å‰ä»·æ ¼ - æˆæœ¬</span></span><br><span class="line">        cost = <span class="title class_">Math</span>.<span class="title function_">max</span>(cost, max - prices[i]) <span class="comment">// å…³ç³»2ï¼šæˆæœ¬ = å½“å‰ä»·æ ¼ - åˆ©æ¶¦</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="123-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-III"><a href="#123-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-III" class="headerlink" title="123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/">123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III</a></h2><p>æœ€å¤šä¸¤æ¬¡è´­å…¥å’Œå”®å‡ºï¼Œç›´åˆ°ä¸€ä¸ªæœ€å¤§åˆ©æ¶¦å’Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ†æçŠ¶æ€ - å•¥éƒ½æ²¡ä¹°ã€ä¹°äº†ä¸€è‚¡ã€å–äº†ä¸€è‚¡ã€æ²¡æœ‰æ“ä½œã€ä¹°äº†ç¬¬äºŒè‚¡ã€å–äº†ç¬¬äºŒè‚¡</span></span><br><span class="line">    <span class="comment">// æ ¹æ®çŠ¶æ€åˆ†æå˜é‡ - ä¹°ä¸€çš„é’±ã€å–ä¸€çš„é’±ã€ä¹°äºŒçš„é’±ã€å–äºŒçš„é’±</span></span><br><span class="line">    <span class="comment">// ç¡®å®šè¾¹ç•Œå€¼â†“å…¨éƒ½å½“åšç¬¬ä¸€æ¬¡å°±ä¹°å…¥å–å‡º</span></span><br><span class="line">    <span class="keyword">let</span> buy1 = -prices[<span class="number">0</span>], </span><br><span class="line">        sell1 = <span class="number">0</span>, </span><br><span class="line">        buy2 = -prices[<span class="number">0</span>], </span><br><span class="line">        sell2 = <span class="number">0</span></span><br><span class="line">    <span class="comment">// æšä¸¾</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®æ¯ä¸ªå˜é‡çš„å…¬å¼è¿›è¡Œæšä¸¾</span></span><br><span class="line">        buy1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy1, -prices[i]) <span class="comment">// æœ€å°‘çš„ä¹°å…¥é’±</span></span><br><span class="line">        sell1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(sell1, buy1 + prices[i]) <span class="comment">// æœ€å¤šçš„å–å‡ºé’± - æœ€å°‘çš„ä¹°å…¥é’±</span></span><br><span class="line">        buy2 = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy2, sell1 - prices[i]) <span class="comment">// æœ€å¤šçš„ä¹°äºŒä¹‹åå‰©ä¸‹çš„é’±</span></span><br><span class="line">        sell2 = <span class="title class_">Math</span>.<span class="title function_">max</span>(sell2, buy2 + prices[i]) <span class="comment">// æœ€å¤šçš„å–å‡ºé’± + å‰©ä¸‹çš„é’±</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sell2</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="188-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-IV"><a href="#188-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-IV" class="headerlink" title="188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/">188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV</a></h2><p>å…ˆæ‰”ä¸€ç«¯é€šä¸è¿‡çš„ä»£ç ï¼Œæˆ‘å¥½èœå•Š</p><p><img src="../images/%E8%92%9C%E6%B3%95-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/image-20230711203442875.png" alt="image-20230711203442875"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">k, prices</span>) &#123;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€ä¸ªä¸å—æ¬¡æ•°é™åˆ¶çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hasNoLimit</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cost = -nums[<span class="number">0</span>],</span><br><span class="line">            max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nums.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            cost = <span class="title class_">Math</span>.<span class="title function_">max</span>(cost, max - nums[i])</span><br><span class="line">            max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, cost + nums[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»æ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (!prices.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»æ‰å¦ä¸€ä¸ªæƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span>(k &gt;= prices.<span class="property">length</span> / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">hasNoLimit</span>(prices)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€ä¸€ä¸ªé•¿åº¦ä¸ºkçš„å˜é‡äºŒç»´æ•°ç»„</span></span><br><span class="line">    <span class="keyword">let</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(k).<span class="title function_">fill</span>(<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">2</span>).<span class="title function_">fill</span>(<span class="number">0</span>))</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = -prices[<span class="number">0</span>]</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; k; j++) &#123;</span><br><span class="line">            dp[j][<span class="number">0</span>] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[j - <span class="number">1</span>][<span class="number">0</span>], dp[j - <span class="number">1</span>][<span class="number">1</span>] - prices[i])</span><br><span class="line">            dp[j][<span class="number">1</span>] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[j - <span class="number">1</span>][<span class="number">1</span>], dp[j][<span class="number">0</span>] + prices[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[k - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç®—äº†ä¸€éæµ‹è¯•ç”¨ä¾‹ï¼Œä¼¼ä¹æ˜¯æ¬¡æ•°æŠŠæ§çš„é—®é¢˜ã€‚</p><p>å—ä¸äº†äº†ï¼Œç†åº”æˆ‘è¯´ç†åº”ï¼Œæ— è®ºå¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯é‚£ä¹ˆä¸ªçŠ¶æ€è¡¨è¾¾å¼ï¼Œä½†æ˜¯å°±ä¸è¡Œï¼Œä½†æ˜¯æˆ‘æ‰¾ä¸å‡ºé”™æ¥ï¼ç„¶åæ²¡è¾™äº†åˆ†æƒ…å†µå§ï¼Œè¿˜æœ‰æœ‰ä¸€äº›è‡­è‡­é•¿é•¿çš„æµ‹è¯•ç”¨ä¾‹é€šä¸è¿‡ï¼ï¼ï¼ï¼ï¼å•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šï¼ï¼ï¼ï¼ï¼</p><p><img src="../images/%E8%92%9C%E6%B3%95-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/image-20230711212016410.png" alt="image-20230711212016410"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">k, prices</span>) &#123;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€ä¸ªä¸å—æ¬¡æ•°é™åˆ¶çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hasNoLimit</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cost = -nums[<span class="number">0</span>],</span><br><span class="line">            max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nums.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            cost = <span class="title class_">Math</span>.<span class="title function_">max</span>(cost, max - nums[i])</span><br><span class="line">            max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, cost + nums[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€ä¸ªä»…é™ä¸¤æ¬¡çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hasOnlyTwo</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> buy1 = -nums[<span class="number">0</span>], buy2 = -nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">let</span> sell1 = <span class="number">0</span>, sell2 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nums.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            buy1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy1, -nums[i])</span><br><span class="line">            sell1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(sell1, buy1 + nums[i])</span><br><span class="line">            buy2 = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy2, sell1 - nums[i])</span><br><span class="line">            sell2 = <span class="title class_">Math</span>.<span class="title function_">max</span>(sell2, buy2 + nums[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sell2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æœ‰ä¸€ä¸ªä»…é™ä¸€æ¬¡çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hasOnlyOne</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cost = -nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nums.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">            cost = <span class="title class_">Math</span>.<span class="title function_">max</span>(cost, -nums[i])</span><br><span class="line">            max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, nums[i] + cost)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç©ºæ•°ç»„ï¼Œæ’é™¤</span></span><br><span class="line">    <span class="keyword">if</span> (!prices.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ— é™æ¬¡ï¼Œæ¢æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span>(k &gt;= prices.<span class="property">length</span> / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">hasNoLimit</span>(prices)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»…é™ä¸€æ¬¡ï¼Œæ¢æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (k === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">hasOnlyOne</span>(prices)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»…é™ä¸¤æ¬¡ï¼Œæ¢æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (k === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">hasOnlyTwo</span>(prices)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€ä¸€ä¸ªé•¿åº¦ä¸ºkçš„å˜é‡äºŒç»´æ•°ç»„</span></span><br><span class="line">    <span class="keyword">let</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(k + <span class="number">1</span>).<span class="title function_">fill</span>([-prices[<span class="number">0</span>], <span class="number">0</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= k; j++) &#123;</span><br><span class="line">            dp[j][<span class="number">0</span>] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[j - <span class="number">1</span>][<span class="number">0</span>], dp[j - <span class="number">1</span>][<span class="number">1</span>] - prices[i])</span><br><span class="line">            dp[j][<span class="number">1</span>] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[j - <span class="number">1</span>][<span class="number">1</span>], dp[j][<span class="number">0</span>] + prices[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[k - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ˜å¤©å†çœ‹çœ‹ï¼Œå¤ªéš¾é¡¶äº†ã€‚</p><p>æœ€ç»ˆçœ‹äº†ä¸€çœ¼é¢˜è§£ï¼Œæœç„¶æ¼äº†ä¸€æ­¥â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">k, prices</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = prices.<span class="property">length</span></span><br><span class="line">    k = <span class="title class_">Math</span>.<span class="title function_">min</span>(k, <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>)) <span class="comment">// k &gt;len/2æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¸é™æ¬¡æ•°çš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿè‡ªå·±æƒ³ï¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> buy = <span class="keyword">new</span> <span class="title class_">Array</span>(len).<span class="title function_">fill</span>(<span class="number">0</span>).<span class="title function_">map</span>(<span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(k + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>)), <span class="comment">// æ³¨æ„è¿™ç§åˆå§‹åŒ–å†™æ³•</span></span><br><span class="line">        sell = <span class="keyword">new</span> <span class="title class_">Array</span>(len).<span class="title function_">fill</span>(<span class="number">0</span>).<span class="title function_">map</span>(<span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(k + <span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    buy[<span class="number">0</span>][<span class="number">0</span>] = -prices[<span class="number">0</span>]</span><br><span class="line">    sell[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123; <span class="comment">// ç»™æ‰€æœ‰æ¬¡æ•°çš„buyå’Œselléƒ½åˆå§‹åŒ–ä¸€ä¸‹</span></span><br><span class="line">        buy[<span class="number">0</span>][i] = -<span class="title class_">Infinity</span></span><br><span class="line">        sell[<span class="number">0</span>][i] = -<span class="title class_">Infinity</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        buy[i][<span class="number">0</span>] = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy[i - <span class="number">1</span>][<span class="number">0</span>], sell[i - <span class="number">1</span>][<span class="number">0</span>] - prices[i])</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt;= k; j++) &#123;</span><br><span class="line">            buy[i][j] = <span class="title class_">Math</span>.<span class="title function_">max</span>(buy[i - <span class="number">1</span>][j], sell[i - <span class="number">1</span>][j] - prices[i])</span><br><span class="line">            sell[i][j] = <span class="title class_">Math</span>.<span class="title function_">max</span>(sell[i - <span class="number">1</span>][j], buy[i - <span class="number">1</span>][j - <span class="number">1</span>] + prices[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(...sell[len - <span class="number">1</span>])</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="714-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹"><a href="#714-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹" class="headerlink" title="714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/">714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</a></h2><p>æ— é™æ¬¡ï¼Œä½†æ˜¯æ¯æ¬¡å”®å‡ºè¦äº¤æ‰‹ç»­è´¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">fee</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices, fee</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> cost = -prices[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        cost = <span class="title class_">Math</span>.<span class="title function_">max</span>(cost, max - prices[i])</span><br><span class="line">        max = <span class="title class_">Math</span>.<span class="title function_">max</span>(max, cost + prices[i] - fee)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="309-æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ"><a href="#309-æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ" class="headerlink" title="309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ"></a><a href="https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/">309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ</a></h2><p>ä¹°å–ä¸é™æ¬¡æ•°ï¼Œä½†æ˜¯å–åçš„ä¸€å¤©ä¸èƒ½æ¥ç€ä¹°ï¼Œç¾å…¶åæ›°â€œå†·å†»æœŸâ€ã€‚</p><h3 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h3><p>çŠ¶æ€ï¼šæ‰‹é‡Œæ”¥ç€è‚¡ç¥¨ï¼Œæ‰‹é‡Œæ²¡æ”¥è‚¡ç¥¨</p><p>çŠ¶æ€æƒ…å†µåˆ†æï¼š</p><ul><li>æ‰‹é‡Œæ”¥ç€è‚¡ç¥¨ï¼šä»Šå¤©åˆšä¹°ï¼›æ˜¨å¤©ä¹°äº†ä»Šå¤©å•¥äº‹æ²¡å¹²</li><li>æ‰‹é‡Œæ²¡æ”¥è‚¡ç¥¨ï¼šä»Šå¤©åˆšå–ï¼Œæ˜¨å¤©å–äº†ä»Šå¤©æè¿™å†·å†»</li></ul><p>çŠ¶æ€å˜é‡åˆ†æï¼š</p><ul><li>æ‰‹é‡Œå‰©çš„é’±ï¼šæ˜¨å¤©è®¡ç®—å‡ºæ¥å‰©çš„é’±/ä»Šå¤©å°±ä¹°è®¡ç®—å‡ºæ¥å‰©çš„é’±ï¼ˆä¹°å‰çš„é’±åº”è¯¥æ˜¯å‰å¤©çš„ï¼‰</li><li>å–å‡ºä¹‹åæŒ£çš„é’±ï¼šæ˜¨å¤©è®¡ç®—å‡ºæ¥æŒ£çš„é’±/ä»Šå¤©å°±å–è®¡ç®—å‡ºæ¥æŒ£çš„é’±ï¼ˆå–å‰çš„é’±åº”è¯¥æ˜¯æˆªæ­¢åˆ°æ˜¨å¤©å‰©çš„ï¼‰</li></ul><p>çŠ¶æ€è½¬ç§»è¡¨è¾¾å¼ï¼š</p><p><code>å‰©å = max(æ˜¨æ—¥å‰©å, å‰æ—¥æŒ£å - ä»·é’±)</code></p><p><code>æŒ£å = max(æ˜¨æ—¥æŒ£å, æ˜¨æ—¥å‰©å + ä»·é’±)</code></p><p>ä¸´ç•Œå€¼ï¼š</p><p>æ¶‰åŠåˆ°è·¨ä¸€å¤©ï¼Œso</p><ul><li>åˆå§‹å¤©ï¼šå½“å¤©ä¹°å½“å¤©å– å‰©å=-ä»·é’± æŒ£å=0</li><li>ç¬¬äºŒå¤©ï¼šä¸åˆå§‹å¤©çš„ä¸¤å˜é‡æ¯”å‡ºè¾ƒå¤§å€¼  å‰©å=-ä»·é’±(æ˜¨å¤©ä¸å¦‚ä¸ä¹°ï¼Œä»Šå¤©ä¹°)/æ˜¨å¤©çš„å‰©å  æŒ£å=(ä»Šå¤©å•¥ä¹Ÿä¸å¹²)0/(ä¸å¦‚ä»Šå¤©å–)ä»·é’±+æ˜¨æ—¥å‰©</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = prices.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span>(len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dp = <span class="keyword">new</span> <span class="title class_">Array</span>(len) </span><br><span class="line">    dp[<span class="number">0</span>] = [-prices[<span class="number">0</span>], <span class="number">0</span>]</span><br><span class="line">    dp[<span class="number">1</span>] = [<span class="title class_">Math</span>.<span class="title function_">max</span>(dp[<span class="number">0</span>][<span class="number">0</span>], -prices[<span class="number">1</span>]), <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[<span class="number">0</span>][<span class="number">1</span>], dp[<span class="number">0</span>][<span class="number">0</span>] + prices[<span class="number">1</span>])]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; len; i++) &#123;</span><br><span class="line">        dp[i] = [<span class="title class_">Math</span>.<span class="title function_">max</span>(dp[i-<span class="number">1</span>][<span class="number">0</span>], dp[i-<span class="number">2</span>][<span class="number">1</span>] - prices[i]), <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[i-<span class="number">1</span>][<span class="number">1</span>], dp[i-<span class="number">1</span>][<span class="number">0</span>] + prices[i])]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp[len - <span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¯´çœŸçš„ï¼Œä¸€å¤æ‚äº†æˆ‘å°±è®¾è®¡ä¸å‡ºæ¥ï¼Œæ²¡åŠæ³•å‡†ç¡®æ‰¾åˆ°å˜é‡ä¹‹é—´çš„å…³ç³»</p><h3 id="çŠ¶æ€æœº"><a href="#çŠ¶æ€æœº" class="headerlink" title="çŠ¶æ€æœº"></a>çŠ¶æ€æœº</h3><p>é¢˜è§£é‡Œçœ‹åˆ°çš„ä¸€ä¸ªæ–°æ–¹æ³•â†‘â†“</p><p>çŠ¶æ€æœºå››è¦ç´ ï¼šçŠ¶æ€ã€æ¡ä»¶ã€åŠ¨ä½œã€è½¬æ¢</p><p>è¯¥é¢˜çŠ¶æ€æœºå›¾è§£ï¼š</p><img src="../images/%E8%92%9C%E6%B3%95-%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8/image-20230712152616080.png" alt="image-20230712152616080" style="zoom: 67%;" /><p>å®šä¹‰ä¸‰ä¸ªå…³é”®å˜é‡ï¼šå½“å‰æ‰‹ä¸­æŒæœ‰çš„é’±ã€å½“å‰å–å‡ºåæŒæœ‰çš„é’±ã€ä¸€æ¬¡ä¹°å–ç»“æŸåæŒæœ‰çš„é’±ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">prices</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="keyword">function</span>(<span class="params">prices</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> hold = -prices[<span class="number">0</span>],</span><br><span class="line">        sold = <span class="number">0</span>,</span><br><span class="line">        rest = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = prices.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> preHold = hold,</span><br><span class="line">            preSold = sold</span><br><span class="line">        hold = <span class="title class_">Math</span>.<span class="title function_">max</span>(preHold, rest - prices[i])</span><br><span class="line">        sold = <span class="title class_">Math</span>.<span class="title function_">max</span>(preSold, preHold + prices[i])</span><br><span class="line">        rest = <span class="title class_">Math</span>.<span class="title function_">max</span>(preSold, rest)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(rest, sold)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="æ‹“å±•å·©å›º"><a href="#æ‹“å±•å·©å›º" class="headerlink" title="æ‹“å±•å·©å›º"></a>æ‹“å±•å·©å›º</h1><h2 id="1911-æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ"><a href="#1911-æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ" class="headerlink" title="1911. æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ"></a><a href="https://leetcode.cn/problems/maximum-alternating-subsequence-sum/">1911. æœ€å¤§å­åºåˆ—äº¤æ›¿å’Œ</a></h2><p>çŠ¶æ€ï¼šåŠ äº†ï¼Œå‡äº†</p><p>çŠ¶æ€å…³ç³»ï¼šåŠ äº†è¯¥å‡ï¼Œå‡äº†è¯¥åŠ </p><p>ç‰¹æ®Šï¼šä»…éœ€å¥‡æ•°ä¸ªæ•°å­—ï¼Œå› ä¸ºåŠ åå‡å°±å˜å°äº†</p><p>çŠ¶æ€æ–¹ç¨‹ï¼š<code>å’Œ = å‡åçš„å’Œ + æ–°æ•°</code>    <code>å‡åçš„å’Œ = å’Œ - æ–°æ•°</code></p><p>ä¸´ç•Œå€¼ï¼š<code>å’Œ = ç¬¬ä¸€ä¸ªæ•°</code>    <code>å‡åçš„å’Œ = 0 (ç¬¬ä¸€ä¸ªæ•°+-)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxAlternatingSum = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> dec = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¥‡æ•°ä¸ªæ•°å°±å¤Ÿç”¨ï¼Œå› ä¸ºæ ¹æœ¬ä¸å¯èƒ½åé¢å†å‡ä¸€ä¸ª</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = nums.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        ans  = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, dec + nums[i]) <span class="comment">// å‡åé¢ç´§æ¥ç€æ˜¯åŠ ï¼Œçœ‹çœ‹å“ªä¸ªåŠ åæ›´å¤§</span></span><br><span class="line">        dec = <span class="title class_">Math</span>.<span class="title function_">max</span>(dec, ans - nums[i]) <span class="comment">// åŠ åé¢ç´§æ¥ç€æ˜¯å‡ï¼Œçœ‹çœ‹å“ªä¸ªå‡åæ›´å¤§</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="931-ä¸‹é™è·¯å¾„æœ€å°å’Œ"><a href="#931-ä¸‹é™è·¯å¾„æœ€å°å’Œ" class="headerlink" title="931. ä¸‹é™è·¯å¾„æœ€å°å’Œ"></a><a href="https://leetcode.cn/problems/minimum-falling-path-sum/">931. ä¸‹é™è·¯å¾„æœ€å°å’Œ</a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">matrix</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> minFallingPathSum = <span class="keyword">function</span>(<span class="params">matrix</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> col = matrix[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="keyword">const</span> row = matrix.<span class="property">length</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; row; i++) &#123;</span><br><span class="line">        matrix[i][<span class="number">0</span>] += <span class="title class_">Math</span>.<span class="title function_">min</span>(matrix[i-<span class="number">1</span>][<span class="number">0</span>], matrix[i-<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line">        matrix[i][col-<span class="number">1</span>] += <span class="title class_">Math</span>.<span class="title function_">min</span>(matrix[i-<span class="number">1</span>][col-<span class="number">1</span>], matrix[i-<span class="number">1</span>][col-<span class="number">2</span>])</span><br><span class="line">        <span class="keyword">if</span> (col &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; col - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            matrix[i][j] += <span class="title class_">Math</span>.<span class="title function_">min</span>(matrix[i-<span class="number">1</span>][j-<span class="number">1</span>], matrix[i-<span class="number">1</span>][j], matrix[i-<span class="number">1</span>][j+<span class="number">1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">min</span>(...matrix[row - <span class="number">1</span>])</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è’œæ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨è§„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”æµè§ˆå™¨ä¸­çš„JS</title>
      <link href="/post/9cd6.html"/>
      <url>/post/9cd6.html</url>
      
        <content type="html"><![CDATA[<p>çŠ€ç‰›ä¹¦è¿™é‡Œå¤ªæ‚äº†ï¼Œæˆ‘æœ‰ç‚¹è·Ÿä¸ä¸Šï¼Œå…ˆå»çœ‹çº¢å®ä¹¦ç†é¡ºä¸€ä¸‹äº†ã€‚</p><p>(é¢äº†å¾ˆå¤šæ¬¡è¯•ï¼Œå’Œé¢è¯•å®˜ä»¬çš„äº¤è°ˆä¸­å‘ç°è¿™ä¸€å—è›®é‡è¦çš„ï¼Œç‰¹æ¥å›çœ‹(å®ä¹ æ—¶é—´è¿™ä¸ªäº‹æƒ…çœŸçš„éš¾ä»¥åœ¨æ‹›è˜è€…å’Œåº”è˜è€…é—´è¾¾æˆå®Œç¾ä¸€è‡´ï¼ŒçœŸéš¾å—))</p><h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><p>browser object model æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œæä¾›äº†ä¸ç½‘é¡µæ— å…³çš„æµè§ˆå™¨åŠŸèƒ½å¯¹è±¡ï¼Œè¿™äº›æ˜¯å¯ä»¥ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„å¯¹è±¡ã€‚</p><p>BOMå¯¹è±¡æœ‰å¾ˆå¤šâ†“</p><h2 id="window"><a href="#window" class="headerlink" title="window"></a>window</h2><p>windowå¯¹è±¡æ˜¯BOMçš„æ ¸å¿ƒï¼Œè¡¨ç¤ºæµè§ˆå™¨çš„å®ä¾‹ã€‚windowå¯¹è±¡è¢«å¤ç”¨ä¸ºESä¸­çš„Globalå¯¹è±¡ï¼Œåˆæ˜¯æµè§ˆå™¨çª—å£ä¸­çš„JSæ¥å£ã€‚ï¼ˆå¼ºçƒˆå»ºè®®è‡ªå·±F12è¾“å‡ºçœ‹ä¸€ä¸‹ï¼‰</p><h3 id="Globalä½œç”¨åŸŸ"><a href="#Globalä½œç”¨åŸŸ" class="headerlink" title="Globalä½œç”¨åŸŸ"></a>Globalä½œç”¨åŸŸ</h3><p>é€šè¿‡varå£°æ˜çš„æ‰€æœ‰å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½ä¼šå˜æˆwindowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">saySth</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;Sth&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">saySth</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newVal = <span class="variable language_">window</span>.<span class="property">oldVal</span> <span class="comment">// undefined è™½ç„¶æ²¡æœ‰ä½†æ˜¯undefined</span></span><br></pre></td></tr></table></figure><h3 id="çª—å£å…³ç³»"><a href="#çª—å£å…³ç³»" class="headerlink" title="çª—å£å…³ç³»"></a>çª—å£å…³ç³»</h3><p>å¯¹è±¡<code>top</code>å§‹ç»ˆæŒ‡å‘æœ€ä¸Šå±‚çª—å£ï¼Œ<code>parent</code>æŒ‡å‘å½“å‰çª—å£çš„çˆ¶çª—å£ï¼Œ<code>self</code>å§‹ç»ˆæŒ‡å‘window(ä¸¤è€…æ˜¯åŒä¸€ä¸ªå¯¹è±¡)ã€‚</p><p>å¤šä¸ªçª—å£windowå¯¹è±¡å¯ä¸²è”ã€‚</p><h3 id="çª—å£ä½ç½®ä¸åƒç´ æ¯”"><a href="#çª—å£ä½ç½®ä¸åƒç´ æ¯”" class="headerlink" title="çª—å£ä½ç½®ä¸åƒç´ æ¯”"></a>çª—å£ä½ç½®ä¸åƒç´ æ¯”</h3><p>windowå¯¹è±¡çš„ä½ç½®å¯ä»¥å±æ€§å’Œæ–¹æ³•æ¥ç¡®å®šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">screenTop <span class="comment">// çª—å£ç›¸å¯¹äºå±å¹•å·¦ä¾§å’Œé¡¶éƒ¨çš„ä½ç½®</span></span><br><span class="line">screenLeft <span class="comment">// çª—å£ç›¸å¯¹äºå±å¹•é¡¶éƒ¨çš„ä½ç½®</span></span><br><span class="line"><span class="title function_">moveTo</span>(x, y) <span class="comment">// ç§»åŠ¨åˆ°(x, y)å¤„</span></span><br><span class="line"><span class="title function_">moveBy</span>(x, y) <span class="comment">// å‘å³ç§»åŠ¨xå‘ä¸‹ç§»åŠ¨y(è´Ÿå€¼å°±æ˜¯åæ–¹å‘çš„)</span></span><br><span class="line">devicePixelRatio <span class="comment">// ä¸¾ä¾‹ï¼šåˆ†è¾¨ç‡æ­¤éƒ¨åˆ†1920*1080è½¬æ¢åˆ°640*320çš„è®¾å¤‡ï¼Œæ­¤å€¼ä¸º3</span></span><br></pre></td></tr></table></figure><p>åƒç´ æ¯”ï¼šä¸€ä¸ªå¥‡å¼‚çš„è§’åº¦0.0213Â°ï¼Œå±å¹•è·ç¦»äººçœ¼ä¸€è‡‚é•¿æ—¶CSSåƒç´ è¶Š1/96è‹±å¯¸ã€‚</p><p>ç‰©ç†åˆ†è¾¨ç‡ï¼šç¡¬ä»¶å›ºæœ‰çš„åˆ†è¾¨ç‡</p><p>é€»è¾‘åˆ†è¾¨ç‡ï¼šç®—æ³•å¾—å‡ºçš„åˆ†è¾¨ç‡ï¼Œæ˜¯è‚‰çœ¼å¯ä»¥æ„ŸçŸ¥çš„åˆ†è¾¨ç‡ï¼Œä¸€èˆ¬æ¯”ç‰©ç†åˆ†è¾¨ç‡å°</p><h3 id="çª—å£å¤§å°"><a href="#çª—å£å¤§å°" class="headerlink" title="çª—å£å¤§å°"></a>çª—å£å¤§å°</h3><p>ç¡®å®šæµè§ˆå™¨çª—å£å¤§å°æ˜¯ä¸€ä¸ªåŸºæœ¬æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pageWidth = <span class="variable language_">window</span>.<span class="property">innerWidth</span>, </span><br><span class="line">pageHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> pageWidth !== <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">compateMode</span> === <span class="string">&#x27;CSSCompat&#x27;</span>) &#123;</span><br><span class="line">        pageWidth = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span></span><br><span class="line">        pageHeight = <span class="variable language_">document</span>.<span class="property">documentElment</span>.<span class="property">clientHeight</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        pageWidth = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span></span><br><span class="line">        pageHeight = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çª—å£ç¼©æ”¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">resizeTo</span>(<span class="number">100</span>, <span class="number">100</span>) <span class="comment">// ç¼©æ”¾åˆ°100*100</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">resizeBy</span>(<span class="number">100</span>, <span class="number">50</span>) <span class="comment">// ç¼©æ”¾+100+50 =&gt; 200*150</span></span><br></pre></td></tr></table></figure><h3 id="è§†å£ä½ç½®"><a href="#è§†å£ä½ç½®" class="headerlink" title="è§†å£ä½ç½®"></a>è§†å£ä½ç½®</h3><p>ç§»åŠ¨çª—å£</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollBy</span>(<span class="number">40</span>, <span class="number">100</span>) <span class="comment">// â†’40, â†“100</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// =&gt; (0, 0)</span></span><br><span class="line"><span class="comment">// ScrollToOptionså­—å…¸å†™æ³•</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123; <span class="comment">// é¡ºæ»‘ç§»åŠ¨åˆ°(100, 100)</span></span><br><span class="line">    <span class="attr">left</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">behavior</span>: <span class="string">&#x27;smooth&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£"><a href="#å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£" class="headerlink" title="å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£"></a>å¯¼èˆªä¸æ‰“å¼€æ–°çª—å£</h3><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·å¼¹å‡ºçª—å£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="variable constant_">URL</span>, çª—å£å, ç‰¹æ€§å­—ç¬¦ä¸²)</span><br><span class="line"><span class="comment">// URLï¼šç›®çš„çª—å£åœ°å€</span></span><br><span class="line"><span class="comment">// çª—å£åï¼šå¦‚æœç¬¬äºŒå‚æ•°ä¸æ˜¯å·²æœ‰çª—å£ï¼Œåˆ™æ‰“å¼€æ–°çª—å£</span></span><br><span class="line"><span class="comment">// ç‰¹æ€§å­—ç¬¦ä¸²ï¼šç”¨äºæŒ‡å®šæ–°çª—å£çš„é…ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç‰¹æ€§ç”¨çš„æ—¶å€™å»æœå§,è¿™é‡Œæä¾›å‡ ä¸ªæ¯”è¾ƒåŸºæœ¬çš„</span></span><br><span class="line">resizable æ˜¯å¦å¯ä»¥æ‹–åŠ¨æ”¹å˜æ–°çª—å£å¤§å°</span><br><span class="line">top/left</span><br><span class="line">height/width</span><br><span class="line"><span class="comment">// åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">let</span> wroxWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://wrox.com&#x27;</span>, </span><br><span class="line">           <span class="string">&#x27;wroxWindow&#x27;</span>,</span><br><span class="line">           <span class="string">&#x27;height=400, width=400, top=10, left=10, resizable=yes&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="variable language_">window</span> === wroxWin.<span class="property">opener</span>) <span class="comment">// =&gt; true è¿™ä¸ªå±æ€§å¯ä»¥æŸ¥çœ‹è¿™ä¸ªçª—å£çš„æ‰“å¼€è€…</span></span><br><span class="line"></span><br><span class="line">wroxWin.<span class="property">opener</span> = <span class="literal">null</span> <span class="comment">// å°†æ‰“å¼€è€…è®¾ç½®ä¸ºç©ºï¼Œä½¿å¾—æ ‡ç­¾ç‹¬ç«‹é€šä¿¡ï¼Œåˆ‡æ–­è¿æ¥ï¼Œæ— æ³•æ¢å¤</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦ä¸€äº›å®‰å…¨é™åˆ¶ï¼šå¼¹å‡ºçª—å£å­˜åœ¨ä¸€äº›å®‰å…¨éšæ‚£ï¼Œæ¯”å¦‚å¹¿å‘Šä¹‹ç±»çš„ã€‚å› æ­¤æµè§ˆå™¨åœ¨ä¼˜åŒ–çš„æ—¶å€™ä¼šå¯¹å…¶åšä¸€äº›é™åˆ¶ã€‚</p><p>å¼¹çª—å±è”½ç¨‹åºï¼šæµè§ˆå™¨å†…ç½®å±è”½å¼¹çª—çš„ç¨‹åºâ†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ£€æµ‹å¼¹çª—æ˜¯å¦è¢«å±è”½</span></span><br><span class="line"><span class="keyword">let</span> blocked = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> wroxWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(...)</span><br><span class="line">    <span class="keyword">if</span> (wroxWin === <span class="literal">null</span>) &#123;</span><br><span class="line">        blocked = <span class="literal">true</span></span><br><span class="line">    &#125;                  </span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    blocked = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (blocked) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;nono&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h3><p>setTimeout()ï¼šä¸€å®šæ—¶é—´åæ‰§è¡Œä»£ç </p><p>setInterval() ï¼šæ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬ä½¿ç”¨æ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&#x27;hh&#x27;</span>), <span class="number">1000</span>)</span><br><span class="line"><span class="built_in">clearTimeout</span>(timer)</span><br><span class="line"></span><br><span class="line">timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> <span class="title function_">alert</span>(<span class="string">&#x27;hh&#x27;</span>), <span class="number">1000</span>)</span><br><span class="line"><span class="built_in">clearInterval</span>(timer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼Œå¯å¯¹æ¯”æŸ¥çœ‹</span></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">0</span>, max = <span class="number">10</span>, timer = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> incrementNumber = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    num ++</span><br><span class="line">    <span class="keyword">if</span> (num &gt;= max) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;done&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">timer = <span class="built_in">setInterval</span>(incrementNumber, <span class="number">500</span>)</span><br><span class="line"><span class="comment">// å»¶æ—¶å™¨</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">0</span>, max = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> incrementNumber = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    num ++</span><br><span class="line">    <span class="keyword">if</span> (num &gt;= max) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&#x27;done&#x27;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setTimout</span>(incrementNumber, <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">setTimeout</span>(incrementNumber, <span class="number">500</span>)</span><br></pre></td></tr></table></figure><h3 id="ç³»ç»Ÿå¯¹è¯æ¡†"><a href="#ç³»ç»Ÿå¯¹è¯æ¡†" class="headerlink" title="ç³»ç»Ÿå¯¹è¯æ¡†"></a>ç³»ç»Ÿå¯¹è¯æ¡†</h3><p>alert confirm prompt ç®€å•ç”¨æ³•ç¤ºä¾‹â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;haha&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> confirm = <span class="title function_">confirm</span>(<span class="string">&#x27;ç¡®å®šï¼Ÿ&#x27;</span>) <span class="comment">// true/false</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">prompt</span>(<span class="string">&#x27;åƒå•¥ï¼Ÿ&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾ç¤ºæ‰“å°å¯¹è¯æ¡†</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">print</span>()</span><br><span class="line"><span class="comment">// æ˜¾ç¤ºæŸ¥æ‰¾å¯¹è¯æ¡†</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">find</span>()</span><br></pre></td></tr></table></figure><h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p>locationå¯¹è±¡æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„BOMå¯¹è±¡ã€‚åŒæ ·å¯ä»¥è¾“å‡ºä¸€ä¸‹çœ‹çœ‹ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¹¦ä¸­åˆ—å‡ºçš„ä¸€äº›å±æ€§å€¼ï¼Œå…·ä½“å†éœ€è¦ä»€ä¹ˆå»MDNè‡ªå·±æŸ¥</p><p><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JS/image-20230709201436228.png" alt="image-20230709201436228"></p><h3 id="æŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#æŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="æŸ¥è¯¢å­—ç¬¦ä¸²"></a>æŸ¥è¯¢å­—ç¬¦ä¸²</h3><h4 id="è§£ææŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#è§£ææŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="è§£ææŸ¥è¯¢å­—ç¬¦ä¸²"></a>è§£ææŸ¥è¯¢å­—ç¬¦ä¸²</h4><p>è§£ææŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºæŸ¥è¯¢å±æ€§å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> getArgs = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> qs = location.<span class="property">search</span>.<span class="property">length</span> &gt; <span class="number">0</span> ? location.<span class="property">search</span> : <span class="string">&#x27;&#x27;</span> <span class="comment">// è·å–æŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">let</span> args = &#123;&#125; <span class="comment">// å¼€è¾Ÿç©ºå¯¹è±¡</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> qs.<span class="title function_">split</span>(<span class="string">&#x27;&amp;&#x27;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">val</span> =&gt;</span> val.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>))) &#123; <span class="comment">// å°†æ¯ä¸ªå±æ€§å’Œå±æ€§å€¼æ‹†åˆ†åæˆæ•°ç»„</span></span><br><span class="line">        <span class="keyword">let</span> name = <span class="built_in">decodeURIComponent</span>(item[<span class="number">0</span>]) <span class="comment">// é”®</span></span><br><span class="line">        <span class="keyword">let</span> value = <span class="built_in">decodeURIComponent</span>(item[<span class="number">1</span>]) <span class="comment">// å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (name.<span class="property">length</span>) &#123; <span class="comment">// å­˜å…¥æŸ¥è¯¢å±æ€§å¯¹è±¡ä¸­</span></span><br><span class="line">            args[name] = value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> args <span class="comment">// è¿”å›å¤„ç†å¥½çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="URLSearchParams"><a href="#URLSearchParams" class="headerlink" title="URLSearchParams"></a>URLSearchParams</h4><p>è¿™ä¸ªæ¥å£æä¾›äº†ä¸€ç»„å¯ä»¥ç®€åŒ–ä¸Šè¿°æ“ä½œçš„api</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> qs = location.<span class="property">search</span></span><br><span class="line"><span class="keyword">let</span> searchParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(qs)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸»è¦api</span></span><br><span class="line"><span class="title function_">alert</span>(searchParams.<span class="property">toString</span>) <span class="comment">// =&gt; ?åé¢çš„å†…å®¹</span></span><br><span class="line">searchParams.<span class="title function_">has</span>(<span class="string">&#x27;q&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">searchParams.<span class="title function_">get</span>(<span class="string">&#x27;q&#x27;</span>) <span class="comment">// ...</span></span><br><span class="line">searchParams.<span class="title function_">set</span>(<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;haha&#x27;</span>) <span class="comment">// çœ‹è¿™ä¸€ä¸ªä¸ªçš„å°æ–¹æ³•ï¼Œmapèµ·æ¥äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤å¤–ï¼Œå¤§å¤šæ”¯æŒè¯¥æ¥å£çš„æµè§ˆå™¨è§†å…¶ä¸ºå¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> searchParams) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [&quot;q&quot;,&quot;javascript&quot;] è¿™è¾“å‡ºï¼Œèƒ½çœ‹å‡ºæ¥è¿™ä¸ªæ•°æ®ç±»å‹æ˜¯ç±»ä¼¼äºmapçš„</span></span><br><span class="line"><span class="comment">// [&quot;num&quot;,&quot;10&quot;]</span></span><br></pre></td></tr></table></figure><h3 id="æ“ä½œåœ°å€"><a href="#æ“ä½œåœ°å€" class="headerlink" title="æ“ä½œåœ°å€"></a>æ“ä½œåœ°å€</h3><p>é€šè¿‡ä¿®æ”¹locationå¯¹è±¡ä¿®æ”¹åœ°å€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">location.<span class="title function_">assign</span>(<span class="string">&#x27;urlåœ°å€&#x27;</span>) <span class="comment">// æ˜¾ç¤ºè°ƒç”¨</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span> = <span class="string">&#x27;urlåœ°å€&#x27;</span> <span class="comment">// è¯¶å˜¿</span></span><br><span class="line">location.<span class="property">href</span> = <span class="string">&#x27;urlåœ°å€&#x27;</span> <span class="comment">// æœ€ä¸ºå¸¸ç”¨ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦å¤–ï¼Œlocationè¿™äº›å±æ€§è¢«æ›´æ”¹çš„æ—¶å€™ä¹Ÿä¼šä¿®æ”¹å½“å‰çš„URLåœ°å€ï¼Œå¹¶ä¸”é‡æ–°åŠ è½½</span></span><br><span class="line"><span class="comment">// æŠŠ URL ä¿®æ”¹ä¸º http://www.wrox.com/WileyCDA/?q=javascript</span></span><br><span class="line">location.<span class="property">search</span> = <span class="string">&quot;?q=javascript&quot;</span>;</span><br><span class="line"><span class="comment">// æŠŠ URL ä¿®æ”¹ä¸º http://www.somewhere.com/WileyCDA/</span></span><br><span class="line">location.<span class="property">hostname</span> = <span class="string">&quot;www.somewhere.com&quot;</span>;</span><br><span class="line"><span class="comment">// æŠŠ URL ä¿®æ”¹ä¸º http://www.somewhere.com/mydir/</span></span><br><span class="line">location.<span class="property">pathname</span> = <span class="string">&quot;mydir&quot;</span>;</span><br><span class="line"><span class="comment">// æŠŠ URL ä¿®æ”¹ä¸º http://www.somewhere.com:8080/WileyCDA/</span></span><br><span class="line">location.<span class="property">port</span> = <span class="number">8080</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hashä¿®æ”¹åé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½</span></span><br><span class="line"><span class="comment">// æŠŠ URL ä¿®æ”¹ä¸º http://www.wrox.com/WileyCDA/#section1</span></span><br><span class="line">location.<span class="property">hash</span> = <span class="string">&quot;#section1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ç§ä¸ä¼šæ·»åŠ ä¸€æ¡å†å²è®°å½•çš„æ›´æ”¹URLæ–¹æ³•</span></span><br><span class="line">location.<span class="title function_">replace</span>(<span class="string">&#x27;urlåœ°å€&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ç§é€šè¿‡é‡æ–°åŠ è½½é¡µé¢çš„æ–¹å¼ä¿®æ”¹urlæ–¹æ³•</span></span><br><span class="line">location.<span class="title function_">reload</span>() <span class="comment">// ä¸ä¼ å‚æ•°é»˜è®¤å…ˆä»ç¼“å­˜é‡Œæ‰¾</span></span><br><span class="line">location.<span class="title function_">reload</span>(<span class="literal">true</span>) <span class="comment">// å¼ºåˆ¶ä»æœåŠ¡å™¨æ‰¾ç„¶ååˆ·æ–°</span></span><br></pre></td></tr></table></figure><h2 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h2><p>è¯¥å¯¹è±¡æ˜¯å®¢æˆ·ç«¯æ ‡è¯†æµè§ˆå™¨çš„æ ‡å‡†ã€‚ï¼ˆæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªæ˜¯navigator.userAgentï¼‰</p><p>è¯¥å¯¹è±¡æä¾›ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œé€šè¿‡è¿™äº›å±æ€§æ–¹æ³•ï¼Œå‘æˆ‘ä»¬ä¼ é€’æµè§ˆå™¨ä¿¡æ¯â†“ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç¡®å®šæµè§ˆå™¨ç±»å‹ã€‚</p><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JS/image-20230710193832928.png" alt="image-20230710193832928" style="zoom:67%;" /><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JS/image-20230710193852246.png" alt="image-20230710193852246" style="zoom:67%;" /><h3 id="æ£€æµ‹æ’ä»¶"><a href="#æ£€æµ‹æ’ä»¶" class="headerlink" title="æ£€æµ‹æ’ä»¶"></a>æ£€æµ‹æ’ä»¶</h3><p>è‡ªå·±å»æµè§ˆå™¨è¾“å‡ºçœ‹çœ‹</p><p><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JS/image-20230710203743912.png" alt="image-20230710203743912"></p><h3 id="æ³¨å†Œå¤„ç†ç¨‹åº"><a href="#æ³¨å†Œå¤„ç†ç¨‹åº" class="headerlink" title="æ³¨å†Œå¤„ç†ç¨‹åº"></a>æ³¨å†Œå¤„ç†ç¨‹åº</h3><p>æŠŠä¸€ä¸ªç½‘ç«™æ³¨å†Œä¸ºå¤„ç†æŸç§ç‰¹å®šç±»å‹ä¿¡æ¯åº”ç”¨ç¨‹åº  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navigator.<span class="title function_">registerProtocolHandler</span>(åè®®å, <span class="variable constant_">URL</span>)</span><br></pre></td></tr></table></figure><h2 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h2><p>è¯¥å¯¹è±¡å±•ç¤ºçš„æ˜¯å®¢æˆ·ç«¯çš„èƒ½åŠ›ä¿¡æ¯ã€‚</p><p><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JS/image-20230710205113043.png" alt="image-20230710205113043"></p><h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><p>è¿™ä¸ªå¯¹è±¡è™½ç„¶ä¸ä¼šå‘ç”¨æˆ·æš´éœ²å†å²è®°å½•ä¸­URLåœ°å€ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨æ–¹æ³•ä½¿å¾—å‰è¿›/å›é€€ç­‰ã€‚</p><h3 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">history.<span class="title function_">go</span>(-<span class="number">1</span>) <span class="comment">// å›é€€</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="number">1</span>) <span class="comment">// å‰è¿›</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="number">2</span>) <span class="comment">// å‰è¿›ä¸¤æ¬¡</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="string">&#x27;wrox.com&#x27;</span>) <span class="comment">// è·³è½¬åˆ°æœ€è¿‘çš„wrox.comé¡µé¢</span></span><br><span class="line">â†“</span><br><span class="line">history.<span class="title function_">back</span>() <span class="comment">// åé€€</span></span><br><span class="line">history.<span class="title function_">forward</span>() <span class="comment">// å‰è¿›</span></span><br><span class="line"></span><br><span class="line">history.<span class="property">length</span> <span class="comment">// å¦‚æœæ˜¯1è¯´æ˜å½“å‰æ˜¯ç¬¬ä¸€ä¸ªé¡µé¢</span></span><br></pre></td></tr></table></figure><h3 id="å†å²çŠ¶æ€ç®¡ç†"><a href="#å†å²çŠ¶æ€ç®¡ç†" class="headerlink" title="å†å²çŠ¶æ€ç®¡ç†"></a>å†å²çŠ¶æ€ç®¡ç†</h3><p>HTML5ä¸­æœ‰å¯¹historyå¯¹è±¡å¢åŠ ä¸€äº›æ–¹ä¾¿çŠ¶æ€ç®¡ç†çš„ç‰¹æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">history.<span class="title function_">pushState</span>(stateå¯¹è±¡, æ–°çŠ¶æ€çš„æ ‡é¢˜, å¯é€‰çš„ç›¸å¯¹<span class="variable constant_">URL</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> state = &#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span> &#125;</span><br><span class="line">history.<span class="title function_">pushState</span>(state, <span class="string">&#x27;Title&#x27;</span>, <span class="string">&#x27;baz.com&#x27;</span>) <span class="comment">// ä¼šæ·»åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•</span></span><br><span class="line">history.<span class="title function_">replaceState</span>(...) <span class="comment">// è€Œè¿™ä¸ªä¸ä¼š</span></span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼BOMå°±å…ˆåˆ°è¿™é‡Œå§ï¼</p><h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><p>document object model æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œæ˜¯HTML XMLæ–‡æ¡£çš„ç¼–ç¨‹æ¥å£ã€‚è¡¨ç¤ºç”±å¤šå±‚èŠ‚ç‚¹æ„æˆçš„æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹DOMçš„è·å–æ“ä½œæ¥åŠ¨æ€æ“ä½œHTMLã€‚</p><blockquote><p> DOMæ˜¯ç°åœ¨çœŸæ­£å®ç°è·¨å¹³å°ã€è¯­è¨€æ— å…³çš„è¡¨ç¤ºæ“ä½œç½‘é¡µçš„æ–¹å¼ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”JSæ ‡å‡†åº“</title>
      <link href="/post/23cf.html"/>
      <url>/post/23cf.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åŸºç¡€ä¸ç‰¢åœ°åŠ¨å±±æ‘‡åƒä¸å¥½é¥­ç¡ä¸å¥½è§‰ã€‚</p><p>â†“ä¸€äº›ä¹‹å‰æ²¡æåˆ°çš„æœ‰è¶£æ•°æ®ç»“æ„å’ŒAPIã€‚</p><h1 id="Seté›†åˆ-amp-Mapæ˜ å°„"><a href="#Seté›†åˆ-amp-Mapæ˜ å°„" class="headerlink" title="Seté›†åˆ&amp;Mapæ˜ å°„"></a>Seté›†åˆ&amp;Mapæ˜ å°„</h1><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒObjectç±»å‹æ˜¯ä¸€ç§ä¸‡èƒ½æ•°æ®ç»“æ„ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²æ˜ å°„ä¸ºä»»æ„å€¼ã€‚ä½†æ˜¯è¿™æ˜æ˜¾é™åˆ¶äº†æ˜ å°„å’Œé›†åˆçš„å‘æŒ¥ï¼ˆå­—ç¬¦ä¸²çš„çº¦æŸ+ä¸å¿…è¦çš„<code>toString</code>å±æ€§ï¼‰ã€‚ES6æ–°å¢äº†ä¸¤ç±»æ•°æ®ç»“æ„â†“</p><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>æ²¡æœ‰ç´¢å¼•</li><li>ä¸é‡å¤</li><li>å¯è¿­ä»£(for/ofâˆšï¼›forEach(val)âˆš)</li><li>éå¸¸ä¹‹å¿«</li></ul><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">let</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="string">&#x27;w&#x27;</span>]) <span class="comment">// æ„é€ å‡½æ•°å‚æ•°å¿…é¡»æ˜¯å¯è¿­ä»£å¯¹è±¡(åŒ…æ‹¬å…¶ä»–é›†åˆ)</span></span><br></pre></td></tr></table></figure><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> len = set .<span class="property">size</span> <span class="comment">// è·å–é›†åˆé•¿åº¦ï¼Œç¡®å®æœ‰ç‚¹åƒæ•°ç»„çš„lengthå±æ€§</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">s.<span class="title function_">add</span>(<span class="number">1</span>) <span class="comment">// å¢ =&gt; [1, 2, 3]</span></span><br><span class="line">s.<span class="title function_">delete</span>(<span class="number">1</span>) <span class="comment">// åˆ  =&gt; false</span></span><br><span class="line">s.<span class="title function_">has</span>(<span class="number">1</span>) <span class="comment">// æŸ¥ =&gt; false</span></span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šSetæˆå‘˜æ ¹æ®ä¸¥æ ¼ç›¸ç­‰<code>===</code>åˆ¤æ–­é‡å¤ã€‚å› æ­¤ï¼Œå¦‚æœå€¼æ˜¯å¯¹è±¡ç±»å‹çš„è¯ï¼Œä¹Ÿä¼šæ ¹æ®å…¨ç­‰æ¥åˆ¤é‡ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">s.<span class="title function_">add</span>(arr)</span><br><span class="line">s.<span class="title function_">delete</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æ˜¯åˆ ä¸æ‰sä¸­çš„arrçš„ï¼å¦‚æœçœŸæƒ³åˆ çš„è¯ï¼Œéœ€è¦ä¿è¯<code>delete</code>ä¼ å…¥å‚æ•°çš„å¼•ç”¨ä¸<code>arr</code>å¼•ç”¨ç›¸åŒã€‚ä¸è¿‡é‡åˆ°è¿™ç§ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæå‰å¯¹æ•°ç»„è¿›è¡Œä¸€äº›åŸå§‹å€¼åŒ–æ“ä½œï¼ˆä¸ªäººç†è§£ï¼‰ï¼Œæ¯”å¦‚<code>let str = arr.join(&#39;-&#39;); s.add(str)</code>ã€‚</p><h3 id="é›†åˆä¹‹äºæ•°ç»„"><a href="#é›†åˆä¹‹äºæ•°ç»„" class="headerlink" title="é›†åˆä¹‹äºæ•°ç»„"></a>é›†åˆä¹‹äºæ•°ç»„</h3><p>é›†åˆä¸“é—¨ä¸ºæˆå‘˜æµ‹è¯•åšäº†ä¼˜åŒ–(å…·ä½“å•¥ä¼˜åŒ–å’±ä¸æ¸…æ¥š)ï¼Œ<code>has()</code>é€Ÿåº¦éå¸¸ä¹‹å¿«ï¼Œè¿™æ¯”æ•°ç»„çš„<strong>æ‰§è¡Œé€Ÿåº¦å’Œæ•°ç»„å¤§å°æˆåæ¯”</strong><code>includes()</code>ï¼Œå¿«ï¼</p><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>é”®å€¼æ˜ å°„</li><li>å¯è¿­ä»£(forEach((val, key) =&gt; â€¦)è¿™ä¸ªé¡ºåºä¸€å®šè®°å¾—ç”¨çš„æ—¶å€™é¢ è¿‡æ¥âˆšï¼›for [key, val] of mapè¿™ä¸ªé¡ºåºâˆš)</li><li>éå¸¸ä¹‹å¿«</li></ul><h3 id="åˆ›å»º-1"><a href="#åˆ›å»º-1" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> map1 = <span class="keyword">new</span> <span class="title class_">Map</span>([ <span class="comment">// å‚æ•°å¯ä»¥ä¸ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line">    [<span class="string">&#x27;one&#x27;</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="string">&#x27;two&#x27;</span>, <span class="number">2</span>]</span><br><span class="line">])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map1) <span class="comment">// Map(2) &#123; &#x27;one&#x27; =&gt; 1, &#x27;two&#x27; =&gt; 2 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> map2 = <span class="keyword">new</span> <span class="title class_">Map</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2) <span class="comment">// =&gt; Map(3) &#123; &#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 2, &#x27;c&#x27; =&gt; 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map2.<span class="title function_">has</span>(<span class="string">&#x27;a&#x27;</span>)) <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><p>ï¼ˆåºŸè¯ï¼šèµ·åˆç”¨codepenåœ¨çº¿ç¼–è¾‘å™¨è¿›è¡Œçš„è¾“å‡ºæµ‹è¯•ï¼Œç»“æœmapå…¨è¾“å‡ºç©ºï¼Œæˆ‘å¾ˆç–‘æƒ‘ï¼Œç„¶åç”¨æœ¬åœ°nodeç¯å¢ƒè·‘ï¼Œè¾“å‡ºæ­£å¸¸äº†â€¦è¿˜å¾—æ˜¯æœ¬åœ°å•Šï¼ï¼‰</p><h3 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.<span class="property">size</span> <span class="comment">// mapå¤§å°</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;d&#x27;</span>, <span class="number">4</span>) <span class="comment">// å¢</span></span><br><span class="line">map.<span class="title function_">has</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// æŸ¥</span></span><br><span class="line">map.<span class="title function_">get</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// æ‹¿</span></span><br><span class="line">map.<span class="title function_">delete</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// åˆ </span></span><br></pre></td></tr></table></figure><h3 id="æ˜ å°„ä¹‹äºæ•°ç»„"><a href="#æ˜ å°„ä¹‹äºæ•°ç»„" class="headerlink" title="æ˜ å°„ä¹‹äºæ•°ç»„"></a>æ˜ å°„ä¹‹äºæ•°ç»„</h3><p>åŒæ ·ä¹Ÿæ˜¯å•ªçš„ä¸€ä¸‹å¾ˆå¿«ã€‚</p><h2 id="WeakSet-amp-WeakMap"><a href="#WeakSet-amp-WeakMap" class="headerlink" title="WeakSet  &amp; WeakMap"></a>WeakSet  &amp; WeakMap</h2><p>å¥‡å¦™å˜ä½“ä¹‹â€”â€”å¼±é›†åˆ&amp;è‹¥æ˜ å°„ã€‚</p><h3 id="ä¸ºå•¥æ˜¯â€˜å¼±â€™å‘¢ï¼Ÿ"><a href="#ä¸ºå•¥æ˜¯â€˜å¼±â€™å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºå•¥æ˜¯â€˜å¼±â€™å‘¢ï¼Ÿ"></a>ä¸ºå•¥æ˜¯â€˜å¼±â€™å‘¢ï¼Ÿ</h3><blockquote><p> å› ä¸ºå®ƒä»¬ä¸ä¼šé˜»æ­¢é”®å€¼è¢«å½“åšåƒåœ¾æ”¶é›†ã€‚ï¼ˆè¯´å®è¯æˆ‘çœ‹è¿™å¥è§£é‡Šåå°±åƒçœ‹åˆ°äº†è¿™å¥è§£é‡Šï¼‰</p></blockquote><p>å‘ç°äº†ä¸€ä¸ªå¤§å‘â€”â€”åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆå¦å¼€ä¸€èŠ‚å§ï¼Œçœ‹å§å¥½å¤šç©ºæ–‡ç« å°±æ˜¯è¿™ä¹ˆæ¥çš„5555ï¼‰ã€‚ä¸è¿‡è®©æˆ‘ä»¬å…ˆæ¥ç€çœ‹è§£é‡Šâ†“</p><p>WeakMapä¸ä¼šé˜»æ­¢é”®å€¼è¢«å½“åšåƒåœ¾æ”¶é›†ã€‚åƒåœ¾æ”¶é›†æ˜¯JSè§£é‡Šå™¨å›æ”¶å†…å­˜ç©ºé—´çš„è¿‡ç¨‹ï¼Œå‡¡æ˜¯å› æ— æ³•è®¿é—®è€Œæ— æ³•è¢«ä½¿ç”¨çš„å¯¹è±¡éƒ½ä¼šè¢«å½“åšåƒåœ¾å›æ”¶ã€‚å¸¸è§„æ˜ å°„å¯¹è‡ªå·±çš„é”®å€¼å¯¹ä¿æŒç€æ¯”è¾ƒå¼ºçš„å¼•ç”¨ï¼Œæ‰€ä»¥åŠæ—¶å®ƒé‚£äº›å¼•ç”¨ä¸å­˜åœ¨äº†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ˜ å°„æ¥è®¿é—®é”®ã€‚ä½†æ˜¯WeakMapå°±ä¸ä¸€æ ·äº†ï¼Œå®ƒæ˜¯å¼±å¼•ç”¨ï¼Œæ‰€ä»¥è¯´æ²¡äº†å°±çœŸçš„æ‹¿ä¸åˆ°äº†ã€‚WeakSetåŒç†ã€‚</p><h3 id="åˆ›å»º-å±æ€§-ç®—æ³•"><a href="#åˆ›å»º-å±æ€§-ç®—æ³•" class="headerlink" title="åˆ›å»º/å±æ€§/ç®—æ³•"></a>åˆ›å»º/å±æ€§/ç®—æ³•</h3><p>å¼±å“¥ä»¬ä¿©å’Œå¼ºå“¥ä»¬ä¿©åœ¨æ„é€ å‡½æ•°ä½¿ç”¨ä¸Šæœ‰å·®åˆ«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="title class_">WeakSet</span>() <span class="comment">// ä¸èƒ½ä¼ å‚</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="title class_">WeakMap</span>() <span class="comment">// ä¸èƒ½ä¼ å‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼±å“¥ä»¬ä¿©éƒ½æ²¡æœ‰size</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// setçš„ä¸‰ä¸ªç”¨æ³•ï¼ˆä»…ï¼‰</span></span><br><span class="line">set.<span class="title function_">add</span>(éåŸå§‹å€¼)</span><br><span class="line">set.<span class="title function_">has</span>(...)</span><br><span class="line">set.<span class="title function_">delete</span>(...)</span><br><span class="line"><span class="comment">// mapçš„å››ä¸ªç”¨æ³•ï¼ˆä»…ï¼‰</span></span><br><span class="line">map.<span class="title function_">get</span>()</span><br><span class="line">map.<span class="title function_">set</span>(key, éåŸå§‹å€¼)</span><br><span class="line">map.<span class="title function_">has</span>()</span><br><span class="line">map.<span class="title function_">delete</span>()</span><br></pre></td></tr></table></figure><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p>æš‚æ—¶èƒ½æƒ³åˆ°çš„æœ‰ï¼šæˆ‘æƒ³ç»™ä¸€äº›å¯¹è±¡æ‰“æ ‡è®°ï¼Œå¯ä»¥æ‰”åœ¨ä¸€ä¸ªWeakSeté‡Œã€‚</p><p>ä¹¦ä¸­ï¼šWeakMapçš„è¯ï¼Œä¸»è¦æ˜¯å®ç°å€¼ä¸å¯¹è±¡çš„å…³è”è€Œä¸å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œä½†æ˜¯æˆ‘æƒ³ä¸åˆ°ä¾‹å­ã€‚ã€‚ã€‚</p><h1 id="TypedArrayå®šå‹æ•°ç»„"><a href="#TypedArrayå®šå‹æ•°ç»„" class="headerlink" title="TypedArrayå®šå‹æ•°ç»„"></a>TypedArrayå®šå‹æ•°ç»„</h1>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>14Days-JS-Pra</title>
      <link href="/post/8633.html"/>
      <url>/post/8633.html</url>
      
        <content type="html"><![CDATA[<h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><p><a href="https://leetcode.cn/problems/counter/">è®¡æ•°å™¨</a></p><blockquote><p>é—­åŒ… </p></blockquote><p><a href="https://leetcode.cn/problems/create-hello-world-function/">åˆ›å»º Hello World å‡½æ•°</a></p><blockquote><p>é—­åŒ… </p></blockquote><h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><p><a href="https://leetcode.cn/problems/counter-ii/">è®¡æ•°å™¨ II</a></p><blockquote><p>é—­åŒ…</p></blockquote><p><a href="https://leetcode.cn/problems/apply-transform-over-each-element-in-array/">è½¬æ¢æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ </a></p><blockquote><p>æ•°ç»„è½¬æ¢</p></blockquote><h2 id="Day3"><a href="#Day3" class="headerlink" title="Day3"></a>Day3</h2><p><a href="https://leetcode.cn/problems/filter-elements-from-array/">è¿‡æ»¤æ•°ç»„ä¸­çš„å…ƒç´ </a></p><blockquote><p>æ•°ç»„è½¬æ¢</p></blockquote><p><a href="https://leetcode.cn/problems/array-reduce-transformation/">æ•°ç»„å½’çº¦è¿ç®—</a></p><blockquote><p>æ•°ç»„è½¬æ¢</p></blockquote><h2 id="Day4"><a href="#Day4" class="headerlink" title="Day4"></a>Day4</h2><p><a href="https://leetcode.cn/problems/function-composition/">å¤åˆå‡½æ•°</a></p><blockquote><p>è¾“å…¥è¾“å‡º</p></blockquote><p><a href="https://leetcode.cn/problems/allow-one-function-call/">åªå…è®¸ä¸€æ¬¡å‡½æ•°è°ƒç”¨</a></p><blockquote><p>è¾“å…¥è¾“å‡º</p></blockquote><h2 id="Day5-å¯ä»¥å¤šå›é¡¾ä¸€ä¸‹"><a href="#Day5-å¯ä»¥å¤šå›é¡¾ä¸€ä¸‹" class="headerlink" title="Day5-å¯ä»¥å¤šå›é¡¾ä¸€ä¸‹"></a>Day5-å¯ä»¥å¤šå›é¡¾ä¸€ä¸‹</h2><p><a href="https://leetcode.cn/problems/memoize/"> è®°å¿†å‡½æ•°</a></p><blockquote><p>è¾“å…¥è¾“å‡º</p></blockquote><p><a href="https://leetcode.cn/problems/curry/">æŸ¯é‡ŒåŒ–</a></p><blockquote><p>è¾“å…¥è¾“å‡º</p></blockquote><p>â†‘è¿™ä¸ªéœ€è¦ä¼šå‘˜ï¼Œæˆ‘æ²¡åšï¼Œä¸è¿‡çœ‹äº†ä¸€äº›æŸ¯é‡ŒåŒ–å‡½æ•°çš„ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªæ¥æ”¶ä¸‰ä¸ªå‚æ•°çš„æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¯é‡ŒåŒ–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">func</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">curried</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (func.<span class="property">length</span> &lt;= args.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="comment">// å½“å‚æ•°ä¸ªæ•°æ»¡è¶³è¦æ±‚æ—¶ï¼Œå³å¯å¸¦ç€å‚æ•°è¿”å›å‡½æ•°æ‰§è¡Œ</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">func</span>(...args)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å‚æ•°ä¸å¤Ÿæ—¶ï¼Œè¿”å›å¸¦ç€éƒ¨åˆ†å‚æ•°çš„å‡½æ•°ï¼Œç»§ç»­æ¥æ”¶å‚æ•°</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...nextArgs</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_">curried</span>(...args, ...nextArgs)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> curried = <span class="title function_">curry</span>(add)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">curried</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)) <span class="comment">// =&gt; 6</span></span><br></pre></td></tr></table></figure><h2 id="Day6-promiseéœ€è¦å¤šå›é¡¾"><a href="#Day6-promiseéœ€è¦å¤šå›é¡¾" class="headerlink" title="Day6-promiseéœ€è¦å¤šå›é¡¾"></a>Day6-promiseéœ€è¦å¤šå›é¡¾</h2><p><a href="https://leetcode.cn/problems/sleep/">ç¡çœ å‡½æ•°</a></p><blockquote><p> Promise ï¼ˆå¼‚æ­¥ï¼‰</p></blockquote><p><a href="https://leetcode.cn/problems/promise-time-limit/">æœ‰æ—¶é—´é™åˆ¶çš„ Promise å¯¹è±¡</a></p><blockquote><p> Promise ï¼ˆå¼‚æ­¥ï¼‰</p></blockquote><h2 id="Day7-promiseã€å»¶æ—¶å™¨"><a href="#Day7-promiseã€å»¶æ—¶å™¨" class="headerlink" title="Day7-promiseã€å»¶æ—¶å™¨"></a>Day7-promiseã€å»¶æ—¶å™¨</h2><p><a href="https://leetcode.cn/problems/promise-pool/">Promise å¯¹è±¡æ± </a></p><blockquote><p>Promise ï¼ˆå¼‚æ­¥ï¼‰</p></blockquote><p>åˆæ˜¯ä¸€ä¸ªä¼šå‘˜ä¸“äº«ã€‚ã€‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå­˜æ”¾Promiseå¯¹è±¡çš„ç»“æ„ï¼Œä½¿å¾—å¯ä»¥å¤ç”¨è¿™äº›Promiseå¯¹è±¡ï¼Œå‡å°‘äº†Promiseåˆ›å»º/é”€æ¯å¼€é”€</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡æ± </span></span><br><span class="line"><span class="keyword">const</span> promisePool = []</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªPromise</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">asyncOperation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">res</span>(<span class="string">&#x27;èŠ±1ç§’ åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Promise&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡æ± æ‹¿å‡ºæ“ä½œ-å¦‚æœå·²å­˜åœ¨ï¼Œä»å¯¹è±¡æ± æ‹¿å‡ºï¼›å¦‚æœä¸å­˜åœ¨ï¼Œæ–°å»ºä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPromiseFromPool</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (promisePool.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> promisePool.<span class="title function_">pop</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">asyncOperation</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡æ± æ·»åŠ æ“ä½œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">recyclePromise</span>(<span class="params">promise</span>) &#123;</span><br><span class="line">    promisePool.<span class="title function_">push</span>(promise)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å¯¹è±¡æ± æ“ä½œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">performAsyncOperation</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> promise = <span class="title function_">getPromiseFromPool</span>() <span class="comment">// æ‹¿å‡º</span></span><br><span class="line">    promise.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// åç»­</span></span><br><span class="line">        <span class="title function_">recyclePromise</span>(promise) <span class="comment">// é‡æ–°æ”¾å…¥</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="title function_">performAsyncOperation</span>()</span><br><span class="line"><span class="title function_">performAsyncOperation</span>()</span><br></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/cache-with-time-limit/">æœ‰æ—¶é—´é™åˆ¶çš„ç¼“å­˜</a></p><blockquote><p>Time</p></blockquote><p>è¿™ä¸ªçœŸçš„å¾ˆæœ‰æ„æ€ï¼Œç›´æ¥æŠŠå»¶æ—¶å™¨ä½œä¸ºå¯¹è±¡ä¸­å…ƒç´ å­˜å…¥åˆ°äº†mapä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥è½»æ¾å¤„ç†è¿‡æœŸåˆ é™¤é—®é¢˜äº†ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">TimeLimitedCache</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">map</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">TimeLimitedCache</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">set</span> = <span class="keyword">function</span>(<span class="params">key, value, duration</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> existed = <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">has</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (existed) &#123;</span><br><span class="line">        <span class="keyword">let</span> temp = <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">get</span>(key)</span><br><span class="line">        <span class="built_in">clearTimeout</span>(temp.<span class="property">timer</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿‡æœŸè‡ªåŠ¨åˆ é™¤</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">    &#125;, duration)</span><br><span class="line">    <span class="comment">// æ·»åŠ /è¦†ç›–å­˜å‚¨ä¸­çš„é”®å€¼å¯¹</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">set</span>(key, &#123;</span><br><span class="line">        <span class="attr">value</span>: value,</span><br><span class="line">        <span class="attr">timer</span>: timer</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> existed</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">TimeLimitedCache</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get</span> = <span class="keyword">function</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> existed = <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">has</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (existed) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="title function_">get</span>(key).<span class="property">value</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">TimeLimitedCache</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">count</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">map</span>.<span class="property">size</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your TimeLimitedCache object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * var obj = new TimeLimitedCache()</span></span><br><span class="line"><span class="comment"> * obj.set(1, 42, 1000); // false</span></span><br><span class="line"><span class="comment"> * obj.get(1) // 42</span></span><br><span class="line"><span class="comment"> * obj.count() // 1</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><h2 id="Day8"><a href="#Day8" class="headerlink" title="Day8"></a>Day8</h2><p><a href="https://leetcode.cn/problems/debounce/">å‡½æ•°é˜²æŠ–</a></p><blockquote><p>Time</p></blockquote><p>ä½¿ç”¨å»¶æ—¶å™¨å®ç°ä¸€ä¸ªç®€å•çš„é˜²æŠ–æ•ˆæœã€‚</p><p><a href="https://leetcode.cn/problems/throttle/">èŠ‚æµ</a></p><blockquote><p>Time</p></blockquote><p>åˆæ˜¯ä¸ªä¼šå‘˜é¢˜ã€‚ã€‚ã€‚æˆ‘å»è‡ªå·±æ‰¾ç‚¹èŠ‚æµé¢˜åšå¥½äº†ã€‚ã€‚ã€‚æ‰¾ä¸åˆ°ï¼Œè‡ªå·±å®ç°ä¸€ä¸ªå§ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> func = <span class="variable language_">this</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(func, args)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Day9"><a href="#Day9" class="headerlink" title="Day9"></a>Day9</h2><p><a href="https://leetcode.cn/problems/json-deep-equal/">å®Œå…¨ç›¸ç­‰çš„ JSON å­—ç¬¦ä¸²</a></p><p><a href="https://leetcode.cn/problems/convert-object-to-json-string/">å°†å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</a></p><p>è¿™ä¿©å…¨æ˜¯ä¼šå‘˜é¢˜ã€‚ã€‚ã€‚ã€‚</p><blockquote><p>JSON / é€’å½’ / ç›¸å…³å®ç°å¸¸è§ä¸šåŠ¡å‡½æ•°æ–¹æ³•</p></blockquote><h2 id="Day10"><a href="#Day10" class="headerlink" title="Day10"></a>Day10</h2><p><a href="https://leetcode.cn/problems/array-of-objects-to-matrix/">å°†å¯¹è±¡æ•°ç»„è½¬æ¢ä¸ºçŸ©é˜µ</a></p><p><a href="https://leetcode.cn/problems/differences-between-two-objects/">ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„å·®å¼‚</a></p><p>è¿™ä¿©ä¹Ÿæ˜¯ã€‚ã€‚ã€‚</p><p><a href="https://codepen.io/3879055132-qq-com/pen/OJayaEy">è‡ªå­¦è‡ªç </a></p><h2 id="Day11"><a href="#Day11" class="headerlink" title="Day11"></a>Day11</h2><p><a href="https://leetcode.cn/problems/chunk-array/">åˆ†å—æ•°ç»„</a></p><p><a href="https://leetcode.cn/problems/flatten-deeply-nested-array/">æ‰å¹³åŒ–åµŒå¥—æ•°ç»„</a></p><p>è¯¶å˜¿æœ€å–œæ¬¢çš„å‡¹åŒç™¾äº†ï¼Œæ—¶é—´å’Œå†…å­˜å‡100%</p><h2 id="Day12-åŸå‹"><a href="#Day12-åŸå‹" class="headerlink" title="Day12-åŸå‹"></a>Day12-åŸå‹</h2><p><a href="https://leetcode.cn/problems/array-prototype-last/">æ•°ç»„åŸå‹å¯¹è±¡çš„æœ€åä¸€ä¸ªå…ƒç´ </a></p><p><a href="https://leetcode.cn/problems/group-by/">åˆ†ç»„</a></p><blockquote><p>å¯¹è±¡å¼•ç”¨ï¼ˆåŸå‹é“¾ï¼‰</p></blockquote><h2 id="Day13-åŸå‹"><a href="#Day13-åŸå‹" class="headerlink" title="Day13-åŸå‹"></a>Day13-åŸå‹</h2><p><a href="https://leetcode.cn/problems/check-if-object-instance-of-class/">æ£€æŸ¥æ˜¯å¦æ˜¯ç±»çš„å¯¹è±¡å®ä¾‹</a></p><p><a href="https://leetcode.cn/problems/call-function-with-custom-context/">ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¸‹æ–‡è°ƒç”¨å‡½æ•°</a></p><blockquote><p>å¯¹è±¡å¼•ç”¨ï¼ˆåŸå‹é“¾ï¼‰</p></blockquote><h2 id="Day14-æœ‰è¶£"><a href="#Day14-æœ‰è¶£" class="headerlink" title="Day14-æœ‰è¶£"></a>Day14-æœ‰è¶£</h2><p><a href="https://leetcode.cn/problems/generate-fibonacci-sequence/">ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—</a></p><p><a href="https://leetcode.cn/problems/nested-array-generator/">åµŒå¥—æ•°ç»„ç”Ÿæˆå™¨</a></p><blockquote><p>Generatorsï¼ˆç”Ÿæˆå™¨ï¼‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”å‡½æ•°</title>
      <link href="/post/2532.html"/>
      <url>/post/2532.html</url>
      
        <content type="html"><![CDATA[<p>å‡½æ•°æ˜¯å•¥ï¼Ÿ</p><p>å‡½æ•°å¤§è‡´åˆ’åˆ†ï¼Ÿ</p><p>æ™®é€šå‡½æ•°</p><p>æœ‰åˆå§‹å€¼çš„å‡½æ•° </p><p>æ„é€ å‡½æ•°</p><p>ç®­å¤´å‡½æ•°ï¼ˆå˜é‡ï¼‰</p><p>ä½œç”¨åŸŸ</p><p>ä¸Šä¸‹æ–‡</p><p>é—­åŒ…</p>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JSâ€”â€”å¼‚æ­¥</title>
      <link href="/post/cd24.html"/>
      <url>/post/cd24.html</url>
      
        <content type="html"><![CDATA[<p>è¯•ç€å°†å­¦åˆ°çš„ä¸œè¥¿è®²å‡ºæ¥ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹"><a href="#ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹"></a>ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹</h4><p>â€‹        å¼‚æ­¥ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒJSæ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœå¤„ç†å™¨è¦å¤„ç†ä¸€ä¸ªè€—æ—¶å¾ˆé•¿çš„ä¸šåŠ¡ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªåˆ°1e10çš„å åŠ å‡½æ•°ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´è¿›ç¨‹é˜»å¡ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å°†ä¸€äº›ç±»ä¼¼çš„ä¸šåŠ¡å…ˆæ‹¿åˆ°è¿›ç¨‹ä»¥å¤–ï¼Œé€šè¿‡ä¸€äº›ç‰¹å®šçš„æ–¹å¼å»è°ƒç”¨å®ƒä»¬ï¼ŒåŒæ—¶åˆèƒ½ä¿è¯å…¶ä¹‹åçš„åŒæ­¥ä»£ç å¯ä»¥ç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p><h4 id="JSä¸­å¦‚ä½•å¤„ç†åŒæ­¥å’Œå¼‚æ­¥"><a href="#JSä¸­å¦‚ä½•å¤„ç†åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="JSä¸­å¦‚ä½•å¤„ç†åŒæ­¥å’Œå¼‚æ­¥"></a>JSä¸­å¦‚ä½•å¤„ç†åŒæ­¥å’Œå¼‚æ­¥</h4><p>æ‰€ä»¥è¯´é€šå¸¸JSå¯¹äºä¸€æ®µä»£ç çš„è¿è¡Œå¤„ç†æ—¶è¿™æ ·å­çš„ï¼š</p><p>â€‹        é¦–å…ˆå°†æ ˆå†…çš„æ‰€æœ‰åŒæ­¥ä»£ç æŒ¨ä¸ªæ‰§è¡Œç„¶åæŠ›å‡ºã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­é‡åˆ°çš„å¼‚æ­¥ä»£ç å¯¹åº”æ”¾å…¥çº¢å®ä»»åŠ¡æˆ–å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚å½“åŒæ­¥ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬å…ˆå°†å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„ä»£ç æ‰§è¡Œæ¸…ç©ºï¼Œç„¶åä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‹¿åˆ°ä¸€ä¸ªå®ä»»åŠ¡å—ã€‚æˆ‘ä»¬å°†è¿™ä¸ªå®ä»»åŠ¡å—æ”¾è¿›æ ˆä¸­æ‰§è¡Œï¼Œå°†é‡Œé¢çš„å¾®ä»»åŠ¡å†æ¬¡æ‹¿åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚æ‰§è¡Œå®Œæ¯•åå†æ¬¡æ¸…é™¤å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚è¿™æ ·ä¸æ–­åå¤ï¼Œç›´åˆ°æ ˆå’Œä¸¤ä¸ªé˜Ÿåˆ—å…¨éƒ¨æ¸…ç©ºï¼Œè¿™æ ·JSè¿™ä¸€éƒ¨åˆ†çš„ä»£ç å°±æ‰§è¡Œå®Œæ¯•äº†ã€‚</p><h4 id="å¼‚æ­¥æ“ä½œä¸»è¦æœ‰å“ªäº›"><a href="#å¼‚æ­¥æ“ä½œä¸»è¦æœ‰å“ªäº›" class="headerlink" title="å¼‚æ­¥æ“ä½œä¸»è¦æœ‰å“ªäº›"></a>å¼‚æ­¥æ“ä½œä¸»è¦æœ‰å“ªäº›</h4><p>â€‹        å¦‚æœå¯¹å¼‚æ­¥æ“ä½œæŒ‰ç…§ä¸Šè¿°è¿‡ç¨‹æ‰€è¿°çš„è¯å¯ä»¥åˆ’åˆ†ä¸ºåƒsetTimeout,setIntervalè¿™æ ·çš„å®ä»»åŠ¡ï¼Œä»¥åŠPromise,MutationObserverè¿™æ ·çš„å¾®ä»»åŠ¡ã€‚</p><h4 id="å¼‚æ­¥ç¼–ç¨‹çš„åº”ç”¨åœºæ™¯"><a href="#å¼‚æ­¥ç¼–ç¨‹çš„åº”ç”¨åœºæ™¯" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹çš„åº”ç”¨åœºæ™¯"></a>å¼‚æ­¥ç¼–ç¨‹çš„åº”ç”¨åœºæ™¯</h4><p>æˆ‘æ‰€äº†è§£çš„å¼‚æ­¥ç¼–ç¨‹çš„åº”ç”¨åœºæ™¯ä¸»è¦æœ‰ï¼š</p><p>â€‹        å¼‚æ­¥ç½‘ç»œè¯·æ±‚ï¼Œåœ¨SHOPPINGä¸­æœ‰ç”¨åˆ°è¿‡axiosè¿›è¡Œå‘åç«¯å‘é€è¯·æ±‚ã€æ¥æ”¶å“åº”ã€‚å½“æˆ‘åœ¨å‘è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘å¹¶ä¸æƒ³åœ¨ç­‰å¾…æœåŠ¡å™¨å“åº”çš„æ—¶å€™é˜»å¡é¡¹ç›®å…¶ä»–è¿›ç¨‹ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œåœ¨ä¿è¯å‘é€è¯·æ±‚ä¹‹åçš„å·¥ä½œæ­£å¸¸è¿›è¡Œçš„åŒæ—¶è·å–åˆ°ç›¸åº”ä¿¡æ¯ï¼Œå†å»å¤„ç†å¯¹åº”çš„ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŒæ­¥å’Œå¼‚æ­¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»†å°åŠŸèƒ½æ”¶çº³ç›’</title>
      <link href="/post/2af9.html"/>
      <url>/post/2af9.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç»†å°åŠŸèƒ½æ”¶çº³ç›’"><a href="#ç»†å°åŠŸèƒ½æ”¶çº³ç›’" class="headerlink" title="ç»†å°åŠŸèƒ½æ”¶çº³ç›’"></a>ç»†å°åŠŸèƒ½æ”¶çº³ç›’</h1><h2 id="ç®€å•çš„"><a href="#ç®€å•çš„" class="headerlink" title="ç®€å•çš„"></a>ç®€å•çš„</h2><h3 id="çŒœæƒ³-ç½‘ç«™è¿ç§»æç¤º"><a href="#çŒœæƒ³-ç½‘ç«™è¿ç§»æç¤º" class="headerlink" title="çŒœæƒ³-ç½‘ç«™è¿ç§»æç¤º"></a>çŒœæƒ³-ç½‘ç«™è¿ç§»æç¤º</h3><p>ç»™ç‚¹ä¿¡æ¯æç¤ºï¼Œç„¶åæ¡æ€§é‡å®šå‘ä¸€ä¸‹â†“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">....</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        ....</span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> location.<span class="title function_">replace</span>(<span class="string">&#x27;æ–°ç½‘é¡µ&#x27;</span>), <span class="number">1000</span>)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç®€æ˜“æ‚¼å¿µæ¨¡å¼-filter-grayscale-100"><a href="#ç®€æ˜“æ‚¼å¿µæ¨¡å¼-filter-grayscale-100" class="headerlink" title="ç®€æ˜“æ‚¼å¿µæ¨¡å¼-filter: grayscale(100%);"></a>ç®€æ˜“æ‚¼å¿µæ¨¡å¼-filter: grayscale(100%);</h3><blockquote><p>æ‚¼å¿µæ¨¡å¼ æ˜¯æŒ‡åœ¨æŸäº›ç‰¹æ®Šåœºåˆä¸‹ï¼Œä¾‹å¦‚å›½å®¶å“€æ‚¼ã€é‡å¤§ç¾éš¾ç­‰ï¼Œä¸ºäº†è¡¨è¾¾å¯¹é€è€…çš„å“€æ‚¼å’Œæ•¬æ„ï¼Œç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¼šé‡‡ç”¨ç‰¹å®šçš„æ–¹å¼å±•ç¤ºï¼Œä¾‹å¦‚æ”¹å˜ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºçš„ä¸»é¢˜è‰²ã€æ·»åŠ æ‚¼å¿µæ ‡å¿—ç­‰ã€‚</p></blockquote><p>å®ç°å“€æ‚¼æ¨¡å¼çš„æ–¹å¼å¯ä»¥å› å…·ä½“æƒ…å†µè€Œå¼‚ï¼Œä½†é€šå¸¸å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€æ¥å®ç°ï¼š</p><ol><li>CSSæ ·å¼å˜æ›´ï¼šä½¿ç”¨CSSæ ·å¼æ¥æ”¹å˜ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºçš„ä¸»é¢˜è‰²ã€å­—ä½“é¢œè‰²ã€èƒŒæ™¯å›¾åƒç­‰ï¼Œä»¥å‘ˆç°æ‚¼å¿µçš„æ°›å›´ã€‚</li><li>å›¾åƒæˆ–æ ‡å¿—æ·»åŠ ï¼šåœ¨ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ‚¼å¿µæ ‡å¿—æˆ–å›¾åƒï¼Œä¾‹å¦‚é»‘è‰²ç»¸å¸¦ã€èœ¡çƒ›ç­‰ï¼Œä»¥è¡¨è¾¾å¯¹é€è€…çš„å“€æ‚¼å’Œæ•¬æ„ã€‚</li><li>åŠŸèƒ½é™åˆ¶ï¼šåœ¨æŸäº›åœºåˆä¸‹ï¼Œä¸ºäº†é¿å…å½±å“å“€æ‚¼æ´»åŠ¨çš„è¿›è¡Œï¼Œç½‘ç«™æˆ–åº”ç”¨ç¨‹åºä¼šé™åˆ¶ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ç¦æ­¢å‘å¸ƒå¸¦æœ‰å¨±ä¹æ€§è´¨çš„å†…å®¹ã€‚</li></ol><p>ä»¥ä¸Šæ–¹æ³•å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ï¼Œæ ¹æ®å…·ä½“æƒ…å†µæ¥é€‰æ‹©åˆé€‚çš„æ–¹å¼æ¥å®ç°å“€æ‚¼æ¨¡å¼ã€‚</p><p>ä½†æœ€ä¸ºç®€æ˜“çš„æ‚¼å¿µæ¨¡å¼å½“å±æ‰¾ä¸ªåŠæ³•ç»™ç½‘é¡µè’™ä¸€å±‚ç°â†“</p><h4 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><img src="../images/CSS%E6%A0%B7%E5%BC%8F%E6%94%B6%E7%BA%B3%E7%9B%92%E2%80%94%E2%80%94%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/image-20230510104845170.png" alt="image-20230510104845170" style="zoom: 50%;" /><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>filterï¼šç”¨äºå¯¹å…ƒç´ åº”ç”¨å›¾å½¢æ•ˆæœï¼Œæ¯”å¦‚æ¨¡ç³Šã€é¥±å’Œç­‰ã€‚</p><p>grayscale: å°†å…ƒç´ å˜ä¸ºç°åº¦å›¾åƒã€‚</p><h3 id="é€‰ä¸­å†…å®¹è‰²å½©-selection"><a href="#é€‰ä¸­å†…å®¹è‰²å½©-selection" class="headerlink" title="é€‰ä¸­å†…å®¹è‰²å½©-::selection {}"></a>é€‰ä¸­å†…å®¹è‰²å½©-::selection {}</h3><p>å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªæå…·ç‰¹è‰²çš„ç½‘ç«™ï¼Œé€‰ä¸­ç½‘ç«™ä¸­ä¸€äº›æ–‡æœ¬å†…å®¹æ—¶å¾€å¾€ä¼šå‘ç°ï¼šè¢«é€‰ä¸­åçš„éƒ¨åˆ†è‰²è°ƒéå¸¸ç¬¦åˆè¯¥ç½‘ç«™ç‰¹è‰²ï¼ˆè¯­è¨€è‰ºæœ¯hhhï¼‰</p><p>å…¶å®å°±æ˜¯diyäº†ä¸€ä¸‹é€‰ä¸­åæ–‡æœ¬çš„é¢œè‰²å’ŒèƒŒæ™¯è‰²ç­‰ã€‚æˆ‘ä»¬ä¸å¦¨æ‹¿è‡ªå·±çš„é¡¹ç›®è¯•è¯•æ‰‹ã€‚</p><h4 id="æ•ˆæœ-1"><a href="#æ•ˆæœ-1" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><img src="../images/CSS%E6%A0%B7%E5%BC%8F%E6%94%B6%E7%BA%B3%E7%9B%92%E2%80%94%E2%80%94%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/image-20230508160842545.png" alt="image-20230508160842545" style="zoom:50%;" /><h4 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">background-color</span>: brown;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>::selection</code> æ˜¯ä¸€ä¸ª CSS ä¼ªå…ƒç´ ï¼Œç”¨äºè®¾ç½®æ–‡æœ¬é€‰ä¸­æ—¶çš„æ ·å¼ã€‚</p><h3 id="è‡ªå®šä¹‰æ»šåŠ¨æ¡-webkit-scrollbar"><a href="#è‡ªå®šä¹‰æ»šåŠ¨æ¡-webkit-scrollbar" class="headerlink" title="è‡ªå®šä¹‰æ»šåŠ¨æ¡-::-webkit-scrollbar"></a>è‡ªå®šä¹‰æ»šåŠ¨æ¡-::-webkit-scrollbar</h3><p>ä¸ºäº†ç¡®ä¿æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œåœ¨ä½¿ç”¨ <code>::-webkit-scrollbar</code> å±æ€§æ—¶ï¼Œå»ºè®®åŒæ—¶æä¾›ä¸€ä¸ªæ ‡å‡†çš„ CSS å±æ€§ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆï¼Œä¾‹å¦‚ <code>scrollbar-width</code> å±æ€§å’Œ <code>scrollbar-color</code> å±æ€§ã€‚</p><h4 id="æ•ˆæœ-2"><a href="#æ•ˆæœ-2" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><img src="../images/CSS%E6%A0%B7%E5%BC%8F%E6%94%B6%E7%BA%B3%E7%9B%92%E2%80%94%E2%80%94%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/image-20230508165539768.png" alt="image-20230508165539768" style="zoom:67%;" /><h4 id="å®ç°-2"><a href="#å®ç°-2" class="headerlink" title="å®ç°"></a>å®ç°</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  <span class="attribute">background</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¯›ç»ç’ƒ-backdrop-filter"><a href="#æ¯›ç»ç’ƒ-backdrop-filter" class="headerlink" title="æ¯›ç»ç’ƒ-backdrop-filter"></a>æ¯›ç»ç’ƒ-backdrop-filter</h3><p>å°±æ˜¯ä¸€ä¸ªå—å—ï¼Œæ¨¡æ¨¡ç³Šç³Šé€é€æ˜æ˜ï¼ˆè¦æ˜¯è®²è¿™ç§éœ€æ±‚ä¼šä¸ä¼šè¢«è¿½ç€æ‰“ï¼‰ã€‚</p><p>å®ç°æ¯›ç»ç’ƒç‰¹æ•ˆå¯ä»¥ä½¿ç”¨CSSçš„backdrop-filterå±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥ä¸ºå…ƒç´ æ·»åŠ ä¸€ä¸ªèƒŒæ™¯è¿‡æ»¤å™¨ï¼Œå¯ä»¥å®ç°æ¨¡ç³Šã€ç°åº¦ã€é€æ˜åº¦ç­‰æ•ˆæœã€‚</p><h4 id="æ•ˆæœ-3"><a href="#æ•ˆæœ-3" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h4><img src="../images/CSS%E6%A0%B7%E5%BC%8F%E6%94%B6%E7%BA%B3%E7%9B%92%E2%80%94%E2%80%94%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0/image-20230508164110933.png" alt="image-20230508164110933" style="zoom: 67%;" /><h4 id="å®ç°-3"><a href="#å®ç°-3" class="headerlink" title="å®ç°"></a>å®ç°</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;under&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;glass&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå¸¦æ¯›ç»ç’ƒç‰¹æ•ˆçš„å—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.glass</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.under</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¾ƒä¸ºå¤æ‚çš„"><a href="#è¾ƒä¸ºå¤æ‚çš„" class="headerlink" title="è¾ƒä¸ºå¤æ‚çš„"></a>è¾ƒä¸ºå¤æ‚çš„</h2><h3 id="æ¥æ­å»ºä¸€ä¸ªè½®æ’­å›¾å§ï¼ï¼"><a href="#æ¥æ­å»ºä¸€ä¸ªè½®æ’­å›¾å§ï¼ï¼" class="headerlink" title="æ¥æ­å»ºä¸€ä¸ªè½®æ’­å›¾å§ï¼ï¼"></a>æ¥æ­å»ºä¸€ä¸ªè½®æ’­å›¾å§ï¼ï¼</h3><h4 id="ç¬¬ä¸€æ­¥ï¼šå…ˆæ¥ä¸€ä¸ªä¸åŠ ç©ºé—´çš„ç®€å•å®ç°ã€‚"><a href="#ç¬¬ä¸€æ­¥ï¼šå…ˆæ¥ä¸€ä¸ªä¸åŠ ç©ºé—´çš„ç®€å•å®ç°ã€‚" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå…ˆæ¥ä¸€ä¸ªä¸åŠ ç©ºé—´çš„ç®€å•å®ç°ã€‚"></a>ç¬¬ä¸€æ­¥ï¼šå…ˆæ¥ä¸€ä¸ªä¸åŠ ç©ºé—´çš„ç®€å•å®ç°ã€‚</h4><p>å®ç°äº†æœ€åŸºæœ¬å›¾ç‰‡æ— é™å¾ªç¯æ’­æ”¾</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slideshow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide active&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/1p/wallhaven-1ppld1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/j3/wallhaven-j3m8y5.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/kx/wallhaven-kx82d6.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.slideshow</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: auto;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.slide</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">5s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.slide</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> slides = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.slideshow .slide&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> currentSlide = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">showSlide</span>(<span class="params">index</span>) &#123;            </span><br><span class="line">    slides[currentSlide].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">    slides[index].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">    currentSlide = index;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">nextSlide</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> nextIndex = currentSlide + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (nextIndex &gt;= slides.<span class="property">length</span>) &#123;</span><br><span class="line">          nextIndex = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">showSlide</span>(nextIndex);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setInterval</span>(nextSlide, <span class="number">3000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒæ­¥ï¼šåˆæ¬¡å®Œå–„åŠŸèƒ½ï¼Œæˆ‘è§åˆ°æœ€å¤šçš„æ˜¯æœ‰å·¦å³ä¸¤ç®­å¤´æ¥æ‰‹åŠ¨æ§åˆ¶ä¸Šä¸‹é¡µã€‚"><a href="#ç¬¬äºŒæ­¥ï¼šåˆæ¬¡å®Œå–„åŠŸèƒ½ï¼Œæˆ‘è§åˆ°æœ€å¤šçš„æ˜¯æœ‰å·¦å³ä¸¤ç®­å¤´æ¥æ‰‹åŠ¨æ§åˆ¶ä¸Šä¸‹é¡µã€‚" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šåˆæ¬¡å®Œå–„åŠŸèƒ½ï¼Œæˆ‘è§åˆ°æœ€å¤šçš„æ˜¯æœ‰å·¦å³ä¸¤ç®­å¤´æ¥æ‰‹åŠ¨æ§åˆ¶ä¸Šä¸‹é¡µã€‚"></a>ç¬¬äºŒæ­¥ï¼šåˆæ¬¡å®Œå–„åŠŸèƒ½ï¼Œæˆ‘è§åˆ°æœ€å¤šçš„æ˜¯æœ‰å·¦å³ä¸¤ç®­å¤´æ¥æ‰‹åŠ¨æ§åˆ¶ä¸Šä¸‹é¡µã€‚</h4><p>å®Œå–„äº†å‰åé¡µæ‰‹åŠ¨åˆ‡æ¢åŠŸèƒ½ï¼Œç»´æŠ¤äº†ä¸€ä¸‹æ ·å¼å’Œé€»è¾‘ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slideshow&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;prevBtn&quot;</span>&gt;</span>â†<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;nextBtn&quot;</span>&gt;</span>â†’<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide active&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/1p/wallhaven-1ppld1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/j3/wallhaven-j3m8y5.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;slide&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://w.wallhaven.cc/full/kx/wallhaven-kx82d6.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Image 3&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.slideshow</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* é¦–å…ˆæ˜¯ä¸€ä¸ªå…¸å‹çš„å›¾ç‰‡åœ¨ç›’å­ä¸­çš„è‡ªé€‚åº” */</span></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: auto;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.slide</span> &#123;</span><br><span class="line">    <span class="comment">/* ç›¸å¯¹äºçˆ¶å…ƒç´ ç»å¯¹å®šä½ */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* ä¸“é—¨æ·»åŠ äº†ä¸€ä¸ªé€æ˜åº¦è¿‡æ¸¡ï¼Œå…¶å®ä¸æ·»åŠ ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œè€Œä¸”ä¸€èˆ¬è½®æ’­å›¾ä¼¼ä¹æ˜¯å·¦å³è¡”æ¥åˆ‡æ¢çš„.... */</span></span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">5s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.slide</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.controls</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="comment">/* å·¦å³æŒ‰é”®å±•åˆ°ä¸¤ä¾§ */</span></span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.controls</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">105</span>, <span class="number">105</span>, <span class="number">105</span>, .<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20%</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> slides = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.slideshow .slide&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> currentSlide = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> prevBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;prevBtn&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> nextBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;nextBtn&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ§åˆ¶è½®æ’­å›¾å±•ç¤ºï¼Œåˆ é™¤æ—§ä¸€ä¸ªactiveï¼Œæ·»åŠ æ–°ä¸€ä¸ªactive</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showSlide</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    slides[currentSlide].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">    slides[index].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">    currentSlide = index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸‹ä¸¤ä¸ªå‡½æ•°ä¸»è¦å®ç°å‰åä¸€é¡µçš„åˆ‡æ¢ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°è¦è¢«ç”¨åˆ°è‡ªåŠ¨è½®æ’­ä¸­</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">nextSlide</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å½“å‰ç´¢å¼•+1ï¼ˆå­˜å‚¨åˆ°æ–°çš„å‚æ•°ä¸­ï¼Œæ–¹ä¾¿æ§åˆ¶è½®æ’­å±•ç¤ºï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> nextIndex = currentSlide + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// è‹¥åˆ°åº•åˆ™å›åˆ°é¦–ä¸ª</span></span><br><span class="line">    <span class="keyword">if</span> (nextIndex &gt;= slides.<span class="property">length</span>) &#123;</span><br><span class="line">        nextIndex = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç»™è½®æ’­æ§åˆ¶å‡½æ•°ä¼ å‚æ“ä½œ</span></span><br><span class="line">    <span class="title function_">showSlide</span>(nextIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">prevSlide</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> prevIndex = currentSlide - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (prevIndex &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        prevIndex = slides.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">showSlide</span>(prevIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰é’®ç›‘å¬</span></span><br><span class="line">nextBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ¸…ç©ºè®¡æ—¶å™¨</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">    <span class="comment">// æ‰§è¡Œä¸€æ¬¡æŒ‰é”®å¯¹åº”æ“ä½œ</span></span><br><span class="line">    <span class="title function_">nextSlide</span>()</span><br><span class="line">    <span class="comment">// ç»§ç»­è‡ªåŠ¨è½®æ’­</span></span><br><span class="line">    timer = <span class="built_in">setInterval</span>(nextSlide, <span class="number">3000</span>)</span><br><span class="line">&#125;);</span><br><span class="line">prevBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">    <span class="title function_">prevSlide</span>()</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(nextSlide, <span class="number">3000</span>)</span><br><span class="line">&#125;);</span><br><span class="line">timer = <span class="built_in">setInterval</span>(nextSlide, <span class="number">3000</span>)</span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰æ­¥ï¼šå›¾ç‰‡æ€¼åˆ°é¡¶ä¸Šå¤ªéš¾çœ‹äº†ï¼Œè¿˜æ˜¯å±…ä¸­å±•ç¤ºå§ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹å¸ƒå±€ã€‚"><a href="#ç¬¬ä¸‰æ­¥ï¼šå›¾ç‰‡æ€¼åˆ°é¡¶ä¸Šå¤ªéš¾çœ‹äº†ï¼Œè¿˜æ˜¯å±…ä¸­å±•ç¤ºå§ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹å¸ƒå±€ã€‚" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šå›¾ç‰‡æ€¼åˆ°é¡¶ä¸Šå¤ªéš¾çœ‹äº†ï¼Œè¿˜æ˜¯å±…ä¸­å±•ç¤ºå§ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹å¸ƒå±€ã€‚"></a>ç¬¬ä¸‰æ­¥ï¼šå›¾ç‰‡æ€¼åˆ°é¡¶ä¸Šå¤ªéš¾çœ‹äº†ï¼Œè¿˜æ˜¯å±…ä¸­å±•ç¤ºå§ï¼Œè¿™é‡Œä¿®æ”¹äº†ä¸€ä¸‹å¸ƒå±€ã€‚</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.slide</span> &#123;</span><br><span class="line">    ....</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.slideshow</span> <span class="selector-class">.controls</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¬¬å››æ­¥ï¼šæˆ‘æƒ³åŠ ä¸€ä¸ªé¼ æ ‡æ»‘åŠ¨åˆ‡æ¢ã€‚"><a href="#ç¬¬å››æ­¥ï¼šæˆ‘æƒ³åŠ ä¸€ä¸ªé¼ æ ‡æ»‘åŠ¨åˆ‡æ¢ã€‚" class="headerlink" title="ç¬¬å››æ­¥ï¼šæˆ‘æƒ³åŠ ä¸€ä¸ªé¼ æ ‡æ»‘åŠ¨åˆ‡æ¢ã€‚"></a>ç¬¬å››æ­¥ï¼šæˆ‘æƒ³åŠ ä¸€ä¸ªé¼ æ ‡æ»‘åŠ¨åˆ‡æ¢ã€‚</h4>]]></content>
      
      
      <categories>
          
          <category> æ‰‹æ“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”æ•°ç»„</title>
      <link href="/post/ec5.html"/>
      <url>/post/ec5.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åŸºç¡€ä¸ç‰¢åœ°åŠ¨å±±æ‘‡æ‰¾ä¸åˆ°å·¥ä½œåƒä¸é¥±é¥­ç¡ä¸å¥½è§‰</p><h1 id="JSæ•°ç»„"><a href="#JSæ•°ç»„" class="headerlink" title="JSæ•°ç»„"></a>JSæ•°ç»„</h1><p>æ•°ç»„æ˜¯JSåŸºç¡€æ•°æ®ç±»å‹ã€‚</p><ul><li>JSæ•°ç»„æ˜¯å€¼çš„æœ‰åºé›†åˆï¼Œæ— ç±»å‹é™åˆ¶</li><li>JSæ•°ç»„æ˜¯åŠ¨æ€çš„ï¼ŒæŒ‰éœ€å¢å¤§ç¼©å°ï¼Œæœ€å¤§ç´¢å¼•å€¼2^32-2</li><li>JSæ•°ç»„å¯ä»¥æ˜¯ç¨€ç–çš„ï¼Œä¸ä¸€å®šè¿ç»­ç´¢å¼•</li><li>JSæ•°ç»„æ˜¯ç‰¹æ®Šçš„å¯¹è±¡</li></ul><p>JSæ•°ç»„ä»<code>Array.prototype</code>ç»§æ‰¿å±æ€§ä¹°è¿™é‡Œé¢å¾ˆå¤šæ•°ç»„æ–¹æ³•éƒ½æ˜¯<strong>æ³›å‹</strong>(ç”¨äºå‚æ•°åŒ–ç±»å‹)çš„ï¼Œæ‰€ä»¥åŒæ ·å¯ä»¥ç”¨äºä»»ä½•<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ES6å¢åŠ ä¸€ç±»æ–°æ•°ç»„ï¼Œç»Ÿç§°ä¸ºâ€œ<strong>å®šå‹å‡½æ•°</strong>â€ï¼Œå›ºå®šé•¿åº¦ã€å›ºå®šæ•°ç»„å…ƒç´ ç±»å‹ã€‚ï¼ˆè¿™ç§å‡½æ•°å…·æœ‰æé«˜æ€§èƒ½ï¼Œä¸”æ”¯æŒäºŒè¿›åˆ¶æ•°æ®å­—èŠ‚çº§è®¿é—®ï¼‰</p><h2 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h2><h3 id="æ•°ç»„å­—é¢é‡"><a href="#æ•°ç»„å­—é¢é‡" class="headerlink" title="æ•°ç»„å­—é¢é‡"></a>æ•°ç»„å­—é¢é‡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> empty = []</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> misc = [<span class="number">1</span>,<span class="number">1</span>, <span class="string">&#x27;m&#x27;</span>, <span class="literal">true</span>, <span class="literal">undefined</span>, a+<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> ohno = [,,] <span class="comment">// è¿™ä¸ªé•¿åº¦æ˜¯2ï¼å› ä¸ºæ•°ç»„å­—é¢é‡è¯­æ³•å…è®¸æœ«å°¾å‡ºç°â€˜,â€™</span></span><br></pre></td></tr></table></figure><h3 id="newæ„é€ å‡½æ•°"><a href="#newæ„é€ å‡½æ•°" class="headerlink" title="newæ„é€ å‡½æ•°"></a>newæ„é€ å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> empty = <span class="keyword">new</span> <span class="title class_">Array</span>()</span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">10</span>) <span class="comment">// å®šé•¿ æ•°ç»„ç´¢å¼•å±æ€§å’Œå€¼éƒ½æ²¡æœ‰å®šä¹‰</span></span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;test&#x27;</span>) <span class="comment">// arr1 = [1, 2, &#x27;test&#x27;] è¿œè¿œä¸åŠç›´æ¥ç”¨å­—é¢é‡åˆ›å»ºç®€å•</span></span><br></pre></td></tr></table></figure><h3 id="å¥‡å¦™çš„â€¦å¯è¿­ä»£å¯¹è±¡ï¼ˆæ‰©å±•æ“ä½œç¬¦ï¼‰"><a href="#å¥‡å¦™çš„â€¦å¯è¿­ä»£å¯¹è±¡ï¼ˆæ‰©å±•æ“ä½œç¬¦ï¼‰" class="headerlink" title="å¥‡å¦™çš„â€¦å¯è¿­ä»£å¯¹è±¡ï¼ˆæ‰©å±•æ“ä½œç¬¦ï¼‰"></a>å¥‡å¦™çš„â€¦å¯è¿­ä»£å¯¹è±¡ï¼ˆæ‰©å±•æ“ä½œç¬¦ï¼‰</h3><p>ä¹Ÿç®—æ˜¯æ‰“å¹³ï¼Œæœ‰çš„è¯ï¼Œ<strong>åªæ‰“å¹³ä¸€å±‚</strong>ã€‚ä¸”å¯¹äº<strong>ç©ºéš™</strong>é»˜è®¤ä¸ºæœªå®šä¹‰ç´¢å¼•çš„**<code>undefined</code>**ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">4</span>, ...a, <span class="number">5</span>] <span class="comment">// b = [4, 1, 2, 3, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤ºæ•°ç»„å»é‡çš„ä¾¿æºæ–¹å¼</span></span><br><span class="line"><span class="keyword">let</span> letters = [...<span class="string">&quot;hello&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> ans = [...<span class="keyword">new</span> <span class="title class_">Set</span>(letters)] <span class="comment">// =&gt; [&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¼”ç¤ºæ‰“å¹³å’Œç©ºéš™å¤„ç†</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...[<span class="number">1</span>,,[<span class="number">2</span>, <span class="number">3</span>]]) <span class="comment">// 1 undefined [2,3]</span></span><br></pre></td></tr></table></figure><h4 id="å¯è¿­ä»£å¯¹è±¡"><a href="#å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="å¯è¿­ä»£å¯¹è±¡"></a>å¯è¿­ä»£å¯¹è±¡</h4><ul><li>æ•°ç»„ï¼Œå®šå‹æ•°ç»„</li><li>å­—ç¬¦ä¸²</li><li>ç±»æ•°ç»„å¯¹è±¡ï¼ˆæ¯ä¸ªå±æ€§é”®éƒ½æ˜¯æ•´æ•°ï¼Œä¸”æœ‰lengthå±æ€§ï¼‰</li><li>set&amp;map</li><li>Generatorå¯¹è±¡</li><li>è‡ªå®šä¹‰å¯è¿­ä»£å¯¹è±¡</li></ul><h3 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h3><h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h4><p>å½“ä½¿ç”¨æ„é€ å‡½æ•°<strong>åˆ›å»ºæ•°ç»„</strong>æ—¶ï¼Œå¦‚æœä¼ å…¥æ•°å€¼å‚æ•°ï¼Œä¸”ä»…ä¸ºä¸€ä¸ªï¼Œé‚£ä¹ˆä»–åªä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º1çš„ç©ºæ•°ç»„ï¼Œè€ŒéåŒ…å«å€¼1çš„æ•°ç»„ã€‚</p><p>ES6ä¸­ç»™å‡ºçš„è¿™ä¸ªå·¥å‚æ–¹æ³•å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">1</span>) <span class="comment">// arr = [1]</span></span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// arr1 = [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h4><p>ES6æ–°å¢çš„å¦ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œæ˜¯<strong>åˆ›å»ºæ•°ç»„å‰¯æœ¬</strong>çš„ç®€ä¾¿æ–¹å¼ã€‚</p><p><strong>å‚æ•°</strong></p><ul><li>iterable å¯è¿­ä»£å¯¹è±¡</li><li>mapFn æ˜ å°„å‡½æ•°</li><li>thisArg æŒ‡å®šå‡½æ•°thiså€¼</li></ul><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå‡½æ•°ï¼Œå½“æ„å»ºæ–°æ•°ç»„æ—¶ï¼ŒåŸå¯¹è±¡çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šä¼ å…¥è¯¥å‡½æ•°ï¼Œè¿”å›å€¼æ›¿ä»£åŸå§‹å€¼åŠ å…¥æ–°æ•°ç»„ã€‚ï¼ˆå’Œmapç±»ä¼¼ï¼Œä½†æ˜¯åœ¨æ„é€ æ•°ç»„æœŸé—´è¿›è¡Œæ˜ å°„è¦æ¯”æ„å»ºä¹‹åå†æ˜ å°„ çš„æ•ˆç‡é«˜â€“å‰è€…æ•ˆç‡é«˜ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> copy = <span class="title class_">Array</span>.<span class="title function_">from</span>(original)</span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = <span class="title class_">Array</span>.<span class="title function_">from</span>(a, <span class="function">(<span class="params">item</span>) =&gt;</span> &#123; <span class="keyword">return</span> item + <span class="number">1</span>&#125;) <span class="comment">// b = [2, 3, 4]</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºè®¾ç½®å‚æ•°å‡½æ•°çš„<code>this</code>å€¼ï¼Œæ¯”è¾ƒå°‘ç”¨ã€‚å³å½“<code>mapFn</code>éç®­å¤´å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°æ—¶ï¼Œå®ƒçš„thisæ˜¯ç”±æ‰€å¤„ä¸Šä¸‹æ–‡ç¯å¢ƒå†³å®šçš„ï¼Œä½†æ˜¯æ”¾ç½®åœ¨<code>Array.from()</code>ä¸­ï¼Œæ²¡æœ‰è‡ªå·±çš„æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œå› æ­¤å¯ä»¥ç»™å®ƒæŒ‡å®šä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚è¿™ä¾¿ä½¿å¾—å‡½æ•°å¯ä»¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡å†…å®¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> result = <span class="title class_">Array</span>.<span class="title function_">from</span>(numbers, <span class="keyword">function</span> (<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num * <span class="variable language_">this</span>.<span class="property">multiplier</span>; <span class="comment">// thiså³ä¸ºç¬¬ä¸‰å‚æ•°è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">&#125;, &#123; <span class="attr">multiplier</span>: <span class="number">2</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure><p>çœŸç»†è‡´ï¼</p><h2 id="è¯»å†™æ•°ç»„å…ƒç´ "><a href="#è¯»å†™æ•°ç»„å…ƒç´ " class="headerlink" title="è¯»å†™æ•°ç»„å…ƒç´ "></a>è¯»å†™æ•°ç»„å…ƒç´ </h2><blockquote><p>ä½ çš„ä¸­è§„ä¸­çŸ©ï¼Œè¶…ä¹ä½ çš„æƒ³è±¡</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;qvq&#x27;</span>]</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line">a[i + <span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">a[a[i+<span class="number">1</span>]+<span class="number">1</span>] = <span class="number">3</span></span><br><span class="line">a <span class="comment">// a = [&#x27;qvq&#x27;, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„çš„æ•°ç»„ç´¢å¼•"><a href="#æ•°ç»„çš„æ•°ç»„ç´¢å¼•" class="headerlink" title="æ•°ç»„çš„æ•°ç»„ç´¢å¼•"></a>æ•°ç»„çš„æ•°ç»„ç´¢å¼•</h3><p><strong>0åˆ°2^32-2ä¹‹é—´çš„æ­£æ•´æ•°</strong></p><p>ä»¥ä¸Šä»£ç å¯è§æ•°ç»„ç‰¹æ®Šä¹‹å¤„ï¼Œå°±åœ¨äºå½“ä½¿ç”¨å°äº<code>2^32-1</code>éè´Ÿæ•´æ•°ä½œä¸ºå±æ€§åæ—¶ï¼ˆæ•°å€¼æ•°ç»„ç´¢å¼•ï¼‰ï¼Œæ•°ç»„ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç»´æŠ¤<code>length</code>ã€‚</p><p>éœ€è¦å†æ¬¡æ³¨æ„çš„æ˜¯ï¼Œ<strong>æ•°ç»„å°±æ˜¯ç‰¹æ®Šçš„å¯¹è±¡</strong>ã€‚æ•°ç»„çš„ç´¢å¼•éƒ½æ˜¯æ•°ç»„çš„å±æ€§åã€‚JSä¼šå°†æ•°å€¼æ•°ç»„ç´¢å¼•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ä½œä¸ºå±æ€§åã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨æ°å¥½ä¸è¿™èŒƒå›´å†…æ•°å­—å€¼ç›¸ç­‰çš„å­—ç¬¦ä¸²/æµ®ç‚¹å€¼çš„æ—¶å€™ï¼Œä¹Ÿå°†å±äºæ•°ç»„æ•°å€¼ç´¢å¼•</p><h3 id="æ•°ç»„çš„å¯¹è±¡å±æ€§"><a href="#æ•°ç»„çš„å¯¹è±¡å±æ€§" class="headerlink" title="æ•°ç»„çš„å¯¹è±¡å±æ€§"></a>æ•°ç»„çš„å¯¹è±¡å±æ€§</h3><p>é<strong>0åˆ°2^32-2ä¹‹é—´çš„æ­£æ•´æ•°</strong>çš„å€¼</p><h3 id="æ•°ç»„ç´¢å¼•å’Œå¯¹è±¡å±æ€§çš„åŒºåˆ«"><a href="#æ•°ç»„ç´¢å¼•å’Œå¯¹è±¡å±æ€§çš„åŒºåˆ«" class="headerlink" title="æ•°ç»„ç´¢å¼•å’Œå¯¹è±¡å±æ€§çš„åŒºåˆ«"></a>æ•°ç»„ç´¢å¼•å’Œå¯¹è±¡å±æ€§çš„åŒºåˆ«</h3><p>æ•°ç»„ä¸­å¯ä»¥ç”¨ä»»æ„åå­—åˆ›å»ºå±æ€§ã€‚å‰è€…åè€…ä¸å†²çªï¼Œè‹¥æ˜¯å‰è€…ï¼Œä¼šè‡ªåŠ¨ç»´æŠ¤lengthï¼Œè‹¥æ˜¯åè€…ï¼Œä¸ä¼šç»´æŠ¤lengthä¸”è¾“å‡ºæ˜¯çœ‹ä¸åˆ°çš„ï¼Œä½†æ˜¯èƒ½å¤Ÿæ­£å¸¸æŸ¥çœ‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">arr[<span class="string">&#x27;a&#x27;</span>] = <span class="string">&#x27;abandon&#x27;</span></span><br><span class="line">arr[-<span class="number">1</span>] = -<span class="number">1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>) <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// =&gt; [1, 2, 3]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[-<span class="number">1</span>]) <span class="comment">// =&gt; -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="string">&#x27;a&#x27;</span>]) <span class="comment">// =&gt; &#x27;abandon&#x27;</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œåœ¨æŸ¥çœ‹æ•°ç»„ä»»ä½•ä¸å­˜åœ¨å±æ€§çš„æ—¶å€™éƒ½ä¸ä¼šå¯¼è‡´é”™è¯¯ï¼Œè€Œæ˜¯ä½†ä¼š<code>undefined</code></p><h2 id="ç¨€ç–æ•°ç»„"><a href="#ç¨€ç–æ•°ç»„" class="headerlink" title="ç¨€ç–æ•°ç»„"></a>ç¨€ç–æ•°ç»„</h2><blockquote><p>ç¨€ç–æ•°ç»„å°±æ˜¯å…¶å…ƒç´ æ²¡æœ‰ä»0å¼€å§‹çš„ç´¢å¼•çš„æ•°ç»„</p></blockquote><h3 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h3><p>â†‘ä¹¦ä¸­å¯¹äºç¨€ç–æ•°ç»„çš„å®šä¹‰æˆ‘æ— æ³•èµåŒï¼Œç¼éš™å­˜åœ¨äºä¸­é—´è€Œä¸æ˜¯å¼€å¤´ä¹Ÿæ˜¯ç¨€ç–æ•°ç»„å•Šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bookArr = [,,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> speArr = [<span class="number">1</span>,,,<span class="number">2</span>]</span><br><span class="line"><span class="comment">// è¢«çœç•¥çš„å…ƒç´ æ˜¯ä¸å­˜åœ¨çš„</span></span><br></pre></td></tr></table></figure><p>ç¨€ç–æ•°ç»„æŒ‡å­˜æœ‰ç©ºéš™ï¼ˆç¨€ç–ä½ç½®ï¼‰çš„æ•°ç»„ï¼ŒæŸäº›ç´¢å¼•æ²¡æœ‰å¯¹åº”å…ƒç´ ã€‚</p><p><strong>å…¶å®æ¥ä¸‹æ¥æˆ‘åœ¨ç”¨å„ç§æ•°ç»„æ–¹æ³•éªŒè¯å®ƒä»¬å¯¹ç¨€ç–æ•°ç»„çš„æ“ä½œæ—¶ï¼Œå‘ç°è¿˜æ˜¯éœ€è¦ç»•ä¸€ä¸ªå¼¯çš„ã€‚ç¨€ç–æ•°ç»„çš„ç©ºéš™æ˜¯æ²¡æœ‰å®šä¹‰ç´¢å¼•ä¸”æ²¡æœ‰å®šä¹‰å…ƒç´ å€¼çš„ã€‚ä¹‹æ‰€ä»¥éå†æ—¶å€™å‘ç°ç½®ç©ºå¤„å¯¹åº”ç´¢å¼•çš„å€¼æ˜¯<code>undefined</code>æ˜¯å› ä¸ºå½“æŸ¥çœ‹ä¸€ä¸ªæ•°ç»„ä¸­ä¸å­˜åœ¨çš„ç´¢å¼•å€¼å¯¹åº”å€¼çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯<code>undefined</code></strong></p><p>æ‰€ä»¥è¯·ç†è§£ä¸”ç‰¢è®°ä¸Šè¿°â†‘ï¼Œè¿™å¯¹ä¸åç»­å„ç§æ•°ç»„æ–¹æ³•çš„ç†è§£ä¹Ÿæœ‰æ‰€å¸®åŠ©ã€‚</p><h3 id="ç¨€ç–æ•°ç»„çš„åˆ›å»º"><a href="#ç¨€ç–æ•°ç»„çš„åˆ›å»º" class="headerlink" title="ç¨€ç–æ•°ç»„çš„åˆ›å»º"></a>ç¨€ç–æ•°ç»„çš„åˆ›å»º</h3><p>å¾ˆç®€å•ï¼Œç”¨new Arrayåˆ›å»ºååŠ å€¼æˆ–è€…ç›´æ¥ç»™ä¸€ä¸ªå¤§äºlengthçš„æ•°ç»„æ‰€ä»¥èµ‹å€¼ç­‰ï¼Œéƒ½å¯ä»¥åˆ›å»ºã€‚</p><p>deleteæ“ä½œç¬¦ä¹Ÿå¯ä»¥åˆ›å»ºâ†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>); <span class="comment">// 5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [1, 2, undefined, 4, 5]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> <span class="keyword">in</span> arr); <span class="comment">// false è¯¥ç´¢å¼•ä¸å­˜åœ¨äºæ•°ç»„ä¸­</span></span><br></pre></td></tr></table></figure><p>è¶³å¤Ÿç¨€ç–çš„æ•°ç»„é€šå¸¸è¾ƒäºç¨ å¯†æ•°ç»„(å°±æ˜¯å¸¸è§„æ•°ç»„) æ…¢ä½†å†…å­˜å ç”¨å°‘ çš„æ–¹å¼å®ç°çš„ã€‚æŸ¥è¯¢ç¨€ç–æ•°ç»„ä¸å¸¸è§„æ•°ç»„å…ƒç´ çš„æ—¶é—´ç›¸å½“ã€‚</p><h2 id="æ•°ç»„é•¿åº¦"><a href="#æ•°ç»„é•¿åº¦" class="headerlink" title="æ•°ç»„é•¿åº¦"></a>æ•°ç»„é•¿åº¦</h2><p>æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€<code>length</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä½¿å¾—æ•°ç»„æœ‰åˆ«äºå¸¸è§„Jså¯¹è±¡ã€‚</p><ul><li>å¯¹äºç¨ å¯†æ•°ç»„ï¼Œé•¿åº¦å³ä¸ºå…ƒç´ ä¸ªæ•°</li><li>å¯¹äºç¨€ç–æ•°ç»„ï¼Œé•¿åº¦å¤§äºå…ƒç´ ä¸ªæ•°</li></ul><p><strong>æ— è®ºå¦‚ä½•ï¼Œä»»ä½•æ•°ç»„å…ƒç´ ç´¢å¼•éƒ½ä¸ä¼šå¤§äºç­‰äºlength</strong>ã€‚</p><p><img src="../images/%E5%95%83%E7%8A%80%E7%89%9B%E4%B9%A6%E2%80%94%E2%80%94%E6%95%B0%E7%BB%84/9916b35b35244f3bb1ff5157e991d8a3-1685348414206-3.gif" alt="img"></p><p>ä¸ºäº†ç»´æŠ¤â†‘è¿™ç§ä¸å˜å¼(invariant)ï¼Œæ•°ç»„æœ‰<strong>ä¸¤ä¸ªç‰¹æ®Šè¡Œä¸º</strong>ï¼š</p><ul><li>è¡Œä¸º1ï¼šå½“ç»™ç´¢å¼•ä¸º<code>i</code>çš„å…ƒç´ èµ‹å€¼æ—¶ï¼Œå¦‚æœ<code>i&gt;=length</code>ï¼Œé‚£ä¹ˆ<code>length=i+1</code></li><li>è¡Œä¸º2ï¼šå½“å°†<code>length</code>è®¾ç½®ä¸ºä¸€ä¸ªå°äºå½“å‰å€¼çš„éè´Ÿæ•´æ•°<code>n</code>ï¼Œé‚£ä¹ˆä»»ä½•<code>å¤§äºç­‰äºn</code>çš„æ•°ç»„å…ƒç´ éƒ½ä¼šä»æ•°ç»„ä¸­åˆ é™¤ã€‚</li></ul><h2 id="æ·»åŠ å’Œåˆ é™¤æ•°ç»„å…ƒç´ "><a href="#æ·»åŠ å’Œåˆ é™¤æ•°ç»„å…ƒç´ " class="headerlink" title="æ·»åŠ å’Œåˆ é™¤æ•°ç»„å…ƒç´ "></a>æ·»åŠ å’Œåˆ é™¤æ•°ç»„å…ƒç´ </h2><h3 id="æ·»åŠ "><a href="#æ·»åŠ " class="headerlink" title="æ·»åŠ "></a>æ·»åŠ </h3><ul><li>æ–°ç´¢å¼•èµ‹å€¼ <code>a[1] = 1</code></li><li>push() </li><li>unshift() </li></ul><h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><ul><li>deleteæ“ä½œç¬¦ <code>delete(a[1])</code> è¿™ç§æ“ä½œä¸ä¼šä¿®æ”¹lengthå±æ€§ï¼Œè€Œæ˜¯ç•™ä¸‹ç©ºéš™</li><li>pop()</li><li>shift()</li><li>æ›´æ”¹lengthä½¿å¾—å»é™¤æœ«å°¾çš„ä¸€äº›å…ƒç´ </li><li>splice()</li></ul><h2 id="è¿­ä»£æ•°ç»„"><a href="#è¿­ä»£æ•°ç»„" class="headerlink" title="è¿­ä»£æ•°ç»„"></a>è¿­ä»£æ•°ç»„</h2><ul><li><p>è€å¼å¾ªç¯ï¼šè¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨åµŒå¥—å¾ªç¯ç­‰å…³ä¹æ€§èƒ½çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æœ€å¥½ä¸è¦æ¯æ¬¡è¿­ä»£éƒ½è°ƒä¸€æ¬¡é•¿åº¦ï¼Œè¿™ä¸ªæ—¶å€™å°±æœ‰ä¸¤ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">// é•¿åº¦ä¿å­˜å±€éƒ¨å˜é‡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = letters.<span class="property">length</span>; i &lt; len; i++) &#123;&#125;</span><br><span class="line"><span class="comment">// ç”±åå‘å‰è¿­ä»£</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = letters.<span class="property">length</span>; i &gt;= <span class="number">0</span>; i--) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¨€ç–æƒ…å†µä¸‹ï¼Œå¯ä»¥åŠ ä¸€ä¸ªåˆ¤æ–­è·³è¿‡ç©ºéš™</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = letters.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (letters[i] === <span class="literal">undefined</span>) </span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>for/ofï¼š <code>let letter of letters</code> &amp;&amp; <code>let [index, letter] of letters.entries()</code>ã€‚</p></li><li><p>forEach() </p></li><li><p>map()</p></li><li><p>filter()</p></li></ul><h2 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h2><p>Jsæ— å¤šç»´æ•°ç»„ï¼Œç”¨æ•°ç»„åµŒå¥—æ¨¡æ‹Ÿã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> table = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    table[i] = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h2><h3 id="è¿­ä»£å™¨æ–¹æ³•"><a href="#è¿­ä»£å™¨æ–¹æ³•" class="headerlink" title="è¿­ä»£å™¨æ–¹æ³•"></a>è¿­ä»£å™¨æ–¹æ³•</h3><p>ç”¨äºéå†æ•°ç»„å…ƒç´ ï¼Œé€šå¸¸ä¼šå¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨æŒ‡å®šçš„å‡½æ•°ã€‚ä¾¿äºå¯¹æ•°ç»„è¿›è¡Œè¿­ä»£ã€æ˜ å°„ã€æµ‹è¯•å’Œå½’å¹¶ã€‚</p><p>æ¥ä¸‹æ¥çš„è¿™äº›æ•°ç»„è¿­ä»£å™¨æ–¹æ³•ï¼Œå¿…é¡»æ¥æ”¶ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œå‡½æ•°ä¸­å¯ä¼ ä¸‰ç±»å‚æ•°ï¼šæ•°ç»„å…ƒç´ å€¼ã€æ•°ç»„ç´¢å¼•ã€æ•°ç»„æœ¬èº«ï¼›ç¬¬äºŒå‚æ•°å¯é€‰ï¼ŒæŒ‡å®šç¬¬ä¸€ä¸ªå‚æ•°å†…éƒ¨<code>this</code>å€¼ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‡½æ•°å‚æ•°çš„è¿”å›å€¼ä¸é‡è¦ï¼Œä½†æ˜¯ä¸åŒæ–¹æ³•å¯¹äºè¿™ä¸ªè¿”å›å€¼çš„å¤„ç†æ˜¯ä¸åŒçš„â†“</p><p>ä»¥ä¸‹æ‰€æœ‰æ–¹æ³•éƒ½<strong>ä¸ä¼šä¿®æ”¹åŸæ•°ç»„</strong>ï¼ˆå½“ç„¶ä¼ å…¥<strong>ä¸‰å‚å‡½æ•°å¯èƒ½ä¼šä¿®æ”¹åŸæ•°ç»„</strong>ï¼‰ã€‚</p><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h4><p><strong>è·³è¿‡ç¨€ç–æ•°ç»„ç©ºéš™</strong>(ç©ºéš™ä¸ä¼šè°ƒç”¨å‡½æ•°)ã€‚è¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰æä¾›ä¸€ç§ç»ˆæ­¢è¿­ä»£çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], sum = <span class="number">0</span></span><br><span class="line">data.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123; sum += value &#125;) <span class="comment">// sum = 15</span></span><br><span class="line">data.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123; value++ &#125;) <span class="comment">// data = [1, 2, 3, 4, 5]</span></span><br><span class="line">data.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">v, i, a</span>) &#123; a[i] = v + <span class="number">1</span> &#125;) <span class="comment">// data = [2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h4><p>è¯¥æ–¹æ³•æŠŠè°ƒç”¨å®ƒçš„æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œå‡½æ•°å¤„ç†ã€‚ä¸€äº›åˆ—çš„å‡½æ•°<strong>è¿”å›å€¼</strong>ä½œä¸ºæ–°æ•°ç»„å…ƒç´ ã€‚ä¼š<strong>è·³è¿‡ç¨€ç–æ•°ç»„ç©ºéš™</strong>ï¼Œæ–°æ•°ç»„ç¨€ç–ç¨‹åº¦ä¸åŸæ•°ç»„ç¨€ç–ç¨‹åº¦ç›¸åŒã€‚è¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰æä¾›ä¸€ç§ç»ˆæ­¢è¿­ä»£çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">map</span>(<span class="function"><span class="params">x</span> =&gt;</span> x*x) <span class="comment">// b = [1, 4, 9] a = [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·³è¿‡ç¨€ç–æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, , <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(index, item)</span><br><span class="line">  <span class="keyword">return</span> item ? item++ : item = <span class="string">&#x27;?&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br><span class="line"><span class="comment">// 0 1</span></span><br><span class="line"><span class="comment">// 1 2</span></span><br><span class="line"><span class="comment">// 3 3</span></span><br><span class="line"><span class="comment">// [1,2,,3]</span></span><br></pre></td></tr></table></figure><h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h4><p>è¯¥æ–¹æ³•è¿”å›è°ƒç”¨å®ƒçš„æ•°ç»„çš„å­æ•°ç»„ã€‚ä¼ å‚å‡½æ•°ä¸ºä¸€ä¸ª<strong>æ–­è¨€å‡½æ•°</strong>ã€‚<strong>è·³è¿‡ç¨€ç–æ•°ç»„çš„ç©ºéš™ï¼Œä¸”è¿”å›çš„æ•°ç»„å§‹ç»ˆç¨ å¯†</strong>ã€‚è¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰æä¾›ä¸€ç§ç»ˆæ­¢è¿­ä»£çš„æ–¹å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, , <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">filter</span>(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">4</span>) <span class="comment">// b = [5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…é™¤ç©ºéš™ä»¥åŠnullå’Œundefinedçš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> c = a.<span class="title function_">filter</span>(<span class="function"><span class="params">x</span> =&gt;</span> x!==<span class="literal">undefined</span> &amp;&amp; x!==<span class="literal">null</span>)</span><br></pre></td></tr></table></figure><h4 id="find-å’Œå¥‡å¦™çš„findIndex"><a href="#find-å’Œå¥‡å¦™çš„findIndex" class="headerlink" title="find()å’Œå¥‡å¦™çš„findIndex()"></a>find()å’Œå¥‡å¦™çš„findIndex()</h4><p>å¯»æ‰¾<strong>ç¬¬ä¸€ä¸ª</strong>æ»¡è¶³<strong>æ–­è¨€å‡½æ•°</strong>æ¡ä»¶çš„<strong>å…ƒç´ /ç´¢å¼•å€¼</strong>ã€‚å€˜è‹¥éå†ä¹‹åæ‰¾ä¸åˆ°ï¼Œè¿”å›<strong>undefined/-1</strong>ã€‚</p><p>å€¼å¾—æ³¨æ„ï¼š<strong>findä¼šè·³è¿‡ç¨€ç–æ•°ç»„ç©ºéš™</strong>ï¼Œ<strong>findIndex</strong>ä¸å¤ªä¸€æ ·ï¼Œå®ƒæ˜¯æŒ‰ç…§æ•°ç»„ç´¢å¼•éå†æ¥çš„ï¼Œæ‰€ä»¥èµ°äº†ç©ºéš™ä¸å­˜åœ¨çš„ç´¢å¼•â€”â€”<strong>æ²¡è·³è¿‡</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, , <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">find</span>(<span class="function"><span class="params">x</span> =&gt;</span> x &lt; <span class="number">3</span>)) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">find</span>(<span class="function"><span class="params">x</span> =&gt;</span> x === <span class="literal">undefined</span>)) <span class="comment">// undefinedï¼ˆæ²¡æœ‰æ‰¾åˆ°ç­‰äºundefinedçš„å€¼æ‰€ä»¥æ‰è¿”å›undefinedï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">findIndex</span>(<span class="function"><span class="params">x</span> =&gt;</span> x &lt; <span class="number">3</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">findIndex</span>(<span class="function"><span class="params">x</span> =&gt;</span> x === <span class="literal">undefined</span>)) <span class="comment">// 3ï¼ˆå› ä¸ºç´¢å¼•3æ²¡æœ‰è¢«å®šä¹‰ä¸”å•¥ä¹Ÿæ²¡æœ‰ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªé‡Œé¢æ˜¯é»˜è®¤undefinedçš„ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="every-å’Œsome"><a href="#every-å’Œsome" class="headerlink" title="every()å’Œsome()"></a>every()å’Œsome()</h4><p>every()åœ¨â€œå…¨ç§°â€æ—¶è¿”å›trueï¼›some()åœ¨â€œå­˜åœ¨â€æ—¶è¿”å›trueã€‚ä¸¤è€…<strong>éƒ½ä¼šè·³è¿‡ç¨€ç–æ•°ç»„ç©ºéš™</strong>ã€‚ç‰›èµ·æ¥äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, , <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> flag = a.<span class="title function_">some</span>(<span class="function"><span class="params">x</span> =&gt;</span> x === <span class="literal">undefined</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> flag1 = a.<span class="title function_">every</span>(<span class="function"><span class="params">x</span> =&gt;</span> x!== <span class="literal">undefined</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(flag1) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="reduce-å’ŒreduceRight"><a href="#reduce-å’ŒreduceRight" class="headerlink" title="reduce()å’ŒreduceRight()"></a>reduce()å’ŒreduceRight()</h4><p>ä¸¤ç§æ–¹æ³•ä½¿ç”¨æˆ‘ä»¬æŒ‡å®šçš„å‡½æ•°<strong>å½’å¹¶</strong>æ•°ç»„å…ƒç´ ï¼Œæœ€ç»ˆäº§ç”Ÿä¸€ä¸ªå€¼ã€‚æ¯”è¾ƒç‰¹æ®Šï¼Œå½’å¹¶å€¼åœ¨å…¶ä»–ä¸‰ä¸ªå‚æ•°(å½“å‰å€¼ï¼Œå½“å‰ç´¢å¼•ï¼Œæ•°ç»„æœ¬èº«)çš„å‰é¢ï¼Œä¸”è®¾ç½®åˆå§‹å€¼çš„è¿™ä¸ªå‚æ•°å–ä»£äº†æŒ‡å®š<code>this</code>çš„å‚æ•°ã€‚å‰è€…ä»å·¦åˆ°å³ï¼Œåè€…ä»å³åˆ°å·¦ã€‚</p><p><em>å½’å¹¶</em> ä¹Ÿç§° <em>æ³¨å…¥inject</em> æˆ– <em>æŠ˜å  fold</em> ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¼”ç¤ºä¸€ä¸‹ç”¨æ³•</span></span><br><span class="line">array.<span class="title function_">reduce</span>(callback, initialValue) <span class="comment">// ä¸€ä¸ªå›è°ƒï¼Œä¸€ä¸ªç»™å½’å¹¶å€¼è®¾ç½®åˆå§‹å€¼(é»˜è®¤0)</span></span><br><span class="line"><span class="comment">// è¥¿ç´¢</span></span><br><span class="line">array.<span class="title function_">reduce</span>(<span class="function">(<span class="params">accumulator-å½’å¹¶å€¼, curValue-å½“å‰å€¼</span>) =&gt;</span> &#123; <span class="keyword">return</span> å¤„ç†åçš„å€¼ &#125;, initialValue-åˆå§‹å½’å¹¶å€¼)</span><br></pre></td></tr></table></figure><p><strong>è·³è¿‡ç©ºéš™ï¼</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = a.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, cur</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(cur)</span><br><span class="line">  <span class="keyword">return</span> sum + cur</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum) <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯ä¸ªç©ºæ•°ç»„ï¼Œä¸”ä¸ä¼ åˆå§‹å€¼ï¼Œä¼šTypeError</span></span><br><span class="line"><span class="comment">// æ¯”è¾ƒæœ‰è¶£çš„æ˜¯å¦‚æœæ˜¯  åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„+æ²¡åˆå§‹å€¼  æˆ–  ç©ºæ•°ç»„+æœ‰åˆå§‹å€¼  é‚£ä¹ˆç›´æ¥è¿”å›å€¼ï¼Œä¸ä¼šè°ƒç”¨ã€‚</span></span><br></pre></td></tr></table></figure><p>åŸºäºå¤šç§æ•°æ®ç±»å‹ã€å¤šç»´æ•°ç»„ã€åµŒå¥—å¯¹è±¡ã€æ¡ä»¶é€»è¾‘ã€å½’å¹¶é¡ºåºç­‰æ–¹é¢ï¼Œç”¨æ™®é€šçš„å¾ªç¯é€»è¾‘ä¼šæ›´æ˜“è¯»ä¸€äº›ï¼Œå› ä¸ºæ•°ç»„å½’å¹¶è¡¨è¾¾çš„ç®—æ³•å®¹æ˜“å¤æ‚åŒ–ã€‚</p><h3 id="æ‰“å¹³æ•°ç»„"><a href="#æ‰“å¹³æ•°ç»„" class="headerlink" title="æ‰“å¹³æ•°ç»„"></a>æ‰“å¹³æ•°ç»„</h3><p><strong>ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„</strong>ã€‚</p><h4 id="flat"><a href="#flat" class="headerlink" title="flat()"></a>flat()</h4><p>ç”¨äºå±•å¼€æ•°ç»„ä¸­çš„åµŒå¥—æ•°ç»„ã€‚ä¸ä¼ å‚æ—¶é»˜è®¤æ‰“å¹³ä¸€å±‚(1)ï¼Œä¼ å‚åˆ™å°†å‚æ•°ä½œä¸ºæ‰“å¹³å±‚æ•°ã€‚<strong>è·³è¿‡ç©ºéš™</strong>ï¼Œè¿‡æ»¤æ‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, , <span class="number">5</span>]]]]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">flat</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; [1, 2, [3, [4, 5]]]</span></span><br><span class="line"><span class="keyword">let</span> c = a.<span class="title function_">flat</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="keyword">let</span> d = a.<span class="title function_">flat</span>(<span class="number">5</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d) <span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><h4 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap()"></a>flatMap()</h4><p>ä¸map()æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯è¿”å›çš„æ•°ç»„ä¼šè¢«è‡ªåŠ¨æ‰“å¹³ã€‚ç±»ä¼¼äº<code>map(f).flat()</code>ä½†æ•ˆç‡è¿œé«˜äºè¿™æ ·çš„ç»„åˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> parses = [<span class="string">&#x27;helo wld&#x27;</span>, <span class="string">&#x27;geo rock&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> ans = parses.<span class="title function_">flatMap</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ans) <span class="comment">// =&gt; [&quot;helo&quot;,&quot;wld&quot;,&quot;geo&quot;,&quot;rock&quot;]</span></span><br><span class="line"><span class="comment">// æˆ‘è¯•äº†ä¸€ä¸‹.map().flap()ï¼Œä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>å…è®¸æŠŠå…ƒç´ æ˜ å°„ä¸ºç©ºæ•°ç»„ï¼Œæ‰“å¹³å<strong>ç©ºæ•°ç»„å…ƒç´ ä¸ä¼šå‡ºç°</strong>åœ¨è¾“å‡ºæ•°ç»„ä¸­ã€‚ä¼š<strong>è·³è¿‡ç©ºéš™</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sparseArray = [, <span class="number">1</span>, , <span class="number">2</span>, , <span class="number">3</span>]; <span class="comment">// ç¨€ç–æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = sparseArray.<span class="title function_">flatMap</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (num) &#123;</span><br><span class="line">    <span class="keyword">if</span> (num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> [num, num * <span class="number">2</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é‡åˆ°äº†ç©ºéš™&#x27;</span>) <span class="comment">// å®Œå…¨ä¸ä¼šè¾“å‡º</span></span><br><span class="line">    <span class="keyword">return</span> [num];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// è¾“å‡º: [2,4,3,6]</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æ•°ç»„"><a href="#æ·»åŠ æ•°ç»„" class="headerlink" title="æ·»åŠ æ•°ç»„"></a>æ·»åŠ æ•°ç»„</h3><p><strong>ä¸ä¼šä¿®æ”¹åŸå§‹æ•°ç»„</strong>ã€‚</p><h4 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h4><p>æ–°æ•°ç»„åŒ…å«è°ƒç”¨æ•°ç»„çš„å…ƒç´ å’Œå‚æ•°å…ƒç´ ã€‚å¦‚æœå‚æ•°åŒ…å«æ•°ç»„ï¼Œé‚£ä¹ˆä¼š<strong>æ‰“å¹³ä¸€å±‚</strong>ã€‚å› ä¸ºæ˜¯åˆå¹¶æ“ä½œï¼Œä¸ä¼šå»ç®¡ç©ºéš™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, , <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">concat</span>([<span class="number">1</span>, , <span class="number">2</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; [1,,2,3,1,,2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæœ‰ä»¥ä¸‹è‡ªæ”¹è‡ªçš„æƒ…å†µï¼Œå»ºè®®ä½¿ç”¨splice/pushå°±åœ°ä¿®æ”¹ï¼Œè€Œä¸æ˜¯åˆ›å»ºå‰¯æœ¬èµ‹å€¼</span></span><br><span class="line">a = a.<span class="title function_">concat</span>(b) <span class="comment">// nono</span></span><br></pre></td></tr></table></figure><h3 id="æ ˆã€é˜Ÿåˆ—æ“ä½œ"><a href="#æ ˆã€é˜Ÿåˆ—æ“ä½œ" class="headerlink" title="æ ˆã€é˜Ÿåˆ—æ“ä½œ"></a>æ ˆã€é˜Ÿåˆ—æ“ä½œ</h3><p><strong>ä¸ä¼šæ‰“å¹³</strong>ï¼Œä¿®æ”¹åŸæ•°ç»„äº†</p><h4 id="æ ˆæ“ä½œä¹‹push-å’Œå¥‡å¦™çš„pop"><a href="#æ ˆæ“ä½œä¹‹push-å’Œå¥‡å¦™çš„pop" class="headerlink" title="æ ˆæ“ä½œä¹‹push()å’Œå¥‡å¦™çš„pop()"></a>æ ˆæ“ä½œä¹‹push()å’Œå¥‡å¦™çš„pop()</h4><ul><li><p>push()ï¼šæ ˆå°¾æ·»åŠ å…ƒç´ ï¼Œå¯¹äºç©ºéš™ï¼Œç¬‘æ­»ï¼Œæ ¹æœ¬ä¸è®©ä½ pushä¸€ä¸ªå•çº¯ç©ºï¼Œå¦‚æœç»“åˆ<code>...</code>ï¼Œèƒ½ç»™<code>...</code>æ‰“çš„<code>undefiend</code>ã€‚</p></li><li><p>pop()ï¼šå»é™¤æ ˆå°¾å…ƒç´ ï¼Œå¯¹äº<strong>ç©ºéš™</strong>ï¼Œpopçš„æœºåˆ¶æ˜¯<strong>æŒ‰ç´¢å¼•</strong>æ’å‡ºï¼Œæ‰€ä»¥è®¤ä¸ºæ’å‡ºçš„å…ƒç´ æ˜¯<code>undefined</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, , ,]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">pop</span>()) <span class="comment">// =&gt; undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [1, 2, 3, ]</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="é˜Ÿåˆ—æ“ä½œä¹‹unshift-å’Œshift"><a href="#é˜Ÿåˆ—æ“ä½œä¹‹unshift-å’Œshift" class="headerlink" title="é˜Ÿåˆ—æ“ä½œä¹‹unshift()å’Œshift()"></a>é˜Ÿåˆ—æ“ä½œä¹‹unshift()å’Œshift()</h4><p>ç†è®ºä¸Šè®²ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„æ“ä½œæ•ˆç‡æ˜¯ä¸åŠpushå’Œpopçš„ï¼Œå› ä¸ºæ¯æ¬¡æ“ä½œéƒ½è¦é‡æ’åé¢çš„å…ƒç´ ä½ç½®ã€‚</p><ul><li>unshift()ï¼šé˜Ÿåˆ—å¤´æ·»åŠ å…ƒç´ ã€‚**ç©ºéš™<code>undefiend</code>**ï¼Œæ³¨æ„ä¸€æ¬¡æ€§å’Œå¤šæ¬¡çš„å…ƒç´ é¡ºåºã€‚</li><li>shift()ï¼šå»é™¤é˜Ÿåˆ—å¤´å…ƒç´ ã€‚ç©ºéš™<code>undefiend</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [,, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">shift</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [,2,3]</span></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>, ,<span class="number">4</span>]</span><br><span class="line">a.<span class="title function_">unshift</span>(...b)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [1,undefined,4,,2,3]</span></span><br></pre></td></tr></table></figure><h3 id="è¿ç»­åŒºåŸŸå¤„ç†"><a href="#è¿ç»­åŒºåŸŸå¤„ç†" class="headerlink" title="è¿ç»­åŒºåŸŸå¤„ç†"></a>è¿ç»­åŒºåŸŸå¤„ç†</h3><p>æ‰€è°“è¿ç»­åŒºåŸŸï¼ŒæŒ‡æ•°ç»„çš„å­æ•°ç»„/â€˜åˆ‡ç‰‡â€™ã€‚ä»¥ä¸‹è¿™å‡ ä¸ªæ–¹æ³•ç”¨äºæå–ã€æ›¿æ¢ã€å¡«å……å’Œå¤åˆ¶åˆ‡ç‰‡ã€‚</p><h4 id="å¥‡å¦™çš„slice"><a href="#å¥‡å¦™çš„slice" class="headerlink" title="å¥‡å¦™çš„slice()"></a>å¥‡å¦™çš„slice()</h4><p>è¯¥æ–¹æ³•ç”¨äº<strong>è¿”å›æ•°ç»„åˆ‡ç‰‡</strong>ã€‚<strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ã€‚ä¼š<strong>çº³å…¥ç©ºéš™</strong>ã€‚æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒèŒƒå›çš„å…ƒç´ èŒƒå›´æ˜¯<code>[å‚æ•°1ï¼Œå‚æ•°2)</code>ã€‚</p><ul><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚ï¼Œé‚£ä¹ˆè¿”å›ä»å‚åˆ°åæ‰€æœ‰å…ƒç´ ï¼›</li><li>å¦‚æœä»»ä½•ä¸€ä¸ªå‚ä¸ºè´Ÿå€¼ï¼Œé‚£ä»£è¡¨çš„æ˜¯å€’æ•°ç¬¬å‡ ä¸ªå…ƒç´ <code>-1 =&gt; æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ </code>ï¼›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, , <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> t1 = a.<span class="title function_">slice</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> t2 = a.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">let</span> t3 = a.<span class="title function_">slice</span>(-<span class="number">5</span>)</span><br><span class="line"><span class="keyword">let</span> t4 = a.<span class="title function_">slice</span>(-<span class="number">4</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t1, t2, t3, t4)</span><br><span class="line"><span class="comment">// [1,,2,3,4,5] [1,] [,2,3,4,5] [2,3,4]</span></span><br></pre></td></tr></table></figure><h4 id="å¥‡å¦™çš„splice"><a href="#å¥‡å¦™çš„splice" class="headerlink" title="å¥‡å¦™çš„splice()"></a>å¥‡å¦™çš„splice()</h4><p>ç”¨äºå¯¹<strong>æ•°ç»„/æ’å…¥</strong>åˆ é™¤ã€‚<strong>ä¼šä¿®æ”¹åŸæ•°ç»„ã€‚</strong> <strong>çº³å…¥ç©ºéš™</strong>ã€‚æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œå¤„ç†åŒºé—´æ˜¯<code>[å‚æ•°1ï¼Œ å‚æ•°1+å‚æ•°2)</code>ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯<strong>è¢«åˆ é™¤å…ƒç´ çš„æ•°ç»„</strong>ï¼ï¼</p><ul><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆåˆ é™¤è¿™ä¸ªå‚æ•°åŠå…¶åæ‰€æœ‰å…ƒç´ ï¼›</li><li>å‰ä¸¤ä¸ªå‚æ•°æ˜¯æŒ‡å®šè¦åˆ é™¤å“ªäº›å‚æ•°ï¼Œåç»­å‚æ•°æ˜¯è¦æ’è¿›åˆ é™¤ä½ç½®çš„å…ƒç´ ï¼Œ<strong>ä¸ä¼šæ‰“å¹³</strong>ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">splice</span>(<span class="number">0</span>)) <span class="comment">// =&gt; [1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; []</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = [<span class="number">1</span>, , <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">2</span>)) <span class="comment">// =&gt; [1, ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; [2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, [<span class="number">1</span>, <span class="number">2</span>])) <span class="comment">// =&gt; [1, 2]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// =&gt; [&quot;1&quot;,&quot;2&quot;,[1,2],3,4,5]</span></span><br></pre></td></tr></table></figure><h4 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h4><p>è¯¥æ–¹æ³•å°†<strong>æ•°ç»„æˆ–åˆ‡ç‰‡å…ƒç´ è®¾ç½®ä¸ºæŒ‡å®šå€¼</strong>ã€‚<strong>ä¼šä¿®æ”¹åŸæ•°ç»„ã€‚</strong> <strong>çº³å…¥ç©ºéš™</strong>ï¼Œç©ºéš™ä¹Ÿæ›¿æ¢ã€‚å¯ä¼ ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¦è®¾ç½®çš„å€¼ï¼Œç¬¬äºŒä¸ªç¬¬ä¸‰ä¸ªç±»ä¼¼<code>slice</code>ï¼Œæ˜¯è¦æ›¿æ¢çš„èµ·å§‹ç»ˆæ­¢å€¼ã€‚</p><ul><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™æ•°ç»„å…¨éƒ¨å…ƒç´ æ›¿æ¢ä¸ºè¯¥å€¼ï¼›</li><li>å…¶å®å‚æ•°çš„ä¼ é€’è§„åˆ™è¯·å‚è€ƒsliceã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, , <span class="number">5</span>]</span><br><span class="line">a.<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [0, 0, 0, 0, 0]</span></span><br></pre></td></tr></table></figure><h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin()"></a>copyWithin()</h4><p>è¯¥æ–¹æ³•æŠŠæ•°ç»„<strong>åˆ‡ç‰‡å¤åˆ¶åˆ°æ•°ç»„ä¸­çš„æ–°ä½ç½®</strong>ã€‚<strong>ä¼šä¿®æ”¹åŸæ•°ç»„</strong>ã€‚ <strong>çº³å…¥ç©ºéš™</strong>ã€‚æ•°ç»„é•¿åº¦ä¸å˜ï¼Œè¶…äº†å°±ä¸è¦äº†ã€‚</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŒ‡å®šè¦æŠŠç¬¬ä¸€ä¸ªå…ƒç´ å¤åˆ¶åˆ°<strong>ç›®æ ‡ç´¢å¼•</strong>ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼šèµ·å§‹ç´¢å¼•ã€‚ï¼ˆè‹¥çœç•¥ï¼Œé»˜è®¤ä»0å¼€å§‹ï¼‰</li><li>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šç»ˆæ­¢ç´¢å¼•ã€‚ï¼ˆè‹¥çœç•¥ï¼Œé»˜è®¤æ•°ç»„é•¿åº¦ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">a.<span class="title function_">copyWithin</span>(<span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [,2,3,4,]</span></span><br></pre></td></tr></table></figure><h3 id="ç´¢å¼•ã€æ’åº"><a href="#ç´¢å¼•ã€æ’åº" class="headerlink" title="ç´¢å¼•ã€æ’åº"></a>ç´¢å¼•ã€æ’åº</h3><h4 id="indexOf-å’Œ-lastIndexOf"><a href="#indexOf-å’Œ-lastIndexOf" class="headerlink" title="indexOf() å’Œ lastIndexOf()"></a>indexOf() å’Œ lastIndexOf()</h4><p>å‰è€…ä»å·¦åˆ°å³è¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ã€‚æ‰¾ä¸åˆ°å°±è¿”å›<code>-1</code>ã€‚<strong>å¿½ç•¥ç©ºéš™</strong>ã€‚</p><p>åè€…ä»å³åˆ°å·¦è¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ã€‚æ‰¾ä¸åˆ°å°±è¿”å›<code>-1</code>ã€‚</p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœç´¢å€¼ï¼›</li><li>ç¬¬äºŒä¸ªå‚æ•°æ˜¯æœç´¢èµ·å§‹ç´¢å¼•ï¼Œå¯ä»¥æ˜¯ç±»ä¼¼sliceçš„è´Ÿå€¼ï¼Œé»˜è®¤ä»0å¼€å§‹ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">indexOf</span>(<span class="literal">undefined</span>)) <span class="comment">// =&gt; -1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">indexOf</span>(<span class="number">2</span>)) <span class="comment">// =&gt; 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">indexOf</span>(<span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// =&gt; -1</span></span><br><span class="line">conosle.<span class="title function_">log</span>(a.<span class="title function_">indexOf</span>(<span class="number">2</span>, -<span class="number">5</span>)) <span class="comment">// =&gt; 1</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªæ–¹æ³•ä½¿ç”¨<code>===</code>æ“ä½œç¬¦æ¯”è¾ƒä»–ä»¬çš„å‚æ•°å’Œæ•°ç»„å…ƒç´ ã€‚æ‰€ä»¥å¦‚æœæ•°ç»„åŒ…å«å¯¹è±¡è€ŒéåŸå§‹å€¼ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•æ£€æŸ¥ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æ¥è‡ªåŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœæƒ³æŸ¥æ‰¾å¯¹è±¡çš„å†…å®¹ï¼Œå»ºè®®<code>find(è‡ªå®šä¹‰funcæ–­è¨€)</code></p><h5 id="å¦‚ä½•åˆ©ç”¨idnexOf-æ‰¾å¤šä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼Ÿ"><a href="#å¦‚ä½•åˆ©ç”¨idnexOf-æ‰¾å¤šä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ©ç”¨idnexOf()æ‰¾å¤šä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼Ÿ"></a>å¦‚ä½•åˆ©ç”¨idnexOf()æ‰¾å¤šä¸ªç¬¦åˆæ¡ä»¶çš„å€¼ï¼Ÿ</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findall</span> (a, x) &#123;</span><br><span class="line">    <span class="keyword">let</span> results = [], len = a.<span class="property">length</span>, pos = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (pos &lt; len) &#123;</span><br><span class="line">        pos = a.<span class="title function_">indexOf</span>(x, pos)</span><br><span class="line">        <span class="keyword">if</span> (pos === -<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        results.<span class="title function_">push</span>(pos)</span><br><span class="line">        pos += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¥‡å¦™çš„includes"><a href="#å¥‡å¦™çš„includes" class="headerlink" title="å¥‡å¦™çš„includes()"></a>å¥‡å¦™çš„includes()</h4><p>è¿™ä¸ªæ–¹æ³•æˆ‘ä¸ªäººæ¯”è¾ƒå¸¸ç”¨åˆ°ã€‚æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœæ•°ç»„åŒ…å«è¿™ä¸ªå‚æ•°ï¼Œè¿”å›<code>true</code>ï¼Œå¦åˆ™<code>false</code>ã€‚**æŒ‰ç…§ç´¢å¼•è§†ç©ºéš™ä¸º<code>undefined</code>**ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">includes</span>(<span class="literal">undefined</span>)) <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">includes</span>(<span class="string">&#x27;good&#x27;</span>)) <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure><p>ä¸indexOf()ä¸åŒçš„åœ°æ–¹ï¼Œåè€…æ˜¯ä½¿ç”¨<code>===</code>åˆ¤æ–­ï¼Œå¯¼è‡´ éæ•°å€¼ ä¸å…¶ä»–å’Œè‡ªèº«éƒ½ä¸ç›¸åŒï¼Œå› æ­¤æ²¡æ³•æ£€æµ‹åˆ°NaNï¼›ä½†æ˜¯includes()å°±å¯ã€‚</p><h4 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h4><p><strong>ä¼šä¿®æ”¹åŸæ•°ç»„ã€‚</strong> <strong>çº³å…¥ç©ºéš™ï¼Œæœªå®šä¹‰çš„å…ƒç´ ä¼šæ”¾åœ¨æœ«å°¾</strong>ã€‚ä¸ä¼ å‚çš„æ—¶å€™<strong>é»˜è®¤éƒ½æŒ‰å­—æ¯é¡ºåºæ’</strong>ï¼›ä¼ å‚å°±æŒ‰å‚æ•°ç»™çš„æ¯”è¾ƒå‡½æ•°è§„å®šçš„æ’ã€‚</p><p>æ¯”è¾ƒå‡½æ•°ï¼š</p><ul><li>è¿”å›å€¼å¤§äº0ï¼šéœ€è¦è°ƒæ¢ï¼</li><li>è¿”å›å€¼å°äº0ï¼šæ— éœ€è°ƒæ¢ã€‚</li><li>è¿”å›å€¼ç­‰äº0ï¼šä¸¤å€¼ç›¸ç­‰~</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºæœ¬æ¯”è¾ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">33</span>, <span class="number">444</span>, <span class="number">123</span>]</span><br><span class="line">a.<span class="title function_">sort</span>() <span class="comment">// a = [123, 33, 444] é»˜è®¤å­—ç¬¦ä¸²é¡ºåº</span></span><br><span class="line">a.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b</span><br><span class="line">&#125;) <span class="comment">// a = [33, 123, 444] å€¼å‡åº-æˆ‘ä»¬å‡å®š èµ·åˆa,bè¿™ä¸ªé¡ºåºï¼Œå¦‚æœæ˜¯å¤§äºé›¶çš„å€¼ï¼Œé‚£ä¹ˆæ¢é¡ºåºæˆb,a </span></span><br><span class="line">a.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a) <span class="comment">// a = [444, 123, 33] å€¼é™åº</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤æ‚ä¸€ç‚¹</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="string">&#x27;ant&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;Bug&#x27;</span>, <span class="string">&#x27;Dog&#x27;</span>]</span><br><span class="line">a.<span class="title function_">sort</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [&quot;Bug&quot;,&quot;Dog&quot;,&quot;ant&quot;,&quot;cat&quot;] æˆ‘å»åŒºåˆ†å¤§å°å†™ï¼</span></span><br><span class="line">a.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> le = a.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">let</span> ri = b.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">if</span> (le &lt; ri) <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> (le &gt; ri) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [&quot;ant&quot;,&quot;Bug&quot;,&quot;cat&quot;,&quot;Dog&quot;]</span></span><br></pre></td></tr></table></figure><h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h4><p><strong>åè½¬æ•°ç»„</strong>ã€‚<strong>çº³å…¥ç©ºéš™</strong>ã€‚<strong>ä¿®æ”¹åŸæ•°ç»„</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ,]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">reverse</span>()) <span class="comment">// =&gt; [, 3, 2, 1]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// =&gt; [, 3, 2, 1] </span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„å­—ç¬¦ä¸²è½¬æ¢"><a href="#æ•°ç»„å­—ç¬¦ä¸²è½¬æ¢" class="headerlink" title="æ•°ç»„å­—ç¬¦ä¸²è½¬æ¢"></a>æ•°ç»„å­—ç¬¦ä¸²è½¬æ¢</h3><h4 id="join-amp-split"><a href="#join-amp-split" class="headerlink" title="join() &amp; split()"></a>join() &amp; split()</h4><p><strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ã€‚<strong>çº³å…¥ç©ºéš™</strong>ã€‚<strong>æ‰“å¹³åç”¨<code>,</code>è¿æ¥ï¼Œä¸æ— éœ€æ‰“å¹³çš„å…ƒç´ ç”¨ä¼ å‚è¿æ¥ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; &quot;---&quot;</span></span><br><span class="line"><span class="keyword">let</span> c = b.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// =&gt; [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]]</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; &quot;1-2,3,4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">join</span>() <span class="comment">// ä¸ä¼ å‚é»˜è®¤,åˆ†éš”</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// =&gt; &quot;,,,&quot;</span></span><br><span class="line"><span class="keyword">let</span> c = b.<span class="title function_">split</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// =&gt; [&quot;,,,&quot;]</span></span><br></pre></td></tr></table></figure><h4 id="toString-amp-å¥‡å¦™çš„toLocalString"><a href="#toString-amp-å¥‡å¦™çš„toLocalString" class="headerlink" title="toString() &amp; å¥‡å¦™çš„toLocalString()"></a>toString() &amp; å¥‡å¦™çš„toLocalString()</h4><p>è¿™ä¿©ä¸ä¼ å‚ã€‚toString()ç”¨èµ·æ¥å’Œä¸ä¼ å‚çš„join()ä¸€æ ·ï¼ŒtoLocalString()æ˜¯å‰è€…çš„æœ¬åœ°åŒ–ç‰ˆæœ¬ã€‚</p><ul><li>å‰è€…ç›´æ¥è¿æ¥ã€‚<strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ã€‚<strong>çº³å…¥ç©ºéš™</strong>ã€‚<strong>æ‰“å¹³åç”¨<code>,</code>è¿æ¥ã€‚</strong></li><li>åè€…å…ˆå°†æ‰€æœ‰å…ƒç´ è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç„¶åå†è¿æ¥ã€‚<strong>ä¸ä¿®æ”¹åŸæ•°ç»„</strong>ã€‚<strong>ç©ºéš™æŠ¥é”™</strong>ã€‚<strong>æ‰“å¹³åç”¨<code>,</code>è¿æ¥ã€‚</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, ,].<span class="title function_">toString</span>()) <span class="comment">// =&gt; &quot;1,2,&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, [<span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]].<span class="title function_">toString</span>()) <span class="comment">// =&gt; &quot;1,2,3,4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">1</span>, <span class="number">2</span>, ,].<span class="title function_">toLocalString</span>()) <span class="comment">// =&gt; Uncaught TypeError: [1,2,(intermediate value)].toLocalString is not a function </span></span><br></pre></td></tr></table></figure><h3 id="é™æ€æ•°ç»„å‡½æ•°"><a href="#é™æ€æ•°ç»„å‡½æ•°" class="headerlink" title="é™æ€æ•°ç»„å‡½æ•°"></a>é™æ€æ•°ç»„å‡½æ•°</h3><p>å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è°ƒç”¨çš„ä¸‰ä¸ªé™æ€å‡½æ•°ã€‚</p><ul><li>Array.of()</li><li>Array.from()</li><li>Array.isArray()ï¼šåˆ¤æ–­ä¸€ä¸ªæœªçŸ¥å€¼æ˜¯å¦æ˜¯æ•°ç»„</li></ul><h2 id="ç±»æ•°ç»„å¯¹è±¡"><a href="#ç±»æ•°ç»„å¯¹è±¡" class="headerlink" title="ç±»æ•°ç»„å¯¹è±¡"></a>ç±»æ•°ç»„å¯¹è±¡</h2><p>JSæ•°ç»„å…·æœ‰ä¸€äº›ä¸å…¶ä»–å¯¹è±¡ä¸å…·å¤‡çš„ç‰¹æ€§ï¼ˆéæœ¬è´¨ï¼‰ã€‚</p><ul><li>lengthè‡ªåŠ¨æ›´æ–°</li><li>lengthä¸ºæ›´å°çš„å€¼ä¼šæˆªæ–­å‡½æ•°</li><li>æ•°ç»„ä»Array.prototypeç»§æ‰¿æœ‰ç”¨çš„æ–¹æ³• =&gt; ç±»æ•°ç»„å¯¹è±¡ä¸èƒ½ç›´æ¥ä½¿ç”¨è¿™äº›æ–¹æ³•</li><li>Array.isArray()è¿”å›true</li></ul><blockquote><p> åªè¦å¯¹è±¡æœ‰ä¸€ä¸ªæ•°å€¼å±æ€§lengthï¼Œè€Œä¸”æœ‰ç›¸åº”çš„éè´Ÿæ•´æ•°å±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®Œå…¨è§†åŒä¸ºæ•°ç»„ã€‚</p></blockquote><h3 id="å¸¸è§„å¯¹è±¡è¾¹ç±»æ•°ç»„å¯¹è±¡"><a href="#å¸¸è§„å¯¹è±¡è¾¹ç±»æ•°ç»„å¯¹è±¡" class="headerlink" title="å¸¸è§„å¯¹è±¡è¾¹ç±»æ•°ç»„å¯¹è±¡"></a>å¸¸è§„å¯¹è±¡è¾¹ç±»æ•°ç»„å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    a[i] = i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">a.<span class="property">length</span> = <span class="number">10</span></span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•å¯¹è±¡æ˜¯éƒ½ä¸ºç±»æ•°ç»„å¯¹è±¡"><a href="#æµ‹è¯•å¯¹è±¡æ˜¯éƒ½ä¸ºç±»æ•°ç»„å¯¹è±¡" class="headerlink" title="æµ‹è¯•å¯¹è±¡æ˜¯éƒ½ä¸ºç±»æ•°ç»„å¯¹è±¡"></a>æµ‹è¯•å¯¹è±¡æ˜¯éƒ½ä¸ºç±»æ•°ç»„å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isArrayLike</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (o &amp;&amp; <span class="title function_">typeof</span>(o) === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="title class_">Number</span>.<span class="built_in">isFinite</span>(o.<span class="property">length</span>) &amp;&amp; o.<span class="property">length</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(o.<span class="property">length</span>) &amp;&amp; o.<span class="property">length</span> &lt; <span class="number">4294967295</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»æ•°ç»„æ€ä¹ˆæ‰èƒ½ä½¿ç”¨æ•°ç»„æ–¹æ³•"><a href="#ç±»æ•°ç»„æ€ä¹ˆæ‰èƒ½ä½¿ç”¨æ•°ç»„æ–¹æ³•" class="headerlink" title="ç±»æ•°ç»„æ€ä¹ˆæ‰èƒ½ä½¿ç”¨æ•°ç»„æ–¹æ³•"></a>ç±»æ•°ç»„æ€ä¹ˆæ‰èƒ½ä½¿ç”¨æ•°ç»„æ–¹æ³•</h3><h4 id="Function-call"><a href="#Function-call" class="headerlink" title="Function.call()"></a>Function.call()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;<span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;2&#x27;</span>: <span class="string">&#x27;3&#x27;</span>, <span class="attr">length</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t1 = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">join</span>.<span class="title function_">call</span>(a, <span class="string">&#x27;+&#x27;</span>) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t1) <span class="comment">// =&gt; &#x27;1+2+3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t2 = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">map</span>.<span class="title function_">call</span>(a, <span class="function"><span class="params">x</span> =&gt;</span> x+=x) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t2) <span class="comment">// =&gt; [&#x27;11&#x27; &#x27;22&#x27;, &#x27;33&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t3 = <span class="title class_">Array</span>.<span class="title function_">from</span>(a)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t3) <span class="comment">// =&gt; [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]  è¿™æ¯”Array.prototype.slice.call(a, 0)æ›´å®¹æ˜“ï¼ï¼</span></span><br></pre></td></tr></table></figure><h2 id="ä½œä¸ºæ•°ç»„çš„å­—ç¬¦ä¸²"><a href="#ä½œä¸ºæ•°ç»„çš„å­—ç¬¦ä¸²" class="headerlink" title="ä½œä¸ºæ•°ç»„çš„å­—ç¬¦ä¸²"></a>ä½œä¸ºæ•°ç»„çš„å­—ç¬¦ä¸²</h2><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥åƒä¸Šé¢è¿™æ ·ä½¿ç”¨æ•°ç»„æ–¹æ³•ã€‚å­—ç¬¦ä¸²ä¸æ˜¯æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;haha&#x27;</span></span><br><span class="line">s.<span class="title function_">charAt</span>(<span class="number">0</span>) <span class="comment">// &#x27;h&#x27;</span></span><br><span class="line">s[<span class="number">0</span>] <span class="comment">// &#x27;h&#x27;</span></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„å€¼ï¼Œæ‰€ä»¥å½“æ‹¿å®ƒå½“æ•°ç»„ç”¨çš„æ—¶å€™ï¼Œæ˜¯<strong>åªè¯»</strong>çš„ã€‚æ‰€ä»¥<code>push sort serverse splice</code>è¿™äº›å¯¹å­—ç¬¦ä¸²ä¸èµ·ä½œç”¨ï¼Œé™é»˜å¤±è´¥ï¼Œå»ºè®®è½¬æ•°ç»„åæ“ä½œç„¶åè½¬å›ï¼ˆéº»çƒ¦æï¼‰ã€‚</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p><p>ç¨€ç–æ•°ç»„ä½ åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åºç„¶å¤§ç‰©ï¼Ÿæˆ‘åœ¨ç†è§£è¿™äº›æ•°ç»„æ–¹æ³•çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½åœ¨è€ƒè™‘å®ƒä»¬å¦‚ä½•å¤„ç†ä½ ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JSâ€”â€”é˜²æŠ–å’ŒèŠ‚æµ</title>
      <link href="/post/3c8c.html"/>
      <url>/post/3c8c.html</url>
      
        <content type="html"><![CDATA[<h2 id="é‡è¦æ¦‚å¿µ-é˜²æŠ–å’ŒèŠ‚æµ"><a href="#é‡è¦æ¦‚å¿µ-é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="é‡è¦æ¦‚å¿µ-é˜²æŠ–å’ŒèŠ‚æµ"></a>é‡è¦æ¦‚å¿µ-é˜²æŠ–å’ŒèŠ‚æµ</h2><p>é˜²æŠ–å’ŒèŠ‚æµæœ¬è´¨ä¸Šæ˜¯ä¼˜åŒ–<strong>é«˜é¢‘ç‡æ‰§è¡Œä»£ç </strong>çš„æ‰‹æ®µã€‚</p><p>å½“æµè§ˆå™¨resize/scroll/keypress/mousemoveç­‰äº‹ä»¶è§¦å‘æ—¶ï¼Œä¼šä¸æ–­åœ°è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œæå¤§åœ°æµªè´¹èµ„æºã€é™ä½å‰ç«¯æ€§èƒ½ã€‚</p><p>â†‘ä¸ºäº†ä¼˜åŒ–ä½“éªŒï¼Œéœ€è¦å¯¹æ­¤ç±»äº‹ä»¶è°ƒç”¨æ¬¡æ•°è¿›è¡Œåˆç†é™åˆ¶ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨é˜²æŠ–ã€èŠ‚æµçš„æ‰‹æ®µå‡å°‘è°ƒç”¨é¢‘ç‡ã€‚</p><h3 id="é˜²æŠ–-debounce"><a href="#é˜²æŠ–-debounce" class="headerlink" title="é˜²æŠ–-debounce"></a>é˜²æŠ–-debounce</h3><blockquote><p> é¢‘ç¹æ“ä½œ =&gt; æœ€åä¸€æ¬¡æ“ä½œ        å®šæ—¶å™¨</p></blockquote><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a><strong>å®šä¹‰</strong></h4><p>nç§’åå†æ‰§è¡Œè¯¥äº‹ä»¶ï¼Œå¦‚æœåœ¨è¿™æœŸé—´è¢«é‡å¤è§¦å‘ï¼Œé‚£ä¹ˆé‡æ–°è®¡æ—¶ã€‚</p><h4 id="æ —å­"><a href="#æ —å­" class="headerlink" title="æ —å­"></a><strong>æ —å­</strong></h4><p>ç”µæ¢¯ç­‰äºº</p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a><strong>å®ç°</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•å®ç°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timeout;  <span class="comment">// å£°æ˜ä¸€ä¸ªå˜é‡ç”¨äºä¿å­˜å®šæ—¶å™¨çš„è¿”å›å€¼ï¼Œåˆå§‹åŒ–ä¸º undefined</span></span><br><span class="line"> <span class="comment">// æˆ‘è¿˜æ˜¯å–œæ¬¢åˆå§‹åŒ–æˆè¿™æ ·â†’let timeout = null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;  <span class="comment">// è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å°±æ˜¯å®é™…ä½¿ç”¨çš„é˜²æŠ–å‡½æ•°</span></span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>;  <span class="comment">// åœ¨è¿™ä¸ªæ–°å‡½æ•°ä¸­ï¼Œä¿å­˜å½“å‰ this æŒ‡å‘</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span>;  <span class="comment">// ä¿å­˜å½“å‰å‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);  <span class="comment">// æ¸…é™¤ä¹‹å‰è®¾ç½®çš„å®šæ—¶å™¨ï¼Œé¿å…å‡½æ•°çš„è¿‡åº¦è°ƒç”¨</span></span><br><span class="line">         <span class="comment">// clearTimeout å‡½æ•°å¹¶ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå®ƒå¯ä»¥æ¥å— undefined ä½œä¸ºå‚æ•°</span></span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">// è®¾ç½®ä¸€ä¸ªæ–°çš„å®šæ—¶å™¨ï¼Œå»¶è¿Ÿ wait æ¯«ç§’æ‰§è¡Œå‡½æ•°</span></span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)  <span class="comment">// åœ¨å®šæ—¶å™¨ä¸­æ‰§è¡Œå‡½æ•°ï¼Œthis æŒ‡å‘ä¸Šä¸‹æ–‡ä¸ºä¹‹å‰ä¿å­˜çš„ this</span></span><br><span class="line">        &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ æ ‡åˆ¤æ–­å®ç°â€”â€”é˜²æŠ–éœ€è¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timeout</span><br><span class="line">    <span class="keyword">let</span> flag</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            flag = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            flag = <span class="literal">true</span></span><br><span class="line">        &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥ç¬¬ä¸‰å‚æ•°å®ç°â€”â€”é˜²æŠ–éœ€è¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">// immediate = true =&gt; é¦–æ¬¡è°ƒç”¨éœ€è¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timeout</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            <span class="keyword">let</span> callNow = !timeout</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                timeout = <span class="literal">null</span></span><br><span class="line">            &#125;, wait)</span><br><span class="line">            <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">                func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿˜æœ‰æ— æ”¹è¿›ç©ºé—´ï¼Ÿ</span></span><br><span class="line"><span class="comment">// è‚¯å®šæ˜¯æœ‰ï¼Œä¸¾ä¸ªä¾‹å­ï¼šå¯ä»¥å°†å‡½æ•°çš„è¿”å›å€¼è¿›è¡Œä¿å­˜å¹¶è¿”å›ï¼Œä»¥ä¾¿è°ƒç”¨è€…å¯ä»¥å–æ¶ˆè¯¥å‡½æ•°çš„å»¶è¿Ÿæ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> context = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">      <span class="keyword">const</span> callNow = !timeout;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">      &#125;, wait);</span><br><span class="line">      <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">        <span class="keyword">return</span> func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">      &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  debounced.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// â†è¿™é‡Œæ˜¯æ ¸å¿ƒæ‰©å±•ç‚¹å•¦</span></span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">    timeout = <span class="literal">null</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a><strong>ä½¿ç”¨</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ....æˆ‘çš„å‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ....é˜²æŠ–å‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> debounceMyfunc = <span class="title function_">debounce</span>(myFunc, <span class="number">300</span>, ...å…¶ä»–å‚æ•°)</span><br><span class="line"></span><br><span class="line"><span class="title function_">debounceMyfunc</span>()</span><br><span class="line">debounceMyfunc.<span class="title function_">cancel</span>()</span><br></pre></td></tr></table></figure><h4 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a><strong>åœºæ™¯</strong></h4><p>é˜²æŠ–åœ¨è¿ç»­çš„äº‹ä»¶ï¼Œåªéœ€è§¦å‘ä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š</p><ul><li>æœç´¢æ¡†æœç´¢è¾“å…¥ã€‚åªéœ€ç”¨æˆ·æœ€åä¸€æ¬¡è¾“å…¥å®Œï¼Œå†å‘é€è¯·æ±‚ã€‚</li><li>æ‰‹æœºå·ã€é‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹ã€‚</li><li>çª—å£å¤§å°<code>resize</code>ã€‚åªéœ€çª—å£è°ƒæ•´å®Œæˆåï¼Œè®¡ç®—çª—å£å¤§å°ã€‚é˜²æ­¢é‡å¤æ¸²æŸ“ã€‚</li></ul><h3 id="èŠ‚æµ-throttle"><a href="#èŠ‚æµ-throttle" class="headerlink" title="èŠ‚æµ-throttle"></a>èŠ‚æµ-throttle</h3><blockquote><p> é¢‘ç¹æ“ä½œ =&gt; å°‘é‡æ“ä½œ        é—­åŒ…+å»¶è¿Ÿå™¨</p></blockquote><h4 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a><strong>å®šä¹‰</strong></h4><p>nç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœ¨è¿™æœŸé—´é‡å¤è§¦å‘ï¼Œé‚£ä¹ˆåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</p><h4 id="æ —å­-1"><a href="#æ —å­-1" class="headerlink" title="æ —å­"></a><strong>æ —å­</strong></h4><p>ç”µæ¢¯é€äºº</p><h4 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a><strong>å®ç°</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">func, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span><span class="comment">// ä¸ªäººè®¤ä¸ºæ­¤ä¸¾æ›´ç›´è§‚</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span><span class="comment">// â†‘</span></span><br><span class="line">        <span class="keyword">let</span> newTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (newTime - oldTime &gt;= delay) &#123;<span class="comment">// å¦‚æœå½“å‰æ—¶é—´è·ç¦»ä¸Šæ¬¡æ‰§è¡Œçš„æ—¶é—´å¤§äºæˆ–ç­‰äºå»¶è¿Ÿæ—¶é—´ï¼Œæ‰§è¡Œç›¸åº”å‡½æ•°</span></span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">func, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">                timer = <span class="literal">null</span><span class="comment">// è¿™ä¸ªæ“ä½œå¾ˆå·§å¦™â†“</span></span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¯¹äºé˜²æŠ–å‡½æ•°æ¥è¯´ï¼Œç”¨clearTimeoutå’Œå°†timeoutè®¾ä¸ºnullçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</span></span><br><span class="line"><span class="comment">ä½†æ˜¯ï¼Œå¯¹äºèŠ‚æµå‡½æ•°æ¥è¯´ï¼Œåº”è¯¥å°½é‡é¿å…å¼€å¤ªå¤šçš„å®šæ—¶å™¨ï¼Œå› æ­¤å»ºè®®åœ¨ä½¿ç”¨setTimeoutæ—¶ï¼Œå°†å®šæ—¶å™¨å˜é‡è®¾ç½®ä¸ºnullã€‚</span></span><br><span class="line"><span class="comment">è¿™æ ·ï¼Œåœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­å®šæ—¶å™¨å˜é‡æ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnullï¼Œå°±åˆ›å»ºæ–°çš„å®šæ—¶å™¨ï¼Œå¦‚æœä¸ä¸ºnullï¼Œåˆ™ä¸åˆ›å»ºæ–°çš„å®šæ—¶å™¨ã€‚å¦‚æœä½¿ç”¨clearTimeoutï¼Œåˆ™éœ€è¦å…ˆæ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œå†åˆ›å»ºæ–°çš„å®šæ—¶å™¨ï¼Œè¿™æ ·åœ¨é«˜é¢‘ç‡è°ƒç”¨å‡½æ•°æ—¶ä¼šå¼€å¯å¤§é‡çš„å®šæ—¶å™¨ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">é€šå¸¸æ¥è¯´ï¼Œé˜²æŠ–å‡½æ•°ç›¸å¯¹äºèŠ‚æµå‡½æ•°æ›´å®¹æ˜“å‡ºç°åˆ›å»ºå¾ˆå¤šå®šæ—¶å™¨çš„æƒ…å†µï¼Œå› ä¸ºé˜²æŠ–å‡½æ•°åœ¨æ¯æ¬¡è§¦å‘äº‹ä»¶åéƒ½ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œè€ŒèŠ‚æµå‡½æ•°åªæœ‰åœ¨ä¸Šä¸€æ¬¡æ‰§è¡Œçš„å®šæ—¶å™¨ç»“æŸåæ‰ä¼šåˆ›å»ºæ–°çš„å®šæ—¶å™¨ã€‚å› æ­¤ï¼Œåœ¨é«˜é¢‘ç‡è§¦å‘äº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œé˜²æŠ–å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´åˆ›å»ºå¤§é‡çš„å®šæ—¶å™¨ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æˆ³ + å®šæ—¶å™¨ â€”â€” å®ç°æ›´åŠ ç²¾ç¡®çš„èŠ‚æµ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">func, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> curTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> remaining = delay - (curTime - startTime)</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(func, remaining)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a><strong>ä½¿ç”¨</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleScroll</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    ....æ»šåŠ¨äº‹ä»¶å¤„ç†ä»£ç </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">func, delay</span>) &#123;</span><br><span class="line">    ....èŠ‚æµå‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="title function_">throttled</span>(handleScroll, <span class="number">500</span>));</span><br></pre></td></tr></table></figure><h4 id="åœºæ™¯-1"><a href="#åœºæ™¯-1" class="headerlink" title="åœºæ™¯"></a><strong>åœºæ™¯</strong></h4><p>èŠ‚æµåœ¨é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š</p><ul><li>æ»šåŠ¨åŠ è½½ï¼ŒåŠ è½½æ›´å¤šæˆ–æ»šåˆ°åº•éƒ¨ç›‘å¬</li><li>æœç´¢æ¡†ï¼Œæœç´¢è”æƒ³åŠŸèƒ½</li></ul><h3 id="ä¸¤è€…çš„å¼‚åŒ"><a href="#ä¸¤è€…çš„å¼‚åŒ" class="headerlink" title="ä¸¤è€…çš„å¼‚åŒ"></a>ä¸¤è€…çš„å¼‚åŒ</h3><p>åŒï¼š</p><ul><li>éƒ½æ˜¯ä¸ºäº†è¾ƒä½å›è°ƒçš„æ‰§è¡Œé¢‘ç‡ï¼ŒèŠ‚çœè®¡ç®—èµ„æº</li><li>éƒ½å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨å®ç°</li></ul><p>å¼‚ï¼š</p><ul><li>é˜²æŠ–ç€é‡äºä¸€å®šæ—¶é—´è¿ç»­è§¦å‘çš„äº‹ä»¶ä¸­åªæ‰§è¡Œæœ€åä¸€æ¬¡ï¼›èŠ‚æµç€é‡äºä¸€æ®µæ—¶é—´ä»…æ‰§è¡Œä¸€æ¬¡</li><li>é˜²æŠ–æ˜¯åœ¨<strong>ä¸€æ®µè¿ç»­æ“ä½œå</strong>æ‰§è¡Œä¸€æ¬¡ï¼› èŠ‚æµæ˜¯<strong>æ¯ä¸€æ®µæ—¶é—´åª</strong>æ‰§è¡Œä¸€æ¬¡</li></ul>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜²æŠ– </tag>
            
            <tag> èŠ‚æµ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ƒçŠ€ç‰›ä¹¦â€”â€”å¯¹è±¡</title>
      <link href="/post/dce9.html"/>
      <url>/post/dce9.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸºç¡€ä¸ç‰¢ï¼Œåœ°åŠ¨å±±æ‘‡</p><h2 id="JSå¯¹è±¡"><a href="#JSå¯¹è±¡" class="headerlink" title="JSå¯¹è±¡"></a>JSå¯¹è±¡</h2><h3 id="å¯¹è±¡ä»‹ç»"><a href="#å¯¹è±¡ä»‹ç»" class="headerlink" title="å¯¹è±¡ä»‹ç»"></a>å¯¹è±¡ä»‹ç»</h3><p>å¯¹è±¡æ˜¯ä¸€ç§å¤åˆå€¼ï¼Œæ±‡èšå¤šä¸ªå€¼ï¼ˆåŸå§‹å€¼/å…¶ä»–å¯¹è±¡ï¼‰ä¸”å…è®¸æŒ‰ç…§åå­—å­˜å‚¨è¿™äº›å€¼ã€‚</p><p>å¯¹è±¡æ˜¯ä¸€ä¸ª å±æ€§çš„æ— åºé›†åˆï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰åå­—å’Œå€¼ã€‚å¯¹è±¡æŠŠå­—ç¬¦ä¸²æ˜ å°„ä¸ºå€¼ï¼ˆæ•£åˆ—ã€æ•£åˆ—è¡¨ã€å­—å…¸ã€å…³è”æ•°ç»„ï¼‰ã€‚</p><p>å¯¹è±¡é™¤äº†å¯ä»¥ç»´æŒè‡ªå·±çš„å±æ€§å¤–ï¼Œè¿˜èƒ½å¤Ÿä»å…¶ä»–å¯¹è±¡ï¼ˆåŸå‹ï¼‰ç»§æ‰¿å±æ€§ã€‚</p><p>ä»»ä½•æ•°ã€å­—ç¬¦ä¸²ã€ç¬¦å·ã€å¸ƒå°”å€¼ã€nullã€undefinedçš„å€¼éƒ½æ˜¯å¯¹è±¡ã€‚</p><p>JSå¯¹è±¡æ˜¯åŠ¨æ€çš„ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥åˆ©ç”¨å¯¹è±¡æ¨¡æ‹Ÿé™æ€ç±»å‹è¯­è¨€ä¸­çš„é™æ€å¯¹è±¡å’Œç»“æ„ä½“ã€‚</p><p>å¯¹è±¡å¯ä¿®æ”¹ï¼ŒæŒ‰å¼•ç”¨æ“ä½œå®Œæˆï¼ˆæ ˆä¸åŒè€Œå †åŒï¼‰ï¼Œè€ŒéæŒ‰å€¼æ“ä½œã€‚</p><p>å¯¹è±¡å±æ€§ï¼š è‡ªæœ‰å±æ€§ï¼Œ ç»§æ‰¿å±æ€§</p><p>å¯¹è±¡å±æ€§ç‰¹æ€§ï¼š writableå¯å†™ï¼ˆæ˜¯å¦å¯è®¾ç½®ï¼‰  enumerableå¯æšä¸¾ï¼ˆæ˜¯å¦å¯for/inéå†ï¼‰  configurableå¯é…ç½®ï¼ˆæ˜¯å¦å¯åˆ /ä¿®æ”¹ï¼‰</p><h3 id="å¯¹è±¡çš„åˆ›å»º"><a href="#å¯¹è±¡çš„åˆ›å»º" class="headerlink" title="å¯¹è±¡çš„åˆ›å»º"></a>å¯¹è±¡çš„åˆ›å»º</h3><h4 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h4><p>è¿™æ˜¯åˆ›å»ºå¯¹è±¡çš„ä¸€ä¸ªæœ€ä¸ºç®€å•çš„æ–¹æ³•ï¼šç®€å•ç›´æ¥èŠ±æ‹¬å·â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> empty = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> point = &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span>&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = &#123;<span class="attr">x</span>: -point.<span class="property">x</span>, <span class="attr">y</span>: -point.<span class="property">y</span>&#125;</span><br><span class="line"><span class="keyword">let</span> std = &#123;</span><br><span class="line">    <span class="string">&quot;first name&quot;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;some-hobby&quot;</span>: [],</span><br><span class="line">    <span class="attr">friend</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;raliz&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<strong>å¯¹è±¡å­—é¢é‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ¯æ¬¡æ±‚å€¼éƒ½ä¼šåˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªèˆ¹æ–°çš„å¯¹è±¡</strong>ã€‚å› æ­¤ï¼Œ<strong>å½“å­—é¢é‡æ¯æ¬¡æ±‚å€¼çš„æ—¶å€™ï¼Œå®ƒçš„æ¯ä¸ªå±æ€§å€¼ä¹Ÿä¼šè¢«æ±‚å€¼</strong>ã€‚</p><p>è¿™å¾ˆå®¹æ˜“è®©äººè”æƒ³åˆ°ç”¨varåœ¨å¾ªç¯ä½“ä¸­åˆ›å»ºå­—é¢é‡å¯¹è±¡çš„æ—¶å€™ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µâ€”â€”ä¸æ–­å åŠ æ”¹å˜ï¼Œè€Œéæ–°åˆ›å»º</p><h4 id="new-æ„é€ å‡½æ•°"><a href="#new-æ„é€ å‡½æ•°" class="headerlink" title="new æ„é€ å‡½æ•°"></a>new æ„é€ å‡½æ•°</h4><p>åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ï¼šlet åŠ  constructor</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line"><span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>()</span><br></pre></td></tr></table></figure><h5 id="é‡è¦æ¦‚å¿µ-åŸå‹å’ŒåŸå‹é“¾"><a href="#é‡è¦æ¦‚å¿µ-åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="é‡è¦æ¦‚å¿µ-åŸå‹å’ŒåŸå‹é“¾"></a>é‡è¦æ¦‚å¿µ-åŸå‹å’ŒåŸå‹é“¾</h5><h6 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h6><p>åŸå‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºå®šä¹‰å…¶ä»–å¯¹è±¡çš„å…±äº«å±æ€§å’Œæ–¹æ³•ã€‚</p><p>å‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰åŸå‹ï¼Œä½†åªæœ‰å°‘æ•°æœ‰prototypeå±æ€§ï¼Œè€Œè¿™äº›å°‘æ•°å¯¹è±¡ä¸ºæ‰€æœ‰çš„å…¶ä»–å¯¹è±¡å®šä¹‰äº†åŸå‹ã€‚</p><h6 id="åŸå‹é“¾ï¼ˆä¹‹å‰ç†è§£æœ‰è¯¯ï¼Œç°åœ¨æ¥æ°æ­£ï¼‰"><a href="#åŸå‹é“¾ï¼ˆä¹‹å‰ç†è§£æœ‰è¯¯ï¼Œç°åœ¨æ¥æ°æ­£ï¼‰" class="headerlink" title="åŸå‹é“¾ï¼ˆä¹‹å‰ç†è§£æœ‰è¯¯ï¼Œç°åœ¨æ¥æ°æ­£ï¼‰"></a>åŸå‹é“¾ï¼ˆä¹‹å‰ç†è§£æœ‰è¯¯ï¼Œç°åœ¨æ¥æ°æ­£ï¼‰</h6><p>åŸå‹é“¾æ˜¯JSä¸€ç§ä¸»è¦çš„ç»§æ‰¿æ–¹å¼ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡åŸå‹æ¥ç»§æ‰¿ä¸€äº›å¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ„æƒ³æ˜¯åœ¨å®ä¾‹å’ŒåŸå‹é—´æ„é€ ä¸€æ¡é•¿é“¾ã€‚</p><p>å…·ä½“ä¸¾ä¾‹ï¼šä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæœ‰<code>prototype</code>å±æ€§æŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¸­ï¼Œæœ‰<code>constructor</code>æŒ‡å›è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨æ„é€ å‡½æ•°newå‡ºæ¥çš„å®ä¾‹å¯¹è±¡ä¸­ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå±æ€§æŒ‡å‘è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªå±æ€§æ˜¯<code>__proto__</code>ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸€ä¸ªå°å—çš„å°é“¾æ¡å°±è¿å¥½äº†ã€‚æˆ‘ä»¬å†çœ‹è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿææœ‰å¯èƒ½ç»§æ‰¿å…¶ä»–å¯¹è±¡çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿä¼šæœ‰<code>__proto__</code>æŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ã€‚ä»¥æ­¤ç±»æ¨ï¼Œä¸€æ¡ä»ä½ç«¯åˆ°é¡¶ç«¯æˆ‘ä»¬æ‰€è§„å®šçš„<code>Object.prototype.__proto__ = null</code>çš„é•¿é“¾å°±è¿å¥½äº†ã€‚</p><p>å› æ­¤ï¼Œå½“æˆ‘ä»¬åœ¨æŸ¥è¯¢æŸä¸ªå¯¹è±¡ä¸­çš„å±æ€§æˆ–æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå¾ˆå¥½ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå»å®ƒåŸå‹æ‰¾ï¼Œå¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œå»åŸå‹çš„åŸå‹æ‰¾ï¼Œä¸€ç›´åˆ°è¿™ä¸ªé¡¶ç«¯ï¼Œæ‰¾åˆ°æˆ–æ‰¾ä¸åˆ°ä¸ºæ­¢ã€‚æ­¤æ—¶è¿™ä¸€æ¡å‘ä¸ŠæŸ¥è¯¢æ‰€ä¾é™„çš„é“¾æ¡å°±å¯ä»¥è¢«è®¤ä¸ºæ˜¯åŸå‹é“¾å§ã€‚</p><h4 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h4><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„æŠ€æœ¯ï¼</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ–°å¯¹è±¡çš„åŸå‹</p><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šæ–°å¯¹è±¡çš„å±æ€§ï¼ˆé«˜çº§ç‰¹æ€§ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = <span class="title class_">Object</span>.<span class="title function_">create</span>(&#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span> &#125;) <span class="comment">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡&#123;x:1,y:2&#125;</span></span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>) <span class="comment">// å‚æ•°ä¸ºnullåˆ›å»ºçš„å¯¹è±¡ä¸ä¼šç»§æ‰¿ä»»ä½•å±æ€§å’Œæ–¹æ³•ï¼Œæ— æ³•å¯¹å…¶åº”ç”¨ï¼Œä¹Ÿæ— æ³•å¯¹å…¶ä½¿ç”¨æ“ä½œç¬¦</span></span><br><span class="line"><span class="keyword">let</span> obj3 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>) <span class="comment">// åˆ›å»ºç©ºå¯¹è±¡å†™æ³•</span></span><br></pre></td></tr></table></figure><h5 id="Objectçš„ä¸€ä¸ªé‡è¦ç”¨é€”"><a href="#Objectçš„ä¸€ä¸ªé‡è¦ç”¨é€”" class="headerlink" title="Objectçš„ä¸€ä¸ªé‡è¦ç”¨é€”"></a>Objectçš„ä¸€ä¸ªé‡è¦ç”¨é€”</h5><p>é˜²æ­¢å¯¹è±¡è¢«æŸä¸ªç¬¬ä¸‰æ–¹åº“å‡½æ•°æ„å¤–ï¼ˆéæ¶æ„ï¼‰ä¿®æ”¹ã€‚</p><p>ä¸è¦ç›´æ¥å°†å¯¹è±¡ä¼ ç»™å‡½æ•°ï¼Œè€Œæ˜¯è¦ä¼ å…¥ç»§æ‰¿è‡ªå®ƒçš„å¯¹è±¡ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå±æ€§å¯è¯»ä¸”ä¿®æ”¹ä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>: <span class="string">&quot;çŸ¥æ³•æ‡‚æ³•å®ˆæ³•ç”¨æ³•&quot;</span>&#125;</span><br><span class="line">library.<span class="keyword">function</span>(<span class="params"><span class="built_in">Object</span>.create(obj)</span>)</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢å’Œè®¾ç½®å±æ€§"><a href="#æŸ¥è¯¢å’Œè®¾ç½®å±æ€§" class="headerlink" title="æŸ¥è¯¢å’Œè®¾ç½®å±æ€§"></a>æŸ¥è¯¢å’Œè®¾ç½®å±æ€§</h3><h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><p><code>.</code>æˆ–<code>[]</code></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>[]</code>ä¸­å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…èƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„ç¬¦å·æˆ–å€¼</p><p>æŸ¥è¯¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = student.<span class="property">name</span></span><br><span class="line"><span class="keyword">let</span> age = student[<span class="string">&quot;name&quot;</span>]</span><br></pre></td></tr></table></figure><p>æ·»åŠ /è®¾ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">student.<span class="property">name</span> = <span class="string">&#x27;æ —å­&#x27;</span></span><br><span class="line">student[<span class="string">&quot;name&quot;</span>] = <span class="string">&#x27;å‘†å­&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="ä½œä¸ºå…³è”æ•°ç»„çš„å¯¹è±¡"><a href="#ä½œä¸ºå…³è”æ•°ç»„çš„å¯¹è±¡" class="headerlink" title="ä½œä¸ºå…³è”æ•°ç»„çš„å¯¹è±¡"></a>ä½œä¸ºå…³è”æ•°ç»„çš„å¯¹è±¡</h4><p>ä¸Šè¿°<code>[å­—ç¬¦ä¸²]</code>ï¼ˆä»¥å­—ç¬¦ä¸²ä¸ºç´¢å¼•çš„æ•°ç»„ï¼‰è¢«ç§°ä¸ºâ€œå…³è”æ•°ç»„â€ã€‚</p><p>ä¸C/C++/Javaç­‰å¼ºç±»å‹è¯­è¨€ä¸åŒï¼ŒJSæ˜¯æ¾æ•£ç±»å‹è¯­è¨€ï¼Œå¯ä»¥ä¸ºä»»æ„å¯¹è±¡åˆ›å»ºæ•°é‡å’Œå±æ€§ã€‚</p><p>æ•°ç»„è¡¨ç¤ºæ³•ç»“åˆå­—ç¬¦ä¸²è¡¨è¾¾å¼è®¿é—®å¯¹è±¡å±æ€§éå¸¸çµæ´»ã€‚  </p><p>å½“ç„¶åœ¨es6ä¹‹åä½¿ç”¨Mapç±»æ›´ä¸ºå¦™ã€‚</p><h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>è®©æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­åŠæ¥è§£é‡Šä¸€ä¸‹ç»§æ‰¿ï¼š</p><ul><li>é¦–å…ˆï¼Œéœ€è¦å…ˆæ˜ç¡®ï¼ŒJSå¯¹è±¡å±æ€§ä¸€èˆ¬ç”±è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ä¸¤éƒ¨åˆ†ç»„æˆã€‚</li><li>å‡è®¾è¦ä»å¯¹è±¡oä¸­æŸ¥è¯¢å±æ€§xï¼Œå¦‚æœå¯¹è±¡oæ²¡æœ‰è¿™ä¸ªè‡ªæœ‰å±æ€§ï¼Œåˆ™ä¼šå»oçš„åŸå‹å¯¹è±¡ä¸­æŸ¥è¯¢è¯¥å±æ€§ï¼›å¦‚æœåŸå‹å¯¹è±¡ä¹Ÿæ²¡æœ‰è¿™ä¸ªè‡ªæœ‰å±æ€§ï¼Œä½†å®ƒæœ‰åŸå‹ï¼Œé‚£ä¹ˆå°±ä¼šå»å®ƒçš„åŸå‹ä¸­æŸ¥è¯¢ã€‚</li><li>ä¸Šè¿°è¿‡ç¨‹ä¸€ç›´æŒç»­ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§xï¼Œæˆ–è€…ä¸€ç›´æŸ¥è¯¢åˆ°åŸå‹ä¸ºnullçš„å¯¹è±¡ã€‚</li></ul><p>æˆ‘ä»¬ç»§ç»­å¯¹æŸ¥è¯¢å’Œè®¾ç½®å¯¹è±¡å±æ€§çš„åˆ†æï¼Œä¸¾ä¸ªç‰¹ä¾‹â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>, &#123;</span><br><span class="line">  <span class="attr">x</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">y</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="title class_">Object</span>.<span class="title function_">create</span>(a);</span><br><span class="line"></span><br><span class="line">b.<span class="property">x</span> = <span class="number">2</span> <span class="comment">// ç›´æ¥å¿½ç•¥è¯¥æ“ä½œ</span></span><br><span class="line">b.<span class="property">y</span> = <span class="number">2</span> <span class="comment">// åŒåè¦†ç›–</span></span><br><span class="line">b.<span class="property">z</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">x</span>, b.<span class="property">y</span>, b.<span class="property">z</span>) <span class="comment">// =&gt; 1, 2, 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">x</span>, a.<span class="property">y</span>) <span class="comment">// =&gt; 1, 1</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œbçš„åŸå‹å¯¹è±¡a.xæ˜¯ä¸å¯ä¿®æ”¹ä¸å¯è®¾ç½®çš„ï¼Œæ‰€ä»¥å½“å¯¹bè¿›è¡Œå±æ€§æ“ä½œæ—¶ï¼Œå¯¹äºå…¶ç»§æ‰¿å±æ€§çš„æ“ä½œæ˜¯ç›´æ¥è¢«å¿½ç•¥æ‰çš„ã€‚</p><h5 id="ä¸€ä¸ªé‡è¦çš„JSç‰¹æ€§"><a href="#ä¸€ä¸ªé‡è¦çš„JSç‰¹æ€§" class="headerlink" title="ä¸€ä¸ªé‡è¦çš„JSç‰¹æ€§"></a>ä¸€ä¸ªé‡è¦çš„JSç‰¹æ€§</h5><p>æŸ¥è¯¢å±æ€§æ—¶ï¼Œä¼šç”¨åˆ°åŸå‹é“¾ï¼›è®¾ç½®å±æ€§æ—¶ï¼Œä¸å½±å“åŸå‹é“¾ã€‚</p><h4 id="å±æ€§è®¿é—®é”™è¯¯"><a href="#å±æ€§è®¿é—®é”™è¯¯" class="headerlink" title="å±æ€§è®¿é—®é”™è¯¯"></a>å±æ€§è®¿é—®é”™è¯¯</h4><p>å±æ€§è®¿é—®é”™è¯¯çš„ä¸¤ç§æƒ…å†µï¼š</p><ul><li>å¯¹è±¡ä¸å­˜åœ¨ï¼Œç›´æ¥æŠ¥å¼‚å¸¸TypeError:undefined</li><li>å±æ€§ä¸å­˜åœ¨ï¼Œè¿”å›undefined</li></ul><p>å‡ ç§é˜²æ­¢æ­¤ç±»é—®é¢˜å‘ç”Ÿçš„æ–¹æ³•ï¼š</p><ul><li>ç®€å•ififif</li><li>ç”¨&amp;&amp;è¿æ¥</li><li>ä½¿ç”¨<code>?.</code>æ¡ä»¶å¼è®¿é—®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> book = &#123; <span class="attr">author</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;ææ¾å³°&#x27;</span> &#125; &#125;</span><br><span class="line"><span class="keyword">let</span> name = book &amp;&amp; book.<span class="property">author</span> &amp;&amp; book.<span class="property">author</span>.<span class="property">name</span></span><br><span class="line"><span class="comment">//æˆ–</span></span><br><span class="line"><span class="keyword">let</span> name1 = book?.<span class="property">author</span>?.<span class="property">name</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br></pre></td></tr></table></figure><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>åœ¨å¯¹è±¡oä¸­è®¾ç½®å±æ€§påœ¨ä»¥ä¸‹æƒ…å†µä¼šå¤±è´¥ï¼š</p><ul><li>oæœ‰ä¸€ä¸ªåªè¯»è‡ªæœ‰å±æ€§p</li><li>oæœ‰ä¸€ä¸ªåªè¯»ç»§æ‰¿å±æ€§p</li><li>oæ²¡æœ‰è‡ªæœ‰&amp;ç»§æ‰¿å±æ€§pï¼Œä¸”oçš„extensibleç‰¹æ€§ä¸ºfalseï¼ˆä¸å¯æ‰©å±•ï¼Œä¸èƒ½æ·»åŠ æ–°å±æ€§ï¼‰</li></ul><h3 id="åˆ é™¤å±æ€§"><a href="#åˆ é™¤å±æ€§" class="headerlink" title="åˆ é™¤å±æ€§"></a>åˆ é™¤å±æ€§</h3><p>ä¸»æ‰“ä¸€ä¸ªdelete</p><h4 id="deleteæ“ä½œç¬¦"><a href="#deleteæ“ä½œç¬¦" class="headerlink" title="deleteæ“ä½œç¬¦"></a>deleteæ“ä½œç¬¦</h4><p>åªèƒ½åˆ é™¤å¯¹è±¡çš„è‡ªæœ‰å±æ€§ï¼Œä¸èƒ½åˆ é™¤ç»§æ‰¿å±æ€§ï¼Œä¸èƒ½åˆ é™¤configurableä¸ºfalseçš„å±æ€§</p><h5 id="åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹"><a href="#åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹" class="headerlink" title="åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹"></a>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span> <span class="comment">// ä¸æ“ä½œä½†true</span></span><br><span class="line"><span class="keyword">delete</span> o.ç»§æ‰¿å±æ€§ <span class="comment">// ä¸æ“ä½œä½†true</span></span><br><span class="line"><span class="keyword">delete</span> <span class="number">1</span> <span class="comment">// æ— æ„ä¹‰ä½†true</span></span><br><span class="line"><span class="keyword">delete</span> ä¸å¯é…ç½®çš„å±æ€§ <span class="comment">// false</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="title function_">x</span>(ä¸å¯é…ç½®çš„) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="title function_">x</span>(å¯é…ç½®çš„) <span class="comment">// true</span></span><br><span class="line"><span class="keyword">delete</span> x <span class="comment">// trueâ†‘</span></span><br></pre></td></tr></table></figure><h5 id="åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹"><a href="#åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹" class="headerlink" title="åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹"></a>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> ä¸å¯é…ç½®çš„å±æ€§ <span class="comment">// TypeError</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="title function_">x</span>(å¯é…ç½®çš„) <span class="comment">// true</span></span><br><span class="line"><span class="keyword">delete</span> x <span class="comment">// SyntaxErrorâ†‘</span></span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•å±æ€§"><a href="#æµ‹è¯•å±æ€§" class="headerlink" title="æµ‹è¯•å±æ€§"></a>æµ‹è¯•å±æ€§</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€è¦æŸ¥ä¸€ä¸‹æŸå¯¹è±¡æ˜¯å¦æœ‰æŸå±æ€§ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥æ ¹æ®åœºæ™¯é€‰ç”¨ä»¥ä¸‹å››ç§æ–¹å¼â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‚’ä¸€äº›æ —å­</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="literal">undefined</span>&#125; <span class="comment">//ä¸”ç»§æ‰¿toStringå±æ€§</span></span><br></pre></td></tr></table></figure><h4 id=""><a href="#" class="headerlink" title="!=="></a>!==</h4><p>è¿™ç§æ–¹æ³•å¯ä»¥ç²—ç•¥åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ï¼Œä½†ä¸å…¨é¢â€”â€”å®ƒä¸ä¼šåŒºåˆ† ä¸å­˜åœ¨çš„å’Œå€¼æœ¬èº«ä¸ºundefinedçš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">o.<span class="property">x</span> !== <span class="literal">undefined</span> <span class="comment">// =&gt; true</span></span><br><span class="line">o.<span class="property">y</span> !== <span class="literal">undefined</span> <span class="comment">// =&gt; false çœ‹å§~å®ƒåˆ†ä¸æ¸…undefinedæ˜¯ä»€ä¹ˆä¸ªundefinedåŸå› </span></span><br><span class="line">o.<span class="property">z</span> !== <span class="literal">undefined</span> <span class="comment">// =&gt; false</span></span><br><span class="line">o.<span class="property">toString</span> !== <span class="literal">undefined</span> <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><p><code>!==</code> ç»å¸¸ä¸ <code>in</code> æ­é…ä½¿ç”¨ï¼Œåè€…ç”¨æ¥æŸ¥è¯¢å±æ€§ï¼Œå‰è€…ç”¨æ¥åˆ¤æ–­æ˜¯å¦ä¸º<code>undefined</code></p><h4 id="p-in-o"><a href="#p-in-o" class="headerlink" title="p in o"></a>p in o</h4><p>è¿™ç§æ–¹æ³•æŸ¥è¯¢è‡ªæœ‰å±æ€§å’Œç»§æ‰¿å±æ€§ï¼Œå¯ä»¥åŒºåˆ†undefinedå’Œä¸å­˜åœ¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x <span class="keyword">in</span> o <span class="comment">// =&gt; true</span></span><br><span class="line">y <span class="keyword">in</span> o <span class="comment">// =&gt; true</span></span><br><span class="line">z <span class="keyword">in</span> o <span class="comment">// =&gt; false</span></span><br><span class="line">toString <span class="keyword">in</span> o <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><h4 id="o-hasOwnProperty-â€˜pâ€™"><a href="#o-hasOwnProperty-â€˜pâ€™" class="headerlink" title="o.hasOwnProperty(â€˜pâ€™)"></a>o.hasOwnProperty(â€˜pâ€™)</h4><p>è¿™ç§æ–¹æ³•æŸ¥è¯¢è‡ªæœ‰å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;x&#x27;</span>) <span class="comment">// =&gt; true</span></span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;y&#x27;</span>) <span class="comment">// =&gt; true</span></span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;z&#x27;</span>) <span class="comment">// =&gt; false</span></span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;toString&#x27;</span>) <span class="comment">// =&gt; false æ— æ³•åˆ¤æ–­ç»§æ‰¿å±æ€§æ</span></span><br></pre></td></tr></table></figure><h4 id="o-propertyIsEnumerable-â€˜pâ€™"><a href="#o-propertyIsEnumerable-â€˜pâ€™" class="headerlink" title="o.propertyIsEnumerable(â€˜pâ€™)"></a>o.propertyIsEnumerable(â€˜pâ€™)</h4><p>è¿™ä¸ªæ–¹æ³•ç»†åŒ–äº†ä¸Šä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒæŸ¥è¯¢çš„æ˜¯å¯æšä¸¾ <code>enumerable</code> çš„è‡ªæœ‰å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&#x27;x&#x27;</span>) <span class="comment">// =&gt; true</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&#x27;y&#x27;</span>) <span class="comment">// =&gt; true</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&#x27;z&#x27;</span>) <span class="comment">// =&gt; false</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&#x27;toString&#x27;</span>) <span class="comment">// =&gt; falseéè‡ªæœ‰å±æ€§</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&#x27;toString&#x27;</span>) <span class="comment">// =&gt; falseéå¯æšä¸¾å±æ€§</span></span><br></pre></td></tr></table></figure><h3 id="æšä¸¾å±æ€§"><a href="#æšä¸¾å±æ€§" class="headerlink" title="æšä¸¾å±æ€§"></a>æšä¸¾å±æ€§</h3><ul><li>for/in // let key in obj</li><li>Object.keys() // [â€˜aâ€™, â€˜bâ€™, â€˜câ€™]</li><li>Object.values() // [1, 2, 3]</li><li>Object.entries() // [[â€˜aâ€™, 1], [â€˜bâ€™, 2], [â€˜câ€™, 3]]</li></ul><h4 id="for-in"><a href="#for-in" class="headerlink" title="for/in"></a>for/in</h4><p>è¯¥å¾ªç¯å¯¹æŒ‡å®šå¯¹è±¡çš„æ¯ä¸ªå¯æšä¸¾çš„å±æ€§ï¼ˆè‡ªæœ‰ã€ç»§æ‰¿ï¼‰éƒ½è¿è¡Œä¸€æ¬¡å¾ªç¯ä½“ï¼Œå°†å±æ€§åå­—èµ‹ç»™å¾ªç¯å˜é‡ã€‚</p><blockquote><p>å¯¹è±¡ç»§æ‰¿çš„å†…ç½®æ–¹æ³•æ˜¯ä¸å¯æšä¸¾çš„qvq</p></blockquote><h5 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h5><p>ä½¿ç”¨for/inå’ŒhasOwnPropertyæ¥é˜²æ­¢æšä¸¾åˆ°çš„ç»§æ‰¿å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!o.<span class="title function_">hasOwnProperty</span>(p)) <span class="keyword">continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨for/inå’Œtypeofè·³è¿‡æ‰€æœ‰æ–¹æ³•å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> o[p] === <span class="string">&#x27;function&#x27;</span>) <span class="keyword">continue</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å–å¾—å¯¹è±¡å±åç§°å‡½æ•°"><a href="#å–å¾—å¯¹è±¡å±åç§°å‡½æ•°" class="headerlink" title="å–å¾—å¯¹è±¡å±åç§°å‡½æ•°"></a>å–å¾—å¯¹è±¡å±åç§°å‡½æ•°</h4><p>è¿™äº›å‡½æ•°å¾€å¾€ä¸for/inæ­é…ä½¿ç”¨æ¥è·å–å¯¹è±¡åç§°æ•°ç»„ã€‚</p><h5 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h5><p>è¿”å›å¯¹è±¡ å¯æšä¸¾+è‡ªæœ‰å±æ€§å æ•°ç»„ </p><h5 id="Object-getOwnPropertyNames"><a href="#Object-getOwnPropertyNames" class="headerlink" title="Object.getOwnPropertyNames()"></a>Object.getOwnPropertyNames()</h5><p>è¿”å›å¯¹è±¡ è‡ªæœ‰å±æ€§+ä¸ºå­—ç¬¦ä¸²å±æ€§å æ•°ç»„</p><h5 id="Object-getOwnPropertySymbols"><a href="#Object-getOwnPropertySymbols" class="headerlink" title="Object.getOwnPropertySymbols()"></a>Object.getOwnPropertySymbols()</h5><p>è¿”å›å¯¹è±¡ è‡ªæœ‰å±æ€§å æ•°ç»„</p><h5 id="Reflect-ownKeys"><a href="#Reflect-ownKeys" class="headerlink" title="Reflect.ownKeys()"></a>Reflect.ownKeys()</h5><p>è¿”å›å¯¹è±¡ æ‰€æœ‰å±æ€§å æ•°ç»„</p><h4 id="å±æ€§æšä¸¾é¡ºåº"><a href="#å±æ€§æšä¸¾é¡ºåº" class="headerlink" title="å±æ€§æšä¸¾é¡ºåº"></a>å±æ€§æšä¸¾é¡ºåº</h4><h5 id="ç›¸å…³æ–¹æ³•æšä¸¾å±æ€§é¡ºåº"><a href="#ç›¸å…³æ–¹æ³•æšä¸¾å±æ€§é¡ºåº" class="headerlink" title="ç›¸å…³æ–¹æ³•æšä¸¾å±æ€§é¡ºåº"></a>ç›¸å…³æ–¹æ³•æšä¸¾å±æ€§é¡ºåº</h5><h6 id="ä¸Šè¿°å››ä¸ªå‡½æ•°ä»¥åŠJSON-stringfy-ç­‰æ–¹æ³•"><a href="#ä¸Šè¿°å››ä¸ªå‡½æ•°ä»¥åŠJSON-stringfy-ç­‰æ–¹æ³•" class="headerlink" title="ä¸Šè¿°å››ä¸ªå‡½æ•°ä»¥åŠJSON.stringfy()ç­‰æ–¹æ³•"></a>ä¸Šè¿°å››ä¸ªå‡½æ•°ä»¥åŠJSON.stringfy()ç­‰æ–¹æ³•</h6><ol><li>å±æ€§åä¸ºéè´Ÿæ•´æ•°å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§æ•°å€¼å‡åºï¼ˆè¿™ä¹Ÿæ„å‘³ç€æ•°ç»„å’Œç±»æ•°ç»„å¯¹è±¡å±æ€§ä¼šæŒ‰ç…§é¡ºåºè¢«æšä¸¾ï¼‰</li><li>å±æ€§åä¸ºå…¶ä»–å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§å…ˆåé¡ºåº</li><li>å±æ€§åä¸ºç¬¦å·å¯¹è±¡ï¼ŒæŒ‰ç…§å…ˆåé¡ºåº</li></ol><h6 id="for-inå¾ªç¯æšä¸¾é¡ºåºä¸é‚£ä¹ˆä¸¥æ ¼"><a href="#for-inå¾ªç¯æšä¸¾é¡ºåºä¸é‚£ä¹ˆä¸¥æ ¼" class="headerlink" title="for/inå¾ªç¯æšä¸¾é¡ºåºä¸é‚£ä¹ˆä¸¥æ ¼"></a>for/inå¾ªç¯æšä¸¾é¡ºåºä¸é‚£ä¹ˆä¸¥æ ¼</h6><ol><li>å…ˆæŒ‰ç…§ä¸Šè¿°é¡ºåºæšä¸¾è‡ªæœ‰å±æ€§</li><li>å†æŒ‰ç…§ä¸Šè¿°é¡ºåºæšä¸¾ç»§æ‰¿å±æ€§</li><li>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå½“<strong>å·²ç»æœ‰åŒåå±æ€§æšä¸¾è¿‡æˆ–è€…è¯´ä¸€ä¸ªåŒåå±æ€§æ˜¯ä¸å¯æšä¸¾çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§å°±ä¸ä¼šè¢«æšä¸¾äº†</strong></li></ol><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¦å·å±æ€§æ˜¯ä¸å¯æšä¸¾çš„ã€‚è¿™æ„å‘³ç€å®ƒä»¬ä¸ä¼šå‡ºç°åœ¨å¯¹è±¡å±æ€§çš„ forâ€¦in å¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«åŒ…æ‹¬åœ¨ Object.keys() å’Œ Object.getOwnPropertyNames() æ–¹æ³•çš„è¿”å›ç»“æœä¸­ã€‚</p></blockquote><h3 id="æ‰©å±•å¯¹è±¡"><a href="#æ‰©å±•å¯¹è±¡" class="headerlink" title="æ‰©å±•å¯¹è±¡"></a>æ‰©å±•å¯¹è±¡</h3><p>æŒ‡ä¸€ä¸ªå¯¹è±¡çš„<strong>å±æ€§</strong>å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸Šã€‚</p><h4 id="åŸå§‹ä¸”å¸¸è§çš„æ“ä½œ"><a href="#åŸå§‹ä¸”å¸¸è§çš„æ“ä½œ" class="headerlink" title="åŸå§‹ä¸”å¸¸è§çš„æ“ä½œ"></a>åŸå§‹ä¸”å¸¸è§çš„æ“ä½œ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;, o1 = &#123;<span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(o2)) &#123;</span><br><span class="line">    o1[key] = o2[key]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†‘å„æ¡†æ¶çº·çº·å®šä¹‰ç±»ä¼¼äºextends()çš„è¾…åŠ©å‡½æ•°ï¼Œes6ä»¥Object.assign()çš„å½¢å¼è¿›å…¥æ ¸å¿ƒJSè¯­è¨€</p><h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h4><h5 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h5><p>ä¼ ä¸¤ç§å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼›ç¬¬äºŒä¸ªä»¥åŠä»¥åçš„å‚æ•°æ˜¯ä¸€ä¸ªä¸ªæ¥æºå¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(ç›®æ ‡å¯¹è±¡, æ¥æºå¯¹è±¡*n)</span><br></pre></td></tr></table></figure><h5 id="æ–¹å¼"><a href="#æ–¹å¼" class="headerlink" title="æ–¹å¼"></a>æ–¹å¼</h5><p>è¿™ä¸ªå‡½æ•°å°†è¿™äº› æ¥æºå¯¹è±¡ çš„ <strong>å¯æšä¸¾è‡ªæœ‰å±æ€§</strong> æœ‰é¡ºåºåœ°(ä¾‹å¦‚<strong>åç»­å±æ€§ä¼šè¦†ç›–å…ˆå‰åŒåå±æ€§</strong>)å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚</p><p>è¿™ä¸ªå‡½æ•°åœ¨æ‰§è¡ŒæœŸé—´ï¼Œå¦‚æœæ¥æºå¯¹è±¡æœ‰è·å–æ–¹æ³•/ç›®æ ‡å¯¹è±¡æœ‰è®¾ç½®æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™äº›æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œå½“ç„¶å®ƒä»¬ä¸ä¼šè¢«å¤åˆ¶ã€‚</p><h5 id="å°†å±æ€§ä»ä¸€ä¸ªå¯¹è±¡åˆ†é…ç»™å¦ä¸€ä¸ªå¯¹è±¡"><a href="#å°†å±æ€§ä»ä¸€ä¸ªå¯¹è±¡åˆ†é…ç»™å¦ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="å°†å±æ€§ä»ä¸€ä¸ªå¯¹è±¡åˆ†é…ç»™å¦ä¸€ä¸ªå¯¹è±¡"></a>å°†å±æ€§ä»ä¸€ä¸ªå¯¹è±¡åˆ†é…ç»™å¦ä¸€ä¸ªå¯¹è±¡</h5><p>è¿™ç§åšæ³•çš„åŸå› æ˜¯ï¼Œå¦‚æœæœ‰ä¸€ä¸ªé»˜è®¤å¯¹è±¡é‡Œæœ‰å¾ˆå¤šå±æ€§å’Œå®ƒä»¬çš„é»˜è®¤å€¼ï¼Œä¸”å¯¹è±¡ä¸­ä¸å­˜åœ¨åŒåå±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¿™äº›é»˜è®¤å€¼å¤åˆ¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>å®ç°â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaults = &#123;...&#125; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªé»˜è®¤å¯¹è±¡ </span></span><br><span class="line"><span class="keyword">let</span> o = &#123;...&#125; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼šç®€å•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å¹¶ä¸”èµ‹å€¼</span></span><br><span class="line">o = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, defaults, o)</span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼šä½¿ç”¨æ‰©å±•æ“ä½œç¬¦...</span></span><br><span class="line">o = &#123;...defaults, ...o&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§ï¼šé‡å†™ä¸€ä¸ªç±»Object.assign()çš„è¾…åŠ©æ–¹æ³•</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªmergeå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸Object.assignç±»ä¼¼ï¼Œä½†æ˜¯ä¸ä¼šè¦†ç›–å·²å­˜åœ¨çš„å±æ€§ï¼Œé¿å…äº†é¢å¤–å¯¹è±¡çš„åˆ›å»ºå’Œå¤åˆ¶ã€‚</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> source <span class="keyword">in</span> sources) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(source)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(key <span class="keyword">in</span> target)) &#123;</span><br><span class="line">                target[key] = source[key]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">merge</span>(o, defaults) <span class="comment">// =&gt; âˆš</span></span><br></pre></td></tr></table></figure><h5 id="æ‹“å±•-é‡å†™ä¸€äº›è¾…åŠ©å‡½æ•°"><a href="#æ‹“å±•-é‡å†™ä¸€äº›è¾…åŠ©å‡½æ•°" class="headerlink" title="æ‹“å±•-é‡å†™ä¸€äº›è¾…åŠ©å‡½æ•°"></a>æ‹“å±•-é‡å†™ä¸€äº›è¾…åŠ©å‡½æ•°</h5><p>merge()â€”â€”ä¸Object.assign()ç±»ä¼¼ï¼Œä½†ä¸ä¼šè¦†ç›–å·²ç»å­˜åœ¨çš„å±æ€§ï¼ˆä¹¦ä¸­ï¼‰</p><p>restrict()â€”â€”ä»ä¸€ä¸ªå¯¹è±¡ä¸­åˆ é™¤å¦ä¸€ä¸ªå¯¹è±¡ä¸­æ²¡æœ‰çš„å±æ€§ï¼ˆè‡ªå·±è¯•ç€å†™çš„ï¼‰</p><p>subtract()â€”â€”ä»ä¸€ä¸ªå¯¹è±¡ä¸­åˆ é™¤å¦ä¸€ä¸ªå¯¹è±¡ä¸­åŒ…å«çš„æ‰€æœ‰å±æ€§ï¼ˆâ†‘ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„è¿™é‡Œä¸æ˜¯è¿ç»­æ“ä½œï¼Œä¼ å‚çš†ä¸ºä»¥ä¸‹åˆå§‹å€¼</span></span><br><span class="line"><span class="keyword">let</span> dobj = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> source <span class="keyword">of</span> sources) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!(key <span class="keyword">in</span> target)) &#123;</span><br><span class="line">        target[key] = source[key]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;merge&quot;</span>, <span class="title function_">merge</span>(obj, dobj) ) <span class="comment">// =&gt; &#123;x: 1, y: 2, z: 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">restrict</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> source <span class="keyword">of</span> sources) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">      <span class="keyword">if</span> (key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        target[key] = source[key]</span><br><span class="line">      &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;restrict&quot;</span>, <span class="title function_">restrict</span>(obj, dobj) ) <span class="comment">// =&gt; &#123;x: 1&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line"><span class="comment">//   target: dobj, sources: obj</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> source <span class="keyword">of</span> sources) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">      <span class="keyword">if</span> (key <span class="keyword">in</span> target) &#123;</span><br><span class="line">        <span class="keyword">delete</span> target[key]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;subtract&quot;</span>, <span class="title function_">subtract</span>(dobj, obj) ) <span class="comment">// =&gt; &#123;y: 2, z: 3&#125;</span></span><br></pre></td></tr></table></figure><h3 id="åºåˆ—åŒ–å¯¹è±¡"><a href="#åºåˆ—åŒ–å¯¹è±¡" class="headerlink" title="åºåˆ—åŒ–å¯¹è±¡"></a>åºåˆ—åŒ–å¯¹è±¡</h3><h4 id="å¯¹è±¡åºåˆ—åŒ–"><a href="#å¯¹è±¡åºåˆ—åŒ–" class="headerlink" title="å¯¹è±¡åºåˆ—åŒ–"></a>å¯¹è±¡åºåˆ—åŒ–</h4><p>å¯¹è±¡åºåˆ—åŒ–ï¼ˆserializationï¼‰æ˜¯æŠŠ<strong>å¯¹è±¡çš„çŠ¶æ€</strong>ï¼ˆå¯¹è±¡åœ¨æŸä¸€æ—¶åˆ»å±æ€§å’Œå€¼çš„é›†åˆï¼‰è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼Œä¹‹åå¯ä»¥ä»ä¸­æ¢å¤å¯¹è±¡çš„çŠ¶æ€ã€‚</p><blockquote><p>JSå¯¹è±¡åºåˆ—åŒ–å‡½æ•°ï¼šJSON.stringify()        </p><p>æ¢å¤JSå¯¹è±¡å‡½æ•°ï¼šJSON.parse()</p></blockquote><p>JSONè¯­æ³•æ˜¯JSè¯­æ³•çš„å­é›†ï¼Œæ‰€ä»¥ä¸èƒ½è¡¨ç¤ºæ‰€æœ‰çš„JSå€¼ã€‚</p><p>â†‘å› æ­¤å®ƒèƒ½åºåˆ—åŒ–å’Œå›å¤çš„å€¼æ˜¯æœ‰é™çš„â†“</p><ul><li>å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²ï¼ˆæ—¥æœŸå¯¹è±¡ä¼šè¢«åºåˆ—åŒ–ä¸ºISOæ ¼å¼æ—¥æœŸå­—ç¬¦ä¸²<code>Date.toJSON()</code>ï¼Œä½†æ˜¯<code>JSON.parse()</code>æ—¶ä¼šä¿æŒå…¶å­—ç¬¦ä¸²å½¢å¼ï¼‰</li><li>æœ‰é™æ•°å€¼</li><li>true/false</li><li>nullï¼ˆNaNã€Infinityä¼šè¢«åºåˆ—åŒ–æˆnullï¼‰</li></ul><p>ä¸èƒ½è¢«åºåˆ—åŒ–æˆ–æ¢å¤çš„â†“</p><ul><li>å‡½æ•°</li><li>RegExp</li><li>Errorå¯¹è±¡</li><li>undefinedå€¼</li></ul><p>å¦å¤–ï¼ŒJSON.stringify()åªåºåˆ—åŒ–å¯¹è±¡çš„ å¯æšä¸¾è‡ªæœ‰å±æ€§ã€‚å¦‚æœå±æ€§å€¼æ— æ³•è¢«åºåˆ—åŒ–ï¼Œé‚£ä¹ˆå±æ€§ä¼šä»å­—ç¬¦ä¸²ä¸­åˆ é™¤ã€‚</p><h4 id="JSON-stringify-JSON-parse"><a href="#JSON-stringify-JSON-parse" class="headerlink" title="JSON.stringify() / JSON.parse()"></a>JSON.stringify() / JSON.parse()</h4><p>ä¸¤è€…éƒ½å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥è‡ªå®šä¹‰åºåˆ—åŒ–ä»¥åŠæ¢å¤æ“ä½œã€‚==ï¼ˆå¾…å¡«å……å…·ä½“è‡ªå®šä¹‰æ–¹å¼ï¼‰==</p><h3 id="å¯¹è±¡æ–¹æ³•"><a href="#å¯¹è±¡æ–¹æ³•" class="headerlink" title="å¯¹è±¡æ–¹æ³•"></a>å¯¹è±¡æ–¹æ³•</h3><h4 id="Object-prototypeä¸­ä¸€äº›é€šç”¨æ–¹æ³•"><a href="#Object-prototypeä¸­ä¸€äº›é€šç”¨æ–¹æ³•" class="headerlink" title="Object.prototypeä¸­ä¸€äº›é€šç”¨æ–¹æ³•"></a>Object.prototypeä¸­ä¸€äº›é€šç”¨æ–¹æ³•</h4><h5 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h5><p>è¯¥æ–¹æ³•çš„é»˜è®¤æ–¹æ³•æ˜¯ä¸ä¼šæ˜¾ç¤ºå¤ªæœ‰ç”¨çš„ä¿¡æ¯ã€‚æ‰€ä»¥ä¸€èˆ¬éœ€è¦åœ¨å¯¹è±¡ä¸­å¯¹è¯¥æ–¹æ³•è¿›è¡Œä¸€ä¸ªé‡æ–°å®šä¹‰â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(point.<span class="title function_">toString</span>()) <span class="comment">// =&gt; (1, 2)</span></span><br></pre></td></tr></table></figure><h5 id="toLoocalString"><a href="#toLoocalString" class="headerlink" title="toLoocalString()"></a>toLoocalString()</h5><p>è¯¥æ–¹æ³•é»˜è®¤æ˜¯æ²¡æœ‰å®ç°ä»»ä½•æœ¬åœ°åŒ–æ“ä½œï¼Œåªæ˜¯ç®€å•è°ƒç”¨äº†ä¸€ä¸‹toString()æ–¹æ³•ã€‚å› æ­¤ä¸€èˆ¬éœ€è¦æ ¹æ®æœ¬åœ°æƒ¯ä¾‹æ ¼å¼åŒ–æ•°å€¼ã€æ—¥æœŸã€æ—¶é—´ç­‰â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">toLocaleString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x.toLocaleString()&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y.toLocaleString()&#125;</span>)`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(point.<span class="title function_">toString</span>()) <span class="comment">// =&gt; (1000, 2000)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(point.<span class="title function_">toLocaleString</span>()) <span class="comment">// =&gt; (1,000, 2,000)</span></span><br></pre></td></tr></table></figure><h5 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h5><p>è¯¥æ–¹æ³•é»˜è®¤ä¹Ÿå¹¶æ²¡æœ‰åšä»€ä¹ˆã€‚å› æ­¤ä¸€äº›å†…ç½®ç±»å®šä¹‰äº†è‡ªå·±çš„valueOf()æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">y</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="attr">valueOf</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(point))</span><br></pre></td></tr></table></figure><p>Dateç±»å®šä¹‰çš„valueOf()å¯ä»¥å°†æ—¥æœŸè½¬æ¢ä¸ºå€¼ï¼Œè¿™æ ·ä¸€æ¥å°±èƒ½è¿›è¡Œæ¯”è¾ƒã€‚</p><h5 id="toJSON-â€”â€”ä¸å¤ªç†è§£"><a href="#toJSON-â€”â€”ä¸å¤ªç†è§£" class="headerlink" title="toJSON()â€”â€”ä¸å¤ªç†è§£"></a>toJSON()â€”â€”ä¸å¤ªç†è§£</h5><p>Object.propertyå®é™…æ²¡æœ‰å®šä¹‰è¯¥æ–¹æ³•ï¼Œä½†JSON.stringify()æ–¹æ³•ä¼šä»è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­å¯»æ‰¾toJSON()æ–¹æ³•ã€‚å¦‚æœè¯¥æ–¹æ³•å­˜åœ¨ï¼Œå°±è°ƒç”¨ç„¶ååºåˆ—åŒ–è¯¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œè€ŒéåŸå§‹å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">toJSON</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>([point]) <span class="comment">// =&gt; &#x27;[&quot;(1, 2)&quot;]&#x27;</span></span><br></pre></td></tr></table></figure><p>Dateç±»å®šä¹‰äº†è‡ªå·±çš„toJSON()æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªè¡¨ç¤ºæ—¥æœŸçš„åºåˆ—åŒ–å­—ç¬¦ä¸²ã€‚</p><h3 id="å¯¹è±¡å­—é¢é‡æ‰©å±•è¯­æ³•"><a href="#å¯¹è±¡å­—é¢é‡æ‰©å±•è¯­æ³•" class="headerlink" title="å¯¹è±¡å­—é¢é‡æ‰©å±•è¯­æ³•"></a>å¯¹è±¡å­—é¢é‡æ‰©å±•è¯­æ³•</h3><h4 id="ç®€å†™å±æ€§"><a href="#ç®€å†™å±æ€§" class="headerlink" title="ç®€å†™å±æ€§"></a>ç®€å†™å±æ€§</h4><p>ES6ä¹‹åå¯ä»¥åˆ æ‰å…¶ä¸­åˆ†å·å’Œä¸€ä»½æ ‡è¯†ç¬¦ï¼Œä½¿å¾—ä»£ç æ›´ä¸ºç®€æ´ï¼ˆéå¸¸å¸¸ç”¨ï¼‰ã€‚</p><p>compareâ†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> o1 = &#123;</span><br><span class="line">    <span class="attr">x</span>: x,</span><br><span class="line">    <span class="attr">y</span>: y</span><br><span class="line">&#125;</span><br><span class="line">-----------------</span><br><span class="line"><span class="keyword">let</span> o2 = &#123; x, y &#125;</span><br></pre></td></tr></table></figure><h4 id="è®¡ç®—çš„å±æ€§å"><a href="#è®¡ç®—çš„å±æ€§å" class="headerlink" title="è®¡ç®—çš„å±æ€§å"></a>è®¡ç®—çš„å±æ€§å</h4><p>ES6ä¹‹åä½¿ç”¨è®¡ç®—å±æ€§å°±éå¸¸è®¨å·§äº†ã€‚å› ä¸ºå¯ä»¥ç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä½¿ç”¨ä¸­æ‹¬å·<code>[]</code>å»æ¡†è®¡ç®—å±æ€§ï¼Œä½¿å¾—è®¡ç®—ç»“æœï¼ˆå¿…è¦è½¬å­—ç¬¦ä¸²ï¼‰ç›´æ¥ä½œä¸ºå¯¹è±¡å±æ€§åã€‚</p><p>compareâ†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pName = <span class="string">&#x27;herName&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">computePName</span> () &#123; <span class="keyword">return</span> <span class="string">&#x27;hisName&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o1 = &#123;&#125;</span><br><span class="line">o1[pName] = <span class="string">&#x27;æ —å­&#x27;</span></span><br><span class="line">o1[computePName] = <span class="string">&#x27;çº¸é¹¤&#x27;</span></span><br><span class="line">-----------------------</span><br><span class="line"><span class="keyword">let</span> o2 = &#123;</span><br><span class="line">    [pName]: <span class="string">&#x27;æ —å­&#x27;</span>,</span><br><span class="line">    [computePName]: <span class="string">&#x27;çº¸é¹¤&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è®¡ç®—å±æ€§ä½¿ç”¨åœºæ™¯"><a href="#è®¡ç®—å±æ€§ä½¿ç”¨åœºæ™¯" class="headerlink" title="è®¡ç®—å±æ€§ä½¿ç”¨åœºæ™¯"></a>è®¡ç®—å±æ€§ä½¿ç”¨åœºæ™¯</h5><ul><li>ä¹¦ä¸­æåˆ°çš„ä¸€ç§ï¼šå‡è®¾æˆ‘æœ‰ä¸€ä¸ªJSä»£ç åº“ï¼Œæˆ‘éœ€è¦ä¼ ç»™æ­¤åº“ä¸€ç»„ç‰¹å®šå±æ€§å¯¹è±¡ï¼Œè€Œè¿™ç»„å±æ€§çš„åå­—åœ¨åº“ä¸­éƒ½æ˜¯ä»¥å¸¸é‡çš„å½¢å¼å®šä¹‰çš„ã€‚å¦‚æœè¦åˆ›å»ºä¼ ç»™æ­¤åº“çš„å¯¹è±¡ï¼Œå¯ä»¥ç¡¬ç¼–ç ä»–ä»¬çš„å±æ€§åï¼Œä½†æ˜¯è¿™æ ·å¾ˆæœ‰å¯èƒ½æŠŠå±æ€§åå†™é”™ï¼Œè€Œä¸”ä¹Ÿå­˜åœ¨æ›´æ–°è¿­ä»£ä¿®æ”¹å±æ€§åè€Œå‡ºé”™ã€‚é‚£ä¹ˆè¿™æ—¶å€™ä¸å¦¨ç”¨ä¸€å±‚è®¡ç®—å±æ€§å»è£…è¿™äº›å¸¸é‡ï¼Œæ¥ç»„æˆè¿™ä¸ªå¯¹è±¡ã€‚</li><li>æ•°æ®è¿‡æ»¤ï¼šæŒ‰ç…§ä¸€å®šçš„æ¡ä»¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤</li><li>æ•°æ®æ’åºï¼šæŒ‰ç…§ä¸€å®šé¡ºåºå¯¹æ•°æ®æ’åºï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§å¯¹æ•°æ®é›†è¿›è¡ŒåŠ¨æ€æ’åº</li><li>æ•°æ®æ ¼å¼åŒ–ï¼šä½¿ç”¨è®¡ç®—å±æ€§æ ¼å¼åŒ–æ•°æ®ï¼Œæœ€å¸¸è§çš„å¯èƒ½æ˜¯æ•°å­—å’Œæ—¥æœŸä»¥åŠå­—ç¬¦ä¸²â€¦â€¦éƒ½æŒºå¸¸è§çš„ã€‚</li><li>æ•°æ®èšåˆï¼šæ¯”å¦‚è¯´ä¸€äº›åŠ å’Œï¼Œä¸€äº›æ‹¼æ¥â€¦â€¦</li></ul><h4 id="ç¬¦å·ä½œä¸ºå±æ€§å"><a href="#ç¬¦å·ä½œä¸ºå±æ€§å" class="headerlink" title="ç¬¦å·ä½œä¸ºå±æ€§å"></a>ç¬¦å·ä½œä¸ºå±æ€§å</h4><p>ES6åç¬¦å·ä¹Ÿå¯ä»¥ä½œä¸ºå±æ€§åï¼ˆä¹Ÿå¤šäºäº†è®¡ç®—å±æ€§è¯­æ³•ï¼‰ã€‚</p><ul><li>Symbolé™¤äº†ç”¨ä½œå±æ€§åä»¥å¤–ä¸èƒ½åšä»»ä½•äº‹ã€‚</li><li>ä¸ºå•¥Symbol()å‡½æ•°æ˜¯å·¥å‚å‡½æ•°è€Œä¸æ˜¯æ„é€ å‡½æ•°ï¼Ÿâ€”â€”è¯¥å‡½æ•°è¿”å›å€¼æ˜¯åŸå§‹å€¼è€Œä¸æ˜¯å¯¹è±¡ï¼Œå› æ­¤ä¸éœ€è¦newä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</li><li>ç¬¦å·æ˜¯ä¸€ç§å®‰å…¨æœºåˆ¶å—ï¼Ÿâ€”â€”nonoï¼Œç¬¦å·ä¸æ˜¯ä¸ºäº†å®‰å…¨ï¼Œè€Œæ˜¯ä¸ºJSå¯¹è±¡å®šä¹‰å®‰å…¨çš„æ‰©å±•æœºåˆ¶ã€‚å‡è®¾æˆ‘ä»¬è¦ä»<strong>ä¸å—æ§çš„ç¬¬ä¸‰æ–¹ä»£ç ä¸­</strong>å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬æ‹…å¿ƒåˆ›å»ºä¸€ä¸ªå±æ€§ä¼šä½¿å¾—å¯¹è±¡ä¸åŸå¯¹è±¡äº§ç”Ÿå†²çªï¼Œæˆ–è€…æ‹…å¿ƒç¬¬ä¸‰æ–¹ä»£ç ä»¥å¤–ä¿®æ”¹æˆ‘ä»¬å‘½åçš„å±æ€§ï¼Œé‚£è¿™ä¸ªæ—¶å€™ç”¨Symboléå¸¸åˆé€‚ã€‚å½“ç„¶ï¼Œç¬¬ä¸‰æ–¹ä»£ç å®Œå…¨å¯ä»¥é€šè¿‡<code>Object.getOwnPropertySymbols()</code>æ–¹æ³•æ‰¾åˆ°æˆ‘ä»¬çš„ç¬¦å·å¹¶ä¸”ä¿®æ”¹åˆ é™¤qvqï¼Œè¿™ä¹Ÿæ˜¯ç¬¦å·å¹¶éä¸€ç§å®‰å…¨æœºåˆ¶çš„åŸå› ã€‚</li></ul><h4 id="æ‰©å±•æ“ä½œç¬¦"><a href="#æ‰©å±•æ“ä½œç¬¦" class="headerlink" title="æ‰©å±•æ“ä½œç¬¦"></a>æ‰©å±•æ“ä½œç¬¦</h4><p>æ‰©å±•æ“ä½œç¬¦åœ¨æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨<code>Object.assign()</code>æ—¶æåˆ°è¿‡ï¼Œè¿™æ˜¯ä¸€ç§ç®€ä¾¿æ–¹æ³•ï¼Œå¯ä»¥å°†å¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ï¼Œè¿™æ˜¯ä¸€ç§å…¸å‹çš„æ’å€¼è¡Œä¸ºï¼Œå½“ç„¶åªåœ¨å¯¹è±¡å­—é¢é‡ä¸­æ‰æ˜¯è¿™ç§è¡Œä¸ºï¼ˆpostå‚æ•°è®¾ç½®çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œè¿™ä¸ªæ —å­ æ¥æºäºæˆ‘æœ€è¿‘åœ¨å­¦åšçš„é¡¹ç›®ä¸­ï¼‰ã€‚</p><ul><li>æ‰©å±•æ“ä½œç¬¦ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ“ä½œç¬¦ï¼Œæ˜¯ä¸€ç§è¯­æ³•</li><li>æ‰©å±•æ“ä½œç¬¦åªèƒ½æ‰©å±•å¯¹è±¡çš„è‡ªæœ‰å±æ€§</li><li>æ‰©å±•æ“ä½œç¬¦è™½è¯´çœ‹ç€å¾ˆç®€æ´ï¼Œä½†æ˜¯ä¼šç»™JSè§£é‡Šå™¨å¸¦æ¥å·¨å¤§å·¥ä½œé‡ã€‚åŸºäºå¾ªç¯/é€’å½’ ( O(n) ) ä¸æ–­ç»™å¯¹è±¡è¿½åŠ å±æ€§ï¼Œå€˜è‹¥æ“ä½œé‡å¾ˆå¤§çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯éå¸¸é«˜çš„ï¼Œè¿‘ä¼¼äº O(n^2) ã€‚</li></ul><h4 id="ç®€å†™æ–¹æ³•"><a href="#ç®€å†™æ–¹æ³•" class="headerlink" title="ç®€å†™æ–¹æ³•"></a>ç®€å†™æ–¹æ³•</h4><p>ES6ä¹‹åå¯¹è±¡é‡Œå‡½æ•°å¯ä»¥çœå»<code>function</code></p><h5 id="ç®€å†™å’Œå…¶ä»–ç±»å‹çš„å±æ€§å"><a href="#ç®€å†™å’Œå…¶ä»–ç±»å‹çš„å±æ€§å" class="headerlink" title="ç®€å†™å’Œå…¶ä»–ç±»å‹çš„å±æ€§å"></a>ç®€å†™å’Œå…¶ä»–ç±»å‹çš„å±æ€§å</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = &#123;</span><br><span class="line">    <span class="attr">qvq</span>: <span class="string">&#x27;qvq&#x27;</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">qvq</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------ç­‰ä»·-------------</span><br><span class="line"><span class="keyword">let</span> o2 = &#123;</span><br><span class="line">    <span class="attr">qvq</span>: <span class="string">&#x27;qvq&#x27;</span>,</span><br><span class="line">    <span class="title function_">func</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">qvq</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line">---å±æ€§åè¿˜å¯ä»¥æ˜¯æ›´æ—¶é«¦çš„å½¢å¼---</span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">METHOD_NAME</span> = <span class="string">&#x27;m&#x27;</span></span><br><span class="line"><span class="keyword">const</span> symbol = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> o3 = &#123;</span><br><span class="line">    [<span class="variable constant_">METHOD_NAME</span>](x) &#123; <span class="keyword">return</span> x++ &#125;,</span><br><span class="line">    [symbol](x) &#123; <span class="keyword">return</span> x-- &#125;,</span><br><span class="line">    <span class="string">&quot;ah&quot;</span>(x) &#123; <span class="keyword">return</span> <span class="string">&#x27;aaa&#x27;</span>+x+<span class="string">&#x27;hhh&#x27;</span> &#125;,</span><br><span class="line">&#125;</span><br><span class="line">o3[symbol](<span class="number">1</span>) <span class="comment">// =&gt; 0</span></span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²å­—é¢é‡å’Œè®¡ç®—å±æ€§éƒ½å¯ä»¥ä½œä¸ºå¯¹è±¡ä¸­æ–¹æ³•å±æ€§åï¼›</p><h5 id="ä½¿å¾—åŒ…å«Symbolå±æ€§çš„å¯¹è±¡ä¹Ÿå¯è¿­ä»£-Generator-amp-Symbol-iterator"><a href="#ä½¿å¾—åŒ…å«Symbolå±æ€§çš„å¯¹è±¡ä¹Ÿå¯è¿­ä»£-Generator-amp-Symbol-iterator" class="headerlink" title="ä½¿å¾—åŒ…å«Symbolå±æ€§çš„å¯¹è±¡ä¹Ÿå¯è¿­ä»£-Generator&amp;Symbol.iterator"></a>ä½¿å¾—åŒ…å«Symbolå±æ€§çš„å¯¹è±¡ä¹Ÿå¯è¿­ä»£-Generator&amp;Symbol.iterator</h5><p>ç¬¦å·ä¹Ÿå¯ä½œä¸ºæ–¹æ³•åï¼Œä¸ºäº†è®©å¯¹è±¡å¯è¿­ä»£ï¼Œå¿…é¡»ä»¥ç¬¦å·å<code>Symbol.iterator</code>ä¸ºå®ƒå®šä¹‰ä¸€ä¸ªæ–¹æ³•â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="title class_">Symbol</span>(<span class="string">&quot;customMethod&quot;</span>)]: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;This is a custom method using Symbol&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">    <span class="keyword">let</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">      <span class="keyword">yield</span> <span class="variable language_">this</span>[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;John&quot;</span>;</span><br><span class="line">obj.<span class="property">age</span> = <span class="number">30</span>;</span><br><span class="line">obj.<span class="property">address</span> = <span class="string">&quot;123 Main St&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> obj) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// This is a custom method using Symbol</span></span><br><span class="line"><span class="comment">// John</span></span><br><span class="line"><span class="comment">// 30</span></span><br><span class="line"><span class="comment">// 123 Main St</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>Generator</code>å‡½æ•°å®šä¹‰Symbol.iteratorå±æ€§<code>*[Symbol.iterator]</code>ï¼Œè¯¥å‡½æ•°è¿”å›è¿­ä»£å™¨å¯¹è±¡ã€‚è¯¥è¿­ä»£å™¨å¯¹è±¡é€šè¿‡éå†å¯¹è±¡ä¸­æ‰€æœ‰å±æ€§å¹¶è¿”å›å±æ€§å€¼ï¼Œä»è€Œå®ç°äº†å¯è¿­ä»£æ€§ã€‚è¿™æ ·ä¸€æ¥è¿™ä¸ªSymbolæ–¹æ³•åçš„æ–¹æ³•çš„å±æ€§ä¹Ÿå¯è¿­ä»£äº†ã€‚</p><p>å€¼å¾—æ³¨æ„<strong>Generator</strong>å‡½æ•°åœ¨è¿™é‡Œä½¿ç”¨äº†<code>*</code>ä½œä¸ºå‡½æ•°å£°æ˜ç¬¦å·ã€‚è¿™æ˜¯å®šä¹‰Generatorå‡½æ•°çš„ä¸€ç§ç‰¹æ®Šè¯­æ³•ã€‚è¿™ç§è¯­æ³•å°†å‡½æ•°å®šä¹‰ä¸ºä¸€ç§ç”Ÿæˆå™¨ï¼Œä½¿å¾—å…¶å…·æœ‰ <strong>çŸ­æš‚æš‚åœ/æ¢å¤æ‰§è¡Œ</strong> çš„èƒ½åŠ›ï¼Œä»è€Œä½¿å…¶èƒ½ç”Ÿæˆä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚</p><h4 id="å±æ€§çš„è·å–-è®¾ç½®æ–¹æ³•"><a href="#å±æ€§çš„è·å–-è®¾ç½®æ–¹æ³•" class="headerlink" title="å±æ€§çš„è·å–/è®¾ç½®æ–¹æ³•"></a>å±æ€§çš„è·å–/è®¾ç½®æ–¹æ³•</h4><p>å¯¹è±¡çš„å±æ€§é™¤äº†æ•°æ®å±æ€§ï¼Œè¿˜æœ‰è®¿é—®å™¨å±æ€§<code>accessor property</code>ã€‚</p><ul><li>å¯¹è±¡å±æ€§ï¼šå±æ€§å&amp;å±æ€§å€¼</li><li>è®¿é—®å™¨å±æ€§ï¼šä¸€ä¸ªä¿©çš„è®¿é—®å™¨æ–¹æ³•â€”â€”è·å–æ–¹æ³• getter / è®¾ç½®æ–¹æ³• setter</li></ul><h5 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h5><h6 id="è®¿é—®å™¨å±æ€§ç”¨æ³•"><a href="#è®¿é—®å™¨å±æ€§ç”¨æ³•" class="headerlink" title="è®¿é—®å™¨å±æ€§ç”¨æ³•"></a>è®¿é—®å™¨å±æ€§ç”¨æ³•</h6><p>å±æ€§åï¼šæ–¹æ³•å    å±æ€§å€¼ï¼šæ–¹æ³•è¿”å›å€¼    <strong>ES6ä¹‹åä¹Ÿå¯ä»¥ä½¿ç”¨è®¡ç®—çš„å±æ€§åæ¥å®šä¹‰è·å–/è®¾ç½®æ–¹æ³•</strong>ï¼ˆç›¸å½“ç‚¸è£‚ï¼‰</p><ul><li>ç¨‹åºæŸ¥è¯¢ä¸€ä¸ªè®¿é—®å™¨å±æ€§çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šè°ƒç”¨è·å–æ–¹æ³•ï¼ˆä¸ä¼ å‚ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›å€¼å³ä¸ºå±æ€§è®¿é—®è¡¨è¾¾å¼çš„å€¼ã€‚</li><li>ç¨‹åºè®¾ç½®ä¿®æ”¹ä¸€ä¸ªè®¿é—®å™¨å±æ€§æ—¶ï¼Œé€šå¸¸ä¼šè°ƒç”¨è®¾ç½®æ–¹æ³•ï¼ˆéœ€ä¼ å‚ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®å±æ€§çš„å€¼ï¼Œå¿½ç•¥è¿”å›å€¼ã€‚</li></ul><blockquote><p>å¯è¯»å¯å†™ï¼Œåªè¯»ï¼Œåªå†™(è¿™ç§å±æ€§é€šè¿‡æ•°æ®å±æ€§æ— æ³•å®ç°ï¼Œè¿”å›å€¼<code>undefined</code>)â€”â€”qvqå¥½ç©å§~</p></blockquote><p>è®¿é—®å™¨å±æ€§å¯ä»¥é€šè¿‡ä¸€ä¸ªå­—é¢é‡æ‰©å±•è¯­æ³•å®šä¹‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2Dç¬›å¡å°”åæ ‡ï¼Œæåæ ‡</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1.0</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">1.0</span>,</span><br><span class="line">    <span class="comment">// å¯è¯»å¯å†™</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">r</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>) &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">r</span>(<span class="params">newvalue</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> oldvalue = <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>)</span><br><span class="line">        <span class="keyword">let</span> radio = newvalue / oldvalue</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> *= radio</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> *= radio</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åªè¯»</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">theta</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">atan2</span>(<span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">x</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.<span class="property">r</span> <span class="comment">// =&gt; Math.SQRT2</span></span><br><span class="line">p.<span class="property">theta</span> <span class="comment">// =&gt; Math.PI/4 </span></span><br></pre></td></tr></table></figure><h6 id="è®¿é—®å™¨å±æ€§æ˜¯å¯ç»§æ‰¿çš„æï¼"><a href="#è®¿é—®å™¨å±æ€§æ˜¯å¯ç»§æ‰¿çš„æï¼" class="headerlink" title="è®¿é—®å™¨å±æ€§æ˜¯å¯ç»§æ‰¿çš„æï¼"></a>è®¿é—®å™¨å±æ€§æ˜¯å¯ç»§æ‰¿çš„æï¼</h6><h2 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬ç« å¯è°“æ˜¯éå¸¸æ ¸å¿ƒçš„ä¸€ç« ï¼Œæœªæ¥è¿˜éœ€è¦æˆ‘åœ¨é€šè¯»å’Œç†è§£åç»­å†…å®¹åä¸ä¹‹èä¼šè´¯é€šã€‚</p><p>ç®€å•åˆ—ä¸€ä¸‹æœ¬ç« å¤§çº²ï¼Œæ–¹ä¾¿å›é¡¾â†“</p><ul><li>å¯¹è±¡åŠç›¸å…³åŸºæœ¬æ¦‚å¿µ</li><li>å¯¹è±¡å­—é¢é‡è¯­æ³•</li><li>å¯¹è±¡å±æ€§çš„è¯»/å†™/åˆ /æŸ¥/æšä¸¾</li><li>åŸå‹çš„ç»§æ‰¿</li><li>å¯¹è±¡çš„æ‰©å±•</li><li>JSä¸­æ‰€æœ‰éåŸå§‹å€¼çš„å€¼éƒ½æ˜¯å¯¹è±¡ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> çŠ€ç‰›ä¹¦ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„é€‰å‹ç ”ç©¶ï¼šä»¥å®è·µæ¡ˆä¾‹ä¸ºåŸºç¡€</title>
      <link href="/post/e2a7.html"/>
      <url>/post/e2a7.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>æ‘˜è¦</strong>ï¼šéšç€å‰ç«¯æŠ€æœ¯çš„ä¸æ–­å‘å±•å’Œåº”ç”¨ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·²ç»æˆä¸ºç°ä»£Webå¼€å‘çš„ä¸€ä¸ªå¿…è¦ç»„æˆéƒ¨åˆ†ã€‚é€‰æ‹©æœ€é€‚åˆé¡¹ç›®çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶å¯¹äºå¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡çš„æå‡è‡³å…³é‡è¦ã€‚æœ¬æ–‡ä»¥å®è·µæ¡ˆä¾‹ä¸ºåŸºç¡€ï¼Œå¯¹å¸¸è§çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†æ¯”è¾ƒå’Œåˆ†æï¼Œå¹¶æ¢è®¨äº†å¦‚ä½•åœ¨å®è·µä¸­è¿›è¡Œé€‰æ‹©ã€‚ </p><p><strong>å…³é”®è¯</strong>ï¼šå‰ç«¯å·¥ç¨‹åŒ–ï¼Œå·¥å…·ï¼Œæ¡†æ¶ï¼Œé€‰å‹ï¼Œå®è·µæ¡ˆä¾‹ </p></blockquote><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>â€‹        éšç€Webåº”ç”¨çš„ä¸æ–­å‘å±•ï¼Œå‰ç«¯æŠ€æœ¯çš„é‡è¦æ€§æ—¥ç›Šå‡¸æ˜¾ã€‚ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘æ–¹å¼å·²ç»æ— æ³•æ»¡è¶³å½“å‰å¤æ‚Webåº”ç”¨çš„å¼€å‘éœ€æ±‚ï¼Œå› æ­¤å‰ç«¯å·¥ç¨‹åŒ–åº”è¿è€Œç”Ÿã€‚å‰ç«¯å·¥ç¨‹åŒ–åŒ…æ‹¬æ„å»ºã€æ‰“åŒ…ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€ä»£ç è§„èŒƒç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œå¯ä»¥æé«˜ä»£ç è´¨é‡ã€å¼€å‘æ•ˆç‡å’Œå›¢é˜Ÿåä½œæ•ˆç‡ã€‚åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©æœ€é€‚åˆé¡¹ç›®çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶éå¸¸é‡è¦ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„æ—¶é—´å’Œç²¾åŠ›æµªè´¹ã€‚ </p><p>â€‹        æœ¬æ–‡ä»¥å®è·µæ¡ˆä¾‹ä¸ºåŸºç¡€ï¼Œå¯¹å¸¸è§çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†æ¯”è¾ƒå’Œåˆ†æï¼Œå¹¶æ¢è®¨äº†å¦‚ä½•åœ¨å®è·µä¸­è¿›è¡Œé€‰æ‹©ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç»äº†å¸¸è§çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ï¼ŒåŒ…æ‹¬Webpackã€Gulpã€Gruntã€Vue CLIã€Create React Appç­‰ã€‚ç„¶åï¼Œæˆ‘ä»¬æ ¹æ®å®é™…çš„å¼€å‘éœ€æ±‚ï¼Œä»åŠŸèƒ½ã€æ˜“ç”¨æ€§ã€æ€§èƒ½ç­‰æ–¹é¢å¯¹è¿™äº›å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†æ¯”è¾ƒå’Œè¯„ä¼°ã€‚</p><p>â€‹        æœ€åï¼Œæˆ‘ä»¬æ€»ç»“äº†é€‰å‹çš„å…³é”®å› ç´ å’Œæ³¨æ„äº‹é¡¹ï¼ŒåŒ…æ‹¬é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€èƒ½ã€ç¤¾åŒºæ”¯æŒç­‰ã€‚ æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®åœ¨äºé€šè¿‡å®è·µæ¡ˆä¾‹çš„åˆ†æå’Œæ¯”è¾ƒï¼Œæ¢è®¨äº†å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„é€‰æ‹©æ–¹æ³•ï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›äº†å®é™…å¯è¡Œçš„é€‰å‹æ–¹æ¡ˆå’Œç»éªŒã€‚ </p><h2 id="ç ”ç©¶èƒŒæ™¯"><a href="#ç ”ç©¶èƒŒæ™¯" class="headerlink" title="ç ”ç©¶èƒŒæ™¯"></a>ç ”ç©¶èƒŒæ™¯</h2><p>â€‹        å½“ä»Šäº’è”ç½‘æŠ€æœ¯çš„å‘å±•å·²ç»æˆä¸ºäº†ç°ä»£ç¤¾ä¼šä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚éšç€äº’è”ç½‘æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„ç½‘ç«™å’Œåº”ç”¨ç¨‹åºæ¶Œç°å‡ºæ¥ã€‚å‰ç«¯å·¥ç¨‹åŒ–æŠ€æœ¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å˜å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œè¿™æ˜¯å› ä¸ºå‰ç«¯å·¥ç¨‹åŒ–èƒ½å¤Ÿæé«˜å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œèƒ½åŠ›ã€‚å‰ç«¯å·¥ç¨‹åŒ–æ˜¯æŒ‡å°†å‰ç«¯å¼€å‘æµç¨‹è¿›è¡Œè‡ªåŠ¨åŒ–ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†ä»£ç å’Œé¡¹ç›®ã€‚</p><p>â€‹        å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶æ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è¿™äº›å·¥å…·å’Œæ¡†æ¶æ¥å¿«é€Ÿæ„å»ºé«˜è´¨é‡çš„å‰ç«¯åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œç”±äºå‰ç«¯æŠ€æœ¯çš„ä¸æ–­æ›´æ–°å’Œå˜é©ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„é€‰æ‹©å˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚å¼€å‘äººå‘˜éœ€è¦äº†è§£ç°æœ‰çš„å‰ç«¯æŠ€æœ¯å’Œå‘å±•è¶‹åŠ¿ï¼Œä»¥ä¾¿æ›´å¥½åœ°é€‰æ‹©å’Œä½¿ç”¨å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ã€‚</p><p>â€‹        ç°ä»£å‰ç«¯æŠ€æœ¯å·²ç»ä»ä»¥å‰çš„é™æ€é¡µé¢åˆ°ç°åœ¨çš„åŠ¨æ€äº¤äº’å¼åº”ç”¨ç¨‹åºè½¬å˜ï¼Œéœ€è¦æ›´åŠ å¤æ‚çš„å‰ç«¯æŠ€æœ¯æ¥æ”¯æŒã€‚å‰ç«¯å¼€å‘å·²ç»ä»è¿‡å»çš„ä¸ªäººå¼€å‘åˆ°äº†å›¢é˜Ÿåä½œå¼€å‘çš„é˜¶æ®µï¼Œå› æ­¤éœ€è¦æ›´åŠ çµæ´»ã€é«˜æ•ˆçš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶æ¥æ”¯æŒå›¢é˜Ÿå¼€å‘ã€‚åŒæ—¶ï¼Œå‰ç«¯æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿ä¹Ÿè¶Šæ¥è¶Šæ³¨é‡å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œæ€§èƒ½ä¼˜åŒ–ç­‰æ–¹é¢ï¼Œå› æ­¤å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶éœ€è¦é€‚åº”è¿™äº›å˜åŒ–ï¼Œæä¾›æ›´åŠ å…ˆè¿›å’Œå¯é çš„è§£å†³æ–¹æ¡ˆã€‚ </p><p>â€‹        åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œå‰ç«¯å·¥ç¨‹åŒ–æˆä¸ºäº†è¶Šæ¥è¶Šé‡è¦çš„æŠ€æœ¯ï¼Œå®ƒèƒ½å¤Ÿæé«˜å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œå›¢é˜Ÿåä½œèƒ½åŠ›ã€‚å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ä¹Ÿéšç€å‰ç«¯æŠ€æœ¯çš„å‘å±•è€Œä¸æ–­æ›´æ–°å’Œå‡çº§ï¼Œä»¥é€‚åº”æ–°çš„å¼€å‘éœ€æ±‚å’Œè¶‹åŠ¿ã€‚ä¾‹å¦‚ï¼ŒWebpackã€Gulpå’ŒGruntç­‰å‰ç«¯æ„å»ºå·¥å…·ï¼Œå·²ç»æˆä¸ºç°ä»£å‰ç«¯å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ï¼Œå®ƒä»¬èƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°å¤„ç†å¼€å‘ä¸­çš„è¯¸å¤šå·¥ä½œï¼Œå¦‚ä»£ç å‹ç¼©ã€æ–‡ä»¶åˆå¹¶ã€å›¾ç‰‡å‹ç¼©ã€ES6è½¬ç ç­‰ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚åŒæ—¶ï¼ŒVueã€Reactã€Angularç­‰å‰ç«¯æ¡†æ¶ï¼Œä¹Ÿæˆä¸ºäº†ç°ä»£å‰ç«¯å¼€å‘ä¸­æœ€æµè¡Œçš„å·¥å…·ä¹‹ä¸€ï¼Œå®ƒä»¬èƒ½å¤Ÿæä¾›æ›´åŠ çµæ´»ã€é«˜æ•ˆå’Œå¯ç»´æŠ¤çš„å¼€å‘æ–¹å¼ï¼Œä»è€Œé€‚åº”ç°ä»£å‰ç«¯æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿ã€‚</p><p>â€‹        æœ¬æ–‡é€šè¿‡å®è·µæ¡ˆä¾‹ä¸ºåŸºç¡€ï¼Œç ”ç©¶å’Œåˆ†æäº†å½“å‰æµè¡Œçš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ã€‚å®è·µæ¡ˆä¾‹å¯ä»¥æ›´å¥½åœ°å±•ç¤ºå·¥å…·å’Œæ¡†æ¶çš„ä½¿ç”¨å’Œæ•ˆæœï¼Œä¸ºå¼€å‘äººå‘˜æä¾›æ›´åŠ ç›´è§‚å’Œå®é™…çš„å‚è€ƒã€‚æœ¬æ–‡æ—¨åœ¨æ¢è®¨å¦‚ä½•åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ï¼Œå¹¶åˆ†æå…¶ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå¯¹æœªæ¥å‰ç«¯å·¥ç¨‹åŒ–æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿è¿›è¡Œå±•æœ›ã€‚</p><p>â€‹        åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™å°†å½±å“åˆ°å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œé¡¹ç›®è´¨é‡ã€‚å¯¹äºå‰ç«¯å¼€å‘äººå‘˜æ¥è¯´ï¼Œäº†è§£ä¸åŒå·¥å…·å’Œæ¡†æ¶çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå®ƒä»¬çš„é€‚ç”¨åœºæ™¯ï¼Œæ˜¯éå¸¸å¿…è¦çš„ã€‚æœ¬æ–‡å°†ä»¥å®è·µæ¡ˆä¾‹ä¸ºåŸºç¡€ï¼Œæ·±å…¥æ¢è®¨å½“å‰æµè¡Œçš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ï¼Œåˆ†æå®ƒä»¬çš„ç‰¹ç‚¹å’Œä¼˜ç¼ºç‚¹ï¼Œä¸ºå¼€å‘äººå‘˜æä¾›æ›´åŠ å…¨é¢çš„äº†è§£å’Œé€‰æ‹©æŒ‡å¯¼ã€‚</p><h2 id="ä¸€ã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„ä»‹ç»"><a href="#ä¸€ã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„ä»‹ç»" class="headerlink" title="ä¸€ã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„ä»‹ç»"></a>ä¸€ã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„ä»‹ç»</h2><p>â€‹        å‰ç«¯å·¥ç¨‹åŒ–æ¶µç›–äº†è®¸å¤šæ–¹é¢çš„å·¥ä½œï¼ŒåŒ…æ‹¬æ„å»ºã€æ‰“åŒ…ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€ä»£ç è§„èŒƒç­‰ã€‚å› æ­¤ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ä¹Ÿååˆ†å¤šæ ·åŒ–ï¼Œæœ¬æ–‡ä»‹ç»äº†å¸¸è§çš„å‡ ç§å·¥å…·å’Œæ¡†æ¶ã€‚ </p><h3 id="1-1-Webpack"><a href="#1-1-Webpack" class="headerlink" title="1.1 Webpack"></a>1.1 Webpack</h3><p>â€‹        Webpackæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„JavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒèƒ½å¤Ÿå¤„ç†JSã€CSSã€å›¾ç‰‡ç­‰èµ„æºï¼Œæ”¯æŒçƒ­æ›´æ–°ã€ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ç­‰åŠŸèƒ½ã€‚Webpackæ‹¥æœ‰å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿå’Œç”Ÿæ€ç³»ç»Ÿï¼Œå¯ä»¥æ»¡è¶³å„ç§å¤æ‚åº”ç”¨çš„éœ€æ±‚ã€‚ </p><h3 id="1-2-Gulp"><a href="#1-2-Gulp" class="headerlink" title="1.2 Gulp"></a>1.2 Gulp</h3><p>â€‹        Gulpæ˜¯ä¸€ä¸ªåŸºäºæµçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¯ä»¥å°†ä»£ç è½¬æ¢ã€å‹ç¼©ã€åˆå¹¶ç­‰æ“ä½œè‡ªåŠ¨åŒ–å¤„ç†ã€‚Gulpå…·æœ‰æ˜“ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§é«˜çš„ç‰¹ç‚¹ï¼Œæ”¯æŒæ’ä»¶æ‰©å±•ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸å…¶ä»–å·¥å…·é›†æˆã€‚</p><h3 id="1-3-Grunt"><a href="#1-3-Grunt" class="headerlink" title="1.3 Grunt"></a>1.3 Grunt</h3><p>â€‹        Gruntæ˜¯ä¸€ä¸ªåŸºäºä»»åŠ¡çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–æ‰§è¡ŒJSå‹ç¼©ã€æ–‡ä»¶åˆå¹¶ã€æ–‡ä»¶æ‹·è´ç­‰ä»»åŠ¡ã€‚Gruntæ”¯æŒå¤šç§æ’ä»¶ï¼Œå¯ä»¥æ‰©å±•å…¶åŠŸèƒ½ï¼Œä½†é…ç½®è¾ƒä¸ºå¤æ‚ï¼Œå¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´éœ€è¦è¾ƒé•¿æ—¶é—´çš„å­¦ä¹ å’Œé…ç½®ã€‚</p><h3 id="1-4-Vue-CLI"><a href="#1-4-Vue-CLI" class="headerlink" title="1.4 Vue CLI"></a>1.4 Vue CLI</h3><p>â€‹        Vue CLIæ˜¯ä¸€ä¸ªå®˜æ–¹çš„Vue.jsè„šæ‰‹æ¶å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºVue.jsé¡¹ç›®ã€‚Vue CLIæ”¯æŒè‡ªå®šä¹‰é…ç½®ï¼ŒåŒ…æ‹¬Babelã€ESLintç­‰ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„æ’ä»¶å’Œæ¨¡æ¿ï¼Œå¯ä»¥å¿«é€Ÿæ„å»ºå‡ºå„ç§ç±»å‹çš„Vue.jsé¡¹ç›®ã€‚ </p><h3 id="1-5-Create-React-App"><a href="#1-5-Create-React-App" class="headerlink" title="1.5 Create React App"></a>1.5 Create React App</h3><p>â€‹        Create React Appæ˜¯ä¸€ä¸ªå®˜æ–¹çš„Reactè„šæ‰‹æ¶å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºReacté¡¹ç›®ã€‚Create React Appå¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªåŸºæœ¬çš„Reacté¡¹ç›®ï¼ŒåŒ…æ‹¬Webpacké…ç½®ã€æµ‹è¯•å·¥å…·ç­‰ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰é…ç½®ã€‚</p><h2 id="äºŒã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„æ¯”è¾ƒä¸è¯„ä¼°"><a href="#äºŒã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„æ¯”è¾ƒä¸è¯„ä¼°" class="headerlink" title="äºŒã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„æ¯”è¾ƒä¸è¯„ä¼°"></a>äºŒã€å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„æ¯”è¾ƒä¸è¯„ä¼°</h2><p>â€‹        åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€‰æ‹©æœ€é€‚åˆçš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶éœ€è¦ç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ï¼Œå¦‚åŠŸèƒ½ã€æ˜“ç”¨æ€§ã€æ€§èƒ½ã€ç¤¾åŒºæ”¯æŒç­‰ã€‚æœ¬æ–‡é€šè¿‡å¯¹å®é™…æ¡ˆä¾‹çš„åˆ†æå’Œè¯„ä¼°ï¼Œå¯¹å¸¸è§çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†æ¯”è¾ƒå’Œè¯„ä¼°ã€‚</p><h3 id="2-1-åŠŸèƒ½"><a href="#2-1-åŠŸèƒ½" class="headerlink" title="2.1 åŠŸèƒ½"></a>2.1 åŠŸèƒ½</h3><p>â€‹        åœ¨åŠŸèƒ½æ–¹é¢ï¼ŒWebpackã€Gulpã€Gruntéƒ½å¯ä»¥æ»¡è¶³å¤§å¤šæ•°çš„å‰ç«¯å·¥ç¨‹åŒ–éœ€æ±‚ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–æ„å»ºã€æ‰“åŒ…ã€å‹ç¼©ã€åˆå¹¶ç­‰æ“ä½œã€‚Vue CLIå’ŒCreate React Appåˆ™æ›´åŠ ä¸“æ³¨äºVue.jså’ŒReact.jsé¡¹ç›®çš„æ„å»ºï¼Œæä¾›äº†æ›´åŠ å…¨é¢çš„åŠŸèƒ½æ”¯æŒã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ï¼Œå¦‚Parcelã€Rollupã€Brunchç­‰ï¼Œå®ƒä»¬ä¹Ÿå„æœ‰ç‰¹ç‚¹ã€‚é€šè¿‡å¯¹è¿™äº›å·¥å…·å’Œæ¡†æ¶çš„åŠŸèƒ½è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…é€‰æ‹©æœ€é€‚åˆè‡ªå·±é¡¹ç›®çš„å·¥å…·å’Œæ¡†æ¶ã€‚</p><h3 id="2-2-æ˜“ç”¨æ€§"><a href="#2-2-æ˜“ç”¨æ€§" class="headerlink" title="2.2 æ˜“ç”¨æ€§"></a>2.2 æ˜“ç”¨æ€§</h3><p>â€‹        åœ¨æ˜“ç”¨æ€§æ–¹é¢ï¼ŒWebpackã€Vue CLIå’ŒCreate React Appéƒ½æä¾›äº†ä¸€äº›é»˜è®¤é…ç½®ï¼Œå¯ä»¥å¿«é€Ÿåœ°åˆ›å»ºé¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒè‡ªå®šä¹‰é…ç½®ã€‚Gulpã€Gruntç­‰å·¥å…·åˆ™éœ€è¦å¼€å‘è€…æ‰‹åŠ¨é…ç½®ï¼Œç›¸å¯¹æ¥è¯´ç•¥æ˜¾ç¹çã€‚å¦å¤–ï¼ŒWebpackå’ŒGulpç­‰å·¥å…·çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯ä½¿ç”¨JavaScriptç¼–å†™çš„ï¼Œè€ŒGruntå’ŒVue CLIåˆ™é‡‡ç”¨äº†YAMLæˆ–JSONç­‰å…¶ä»–æ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚å¯¹äºä¸åŒçš„å¼€å‘è€…æ¥è¯´ï¼Œé€‰æ‹©æœ€é€‚åˆè‡ªå·±çš„é…ç½®æ–¹å¼ä¹Ÿæ˜¯ä¸€é¡¹éœ€è¦è€ƒè™‘çš„å› ç´ ã€‚</p><h3 id="2-3-æ€§èƒ½"><a href="#2-3-æ€§èƒ½" class="headerlink" title="2.3 æ€§èƒ½"></a>2.3 æ€§èƒ½</h3><p>â€‹        åœ¨æ€§èƒ½æ–¹é¢ï¼ŒWebpackå’ŒRollupç­‰å·¥å…·ä½¿ç”¨äº†æ¨¡å—åŒ–æ‰“åŒ…æŠ€æœ¯ï¼Œå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æ‰“åŒ…åçš„ä»£ç é‡ï¼Œå¹¶æå‡è¿è¡Œæ—¶çš„æ€§èƒ½è¡¨ç°ã€‚è€ŒGulpå’ŒGruntç­‰å·¥å…·åˆ™æ˜¯ä½¿ç”¨ä»»åŠ¡æµçš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œè™½ç„¶ç›¸å¯¹æ¥è¯´æ›´ä¸ºçµæ´»ï¼Œä½†åœ¨å¤„ç†å¤§å‹é¡¹ç›®æ—¶å¯èƒ½ä¼šå­˜åœ¨æ€§èƒ½é—®é¢˜ã€‚å¼€å‘è€…éœ€è¦æ ¹æ®è‡ªå·±é¡¹ç›®çš„å®é™…æƒ…å†µï¼Œç»¼åˆè€ƒè™‘å·¥å…·å’Œæ¡†æ¶çš„æ€§èƒ½è¡¨ç°ï¼Œé€‰æ‹©æœ€åˆé€‚çš„å·¥å…·å’Œæ¡†æ¶ã€‚</p><h3 id="2-4-ç¤¾åŒºæ”¯æŒ"><a href="#2-4-ç¤¾åŒºæ”¯æŒ" class="headerlink" title="2.4 ç¤¾åŒºæ”¯æŒ"></a>2.4 ç¤¾åŒºæ”¯æŒ</h3><p>â€‹        åœ¨ç¤¾åŒºæ”¯æŒæ–¹é¢ï¼ŒWebpackã€Vue CLIå’ŒCreate React Appç­‰å·¥å…·éƒ½æ‹¥æœ‰åºå¤§çš„ç¤¾åŒºï¼Œæä¾›äº†ä¸°å¯Œçš„æ–‡æ¡£å’Œæ’ä»¶æ”¯æŒï¼ŒåŒæ—¶ä¹Ÿæœ‰è®¸å¤šå¼€å‘è€…ç§¯æè´¡çŒ®å’Œç»´æŠ¤ç›¸å…³é¡¹ç›®ã€‚è€ŒGulpå’ŒGruntç­‰å·¥å…·è™½ç„¶æ‹¥æœ‰ä¸€å®šçš„ç”¨æˆ·ç¾¤ä½“ï¼Œä½†ç›¸å¯¹æ¥è¯´ç¤¾åŒºè§„æ¨¡è¦å°ä¸€äº›ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡æŸ¥çœ‹ç›¸å…³å·¥å…·å’Œæ¡†æ¶çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œäº†è§£å…¶é•¿æœŸç»´æŠ¤å’Œå‘å±•çš„æƒ…å†µï¼Œé€‰æ‹©æœ€å¯é çš„å·¥å…·å’Œæ¡†æ¶ã€‚    </p><p>â€‹        ç»¼åˆä»¥ä¸Šå››ä¸ªæ–¹é¢çš„è€ƒè™‘ï¼Œæœ¬æ–‡å¯¹å¸¸è§çš„å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†æ¯”è¾ƒå’Œè¯„ä¼°ï¼Œå¸Œæœ›èƒ½å¤Ÿä¸ºå¼€å‘è€…åœ¨é€‰æ‹©æœ€é€‚åˆè‡ªå·±é¡¹ç›®çš„å·¥å…·å’Œæ¡†æ¶æ—¶æä¾›ä¸€äº›å‚è€ƒã€‚ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹é€‰å®šçš„å·¥å…·å’Œæ¡†æ¶è¿›è¡Œå…·ä½“çš„å®è·µåˆ†æå’Œæ¡ˆä¾‹ç ”ç©¶ã€‚</p><h2 id="å››ã€é€‰å‹æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹"><a href="#å››ã€é€‰å‹æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹" class="headerlink" title="å››ã€é€‰å‹æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹"></a>å››ã€é€‰å‹æ–¹æ³•å’Œæ³¨æ„äº‹é¡¹</h2><p>â€‹        å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„é€‰å‹ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ï¼Œéœ€è¦è€ƒè™‘å¾ˆå¤šå› ç´ ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€äº›é€‰å‹çš„å…³é”®å› ç´ å’Œæ³¨æ„äº‹é¡¹ã€‚</p><h3 id="4-1-é¡¹ç›®éœ€æ±‚"><a href="#4-1-é¡¹ç›®éœ€æ±‚" class="headerlink" title="4.1 é¡¹ç›®éœ€æ±‚"></a>4.1 é¡¹ç›®éœ€æ±‚</h3><p>â€‹        é¦–å…ˆï¼Œéœ€è¦è€ƒè™‘é¡¹ç›®çš„éœ€æ±‚ï¼ŒåŒ…æ‹¬åº”ç”¨ç±»å‹ã€å¼€å‘è§„æ¨¡ã€æŠ€æœ¯æ ˆç­‰ã€‚å¦‚æœæ˜¯å•é¡µåº”ç”¨ï¼Œéœ€è¦é€‰æ‹©æ”¯æŒSPAçš„å·¥å…·å’Œæ¡†æ¶ï¼›å¦‚æœæ˜¯å¤šé¡µåº”ç”¨ï¼Œéœ€è¦é€‰æ‹©æ”¯æŒå¤šé¡µåº”ç”¨çš„å·¥å…·å’Œæ¡†æ¶ã€‚å¦‚æœå¼€å‘è§„æ¨¡è¾ƒå°ï¼Œå¯ä»¥é€‰æ‹©æ˜“ç”¨æ€§å’Œå¿«é€Ÿä¸Šæ‰‹çš„å·¥å…·å’Œæ¡†æ¶ï¼›å¦‚æœå¼€å‘è§„æ¨¡è¾ƒå¤§ï¼Œéœ€è¦é€‰æ‹©åŠŸèƒ½å¼ºå¤§ã€æ‰©å±•æ€§å¥½çš„å·¥å…·å’Œæ¡†æ¶ã€‚å¦å¤–ï¼Œéœ€è¦è€ƒè™‘é¡¹ç›®çš„æŠ€æœ¯æ ˆï¼Œé€‰æ‹©èƒ½å¤Ÿä¸å½“å‰æŠ€æœ¯æ ˆååŒå·¥ä½œçš„å·¥å…·å’Œæ¡†æ¶ã€‚</p><h3 id="4-2-å¼€å‘å›¢é˜ŸæŠ€èƒ½"><a href="#4-2-å¼€å‘å›¢é˜ŸæŠ€èƒ½" class="headerlink" title="4.2 å¼€å‘å›¢é˜ŸæŠ€èƒ½"></a>4.2 å¼€å‘å›¢é˜ŸæŠ€èƒ½</h3><p>â€‹        å¼€å‘å›¢é˜Ÿçš„æŠ€èƒ½ä¹Ÿæ˜¯é€‰å‹çš„é‡è¦å› ç´ ã€‚å¦‚æœå¼€å‘å›¢é˜Ÿå·²ç»ç†Ÿæ‚‰æŸç§å·¥å…·æˆ–æ¡†æ¶ï¼Œå¯ä»¥é€‰æ‹©ç›¸åº”çš„å·¥å…·æˆ–æ¡†æ¶ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„å­¦ä¹ æˆæœ¬å’Œæ—¶é—´æµªè´¹ã€‚å¦‚æœå¼€å‘å›¢é˜Ÿå¯¹äºæŸç§å·¥å…·æˆ–æ¡†æ¶ä¸ç†Ÿæ‚‰ï¼Œéœ€è¦è€ƒè™‘å­¦ä¹ æˆæœ¬å’ŒåŸ¹è®­æˆæœ¬ã€‚</p><h3 id="4-3-ç¤¾åŒºæ”¯æŒ"><a href="#4-3-ç¤¾åŒºæ”¯æŒ" class="headerlink" title="4.3 ç¤¾åŒºæ”¯æŒ"></a>4.3 ç¤¾åŒºæ”¯æŒ</h3><p>â€‹        ç¤¾åŒºæ”¯æŒä¹Ÿæ˜¯é€‰å‹çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚å·¥å…·å’Œæ¡†æ¶çš„ç¤¾åŒºæ´»è·ƒç¨‹åº¦å’Œå¼€å‘è€…æ”¯æŒç¨‹åº¦å†³å®šäº†å…¶ç”Ÿå‘½å‘¨æœŸå’Œå‘å±•å‰æ™¯ã€‚éœ€è¦é€‰æ‹©æ‹¥æœ‰æ´»è·ƒç¤¾åŒºå’Œè‰¯å¥½æ”¯æŒçš„å·¥å…·å’Œæ¡†æ¶ï¼Œå¯ä»¥è·å¾—æ›´å¥½çš„ä½¿ç”¨ä½“éªŒå’Œæ›´å¥½çš„æŠ€æœ¯æ”¯æŒã€‚</p><h3 id="4-4-æ€§èƒ½"><a href="#4-4-æ€§èƒ½" class="headerlink" title="4.4 æ€§èƒ½"></a>4.4 æ€§èƒ½</h3><p>â€‹        æ€§èƒ½ä¹Ÿæ˜¯é€‰å‹çš„é‡è¦å› ç´ ã€‚éœ€è¦é€‰æ‹©æ€§èƒ½å¥½çš„å·¥å…·å’Œæ¡†æ¶ï¼Œå¯ä»¥æé«˜åº”ç”¨çš„å“åº”é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚éœ€è¦è€ƒè™‘å·¥å…·å’Œæ¡†æ¶çš„æ‰“åŒ…é€Ÿåº¦ã€æ‰§è¡Œæ•ˆç‡ã€å†…å­˜å ç”¨ç­‰æ–¹é¢çš„æ€§èƒ½æŒ‡æ ‡ã€‚</p><h3 id="4-5-å®‰å…¨"><a href="#4-5-å®‰å…¨" class="headerlink" title="4.5 å®‰å…¨"></a>4.5 å®‰å…¨</h3><p>â€‹        å®‰å…¨ä¹Ÿæ˜¯é€‰å‹çš„é‡è¦å› ç´ ã€‚éœ€è¦é€‰æ‹©å®‰å…¨å¯é çš„å·¥å…·å’Œæ¡†æ¶ï¼Œå¯ä»¥ä¿éšœåº”ç”¨çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚éœ€è¦è€ƒè™‘å·¥å…·å’Œæ¡†æ¶çš„å®‰å…¨æ€§èƒ½åŠ›ï¼ŒåŒ…æ‹¬ä»£ç æ¼æ´ã€æ§åˆ¶å°è¾“å‡ºã€HTTPè¯·æ±‚å®‰å…¨ç­‰æ–¹é¢çš„å®‰å…¨æŒ‡æ ‡ã€‚</p><h3 id="4-6-å¯ç»´æŠ¤æ€§"><a href="#4-6-å¯ç»´æŠ¤æ€§" class="headerlink" title="4.6 å¯ç»´æŠ¤æ€§"></a>4.6 å¯ç»´æŠ¤æ€§</h3><p>â€‹        å¯ç»´æŠ¤æ€§ä¹Ÿæ˜¯é€‰å‹çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚éœ€è¦é€‰æ‹©æ˜“äºç»´æŠ¤çš„å·¥å…·å’Œæ¡†æ¶ï¼Œå¯ä»¥é™ä½ä»£ç çš„ç»´æŠ¤æˆæœ¬å’Œç»´æŠ¤éš¾åº¦ã€‚éœ€è¦è€ƒè™‘å·¥å…·å’Œæ¡†æ¶çš„ä»£ç ç»“æ„ã€æ–‡æ¡£ã€æµ‹è¯•æ¡†æ¶å’Œå¼€å‘è€…å·¥å…·ç­‰æ–¹é¢çš„å¯ç»´æŠ¤æ€§æŒ‡æ ‡ã€‚</p><h3 id="4-7-å¼€æºåè®®"><a href="#4-7-å¼€æºåè®®" class="headerlink" title="4.7 å¼€æºåè®®"></a>4.7 å¼€æºåè®®</h3><p>â€‹        å¼€æºåè®®ä¹Ÿæ˜¯é€‰å‹çš„è€ƒè™‘å› ç´ ä¹‹ä¸€ã€‚éœ€è¦é€‰æ‹©åˆé€‚çš„å¼€æºåè®®ï¼Œä»¥ä¾¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­éµå®ˆç›¸å…³çš„æ³•å¾‹å’Œè§„å®šã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„å¼€æºåè®®æœ‰ä¸åŒçš„æˆæƒæ–¹å¼å’Œé™åˆ¶ï¼Œéœ€è¦ä»”ç»†é˜…è¯»å’Œç†è§£ç›¸å…³çš„æ¡æ¬¾ã€‚</p><h3 id="4-8-å…¶ä»–å› ç´ "><a href="#4-8-å…¶ä»–å› ç´ " class="headerlink" title="4.8 å…¶ä»–å› ç´ "></a>4.8 å…¶ä»–å› ç´ </h3><p>â€‹        é™¤äº†ä»¥ä¸Šå‡ ä¸ªå› ç´ å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–å› ç´ éœ€è¦è€ƒè™‘ï¼Œæ¯”å¦‚å·¥å…·å’Œæ¡†æ¶çš„ç‰ˆæœ¬ã€æ›´æ–°é¢‘ç‡ã€æ–‡æ¡£è´¨é‡ã€ç”Ÿæ€ç³»ç»Ÿç­‰ç­‰ã€‚éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œé€‰æ‹©å’Œæƒè¡¡ã€‚</p><p>â€‹        æ€»ä¹‹ï¼Œé€‰å‹éœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€èƒ½ã€ç¤¾åŒºæ”¯æŒã€æ€§èƒ½ã€å®‰å…¨ã€å¯ç»´æŠ¤æ€§ã€å¼€æºåè®®ç­‰å¤šæ–¹é¢å› ç´ è¿›è¡Œç»¼åˆè€ƒè™‘å’Œæƒè¡¡ã€‚é€‰æ‹©åˆé€‚çš„å·¥å…·å’Œæ¡†æ¶å¯ä»¥æé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æé«˜åº”ç”¨çš„æ€§èƒ½å’Œå®‰å…¨æ€§ï¼Œé™ä½ç»´æŠ¤æˆæœ¬å’Œéš¾åº¦ã€‚</p><h2 id="äº”ã€å®è·µæ¡ˆä¾‹åˆ†æ"><a href="#äº”ã€å®è·µæ¡ˆä¾‹åˆ†æ" class="headerlink" title="äº”ã€å®è·µæ¡ˆä¾‹åˆ†æ"></a>äº”ã€å®è·µæ¡ˆä¾‹åˆ†æ</h2><p>â€‹        ç»“åˆå®é™…çš„é¡¹ç›®æ¡ˆä¾‹ï¼Œå¯¹é€‰æ‹©çš„å·¥å…·å’Œæ¡†æ¶è¿›è¡Œå®è·µå’Œè¯„ä¼°ï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ¿å’Œä¸è¶³ä¹‹å¤„ã€‚</p><p>â€‹        é’ˆå¯¹å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„é€‰å‹ç ”ç©¶ï¼Œæˆ‘ä»¬ç»“åˆä¸€ä¸ªå®é™…çš„é¡¹ç›®æ¡ˆä¾‹ï¼Œå¯¹é€‰ç”¨çš„å·¥å…·å’Œæ¡†æ¶è¿›è¡Œäº†å®è·µå’Œè¯„ä¼°ã€‚æˆ‘ä»¬é€‰æ‹©çš„é¡¹ç›®æ˜¯ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œæ¶‰åŠåˆ°çš„æŠ€æœ¯æ ˆåŒ…æ‹¬Vue.jsã€Webpackã€PostCSSã€ESLintç­‰ã€‚åœ¨é€‰å‹è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹è€ƒè™‘äº†é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€èƒ½ã€ç¤¾åŒºæ”¯æŒã€æ€§èƒ½ã€å®‰å…¨å’Œå¯ç»´æŠ¤æ€§ç­‰å› ç´ ã€‚</p><p>â€‹        åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Vue.jsä½œä¸ºå‰ç«¯æ¡†æ¶ï¼ŒWebpackä½œä¸ºæ‰“åŒ…å·¥å…·ï¼ŒPostCSSä½œä¸ºCSSé¢„å¤„ç†å™¨ï¼ŒESLintä½œä¸ºä»£ç æ£€æŸ¥å·¥å…·ã€‚åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°Vue.jsæä¾›äº†å¾ˆå¥½çš„å¼€å‘ä½“éªŒï¼Œå¯ä»¥å¿«é€Ÿå¼€å‘å¤æ‚çš„å•é¡µåº”ç”¨ï¼ŒåŒæ—¶æ”¯æŒç»„ä»¶åŒ–å¼€å‘ï¼Œè®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€‚Webpackçš„æ‰“åŒ…é€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼Œå¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³é¡¹ç›®çš„éœ€æ±‚ã€‚PostCSSå¯ä»¥å¾ˆå¥½åœ°å¤„ç†CSSï¼Œæä¾›äº†å¾ˆå¤šå®ç”¨çš„æ’ä»¶ï¼Œå¯ä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚ESLintåˆ™å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œæé«˜ä»£ç çš„è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚</p><p>â€‹        ä¸è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿå‘ç°äº†ä¸€äº›ä¸è¶³ä¹‹å¤„ã€‚Vue.jsçš„å­¦ä¹ æ›²çº¿è¾ƒé™¡å³­ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´å’Œç²¾åŠ›è¿›è¡Œå­¦ä¹ å’ŒæŒæ¡ã€‚Webpackçš„é…ç½®è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦èŠ±è´¹è¾ƒé•¿çš„æ—¶é—´è¿›è¡Œè°ƒè¯•å’Œä¼˜åŒ–ã€‚PostCSSè™½ç„¶æä¾›äº†å¾ˆå¤šå®ç”¨çš„æ’ä»¶ï¼Œä½†åœ¨ä¸€äº›è¾ƒä¸ºå¤æ‚çš„åœºæ™¯ä¸‹å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚ESLintçš„æ£€æŸ¥è§„åˆ™è¾ƒä¸ºä¸¥æ ¼ï¼Œéœ€è¦å¯¹ä»£ç çš„ä¹¦å†™è§„èŒƒæœ‰ä¸€å®šçš„äº†è§£ã€‚</p><p>â€‹        ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬è®¤ä¸ºåœ¨é€‰å‹æ—¶éœ€è¦ç»¼åˆè€ƒè™‘é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€èƒ½ã€ç¤¾åŒºæ”¯æŒã€æ€§èƒ½ã€å®‰å…¨å’Œå¯ç»´æŠ¤æ€§ç­‰å› ç´ ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å’Œæ¡†æ¶ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œéœ€è¦å¯¹é€‰ç”¨çš„å·¥å…·å’Œæ¡†æ¶è¿›è¡Œæ·±å…¥çš„å­¦ä¹ å’ŒæŒæ¡ï¼Œå¹¶åŠæ—¶è§£å†³å‡ºç°çš„é—®é¢˜ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚</p><h2 id="å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿"><a href="#å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿" class="headerlink" title="å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿"></a>å…­ã€æœªæ¥å‘å±•è¶‹åŠ¿</h2><p>â€‹        å¯¹å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„æœªæ¥å‘å±•è¶‹åŠ¿è¿›è¡Œåˆ†æå’Œå±•æœ›ï¼Œå¦‚è‡ªåŠ¨åŒ–ç¨‹åº¦çš„æé«˜ã€å·¥å…·å’Œæ¡†æ¶çš„å¤šæ ·æ€§ã€å¯æ‰©å±•æ€§çš„æé«˜ç­‰ã€‚ éšç€å‰ç«¯æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ä¹Ÿåœ¨ä¸æ–­åœ°æ¼”è¿›å’Œå‡çº§ã€‚æœªæ¥ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„å‘å±•è¶‹åŠ¿å°†ä¸»è¦è¡¨ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li>è‡ªåŠ¨åŒ–ç¨‹åº¦çš„æé«˜ï¼šæœªæ¥ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶å°†æ›´åŠ æ³¨é‡è‡ªåŠ¨åŒ–ç¨‹åº¦çš„æé«˜ï¼ŒåŒ…æ‹¬è‡ªåŠ¨åŒ–æ„å»ºã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€è‡ªåŠ¨åŒ–æµ‹è¯•ç­‰æ–¹é¢ã€‚è¿™å°†æœ‰åŠ©äºé™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚</li><li>å·¥å…·å’Œæ¡†æ¶çš„å¤šæ ·æ€§ï¼šéšç€å‰ç«¯æŠ€æœ¯çš„å‘å±•å’Œåº”ç”¨åœºæ™¯çš„ä¸æ–­æ‰©å±•ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„ç§ç±»ä¹Ÿå°†ä¸æ–­å¢å¤šã€‚æœªæ¥ï¼Œä¸åŒçš„å·¥å…·å’Œæ¡†æ¶å°†é€æ¸å½¢æˆå„è‡ªçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿ï¼Œå¼€å‘äººå‘˜éœ€è¦æ ¹æ®å…·ä½“çš„é¡¹ç›®éœ€æ±‚å’ŒæŠ€æœ¯æ ˆé€‰æ‹©æœ€é€‚åˆçš„å·¥å…·å’Œæ¡†æ¶ã€‚</li><li>å¯æ‰©å±•æ€§çš„æé«˜ï¼šæœªæ¥ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶å°†æ›´åŠ æ³¨é‡å¯æ‰©å±•æ€§çš„æé«˜ï¼ŒåŒ…æ‹¬æ¨¡å—åŒ–è®¾è®¡ã€æ’ä»¶åŒ–æ¶æ„ã€ç»„ä»¶åŒ–å¼€å‘ç­‰æ–¹é¢ã€‚è¿™å°†æœ‰åŠ©äºæé«˜å·¥å…·å’Œæ¡†æ¶çš„çµæ´»æ€§å’Œå¯å®šåˆ¶æ€§ï¼Œæ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚</li><li>AIæŠ€æœ¯çš„åº”ç”¨ï¼šéšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œæœªæ¥å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ä¹Ÿå°†é€æ¸åº”ç”¨AIæŠ€æœ¯ï¼Œå¦‚åŸºäºæœºå™¨å­¦ä¹ çš„ä»£ç è‡ªåŠ¨ç”Ÿæˆã€æ™ºèƒ½åŒ–çš„è°ƒè¯•å’Œä¼˜åŒ–ç­‰ã€‚è¿™å°†è¿›ä¸€æ­¥æé«˜å‰ç«¯å¼€å‘çš„æ•ˆç‡å’Œè´¨é‡ã€‚</li></ol><p>â€‹        æ€»ä¹‹ï¼Œæœªæ¥å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶çš„å‘å±•å°†ä¸æ–­æ¨åŠ¨å‰ç«¯æŠ€æœ¯çš„å‘å±•ï¼Œä¸ºå‰ç«¯å¼€å‘äººå‘˜æä¾›æ›´åŠ ä¾¿æ·ã€é«˜æ•ˆã€å¯é çš„å¼€å‘å·¥å…·å’Œæ¡†æ¶ï¼ŒåŒæ—¶ä¹Ÿå°†è¿›ä¸€æ­¥æé«˜å‰ç«¯åº”ç”¨çš„è´¨é‡å’Œç”¨æˆ·ä½“éªŒã€‚</p><h2 id="ä¸ƒã€æ€»ç»“"><a href="#ä¸ƒã€æ€»ç»“" class="headerlink" title="ä¸ƒã€æ€»ç»“"></a>ä¸ƒã€æ€»ç»“</h2><p>â€‹        ç»¼ä¸Šæ‰€è¿°ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶æ˜¯ç°ä»£Webå¼€å‘ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œèƒ½å¤Ÿæé«˜å¼€å‘æ•ˆç‡ã€ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€é™ä½ç»´æŠ¤æˆæœ¬ã€æé«˜å¼€å‘ä½“éªŒç­‰ã€‚é€‰å‹æ—¶éœ€è¦è€ƒè™‘é¡¹ç›®éœ€æ±‚ã€å¼€å‘å›¢é˜ŸæŠ€èƒ½ã€ç¤¾åŒºæ”¯æŒã€æ€§èƒ½ã€å®‰å…¨å’Œå¯ç»´æŠ¤æ€§ç­‰å› ç´ ã€‚å®è·µæ¡ˆä¾‹åˆ†æè¡¨æ˜ï¼Œæ­£ç¡®é€‰æ‹©å’Œä½¿ç”¨å‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜é¡¹ç›®å¼€å‘æ•ˆç‡å’Œåº”ç”¨æ€§èƒ½ã€‚æœªæ¥ï¼Œå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·å’Œæ¡†æ¶å°†ç»§ç»­æœç€è‡ªåŠ¨åŒ–ç¨‹åº¦æ›´é«˜ã€å·¥å…·å’Œæ¡†æ¶å¤šæ ·æ€§æ›´ä¸°å¯Œã€å¯æ‰©å±•æ€§æ›´å¼ºçš„æ–¹å‘å‘å±•ã€‚å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œéœ€è¦ä¸æ–­å­¦ä¹ æŒæ¡æ–°çš„æŠ€æœ¯å’Œå·¥å…·ï¼Œä»¥é€‚åº”å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯ç¯å¢ƒå’Œå¸‚åœºéœ€æ±‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è§„èŒƒè‡ªå·±</title>
      <link href="/post/e0d.html"/>
      <url>/post/e0d.html</url>
      
        <content type="html"><![CDATA[<ul><li>æœ‰æ€æƒ³</li><li>æœ‰å®šåŠ›</li><li>åŸ¹å…»è‡ªå·±çš„æ€ç»´</li><li>å¯¹äº‹ä¸å¯¹äºº</li><li>æ§åˆ¶è‡ªå·±çš„ä¸ç¡®å®šæ€§</li><li>åˆç†æ¸ é“å‘æ³„</li><li>æ•¢äºè¡¨è¾¾</li><li>åˆç†æ¥å—</li></ul>]]></content>
      
      
      <categories>
          
          <category> è‡ªä¸» </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è’œæ³•</title>
      <link href="/post/dd4.html"/>
      <url>/post/dd4.html</url>
      
        <content type="html"><![CDATA[<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><h3 id="704-äºŒåˆ†æŸ¥æ‰¾"><a href="#704-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="704. äºŒåˆ†æŸ¥æ‰¾"></a><a href="https://leetcode.cn/problems/binary-search/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">704. äºŒåˆ†æŸ¥æ‰¾</a></h3><blockquote><p>ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9<br>è¾“å‡º: 4<br>è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2<br>è¾“å‡º: -1<br>è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1</p><p>æç¤ºï¼š</p><p>ä½ å¯ä»¥å‡è®¾ nums ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚<br>n å°†åœ¨ [1, 10000]ä¹‹é—´ã€‚<br>nums çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ [-9999, 9999]ä¹‹é—´ã€‚</p></blockquote><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">search</span>(<span class="params">nums: <span class="built_in">number</span>[], target: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">left</span>:<span class="built_in">number</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">right</span>:<span class="built_in">number</span> = nums.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">mid</span>:<span class="built_in">number</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>((right-left)/<span class="number">2</span>)+left</span><br><span class="line">        <span class="keyword">let</span> <span class="attr">num</span>:<span class="built_in">number</span> = nums[mid]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(target == num) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; num) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; num) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="278-ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬"><a href="#278-ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬" class="headerlink" title="278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬"></a><a href="https://leetcode.cn/problems/first-bad-version/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</a></h3><blockquote><p>ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚</p><p>å‡è®¾ä½ æœ‰ n ä¸ªç‰ˆæœ¬ [1, 2, â€¦, n]ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚</p><p>ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ bool isBadVersion(version) æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· version æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 5, bad = 4<br>è¾“å‡ºï¼š4<br>è§£é‡Šï¼š<br>è°ƒç”¨ isBadVersion(3) -&gt; false<br>è°ƒç”¨ isBadVersion(5) -&gt; true<br>è°ƒç”¨ isBadVersion(4) -&gt; true<br>æ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 1, bad = 1<br>è¾“å‡ºï¼š1</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Forward declaration of isBadVersion API.</span></span><br><span class="line"><span class="comment"> * @param   version   your guess about first bad version</span></span><br><span class="line"><span class="comment"> * @return        true if current version is bad </span></span><br><span class="line"><span class="comment"> *          false if current version is good</span></span><br><span class="line"><span class="comment"> * func isBadVersion(version int) bool;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">firstBadVersion</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, n</span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        mid := left + (right-left)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> isBadVersion(mid) &#123;</span><br><span class="line">            right = mid</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> right</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="35-æœç´¢æ’å…¥ä½ç½®"><a href="#35-æœç´¢æ’å…¥ä½ç½®" class="headerlink" title="35. æœç´¢æ’å…¥ä½ç½®"></a><a href="https://leetcode.cn/problems/search-insert-position/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">35. æœç´¢æ’å…¥ä½ç½®</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚</p><p>è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: nums = [1,3,5,6], target = 5<br>è¾“å‡º: 2<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: nums = [1,3,5,6], target = 2<br>è¾“å‡º: 1<br>ç¤ºä¾‹ 3:</p><p>è¾“å…¥: nums = [1,3,5,6], target = 7<br>è¾“å‡º: 4</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchInsert</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := left+(right-left)/<span class="number">2</span></span><br><span class="line">        num := nums[mid]</span><br><span class="line">        <span class="keyword">if</span> target == num &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> target &gt; num &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> target &lt; num &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><h3 id="977-æœ‰åºæ•°ç»„çš„å¹³æ–¹"><a href="#977-æœ‰åºæ•°ç»„çš„å¹³æ–¹" class="headerlink" title="977. æœ‰åºæ•°ç»„çš„å¹³æ–¹"></a><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">977. æœ‰åºæ•°ç»„çš„å¹³æ–¹</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [-4,-1,0,3,10]<br>è¾“å‡ºï¼š[0,1,9,16,100]<br>è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]<br>æ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [-7,-3,2,3,11]<br>è¾“å‡ºï¼š[4,9,9,49,121]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortedSquares</span><span class="params">(nums []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    left,right,i := <span class="number">0</span>,<span class="built_in">len</span>(nums)<span class="number">-1</span>,<span class="built_in">len</span>(nums)<span class="number">-1</span></span><br><span class="line">    arr := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(left &lt;= right) &#123;</span><br><span class="line">        leftVal := nums[left]*nums[left]</span><br><span class="line">        rightVal := nums[right]*nums[right]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(leftVal &gt; rightVal) &#123;</span><br><span class="line">            arr[i] = leftVal</span><br><span class="line">            left++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr[i] = rightVal</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line">        i--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="189-è½®è½¬æ•°ç»„"><a href="#189-è½®è½¬æ•°ç»„" class="headerlink" title="189. è½®è½¬æ•°ç»„"></a><a href="https://leetcode.cn/problems/rotate-array/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">189. è½®è½¬æ•°ç»„</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: nums = [1,2,3,4,5,6,7], k = 3<br>è¾“å‡º: [5,6,7,1,2,3,4]<br>è§£é‡Š:<br>å‘å³è½®è½¬ 1 æ­¥: [7,1,2,3,4,5,6]<br>å‘å³è½®è½¬ 2 æ­¥: [6,7,1,2,3,4,5]<br>å‘å³è½®è½¬ 3 æ­¥: [5,6,7,1,2,3,4]<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥ï¼šnums = [-1,-100,3,99], k = 2<br>è¾“å‡ºï¼š[3,99,-1,-100]<br>è§£é‡Š:<br>å‘å³è½®è½¬ 1 æ­¥: [99,-1,-100,3]<br>å‘å³è½®è½¬ 2 æ­¥: [3,99,-1,-100]</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">void</span>&#125; Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> rotate = <span class="keyword">function</span>(<span class="params">nums, k</span>) &#123;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        nums.<span class="title function_">unshift</span>(nums.<span class="title function_">pop</span>());</span><br><span class="line">        k--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="283-ç§»åŠ¨é›¶"><a href="#283-ç§»åŠ¨é›¶" class="headerlink" title="283. ç§»åŠ¨é›¶"></a><a href="https://leetcode.cn/problems/move-zeroes/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">283. ç§»åŠ¨é›¶</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p><p>è¯·æ³¨æ„ ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: nums = [0,1,0,3,12]<br>è¾“å‡º: [1,3,12,0,0]<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: nums = [0]<br>è¾“å‡º: [0]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">moveZeroes</span><span class="params">(nums []<span class="type">int</span>)</span></span>  &#123;</span><br><span class="line">    cnt, low, fast := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> fast &lt; <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[fast] == <span class="number">0</span> &#123;</span><br><span class="line">            fast++</span><br><span class="line">            cnt++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nums[low] = nums[fast]</span><br><span class="line">            low++</span><br><span class="line">            fast++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    i := <span class="built_in">len</span>(nums)-cnt</span><br><span class="line">    <span class="keyword">for</span> i &lt; <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        nums[i] = <span class="number">0</span></span><br><span class="line">        i++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„"><a href="#167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„" class="headerlink" title="167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„"></a><a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 1 å¼€å§‹çš„æ•´æ•°æ•°ç»„ numbers ï¼Œè¯¥æ•°ç»„å·²æŒ‰ éé€’å‡é¡ºåºæ’åˆ—  ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° target çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯ numbers[index1] å’Œ numbers[index2] ï¼Œåˆ™ 1 &lt;= index1 &lt; index2 &lt;= numbers.length ã€‚</p><p>ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ [index1, index2] çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ index1 å’Œ index2ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ ï¼Œè€Œä¸”ä½  ä¸å¯ä»¥ é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚</p><p>ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnumbers = [2,7,11,15], target = 9<br>è¾“å‡ºï¼š[1,2]<br>è§£é‡Šï¼š2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnumbers = [2,3,4], target = 6<br>è¾“å‡ºï¼š[1,3]<br>è§£é‡Šï¼š2 ä¸ 4 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 6 ã€‚å› æ­¤ index1 = 1, index2 = 3 ã€‚è¿”å› [1, 3] ã€‚<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šnumbers = [-1,0], target = -1<br>è¾“å‡ºï¼š[1,2]<br>è§£é‡Šï¼š-1 ä¸ 0 ä¹‹å’Œç­‰äºç›®æ ‡æ•° -1 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">twoSum</span><span class="params">(numbers []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="built_in">len</span>(numbers)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123;</span><br><span class="line">        lVal, rVal := numbers[left], numbers[right]</span><br><span class="line">        sum := lVal+rVal</span><br><span class="line">        <span class="keyword">if</span> sum == target &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;left+<span class="number">1</span>, right+<span class="number">1</span>&#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(sum &gt; target) &#123;</span><br><span class="line">            right--</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="344-åè½¬å­—ç¬¦ä¸²"><a href="#344-åè½¬å­—ç¬¦ä¸²" class="headerlink" title="344. åè½¬å­—ç¬¦ä¸²"></a><a href="https://leetcode.cn/problems/reverse-string/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">344. åè½¬å­—ç¬¦ä¸²</a></h3><blockquote><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ s çš„å½¢å¼ç»™å‡ºã€‚</p><p>ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šs = [â€œhâ€,â€eâ€,â€lâ€,â€lâ€,â€oâ€]<br>è¾“å‡ºï¼š[â€œoâ€,â€lâ€,â€lâ€,â€eâ€,â€hâ€]<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šs = [â€œHâ€,â€aâ€,â€nâ€,â€nâ€,â€aâ€,â€hâ€]<br>è¾“å‡ºï¼š[â€œhâ€,â€aâ€,â€nâ€,â€nâ€,â€aâ€,â€Hâ€]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseString</span><span class="params">(s []<span class="type">byte</span>)</span></span>  &#123;</span><br><span class="line">    start, end := <span class="number">0</span>, <span class="built_in">len</span>(s)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> start &lt; end &#123;</span><br><span class="line">        temp := s[start]</span><br><span class="line">        s[start] = s[end]</span><br><span class="line">        s[end] = temp</span><br><span class="line">        start++</span><br><span class="line">        end--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="557-åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯-III"><a href="#557-åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯-III" class="headerlink" title="557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III"></a><a href="https://leetcode.cn/problems/reverse-words-in-a-string-iii/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œä½ éœ€è¦åè½¬å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„å­—ç¬¦é¡ºåºï¼ŒåŒæ—¶ä»ä¿ç•™ç©ºæ ¼å’Œå•è¯çš„åˆå§‹é¡ºåºã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šs = â€œLetâ€™s take LeetCode contestâ€<br>è¾“å‡ºï¼šâ€sâ€™teL ekat edoCteeL tsetnocâ€<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥ï¼š s = â€œGod Dingâ€<br>è¾“å‡ºï¼šâ€doG gniDâ€</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseWords</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    end,cnt := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    arr := []<span class="type">byte</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span> != <span class="built_in">len</span>(s)) &amp;&amp; (s[i+<span class="number">1</span>]!=<span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            cnt++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        end = i</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt;= cnt; j++ &#123;</span><br><span class="line">            arr = <span class="built_in">append</span>(arr, s[end-j])</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> i+<span class="number">1</span>!=<span class="built_in">len</span>(s) &#123;</span><br><span class="line">            arr = <span class="built_in">append</span>(arr, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">string</span>(arr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"><a href="#876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹" class="headerlink" title="876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹"></a><a href="https://leetcode.cn/problems/middle-of-the-linked-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</a></h3><blockquote><p>ç»™ä½ å•é“¾è¡¨çš„å¤´ç»“ç‚¹ head ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚</p><p>å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/lc-midlist1.jpg" alt="img"></p><p>è¾“å…¥ï¼šhead = [1,2,3,4,5]<br>è¾“å‡ºï¼š[3,4,5]<br>è§£é‡Šï¼šé“¾è¡¨åªæœ‰ä¸€ä¸ªä¸­é—´ç»“ç‚¹ï¼Œå€¼ä¸º 3 ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/lc-midlist2.jpg" alt="img"></p><p>è¾“å…¥ï¼šhead = [1,2,3,4,5,6]<br>è¾“å‡ºï¼š[4,5,6]<br>è§£é‡Šï¼šè¯¥é“¾è¡¨æœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œå€¼åˆ†åˆ«ä¸º 3 å’Œ 4 ï¼Œè¿”å›ç¬¬äºŒä¸ªç»“ç‚¹ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">middleNode</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    slow, fast := head, head</span><br><span class="line">    <span class="keyword">for</span> fast!=<span class="literal">nil</span> &amp;&amp; fast.Next!=<span class="literal">nil</span> &#123;</span><br><span class="line">        slow = slow.Next</span><br><span class="line">        fast = fast.Next.Next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹"><a href="#19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹" class="headerlink" title="19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹"></a><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/remove_ex1.jpg" alt="img"></p><p>è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2<br>è¾“å‡ºï¼š[1,2,3,5]<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šhead = [1], n = 1<br>è¾“å‡ºï¼š[]<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šhead = [1,2], n = 1<br>è¾“å‡ºï¼š[1]</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * type ListNode struct &#123;</span></span><br><span class="line"><span class="comment"> *     Val int</span></span><br><span class="line"><span class="comment"> *     Next *ListNode</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeNthFromEnd</span><span class="params">(head *ListNode, n <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;<span class="number">0</span>, head&#125;</span><br><span class="line">    slow, fast := dummy, dummy</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;n; i++ &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> fast.Next!=<span class="literal">nil</span> &amp;&amp; fast!=<span class="literal">nil</span> &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">        slow = slow.Next</span><br><span class="line">    &#125;</span><br><span class="line">    slow.Next = slow.Next.Next</span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><h3 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h3><blockquote><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2 ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œs1 çš„æ’åˆ—ä¹‹ä¸€æ˜¯ s2 çš„ å­ä¸² ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šs1 = â€œabâ€ s2 = â€œeidbaoooâ€<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼šs2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ (â€œbaâ€).<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šs1= â€œabâ€ s2 = â€œeidboaooâ€<br>è¾“å‡ºï¼šfalse</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkInclusion</span><span class="params">(s1 <span class="type">string</span>, s2 <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    n,m := <span class="built_in">len</span>(s1),<span class="built_in">len</span>(s2)</span><br><span class="line">    <span class="keyword">if</span> n &gt; m &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    cnt1, cnt2 := [<span class="number">26</span>]<span class="type">int</span>&#123;&#125;, [<span class="number">26</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        cnt1[s1[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">        cnt2[s2[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> cnt1 == cnt2 &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := n; i &lt; m; i++ &#123;</span><br><span class="line">        cnt2[s2[i] - <span class="string">&#x27;a&#x27;</span>]++</span><br><span class="line">        cnt2[s2[i-n] - <span class="string">&#x27;a&#x27;</span>]--</span><br><span class="line">        <span class="keyword">if</span> cnt1 == cnt2 &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> checkInclusion = <span class="keyword">function</span>(<span class="params">s1, s2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> n = s1.<span class="property">length</span>, m = s2.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span>(n &gt; m) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> cnt1 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">26</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> cnt2 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">26</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cnt1[s1[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">        cnt2[s2[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt1.<span class="title function_">toString</span>() === cnt2.<span class="title function_">toString</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = n; i &lt; m; i++) &#123;</span><br><span class="line">        cnt2[s2[i].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]++</span><br><span class="line">        cnt2[s2[i-n].<span class="title function_">charCodeAt</span>() - <span class="string">&#x27;a&#x27;</span>.<span class="title function_">charCodeAt</span>()]--</span><br><span class="line">        <span class="keyword">if</span>(cnt1.<span class="title function_">toString</span>() === cnt2.<span class="title function_">toString</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="567-å­—ç¬¦ä¸²çš„æ’åˆ—"><a href="#567-å­—ç¬¦ä¸²çš„æ’åˆ—" class="headerlink" title="567. å­—ç¬¦ä¸²çš„æ’åˆ—"></a><a href="https://leetcode.cn/problems/permutation-in-string/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">567. å­—ç¬¦ä¸²çš„æ’åˆ—</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: s = â€œabcabcbbâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œabcâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: s = â€œbbbbbâ€<br>è¾“å‡º: 1<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œbâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚<br>ç¤ºä¾‹ 3:</p><p>è¾“å…¥: s = â€œpwwkewâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œwkeâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œâ€pwkeâ€ æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    set := <span class="keyword">map</span>[<span class="type">byte</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">len</span> := <span class="built_in">len</span>(s)</span><br><span class="line">    right, ans := <span class="number">-1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>;i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i!=<span class="number">0</span> &#123;</span><br><span class="line">            <span class="built_in">delete</span>(set, s[i<span class="number">-1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> right+<span class="number">1</span>&lt;<span class="built_in">len</span> &amp;&amp; set[s[right+<span class="number">1</span>]]==<span class="number">0</span> &#123;</span><br><span class="line">            set[s[right+<span class="number">1</span>]]++</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        ans = max(ans, right+<span class="number">1</span>-i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; y) &#123;</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> lengthOfLongestSubstring = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">let</span> right = -<span class="number">1</span>, len = s.<span class="property">length</span>, ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i != <span class="number">0</span>) &#123;</span><br><span class="line">            set.<span class="title function_">delete</span>(s.<span class="title function_">charAt</span>(i-<span class="number">1</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(right+<span class="number">1</span> &lt; len &amp;&amp; !set.<span class="title function_">has</span>(s.<span class="title function_">charAt</span>(right+<span class="number">1</span>))) &#123;</span><br><span class="line">            set.<span class="title function_">add</span>(s.<span class="title function_">charAt</span>(right+<span class="number">1</span>))</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, right+<span class="number">1</span>-i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="BFS-DFS"><a href="#BFS-DFS" class="headerlink" title="BFS/DFS"></a>BFS/DFS</h2><h3 id="ğŸ§©733-å›¾åƒæ¸²æŸ“"><a href="#ğŸ§©733-å›¾åƒæ¸²æŸ“" class="headerlink" title="ğŸ§©733. å›¾åƒæ¸²æŸ“"></a><a href="https://leetcode.cn/problems/flood-fill/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ§©733. å›¾åƒæ¸²æŸ“</a></h3><blockquote><p>æœ‰ä¸€å¹…ä»¥ m x n çš„äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”» image ï¼Œå…¶ä¸­ image[i][j] è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ã€‚</p><p>ä½ ä¹Ÿè¢«ç»™äºˆä¸‰ä¸ªæ•´æ•° sr ,  sc å’Œ newColor ã€‚ä½ åº”è¯¥ä»åƒç´  image[sr[sc å¼€å§‹å¯¹å›¾åƒè¿›è¡Œ ä¸Šè‰²å¡«å…… ã€‚</p><p>ä¸ºäº†å®Œæˆ ä¸Šè‰²å·¥ä½œ ï¼Œä»åˆå§‹åƒç´ å¼€å§‹ï¼Œè®°å½•åˆå§‹åæ ‡çš„ ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Š åƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œæ¥ç€å†è®°å½•è¿™å››ä¸ªæ–¹å‘ä¸Šç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹ä¸ä»–ä»¬å¯¹åº” å››ä¸ªæ–¹å‘ä¸Š åƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œâ€¦â€¦ï¼Œé‡å¤è¯¥è¿‡ç¨‹ã€‚å°†æ‰€æœ‰æœ‰è®°å½•çš„åƒç´ ç‚¹çš„é¢œè‰²å€¼æ”¹ä¸º newColor ã€‚</p><p>æœ€åè¿”å› ç»è¿‡ä¸Šè‰²æ¸²æŸ“åçš„å›¾åƒ ã€‚</p><p> <img src="../images/%E8%92%9C%E6%B3%95/flood1-grid.jpg" alt="img"></p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: image = [[1,1,1],[1,1,0],[1,0,1]]ï¼Œsr = 1, sc = 1, newColor = 2<br>è¾“å‡º: [[2,2,2],[2,2,0],[2,0,1]]<br>è§£æ: åœ¨å›¾åƒçš„æ­£ä¸­é—´ï¼Œ(åæ ‡(sr,sc)=(1,1)),åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ2ã€‚<br>æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º2ï¼Œå› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸åˆå§‹ç‚¹ç›¸è¿çš„åƒç´ ç‚¹ã€‚<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: image = [[0,0,0],[0,0,0]], sr = 0, sc = 0, newColor = 2<br>è¾“å‡º: [[2,2,2],[2,2,2]]</p></blockquote><h4 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>è¿™æ˜¯ä¸€ä¸ªBFS/DFSå…¸ä¸­å…¸é¢˜ï¼</p><p>å·²çŸ¥ï¼šé¢˜ç›®å·²ç»å‘Šè¯‰æˆ‘ä»¬ å›¾åƒæ•°ç»„<code>image(è¡Œåˆ—m*n)</code>ï¼Œèµ·å§‹ç‚¹<code>(sr, sc)</code>ï¼Œéœ€æ±‚è‰²<code>color</code>ã€‚</p><p>è¦æ±‚ï¼šå°†ä»è¯¥ç‚¹èµ·æ­¥ï¼Œå°†<code>è‡ªèº«</code>ä»¥åŠ<code>å…¶ä¸Š/ä¸‹/å·¦/å³æ–¹å‘ä¸Šç›¸é‚»è‰²å—</code>ä¸­ï¼Œä¸åŒäºéœ€æ±‚é¢œè‰²çš„åŸå§‹è‰²æ›´æ”¹ï¼Œæœ€åè¿”å›imageæ•°ç»„ã€‚</p><p>æ€è·¯(BFS)ï¼š</p><ol><li>åˆ¤æ–­èµ·å§‹ç‚¹é¢œè‰²æ˜¯å¦ä¸ºéœ€æ±‚è‰²colorã€‚å¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å›æ•°ç»„ï¼›åä¹‹ï¼Œå­˜å‚¨åŸå§‹è‰²rawColorï¼Œå¹¶å°†æ•°ç»„ä¸­å¯¹åº”å€¼æ”¹ä¸ºcolorå€¼ã€‚</li><li>æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªé˜Ÿåˆ—<code>queue = [&#123;x: sr, y: rc&#125;]</code>ï¼Œç”¨äºå­˜æ”¾  è¢«æœå¯»åˆ°çš„ ä¸” é¢œè‰²ä¸ºrawColor  çš„è‰²å—ã€‚</li><li>æ¥ä¸‹æ¥æˆ‘ä»¬è¯¦ç»†é˜è¿°æ­¤é¢˜å¹¿æœæ­¥éª¤ï¼š<ol><li>å°†é˜Ÿåˆ—ä¸­é¦–å…ƒç´ æå‡ºï¼Œé¢œè‰²æ”¹ä¸ºcolorå€¼</li><li>åˆ†åˆ«æœç´¢è¯¥å…ƒç´ <code>ä¸Š/ä¸‹/å·¦/å³(å¯¹åº”x/yå¢å‡ï¼Œå››ç§)</code>å—ä¸­æ˜¯rawColorä¸”åœ¨å›¾ç‰‡èŒƒå›´å†…çš„å…ƒç´ ï¼Œéšåå°†å…¶åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶æ”¹é¢œè‰²</li><li>ç”±äºæˆ‘ä»¬åœ¨è¿™ä¸€æ¬¡çš„æœç´¢ä¸­ï¼Œéå†äº†æŸä¸€å±‚å…ƒç´ çš„<code>ä¸‹ä¸€å±‚å…ƒç´ </code>ï¼Œé‚£ä¹ˆåœ¨ä¸‹ä¸€æ¬¡æœç´¢ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>è¯¥å±‚</code>å…ƒç´ æå–å‡ºæ¥è¿›è¡Œæœç´¢</li><li>ç›´è‡³å…¨éƒ¨æœå¯»åˆ°(ä»‹æ—¶é˜Ÿåˆ—ä¸ºç©ºï¼Œé•¿åº¦ä¸º0)</li></ol></li></ol><p>ä»¥ä¸‹æ˜¯æˆ‘ç®—æ˜¯ ç¬¬ä¸€æ¬¡ç”¨JSå†™BFS ä»£ç +æ³¨é‡Šâ†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BFS</span></span><br><span class="line"><span class="keyword">var</span> floodFill = <span class="keyword">function</span>(<span class="params">image, sr, sc, color</span>) &#123;</span><br><span class="line">    <span class="comment">// èµ·å§‹ç‚¹é¢œè‰²</span></span><br><span class="line">    <span class="keyword">let</span> rawColor = image[sr][sc]</span><br><span class="line">    <span class="comment">// å¦‚æœé¢œè‰²ä¸€æ ·ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (rawColor === color) &#123;</span><br><span class="line">        <span class="keyword">return</span> image</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœä¸ä¸€æ ·ï¼Œå¼€å§‹å¹¿æœ</span></span><br><span class="line">    <span class="keyword">let</span> queue = [&#123;<span class="attr">x</span>:sr, <span class="attr">y</span>:sc&#125;],<span class="comment">// ç¬¦åˆæ¡ä»¶çš„åƒç´ å—ç»„æˆçš„é˜Ÿåˆ—ï¼ˆèŒƒå›´å†…ï¼Œç›¸é‚»ï¼Œæ˜¯èµ·å§‹é¢œè‰²ï¼‰</span></span><br><span class="line">        dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>],<span class="comment">// ä½ç§»åæ ‡</span></span><br><span class="line">        dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        rowLen = image.<span class="property">length</span>,<span class="comment">// å›¾ç”»é•¿å®½-å›¾ç”»è¾¹æ¡†èŒƒå›´</span></span><br><span class="line">        colLen = image[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="comment">// éå†é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// é˜Ÿåˆ—ä¸­é¦–å…ƒç´ pop</span></span><br><span class="line">        <span class="keyword">let</span> &#123;x, y&#125; = queue.<span class="title function_">shift</span>()</span><br><span class="line">        <span class="comment">// é¦–å…ƒç´ æ”¹é¢œè‰²</span></span><br><span class="line">        image[x][y] = color</span><br><span class="line">        <span class="comment">// è¯¥å…ƒç´ ç›¸é‚»æœä¸€ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// ç›¸é‚»å…ƒç´ åæ ‡</span></span><br><span class="line">            <span class="keyword">let</span> newX = x+dx[i], newY = y+dy[i]</span><br><span class="line">            <span class="comment">// åœ¨ç”»æ¡†èŒƒå›´å†…ï¼Œä¸”ä¸ºèµ·å§‹é¢œè‰²</span></span><br><span class="line">            <span class="keyword">if</span>(newX&gt;=<span class="number">0</span> &amp;&amp; newX&lt;rowLen &amp;&amp; newY&gt;=<span class="number">0</span> &amp;&amp; newY&lt;colLen &amp;&amp; image[newX][newY] == rawColor) &#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</span></span><br><span class="line">                queue.<span class="title function_">push</span>(&#123;<span class="attr">x</span>: newX, <span class="attr">y</span>: newY&#125;)</span><br><span class="line">                <span class="comment">// ä¸”æ”¹å˜ä¸ºè¦æ±‚é¢œè‰²</span></span><br><span class="line">                image[newX][newY] = color</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> image</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>è¿™ä½ä½¬å†™çš„ä»£ç è¶…çº§ç®€æ´ä¸”ä¼˜é›…â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">image</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">sr</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">sc</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">color</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// DFS</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">floodFill</span> = (<span class="params">image, sr, sc, newColor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> m = image.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> n = image[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> oldColor = image[sr][sc];</span><br><span class="line">    <span class="keyword">if</span> (oldColor == newColor) <span class="keyword">return</span> image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fill</span> = (<span class="params">i, j</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= m || j &lt; <span class="number">0</span> || j &gt;= n || image[i][j] != oldColor) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        image[i][j] = newColor;</span><br><span class="line">        <span class="title function_">fill</span>(i - <span class="number">1</span>, j);</span><br><span class="line">        <span class="title function_">fill</span>(i + <span class="number">1</span>, j);</span><br><span class="line">        <span class="title function_">fill</span>(i, j - <span class="number">1</span>);</span><br><span class="line">        <span class="title function_">fill</span>(i, j + <span class="number">1</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">fill</span>(sr, sc);</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BFS</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">floodFill</span> = (<span class="params">image, sr, sc, newColor</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> m = image.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> n = image[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">const</span> oldColor = image[sr][sc];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldColor == newColor) <span class="keyword">return</span> image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> queue = [[sr, sc]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> [i, j] = queue.<span class="title function_">shift</span>();</span><br><span class="line">        image[i][j] = newColor;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; image[i - <span class="number">1</span>][j] == oldColor) queue.<span class="title function_">push</span>([i - <span class="number">1</span>, j]);</span><br><span class="line">        <span class="keyword">if</span> (i + <span class="number">1</span> &lt; m &amp;&amp; image[i + <span class="number">1</span>][j] == oldColor) queue.<span class="title function_">push</span>([i + <span class="number">1</span>, j]);</span><br><span class="line">        <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; image[i][j - <span class="number">1</span>] == oldColor) queue.<span class="title function_">push</span>([i, j - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (j + <span class="number">1</span> &lt; n &amp;&amp; image[i][j + <span class="number">1</span>] == oldColor) queue.<span class="title function_">push</span>([i, j + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ695-å²›å±¿çš„æœ€å¤§é¢ç§¯"><a href="#ğŸ695-å²›å±¿çš„æœ€å¤§é¢ç§¯" class="headerlink" title="ğŸ695. å²›å±¿çš„æœ€å¤§é¢ç§¯"></a><a href="https://leetcode.cn/problems/max-area-of-island/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚</p><p>å²›å±¿ æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„ã€Œç›¸é‚»ã€è¦æ±‚ä¸¤ä¸ª 1 å¿…é¡»åœ¨ æ°´å¹³æˆ–è€…ç«–ç›´çš„å››ä¸ªæ–¹å‘ä¸Š ç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ grid çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« 0ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚</p><p>å²›å±¿çš„é¢ç§¯æ˜¯å²›ä¸Šå€¼ä¸º 1 çš„å•å…ƒæ ¼çš„æ•°ç›®ã€‚</p><p>è®¡ç®—å¹¶è¿”å› grid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º 0 ã€‚</p><img src="../images/%E8%92%9C%E6%B3%95/maxarea1-grid.jpg" alt="img" style="zoom:50%;" /><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šgrid = [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šç­”æ¡ˆä¸åº”è¯¥æ˜¯ 11 ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´è¿™å››ä¸ªæ–¹å‘ä¸Šçš„ 1 ã€‚</p><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šgrid = [[0,0,0,0,0,0,0,0]]<br>è¾“å‡ºï¼š0</p></blockquote><h4 id="è§£é¢˜æ€è·¯-1"><a href="#è§£é¢˜æ€è·¯-1" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>å·²çŸ¥ï¼š<code>grid(m*n)</code> <code>å²›å±¿æ˜¯1ï¼Œæ°´æ˜¯0</code></p><p>è¦æ±‚ï¼šæœ€å¤§çš„å²›å±¿é¢ç§¯<code>ans</code>ï¼ˆå››ä¸ªæ­£æ–¹å‘ç›¸é‚»çš„1å—æ‰å±äºåŒä¸€ä¸ªå²›å±¿ï¼‰</p><p>æ€è·¯:</p><ol><li>æ­¤é¢˜è¾ƒä¸Šé¢˜å¤šäº†ä¸€å±‚é€»è¾‘ï¼Œé‚£å°±æ˜¯éœ€è¦è‡ªè¡Œå¯»æ‰¾<code>èµ·å§‹ç‚¹</code>ï¼Œæˆ‘ä»¬ä¸å¦¨å¯¹gridè¿™ä¸ªäºŒç»´æ•°ç»„å¥—ç”¨è¡Œåˆ—éå†</li><li>éšåè¿›è¡Œå¹¿æœ/æ·±æœ</li><li>é‚£ä¹ˆè¿™ä¸ªé¢˜ï¼Œè®©æˆ‘ä»¬é¡ºä¸€ä¸‹æ·±æœæ­¥éª¤ï¼š<ol><li>æˆ‘ä»¬ä¸å¦¨å£°æ˜ä¸€ä¸ª åä¸ºdfsçš„ è¿”å›anså€¼çš„ ç”¨æ¥æé€’å½’çš„ å‡½æ•°</li><li>å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªå…ƒç´ è¿›è¡Œä¸Šä¸‹å·¦å³æœç´¢æ—¶ï¼Œåˆ†åˆ«å¯¹æœç´¢åˆ°çš„(ç¬¦åˆæ¡ä»¶çš„)å…ƒç´ è¿›è¡Œä¸Šä¸‹å·¦å³æœç´¢ï¼Œâ†çš„åŒæ—¶å¯¹æœç´¢åˆ°çš„å…ƒç´ è¿›è¡Œä¸Šä¸‹å·¦å³æœç´¢â€¦â€¦</li><li>è¡¥å……ä¸€ä¸ªç¯èŠ‚ï¼Œé‚£å°±æ˜¯å½“æœç´¢çš„å…ƒç´ ä¸ç¬¦åˆæ¡ä»¶çš„æ—¶å€™ï¼Œreturn å›æº¯åˆ°ä¸Šä¸€å±‚ï¼ˆåœ¨æœ¬é¢˜ä¸­ï¼Œè¿”å›anså€¼ä¸º0)</li></ol></li></ol><p>è¯·ç›´æ¥ç§»ç§»æ­¥åˆ°å¤§ä½¬å†™çš„ä»£ç â†“</p><h4 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>ä¼˜é›…å¤ªä¼˜é›…äº†â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§ä½¬çš„DFS</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">const</span> m = grid.<span class="property">length</span>, n = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span> (x, y) &#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt;= m || y &lt; <span class="number">0</span> || y &gt;= n || grid[x][y] === <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        grid[x][y] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">let</span> ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>], dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            ans += <span class="title function_">dfs</span>(x+dx[i], y+dy[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] === <span class="number">0</span>) <span class="keyword">continue</span></span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, <span class="title function_">dfs</span>(i, j))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§ä½¬çš„BFS</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, row = grid.<span class="property">length</span>, col = grid[<span class="number">0</span>].<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">let</span> dx = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], dy = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>];<span class="comment">//æ–¹å‘æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] === <span class="number">0</span>) <span class="keyword">continue</span>;<span class="comment">//å¾ªç¯ç½‘æ ¼ï¼Œé‡åˆ°0å°±è·³è¿‡</span></span><br><span class="line">            <span class="keyword">let</span> queue = [[i, j]], curr = <span class="number">0</span>;<span class="comment">//åœ¨é˜Ÿåˆ—ä¸­åŠ å…¥å½“å‰ç½‘æ ¼çš„å€¼</span></span><br><span class="line">            <span class="keyword">while</span> (queue.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> [x, y] = queue.<span class="title function_">shift</span>();<span class="comment">//ä¸æ–­å‡ºé˜Ÿ</span></span><br><span class="line">              <span class="comment">//è¶Šç•Œåˆ¤æ–­</span></span><br><span class="line">                <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= row || y &lt; <span class="number">0</span> || y &gt;= col || grid[x][y] === <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                ++curr;<span class="comment">//æ›´æ–°å²›å±¿çš„æ•°é‡</span></span><br><span class="line">                grid[x][y] = <span class="number">0</span>;<span class="comment">//éå†è¿‡çš„ç½‘æ ¼ç½®ä¸º0</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; dx.<span class="property">length</span>; k++) &#123;<span class="comment">//ä¸Šä¸‹å·¦å³éå†ï¼ŒæŠŠä¸‹ä¸€å±‚çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">                    queue.<span class="title function_">push</span>([x + dx[k], y + dy[k]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, curr);<span class="comment">//æ›´æ–°æœ€å¤§å²›å±¿é¢ç§¯</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘çš„BFSâ€”â€”å“¥ä»¬å„¿å°±å–œæ¬¢BFSï¼ˆç­‰å¾…æ‰“è„¸ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> maxAreaOfIsland = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, m = grid.<span class="property">length</span>, n = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>], dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] === <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> queue = [&#123;<span class="attr">x</span>: i, <span class="attr">y</span>: j&#125;], s = <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> (queue.<span class="property">length</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> &#123;x, y&#125; = queue.<span class="title function_">shift</span>()</span><br><span class="line">                grid[x][y] = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++) &#123;</span><br><span class="line">                    <span class="keyword">let</span> newX = x + dx[k], newY = y + dy[k]</span><br><span class="line">                    <span class="keyword">if</span> (newX &gt;= <span class="number">0</span> &amp;&amp; newY &gt;= <span class="number">0</span> &amp;&amp; newX &lt; m &amp;&amp; newY &lt; n &amp;&amp; grid[newX][newY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        queue.<span class="title function_">push</span>(&#123;<span class="attr">x</span>: newX, <span class="attr">y</span>: newY&#125;)</span><br><span class="line">                        grid[newX][newY] = <span class="number">0</span></span><br><span class="line">                        s++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="title class_">Math</span>.<span class="title function_">max</span>(ans, s)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸŒ²617-åˆå¹¶äºŒå‰æ ‘"><a href="#ğŸŒ²617-åˆå¹¶äºŒå‰æ ‘" class="headerlink" title="ğŸŒ²617. åˆå¹¶äºŒå‰æ ‘"></a><a href="https://leetcode.cn/problems/merge-two-binary-trees/">ğŸŒ²617. åˆå¹¶äºŒå‰æ ‘</a></h3><blockquote><p>ç»™ä½ ä¸¤æ£µäºŒå‰æ ‘ï¼š root1 å’Œ root2 ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ å°†å…¶ä¸­ä¸€æ£µè¦†ç›–åˆ°å¦ä¸€æ£µä¹‹ä¸Šæ—¶ï¼Œä¸¤æ£µæ ‘ä¸Šçš„ä¸€äº›èŠ‚ç‚¹å°†ä¼šé‡å ï¼ˆè€Œå¦ä¸€äº›ä¸ä¼šï¼‰ã€‚ä½ éœ€è¦å°†è¿™ä¸¤æ£µæ ‘åˆå¹¶æˆä¸€æ£µæ–°äºŒå‰æ ‘ã€‚åˆå¹¶çš„è§„åˆ™æ˜¯ï¼šå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹é‡å ï¼Œé‚£ä¹ˆå°†è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ç›¸åŠ ä½œä¸ºåˆå¹¶åèŠ‚ç‚¹çš„æ–°å€¼ï¼›å¦åˆ™ï¼Œä¸ä¸º null çš„èŠ‚ç‚¹å°†ç›´æ¥ä½œä¸ºæ–°äºŒå‰æ ‘çš„èŠ‚ç‚¹ã€‚</p><p>è¿”å›åˆå¹¶åçš„äºŒå‰æ ‘ã€‚</p><p>æ³¨æ„: åˆå¹¶è¿‡ç¨‹å¿…é¡»ä»ä¸¤ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šroot1 = [1,3,2,5], root2 = [2,1,3,null,4,null,7]<br>è¾“å‡ºï¼š[3,4,5,5,4,null,7]<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šroot1 = [1], root2 = [1,2]<br>è¾“å‡ºï¼š[2,2]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-2"><a href="#è§£é¢˜æ€è·¯-2" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><ol><li><p>æˆ‘ä»¬<code>ç›´æ¥åœ¨root1ä¸Šåšä¿®æ”¹</code>ï¼Œæˆ‘ä»¬ç®€ç§°ä¸¤è€…ä¸ºä¸€å’ŒäºŒï¼š</p><ol><li>å½“ä»…ä¸€ä¸ºç©ºçš„æ—¶å€™ï¼Œé€’å½’å‡½æ•°è¿”å›äºŒ</li><li>å½“ä»…äºŒä¸ºç©ºçš„æ—¶å€™ï¼Œé€’å½’å‡½æ•°è¿”å›ä¸€</li><li>ä¸¤è€…çš†ç©ºä¾ç„¶è¿”å›ä¸€</li><li>ä¸¤è€…éƒ½ä¸ç©ºï¼Œé‚£.valç›¸åŠ </li></ol></li><li><p>è°ƒç”¨å‡½æ•°æœ¬èº«ï¼Œå®ç°èŠ‚ç‚¹å·¦å³å­©å­åˆå¹¶</p></li></ol><h4 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * function TreeNode(val, left, right) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.left = (left===undefined ? null : left)</span></span><br><span class="line"><span class="comment"> *     this.right = (right===undefined ? null : right)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TreeNode</span>&#125; <span class="variable">root1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">TreeNode</span>&#125; <span class="variable">root2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">TreeNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> mergeTrees = <span class="keyword">function</span>(<span class="params">root1, root2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!root1) &#123;</span><br><span class="line">        <span class="keyword">return</span> root2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!root2) &#123;</span><br><span class="line">        <span class="keyword">return</span> root1</span><br><span class="line">    &#125;</span><br><span class="line">    root1.<span class="property">val</span> += root2.<span class="property">val</span></span><br><span class="line"></span><br><span class="line">    root1,left = <span class="title function_">mergeTrees</span>(root1.<span class="property">left</span>, root2.<span class="property">left</span>)</span><br><span class="line">    root1.<span class="property">right</span> = <span class="title function_">mergeTrees</span>(root1.<span class="property">right</span>, root2.<span class="property">right</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root1</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å½“ç„¶ä¹Ÿå¯ä»¥æ–°å¼€ä¸€ä¸ªæ ‘ï¼Œä¸åœ¨åŸæ ‘ä¸Šåšæ›´æ”¹ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="ğŸ‘‰116-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ"><a href="#ğŸ‘‰116-å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ" class="headerlink" title="ğŸ‘‰116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ"></a><a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ‘‰116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</a></h3><blockquote><p>ç»™å®šä¸€ä¸ª å®Œç¾äºŒå‰æ ‘ ï¼Œå…¶æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚äºŒå‰æ ‘å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struct <span class="title class_">Node</span> &#123;</span><br><span class="line">  int val;</span><br><span class="line">  <span class="title class_">Node</span> *left;</span><br><span class="line">  <span class="title class_">Node</span> *right;</span><br><span class="line">  <span class="title class_">Node</span> *next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸º NULLã€‚</p><p>åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰ next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸º NULLã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><img src="../images/%E8%92%9C%E6%B3%95/116_sample.png" alt="img" style="zoom:50%;" /><p>è¾“å…¥ï¼šroot = [1,2,3,4,5,6,7]<br>è¾“å‡ºï¼š[1,#,2,3,#,4,5,6,7,#]<br>è§£é‡Šï¼šç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚åºåˆ—åŒ–çš„è¾“å‡ºæŒ‰å±‚åºéå†æ’åˆ—ï¼ŒåŒä¸€å±‚èŠ‚ç‚¹ç”± next æŒ‡é’ˆè¿æ¥ï¼Œâ€™#â€™ æ ‡å¿—ç€æ¯ä¸€å±‚çš„ç»“æŸã€‚<br>ç¤ºä¾‹ 2:ï¼ˆæ³¨æ„çœ‹è¿™ä¸ªçœ‹ç€åƒç¤ºä¾‹2çš„ç¤ºä¾‹2ï¼‰</p><p>è¾“å…¥ï¼šroot = []<br>è¾“å‡ºï¼š[]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-å±‚æ¬¡éå†"><a href="#è§£é¢˜æ€è·¯-å±‚æ¬¡éå†" class="headerlink" title="è§£é¢˜æ€è·¯(å±‚æ¬¡éå†)"></a>è§£é¢˜æ€è·¯(å±‚æ¬¡éå†)</h4><p>å‘ç°å¹¿æœæ·±æœå¯ä»¥å˜ç®€æ´çš„å°æ€è·¯æ˜¯å…ˆæ’é™¤æ— æ•ˆçš„ï¼Œæ¯”å¦‚ç¤ºä¾‹äºŒè¿™ç§</p><ol><li>æ‰€ä»¥å…ˆæ’é™¤root=nullçš„æƒ…å†µ</li><li>å°†æ ¹èŠ‚ç‚¹æ”¾å…¥æ–°å¼€é˜Ÿåˆ—ä¸­ï¼Œå¼€å§‹æŒ‰å±‚éå†</li><li>éå†è¿‡ç¨‹ä¸­éœ€è¦å®Œæˆä¸¤é¡¹ä»»åŠ¡ï¼š<ol><li>åŒå±‚nextèµ‹å€¼</li><li>å°†ä¸‹ä¸€å±‚å¢åŠ åˆ°é˜Ÿåˆ—ä¸­</li></ol></li></ol><h4 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * // Definition for a Node.</span></span><br><span class="line"><span class="comment"> * function Node(val, left, right, next) &#123;</span></span><br><span class="line"><span class="comment"> *    this.val = val === undefined ? null : val;</span></span><br><span class="line"><span class="comment"> *    this.left = left === undefined ? null : left;</span></span><br><span class="line"><span class="comment"> *    this.right = right === undefined ? null : right;</span></span><br><span class="line"><span class="comment"> *    this.next = next === undefined ? null : next;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Node</span>&#125; <span class="variable">root</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Node</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> connect = <span class="keyword">function</span>(<span class="params">root</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root === <span class="literal">null</span>) <span class="keyword">return</span> root</span><br><span class="line">    <span class="keyword">const</span> queue = [root]</span><br><span class="line">    <span class="keyword">while</span> (queue.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> size = queue.<span class="property">length</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> node = queue.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="keyword">if</span> (i &lt; size - <span class="number">1</span>) &#123;</span><br><span class="line">                node.<span class="property">next</span> = queue[<span class="number">0</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.<span class="property">left</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.<span class="title function_">push</span>(node.<span class="property">left</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.<span class="property">right</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">                queue.<span class="title function_">push</span>(node.<span class="property">right</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿˜æœ‰ä¸€ç§ç›´æ¥ç”¨.next</span></span><br><span class="line"><span class="comment">// node.right.next = node.left    node.right.next = node.next.left</span></span><br></pre></td></tr></table></figure><h3 id="ğŸŠ994-è…çƒ‚çš„æ©˜å­"><a href="#ğŸŠ994-è…çƒ‚çš„æ©˜å­" class="headerlink" title="ğŸŠ994. è…çƒ‚çš„æ©˜å­"></a><a href="https://leetcode.cn/problems/rotting-oranges/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸŠ994. è…çƒ‚çš„æ©˜å­</a></h3><blockquote><p>åœ¨ç»™å®šçš„ m x n ç½‘æ ¼ grid ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š</p><p>å€¼ 0 ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼›<br>å€¼ 1 ä»£è¡¨æ–°é²œæ©˜å­ï¼›<br>å€¼ 2 ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚<br>æ¯åˆ†é’Ÿï¼Œè…çƒ‚çš„æ©˜å­ å‘¨å›´ 4 ä¸ªæ–¹å‘ä¸Šç›¸é‚» çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚</p><p>è¿”å› ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šgrid = [[2,1,1],[1,1,0],[0,1,1]]<br>è¾“å‡ºï¼š4<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šgrid = [[2,1,1],[0,1,1],[1,0,1]]<br>è¾“å‡ºï¼š-1<br>è§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ 2 è¡Œï¼Œ ç¬¬ 0 åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ 4 ä¸ªæ­£å‘ä¸Šã€‚<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šgrid = [[0,2]]<br>è¾“å‡ºï¼š0<br>è§£é‡Šï¼šå› ä¸º 0 åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ 0 ã€‚</p></blockquote><h4 id="è§£é¢˜æ€è·¯-BFS"><a href="#è§£é¢˜æ€è·¯-BFS" class="headerlink" title="è§£é¢˜æ€è·¯(BFS)"></a>è§£é¢˜æ€è·¯(BFS)</h4><ol><li>ä¸çƒ‚æ©˜å­ç›¸é‚»çš„å¥½æ©˜å­ä¼šåœ¨ä¸€åˆ†é’Ÿåè…çƒ‚</li><li>å‡è®¾æœ€å¼€å§‹æ‰€æœ‰çš„çƒ‚æ©˜å­æ˜¯ç¬¬0å±‚ï¼Œé‚£ä¹ˆéš”ä¸€åˆ†é’Ÿçƒ‚ä¸€å±‚ï¼ˆå…¶ä¸‹å±‚å°±æ˜¯å…¶ä¸Šä¸‹å·¦å³æ–¹å‘çš„å¥½æ©˜å­ï¼‰</li><li>å¦‚æœ<code>å­˜åœ¨ä¸æŒ¨ç€ä»»ä½•ä¸€ä¸ªçƒ‚æ©˜å­çš„å¥½æ©˜å­</code>ï¼Œè¿”å›-1ï¼›å¦‚æœåˆ°æœ€å<code>éƒ½çƒ‚äº†</code>ï¼Œè¿”å›å±‚æ•°ï¼›å¦‚æœ<code>ä¸€å¼€å§‹æ²¡æœ‰å¥½æ©˜å­</code>ï¼Œè¿”å›0</li></ol><h4 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">grid</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> orangesRotting = <span class="keyword">function</span>(<span class="params">grid</span>) &#123;</span><br><span class="line">    <span class="comment">// å¥½æœå­è€¶ï¼</span></span><br><span class="line">    <span class="keyword">let</span> fresh = <span class="number">0</span></span><br><span class="line">    <span class="comment">// æ¡†å®šè¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">const</span> row = grid.<span class="property">length</span>, col = grid[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line">    <span class="comment">// å·¥å…·é˜Ÿåˆ—ï¼ˆä¸“é—¨ç››æ”¾çƒ‚æ©˜å­ï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> que = []</span><br><span class="line">    <span class="comment">// éå†ç­å†…æ‰€æœ‰æ©˜å­ï¼Œå¥½çš„fresh+1ï¼Œåçš„æ·»åŠ åˆ°é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] === <span class="number">1</span>) &#123;</span><br><span class="line">                fresh++</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] === <span class="number">2</span>) &#123;</span><br><span class="line">                que.<span class="title function_">push</span>([i, j])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä½ç§»æ•°ç»„</span></span><br><span class="line">    <span class="keyword">const</span> dx = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">const</span> dy = [<span class="number">1</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="comment">// æ‰¾ä¸åˆ°åæœå­å°±ä¸ç®—0å±‚ï¼ˆ-1å±‚ï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> cnt = -<span class="number">1</span></span><br><span class="line">    <span class="comment">// æŒ‰å±‚éå†</span></span><br><span class="line">    <span class="keyword">while</span> (que.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="comment">// å±‚æ•°+1</span></span><br><span class="line">        cnt++</span><br><span class="line">        <span class="comment">// æ¯å±‚çƒ‚æ©˜å­ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">let</span> size = que.<span class="property">length</span></span><br><span class="line">        <span class="comment">// éå†cntå±‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="comment">// å»é™¤ä¸€ä¸ªå½“åšçˆ¶èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">let</span> [x, y] = que.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="comment">// å¯»æ‰¾è‡ªå·±çš„ä¸Šä¸‹å·¦å³å­©å­ï¼ˆæ„ŸæŸ“å¯¹è±¡ï¼‰</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">let</span> newX = x + dx[j], newY = y + dy[j]</span><br><span class="line">                <span class="keyword">if</span> (newX &lt; <span class="number">0</span> || newY &lt; <span class="number">0</span> || newX &gt;= row || newY &gt;= col || grid[newX][newY] !== <span class="number">1</span>) <span class="keyword">continue</span></span><br><span class="line">                <span class="comment">// æ‰¾åˆ°ä¸€ä¸ªæ„ŸæŸ“å¯¹è±¡ï¼æŠŠå®ƒæ„ŸæŸ“ï¼Œå¹¶æ”¾è¿›é˜Ÿåˆ—ï¼Œå¥½æ©˜å­ä¸ªæ•°fresh-1</span></span><br><span class="line">                grid[newX][newY] = <span class="number">2</span></span><br><span class="line">                que.<span class="title function_">push</span>([newX, newY])</span><br><span class="line">                fresh--</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœè¿˜æœ‰å¥½æ©˜å­-1ï¼›å¦‚æœä¸€å¼€å§‹å°±æ²¡å¥½æ©˜å­0ï¼›å¥½æ©˜å­éƒ½æ²¡äº†cnt</span></span><br><span class="line">    <span class="keyword">return</span> fresh &gt; <span class="number">0</span> ? -<span class="number">1</span> : (cnt &lt;= <span class="number">0</span> ? <span class="number">0</span> : cnt)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ï¼ŸğŸ›542-01-çŸ©é˜µ"><a href="#ï¼ŸğŸ›542-01-çŸ©é˜µ" class="headerlink" title="ï¼ŸğŸ›542. 01 çŸ©é˜µ"></a>ï¼Ÿ<a href="https://leetcode.cn/problems/01-matrix/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">ğŸ›542. 01 çŸ©é˜µ</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µ mat ï¼Œè¯·è¾“å‡ºä¸€ä¸ªå¤§å°ç›¸åŒçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ ¼å­æ˜¯ mat ä¸­å¯¹åº”ä½ç½®å…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»ã€‚</p><p>ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/1626667201-NCWmuP-image.png" alt="img"></p><p>è¾“å…¥ï¼šmat = [[0,0,0],[0,1,0],[0,0,0]]<br>è¾“å‡ºï¼š[[0,0,0],[0,1,0],[0,0,0]]<br>ç¤ºä¾‹ 2ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/1626667205-xFxIeK-image.png" alt="img"></p><p>è¾“å…¥ï¼šmat = [[0,0,0],[0,1,0],[1,1,1]]<br>è¾“å‡ºï¼š[[0,0,0],[0,1,0],[1,2,1]]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-3"><a href="#è§£é¢˜æ€è·¯-3" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æ­¤é¢˜ç”¨çš„åŠ¨æ€è§„åˆ’</p><h4 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">mat</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> updateMatrix = <span class="keyword">function</span>(<span class="params">mat</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!mat.<span class="property">length</span> || !mat[<span class="number">0</span>].<span class="property">length</span>) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> row = mat.<span class="property">length</span></span><br><span class="line">    <span class="keyword">const</span> col = mat[<span class="number">0</span>].<span class="property">length</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ans = <span class="keyword">new</span> <span class="title class_">Array</span>(row)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        ans[i] = <span class="keyword">new</span> <span class="title class_">Array</span>(col).<span class="title function_">fill</span>(row + col)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mat[i][j] === <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i - <span class="number">1</span>][j] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j - <span class="number">1</span> &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i][j - <span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = row - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = col - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> &lt; row) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i + <span class="number">1</span>][j] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j + <span class="number">1</span> &lt; col) &#123;</span><br><span class="line">                ans[i][j] = <span class="title class_">Math</span>.<span class="title function_">min</span>(ans[i][j], ans[i][j + <span class="number">1</span>] + <span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é€’å½’-è¿­ä»£"><a href="#é€’å½’-è¿­ä»£" class="headerlink" title="é€’å½’/è¿­ä»£"></a>é€’å½’/è¿­ä»£</h2><p>æœ‰çš„æ—¶å€™çœŸçš„ä¸ç†è§£é€’å½’ï¼Œæ‰€ä»¥ä¸å–œæ¬¢ç”¨</p><p>ä½†æ˜¯å¤šåšå‡ ä¸ªå°±è§‰å¾—å¾ˆæœ‰æˆå°±æ„Ÿï¼Œåˆå–œæ¬¢ç”¨äº†</p><h3 id="ğŸ‘ˆï¸206-åè½¬é“¾è¡¨"><a href="#ğŸ‘ˆï¸206-åè½¬é“¾è¡¨" class="headerlink" title="ğŸ‘ˆï¸206. åè½¬é“¾è¡¨"></a><a href="https://leetcode.cn/problems/reverse-linked-list/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ‘ˆï¸206. åè½¬é“¾è¡¨</a></h3><blockquote><p>ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p><img src="../images/%E8%92%9C%E6%B3%95/rev1ex1.jpg" alt="img"></p><p>è¾“å…¥ï¼šhead = [1,2,3,4,5]<br>è¾“å‡ºï¼š[5,4,3,2,1]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-é€’å½’"><a href="#è§£é¢˜æ€è·¯-é€’å½’" class="headerlink" title="è§£é¢˜æ€è·¯(é€’å½’)"></a>è§£é¢˜æ€è·¯(é€’å½’)</h4><img src="../images/%E8%92%9C%E6%B3%95/image-20230321184400708.png" alt="image-20230321184400708" style="zoom: 80%;" /><h4 id="ä»£ç -6"><a href="#ä»£ç -6" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val, next) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.next = (next===undefined ? null : next)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">head</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">ListNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span>(<span class="params">head</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.<span class="property">next</span> == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> newHead = <span class="title function_">reverseList</span>(head.<span class="property">next</span>);</span><br><span class="line">    head.<span class="property">next</span>.<span class="property">next</span> = head;</span><br><span class="line">    head.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿­ä»£</span></span><br><span class="line"><span class="keyword">var</span> reverseList = <span class="keyword">function</span>(<span class="params">head</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> curr = head</span><br><span class="line">    <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">        <span class="keyword">const</span> next = curr.<span class="property">next</span></span><br><span class="line">        curr.<span class="property">next</span> = prev</span><br><span class="line"></span><br><span class="line">        prev = curr</span><br><span class="line">        curr = next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ™21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#ğŸ™21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="ğŸ™21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a><a href="https://leetcode.cn/problems/merge-two-sorted-lists/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ™21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></h3><p>é€’å½’æˆ‘çš„é€’å½’å•ŠT_T</p><blockquote><p>å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ å‡åº é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ </p><p>ç¤ºä¾‹ 1ï¼š</p><img src="../images/%E8%92%9C%E6%B3%95/merge_ex1.jpg" alt="img" style="zoom:80%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [1,2,4], l2 = [1,3,4]</span><br><span class="line">è¾“å‡ºï¼š[1,1,2,3,4,4]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [], l2 = []</span><br><span class="line">è¾“å‡ºï¼š[]</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šl1 = [], l2 = [0]</span><br><span class="line">è¾“å‡ºï¼š[0]</span><br></pre></td></tr></table></figure></blockquote><h4 id="è§£é¢˜æ€è·¯-4"><a href="#è§£é¢˜æ€è·¯-4" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><ol><li>å½“l1ä¸ºç©ºæ—¶è¿”å›å‰©ä¸‹çš„l2</li><li>å½“l2ä¸ºç©ºæ—¶è¿”å›å‰©ä¸‹çš„l1</li><li>å½“ä¸¤è€…éƒ½ä¸ä¸ºç©ºæ—¶ï¼Œè¦ç»§ç»­é€’å½’ï¼Œå¦‚æœl1.val &lt;= l2.valï¼Œé‚£ä¹ˆé€’å½’å‚æ•°å°†æ˜¯(l1çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹, l2)ï¼Œè¿”å›l1</li><li>åŒç†l2.valè¾ƒå°æ—¶é€’å½’l1ä¸l2.nextï¼Œè¿”å›l2</li></ol><h4 id="ä»£ç -7"><a href="#ä»£ç -7" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * function ListNode(val, next) &#123;</span></span><br><span class="line"><span class="comment"> *     this.val = (val===undefined ? 0 : val)</span></span><br><span class="line"><span class="comment"> *     this.next = (next===undefined ? null : next)</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">list1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ListNode</span>&#125; <span class="variable">list2</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">ListNode</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> mergeTwoLists = <span class="keyword">function</span>(<span class="params">list1, list2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!list2) <span class="keyword">return</span> list1</span><br><span class="line">    <span class="keyword">if</span> (!list1) <span class="keyword">return</span> list2</span><br><span class="line">    <span class="keyword">if</span> (list1.<span class="property">val</span> &lt;= list2.<span class="property">val</span>) &#123;</span><br><span class="line">        list1.<span class="property">next</span> = <span class="title function_">mergeTwoLists</span>(list1.<span class="property">next</span>, list2)</span><br><span class="line">        <span class="keyword">return</span> list1</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list2.<span class="property">next</span> = <span class="title function_">mergeTwoLists</span>(list1, list2.<span class="property">next</span>)</span><br><span class="line">        <span class="keyword">return</span> list2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="é€’å½’-å›æº¯"><a href="#é€’å½’-å›æº¯" class="headerlink" title="é€’å½’/å›æº¯"></a>é€’å½’/å›æº¯</h2><p>ç”¨ç†Ÿäº†å°±æœ‰ç‚¹å–œæ¬¢ç”¨äº†</p><h3 id="ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§46-å…¨æ’åˆ—"><a href="#ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§46-å…¨æ’åˆ—" class="headerlink" title="ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§46. å…¨æ’åˆ—"></a><a href="https://leetcode.cn/problems/permutations/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§46. å…¨æ’åˆ—</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥ æŒ‰ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [1,2,3]<br>è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]</p><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnums = [0,1]<br>è¾“å‡ºï¼š[[0,1],[1,0]]</p><p>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šnums = [1]<br>è¾“å‡ºï¼š[[1]]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-å›æº¯-DFS"><a href="#è§£é¢˜æ€è·¯-å›æº¯-DFS" class="headerlink" title="è§£é¢˜æ€è·¯(å›æº¯ DFS)"></a>è§£é¢˜æ€è·¯(å›æº¯ DFS)</h4><ol><li>DFSå»ºæ ‘ï¼Œæ’é™¤é‡å¤é‡å¤è§£ï¼Œæœå‡ºæ‰€æœ‰è§£</li><li>å›æº¯å…¥å£ï¼šç©ºæ•°ç»„ä¼ å…¥</li><li>å›æº¯è¿‡ç¨‹ï¼šéå†æ•°å­—ï¼ˆæšä¸¾å„é¡¹ï¼‰ï¼Œä½¿ç”¨æ¡ä»¶åˆ¤æ–­è·³è¿‡å‰ªæé¡¹ï¼Œå°†ç¬¦åˆæ¡ä»¶çš„é¡¹æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£é€‰æ‹©</li><li>å›æº¯å‡ºå£ï¼šæ•°ç»„é•¿åº¦ä¸å®šé•¿é•¿åº¦ä¸€è‡´</li></ol><h4 id="ä»£ç -8"><a href="#ä»£ç -8" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> permute = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> res = []</span><br><span class="line">    <span class="keyword">const</span> used = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">path</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (path.<span class="property">length</span> == nums.<span class="property">length</span>) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(path.<span class="title function_">slice</span>())</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (used[num]) <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            path.<span class="title function_">push</span>(num)</span><br><span class="line">            used[num] = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">            <span class="title function_">dfs</span>(path)</span><br><span class="line"></span><br><span class="line">            path.<span class="title function_">pop</span>()</span><br><span class="line">            used[num] = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">dfs</span>([])</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ‘ªï¸77-ç»„åˆ"><a href="#ğŸ‘ªï¸77-ç»„åˆ" class="headerlink" title="ğŸ‘ªï¸77. ç»„åˆ"></a><a href="https://leetcode.cn/problems/combinations/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ‘ªï¸77. ç»„åˆ</a></h3><blockquote><p>ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å›èŒƒå›´ [1, n] ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚ä½ å¯ä»¥æŒ‰ ä»»ä½•é¡ºåº è¿”å›ç­”æ¡ˆã€‚ </p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 4, k = 2<br>è¾“å‡ºï¼š<br>[<br>  [2,4],<br>  [3,4],<br>  [2,3],<br>  [1,2],<br>  [1,3],<br>  [1,4],<br>]<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 1, k = 1<br>è¾“å‡ºï¼š[[1]]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-5"><a href="#è§£é¢˜æ€è·¯-5" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>å¤§åŒå°å¼‚ï¼Œä¸è¿‡è¦æ³¨æ„æ­¤é¢˜è¦æ±‚çš„æ’åˆ—å®Œå…¨è§£ä¸åŒ…å«é‡å¤å…ƒç´ çš„ä¸åŒæ’åˆ—(1,2  2,1 nono!)</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡æ§åˆ¶æšä¸¾èµ·ç‚¹startï¼Œæ¥æ­£ç¡®è£å‰ªåˆ†æ”¯</p><ol><li>å›æº¯èµ·ç‚¹ï¼šæšä¸¾èµ·ç‚¹1ï¼Œç©ºæ•°ç»„</li><li>å›æº¯ç»ˆç‚¹ï¼šé˜Ÿåˆ—é•¿åº¦ä¸è¦æ±‚é•¿åº¦ç›¸ç­‰</li><li>å›æº¯è¿‡ç¨‹ï¼šæšä¸¾èµ·ç‚¹startåœ¨æ¯ä¸€æ¬¡è¿­ä»£æ—¶+1</li></ol><p><img src="../images/%E8%92%9C%E6%B3%95/1599556747-PAzUfe-image.png" alt="image.png"></p><h4 id="ä»£ç -9"><a href="#ä»£ç -9" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">k</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number[][]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> combine = <span class="keyword">function</span>(<span class="params">n, k</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="keyword">let</span> used = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dfs</span>(<span class="params">start, que</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (que.<span class="property">length</span> == k) &#123;</span><br><span class="line">            ans.<span class="title function_">push</span>(que.<span class="title function_">slice</span>())</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key = start; key &lt;= n; key++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (used.<span class="title function_">has</span>(key)) <span class="keyword">continue</span></span><br><span class="line">            </span><br><span class="line">            que.<span class="title function_">push</span>(key)</span><br><span class="line">            used.<span class="title function_">set</span>(key)</span><br><span class="line">            </span><br><span class="line">            <span class="title function_">dfs</span>(key+<span class="number">1</span>, que)</span><br><span class="line">            </span><br><span class="line">            used.<span class="title function_">delete</span>(key)</span><br><span class="line">            que.<span class="title function_">pop</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">dfs</span>(<span class="number">1</span>, [])</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ” 784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—"><a href="#ğŸ” 784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—" class="headerlink" title="ğŸ” 784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—"></a><a href="https://leetcode.cn/problems/letter-case-permutation/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ” 784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œé€šè¿‡å°†å­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªå­—æ¯è½¬å˜å¤§å°å†™ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</p><p>è¿”å› æ‰€æœ‰å¯èƒ½å¾—åˆ°çš„å­—ç¬¦ä¸²é›†åˆ ã€‚ä»¥ ä»»æ„é¡ºåº è¿”å›è¾“å‡ºã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šs = â€œa1b2â€<br>è¾“å‡ºï¼š[â€œa1b2â€, â€œa1B2â€, â€œA1b2â€, â€œA1B2â€]<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: s = â€œ3z4â€<br>è¾“å‡º: [â€œ3z4â€,â€3Z4â€]</p></blockquote><h4 id="è§£é¢˜æ€è·¯-6"><a href="#è§£é¢˜æ€è·¯-6" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>å¯æ¶ï¼ï¼ï¼æ•°å­—ï¼ï¼ï¼ï¼æ ‘æ ‘æ ‘ï¼ï¼ï¼ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">s</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="keyword">const</span> len = s.<span class="property">length</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">dfs</span> = (<span class="params">start, que</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (que.<span class="property">length</span> == len) &#123;</span><br><span class="line">            ans.<span class="title function_">push</span>(que.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = start; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(i) &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; s.<span class="title function_">charAt</span>(i) &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// é‡åˆ°æ•°å­—pushpushdfs</span></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i))</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// é‡åˆ°å­—æ¯pushpushdfsdfs</span></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i).<span class="title function_">toLowerCase</span>())</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line"></span><br><span class="line">                que.<span class="title function_">push</span>(s.<span class="title function_">charAt</span>(i).<span class="title function_">toUpperCase</span>())</span><br><span class="line">                <span class="title function_">dfs</span>(i+<span class="number">1</span>, que)</span><br><span class="line">                que.<span class="title function_">pop</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">dfs</span>(<span class="number">0</span>, [])</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="ä»£ç -10"><a href="#ä»£ç -10" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æˆ‘æœ‰ç‚¹ä¸èƒ½æ¥æ”¶å…¶ä»–æ€è·¯çš„æ„Ÿè§‰ï¼Œå¾ˆå¯æ€•</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span> (<span class="params">s</span>) &#123;</span><br><span class="line">  s = s.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">let</span> arr = [s[<span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">if</span> (s[<span class="number">0</span>].<span class="title function_">charCodeAt</span>() &gt; <span class="number">96</span>) arr.<span class="title function_">push</span>(s[<span class="number">0</span>].<span class="title function_">toUpperCase</span>())</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    arr = arr.<span class="title function_">map</span>(<span class="function"><span class="params">word</span> =&gt;</span> word += s[i])</span><br><span class="line">    <span class="keyword">if</span> (s[i].<span class="title function_">charCodeAt</span>() &gt; <span class="number">96</span>) arr = arr.<span class="title function_">concat</span>(arr.<span class="title function_">map</span>(<span class="function"><span class="params">word</span> =&gt;</span> word.<span class="title function_">slice</span>(<span class="number">0</span>, -<span class="number">1</span>) + s[i].<span class="title function_">toUpperCase</span>()))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼šalexYang</span><br><span class="line">é“¾æ¥ï¼š<span class="attr">https</span>:<span class="comment">//leetcode.cn/problems/letter-case-permutation/solution/by-alexyang-wzkk/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆ<span class="title class_">LeetCode</span>ï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®˜æ–¹æ ¸æ­¦å™¨ç‰ˆæœ¬</span></span><br><span class="line"><span class="keyword">var</span> letterCasePermutation = <span class="keyword">function</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ans = [];</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">dfs</span> = (<span class="params">arr, pos, res</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; arr.<span class="property">length</span> &amp;&amp; <span class="title function_">isDigit</span>(arr[pos])) &#123;</span><br><span class="line">            pos++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pos === arr.<span class="property">length</span>) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(arr.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[pos] = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(arr[pos].<span class="title function_">charCodeAt</span>() ^ <span class="number">32</span>);</span><br><span class="line">        <span class="title function_">dfs</span>(arr, pos + <span class="number">1</span>, res);</span><br><span class="line">        arr[pos] = <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(arr[pos].<span class="title function_">charCodeAt</span>() ^ <span class="number">32</span>);</span><br><span class="line">        <span class="title function_">dfs</span>(arr, pos + <span class="number">1</span>, res);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="title function_">dfs</span>([...s], <span class="number">0</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">isDigit</span> = (<span class="params">ch</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseFloat</span>(ch).<span class="title function_">toString</span>() === <span class="string">&quot;NaN&quot;</span> ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½œè€…ï¼š<span class="title class_">LeetCode</span>-<span class="title class_">Solution</span></span><br><span class="line">é“¾æ¥ï¼š<span class="attr">https</span>:<span class="comment">//leetcode.cn/problems/letter-case-permutation/solution/zi-mu-da-xiao-xie-quan-pai-lie-by-leetco-cwpx/</span></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆ<span class="title class_">LeetCode</span>ï¼‰</span><br><span class="line">è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><blockquote><p>è‡ªä¸‹è€Œä¸Šçš„è¶…ç‰›æ€æƒ³ï¼Œä½¿é—®é¢˜ç®€å•ï¼Œä¿ƒäººç”ŸæˆåŠŸ(doge)</p></blockquote><h3 id="ğŸ›¤ï¸70-çˆ¬æ¥¼æ¢¯"><a href="#ğŸ›¤ï¸70-çˆ¬æ¥¼æ¢¯" class="headerlink" title="ğŸ›¤ï¸70. çˆ¬æ¥¼æ¢¯"></a><a href="https://leetcode.cn/problems/climbing-stairs/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xh275yye">ğŸ›¤ï¸70. çˆ¬æ¥¼æ¢¯</a></h3><blockquote><p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 2<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</p><ol><li>1 é˜¶ + 1 é˜¶</li><li>2 é˜¶</li></ol><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 3<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚</p><ol><li>1 é˜¶ + 1 é˜¶ + 1 é˜¶</li><li>1 é˜¶ + 2 é˜¶</li><li>2 é˜¶ + 1 é˜¶</li></ol></blockquote><h4 id="è§£é¢˜æ€è·¯-7"><a href="#è§£é¢˜æ€è·¯-7" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æœ‰ä¸¤ç§æ–¹å¼ä¸Šæ¥¼ï¼šä¸€æ¬¡è¿ˆä¸€é˜¶/ä¸€æ¬¡è¿ˆä¸¤é˜¶</p><p>æœ€åä¸€æ¬¡ä¸Šæ¥¼è¿˜å‰© ä¸€é˜¶/ä¸¤é˜¶</p><p>æœ€è¿‘ä¸€æ¬¡ä¸Šæ¥¼æ–¹å¼æ€»æ•° åº”è¯¥æ˜¯ åœ¨æ­¤ä¹‹å‰ä¸¤ç§æ–¹å¼ä¸Šæ¥¼æ–¹å¼çš„æ€»å’Œ<br>$$<br>f(x) = f(x - 1) + f(x - 2)<br>$$<br>ç”¨è„šè¶¾æ¨ç®—å¾—f(0) = f(1) = 1</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥éå†ç›¸åŠ äº†</p><h4 id="ä»£ç -11"><a href="#ä»£ç -11" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> climbStairs = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, step1 = <span class="number">1</span>, step2 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>;  i &lt;= n; i++) &#123;</span><br><span class="line">        step2 = step1</span><br><span class="line">        step1 = ans</span><br><span class="line">        ans = step1 + step2</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ•°ç»„æ›´é€‚åˆæˆ‘è¿™ç§ç¬¨ç¬¨è„‘</span></span><br><span class="line"><span class="keyword">var</span> climbStairs = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="keyword">new</span> <span class="title class_">Array</span>(n+<span class="number">1</span>).<span class="title function_">fill</span>(<span class="number">0</span>)</span><br><span class="line">    ans[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    ans[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>;  i &lt;= n; i++) &#123;</span><br><span class="line">        ans[i] = ans[i - <span class="number">1</span>] + ans[i - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans[n]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ—¼120-ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ"><a href="#ğŸ—¼120-ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ" class="headerlink" title="ğŸ—¼120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ"></a><a href="https://leetcode.cn/problems/triangle/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">ğŸ—¼120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ</a></h3><blockquote><p>ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ triangle ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚</p><p>æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚ç›¸é‚»çš„ç»“ç‚¹ åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ ä¸‹æ ‡ ä¸ ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ ç›¸åŒæˆ–è€…ç­‰äº ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ + 1 çš„ä¸¤ä¸ªç»“ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ­£ä½äºå½“å‰è¡Œçš„ä¸‹æ ‡ i ï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥å¯ä»¥ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„ä¸‹æ ‡ i æˆ– i + 1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼štriangle = [[2],[3,4],[6,5,7],[4,1,8,3]]<br>è¾“å‡ºï¼š11<br>è§£é‡Šï¼šå¦‚ä¸‹é¢ç®€å›¾æ‰€ç¤ºï¼š<br>   2<br>  3 4<br> 6 5 7<br>4 1 8 3<br>è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 11ï¼ˆå³ï¼Œ2 + 3 + 5 + 1 = 11ï¼‰ã€‚</p><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼štriangle = [[-10]]<br>è¾“å‡ºï¼š-10</p></blockquote><h4 id="è§£é¢˜æ€è·¯-8"><a href="#è§£é¢˜æ€è·¯-8" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æµ…ç”»è‰å›¾</p><img src="../images/%E8%92%9C%E6%B3%95/IMG_20230323_091839.jpg" alt="IMG_20230323_091839" style="zoom: 15%;" /><h4 id="ä»£ç -12"><a href="#ä»£ç -12" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[][]</span>&#125; <span class="variable">triangle</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> minimumTotal = <span class="keyword">function</span>(<span class="params">triangle</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> row = triangle.<span class="property">length</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (row === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; triangle[i].<span class="property">length</span>; j++) &#123;</span><br><span class="line">            triangle[i][j] += <span class="title class_">Math</span>.<span class="title function_">min</span>(triangle[i+<span class="number">1</span>][j], triangle[i+<span class="number">1</span>][j+<span class="number">1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> triangle[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ğŸ•²198-æ‰“å®¶åŠ«èˆ"><a href="#ğŸ•²198-æ‰“å®¶åŠ«èˆ" class="headerlink" title="ğŸ•²198. æ‰“å®¶åŠ«èˆ"></a><a href="https://leetcode.cn/problems/house-robber/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">ğŸ•²198. æ‰“å®¶åŠ«èˆ</a></h3><blockquote><p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼š[1,2,3,1]<br>è¾“å‡ºï¼š4<br>è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚<br>     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼š[2,7,9,3,1]<br>è¾“å‡ºï¼š12<br>è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚<br>     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚</p></blockquote><h4 id="è§£é¢˜æ€è·¯-9"><a href="#è§£é¢˜æ€è·¯-9" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><blockquote><p> 2  1  1  2</p></blockquote><p>å°±æ˜¯è¯´é—®é¢˜å¯ä»¥æ‹†åˆ†æˆä¸¤ç§æƒ…å†µâ†“ï¼š</p><ul><li>å·è¿™ä¸ªå®¶-å‰å¤´é‚£å®¶ä¸èƒ½å· (å°å·æºœè¾¾åˆ°è¿™å®¶ï¼Œæ‰‹é‡Œæœ‰<code>å‰å‡ å®¶çš„ç±³ï¼Œå¹¶ä¸”æ”¥äº†ä¸€æŠŠè¿™å®¶çš„ç±³</code>)</li><li>å·å‰å¤´é‚£å®¶-è¿™å®¶ä¸èƒ½å· (å°å·æºœè¾¾åˆ°è¿™å®¶çš„æ—¶å€™ï¼Œæ‰‹é‡Œæœ‰å·<code>å‰å‰å¤´é‚£å‡ å®¶çš„ç±³</code>)</li></ul><p>æ‰€ä»¥è¯´çŠ¶æ€é‡åº”è¯¥æ˜¯ï¼šå°å·æºœè¾¾åˆ°ç¬¬å‡ å®¶çš„æ—¶å€™æ‰‹é‡Œæœ‰å¤šå°‘ç±³</p><p>æœ€ç»ˆè§£æ˜¯ä¿©ä¸¤ç§æƒ…å†µé‡ŒæŒ‘æœ€å¤§çš„â†“</p><blockquote><p>2                    1                    1                    2</p><p><strong>å·2</strong>ä¸å·0      å·1<strong>ä¸å·2</strong>      <strong>å·3</strong>ä¸å·2      <strong>å·4</strong>ä¸å·3</p></blockquote><p>é‚£ä¹ˆâ†“</p><p>$home[x] = max(home[x-1], home[x-2] + money[x])$</p><p>å°å·æˆ‘åˆ°è¿™å®¶æ‰‹é‡Œçš„é’±é’± = ä¸Šä¸€å®¶å·æ¥çš„é’±é’± / è¿™å®¶å·çš„é’±é’±å’Œéä¸Šä¸€å®¶å·æ¥çš„é’±é’±ä¹‹å’Œ  (èªæ˜çš„å°å·ä¼šé€‰æ‹©è¾ƒå¤§çš„è·ç›Š)</p><h4 id="ä»£ç -13"><a href="#ä»£ç -13" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> rob = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = nums.<span class="property">length</span></span><br><span class="line">    <span class="keyword">let</span> dp = [nums[<span class="number">0</span>], <span class="title class_">Math</span>.<span class="title function_">max</span>(nums[<span class="number">0</span>], nums[<span class="number">1</span>])]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; len; i++) &#123;</span><br><span class="line">        dp[i] = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp[i-<span class="number">1</span>], dp[i-<span class="number">2</span>]+nums[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[len - <span class="number">1</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çŠ¶æ€å‹ç¼©</span></span><br><span class="line"><span class="keyword">var</span> rob = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dp_0 = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> dp_1 = <span class="title class_">Math</span>.<span class="title function_">max</span>(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">let</span> dp_max = dp_1</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; nums.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        dp_max = <span class="title class_">Math</span>.<span class="title function_">max</span>(dp_1, dp_0 + nums[i])</span><br><span class="line">        dp_0 = dp_1</span><br><span class="line">        dp_1 = dp_max</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dp_max</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="1ï¸âƒ£191-ä½1çš„ä¸ªæ•°"><a href="#1ï¸âƒ£191-ä½1çš„ä¸ªæ•°" class="headerlink" title="1ï¸âƒ£191. ä½1çš„ä¸ªæ•°"></a><a href="https://leetcode.cn/problems/number-of-1-bits/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">1ï¸âƒ£191. ä½1çš„ä¸ªæ•°</a></h3><blockquote><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆæ±‰æ˜é‡é‡ï¼‰ã€‚</p><p>æç¤ºï¼š</p><p>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚<br>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ ç¤ºä¾‹ 3 ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -3ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 00000000000000000000000000001011<br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º â€˜1â€™ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 00000000000000000000000010000000<br>è¾“å‡ºï¼š1<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º â€˜1â€™ã€‚<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šn = 11111111111111111111111111111101<br>è¾“å‡ºï¼š31<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º â€˜1â€™ã€‚</p></blockquote><h4 id="è§£é¢˜æ€è·¯-10"><a href="#è§£é¢˜æ€è·¯-10" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>è§‚å¯Ÿï¼š<code>n &amp; (n - 1) = æŠŠnçš„äºŒè¿›åˆ¶ä½ä¸­æœ€ä½ä½çš„1å˜ä¸º0åçš„ç»“æœ</code></p><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦  ä¸æ–­æŠŠäºŒè¿›åˆ¶æ•°ä¸­çš„1=&gt;0ï¼Œç›´åˆ°æ•°å­—å˜ä¸º0  å°±å¯ä»¥æ±‚å¾—å…¶â€œæ±‰æ˜é‡é‡/æ±‰æ˜æƒé‡â€</p><blockquote><p>â€‹        æ±‰æ˜æƒé‡æ˜¯ä¸€ä¸²ç¬¦å·ä¸­ä¸åŒäºï¼ˆå®šä¹‰åœ¨å…¶æ‰€ä½¿ç”¨çš„å­—ç¬¦é›†ä¸Šçš„ï¼‰é›¶ç¬¦å·ï¼ˆzero-symbolï¼‰çš„ä¸ªæ•°ã€‚å¯¹äºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œå®ƒçš„æ±‰æ˜æƒé‡å°±ç­‰äºå®ƒ <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="1"> çš„ä¸ªæ•°ï¼ˆå³ <code>popcount</code>)ã€‚</p></blockquote><h4 id="ä»£ç -14"><a href="#ä»£ç -14" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span> - a positive integer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> hammingWeight = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> popCount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">        n &amp;= n - <span class="number">1</span></span><br><span class="line">        popCount++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> popCount</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2ï¸âƒ£231-2-çš„å¹‚"><a href="#2ï¸âƒ£231-2-çš„å¹‚" class="headerlink" title="2ï¸âƒ£231. 2 çš„å¹‚"></a><a href="https://leetcode.cn/problems/power-of-two/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">2ï¸âƒ£231. 2 çš„å¹‚</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° nï¼Œè¯·ä½ åˆ¤æ–­è¯¥æ•´æ•°æ˜¯å¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><p>å¦‚æœå­˜åœ¨ä¸€ä¸ªæ•´æ•° x ä½¿å¾— n == 2x ï¼Œåˆ™è®¤ä¸º n æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 1<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼š20 = 1<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 16<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼š24 = 16<br>ç¤ºä¾‹ 3ï¼š</p><p>è¾“å…¥ï¼šn = 3<br>è¾“å‡ºï¼šfalse<br>ç¤ºä¾‹ 4ï¼š</p><p>è¾“å…¥ï¼šn = 4<br>è¾“å‡ºï¼štrue<br>ç¤ºä¾‹ 5ï¼š</p><p>è¾“å…¥ï¼šn = 5<br>è¾“å‡ºï¼šfalse</p></blockquote><h4 id="è§£é¢˜æ€è·¯-11"><a href="#è§£é¢˜æ€è·¯-11" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æˆ‘å¯¹ä½è¿ç®—æ²¡å¤ªæœ‰æ¦‚å¿µå•Šï¼Œåæ­£é‡åˆ°ä¸€ä¸ªé¢˜å°±è®°ä¸€ä¸‹äº†</p><h4 id="ä»£ç -15"><a href="#ä»£ç -15" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">boolean</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isPowerOfTwo = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (n - <span class="number">1</span>)) === <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isPowerOfTwo = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (-n)) === n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ğŸ”¢136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"><a href="#ğŸ”¢136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—" class="headerlink" title="ğŸ”¢136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"></a><a href="https://leetcode.cn/problems/single-number/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">ğŸ”¢136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</a></h3><blockquote><p>ç»™ä½ ä¸€ä¸ª éç©º æ•´æ•°æ•°ç»„ nums ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚</p><p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä¸”è¯¥ç®—æ³•åªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´ã€‚</p><p>ç¤ºä¾‹ 1 ï¼š</p><p>è¾“å…¥ï¼šnums = [2,2,1]<br>è¾“å‡ºï¼š1<br>ç¤ºä¾‹ 2 ï¼š</p><p>è¾“å…¥ï¼šnums = [4,1,2,1,2]<br>è¾“å‡ºï¼š4<br>ç¤ºä¾‹ 3 ï¼š</p><p>è¾“å…¥ï¼šnums = [1]<br>è¾“å‡ºï¼š1</p></blockquote><h4 id="è§£é¢˜æ€è·¯-12"><a href="#è§£é¢˜æ€è·¯-12" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>å¼‚æˆ–è¿ç®—âŠ•æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ€§è´¨:</p><ol><li>$a âŠ• 0 = a$</li><li>$aâŠ•a = 0$</li><li>$ a âŠ• b âŠ• a = b âŠ• a âŠ• a = b âŠ• (a âŠ• a) = b âŠ• 0 = b $</li></ol><p>æ‰€ä»¥åªéœ€è¦éå†æ•°ç»„ï¼ŒæŠŠæ‰€æœ‰çš„æ•°è¿›è¡Œå¼‚æˆ–ï¼Œå°±å¯ä»¥æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å€¼ã€‚</p><h4 id="ä»£ç -16"><a href="#ä»£ç -16" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number[]</span>&#125; <span class="variable">nums</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> singleNumber = <span class="keyword">function</span>(<span class="params">nums</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> n <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        ans ^= n</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ï¸âƒ£190-é¢ å€’äºŒè¿›åˆ¶ä½"><a href="#ï¸âƒ£190-é¢ å€’äºŒè¿›åˆ¶ä½" class="headerlink" title="#ï¸âƒ£190. é¢ å€’äºŒè¿›åˆ¶ä½"></a><a href="https://leetcode.cn/problems/reverse-bits/?envType=study-plan&id=suan-fa-ru-men&plan=algorithms&plan_progress=xxlqfn67">#ï¸âƒ£190. é¢ å€’äºŒè¿›åˆ¶ä½</a></h3><blockquote><p>é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½ã€‚</p><p>æç¤ºï¼š</p><p>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚<br>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ ç¤ºä¾‹ 2 ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -3ï¼Œè¾“å‡ºè¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -1073741825ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šn = 00000010100101000001111010011100<br>è¾“å‡ºï¼š964176192 (00111001011110000010100101000000)<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000010100101000001111010011100 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 43261596ï¼Œ<br>     å› æ­¤è¿”å› 964176192ï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 00111001011110000010100101000000ã€‚<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šn = 11111111111111111111111111111101<br>è¾“å‡ºï¼š3221225471 (10111111111111111111111111111111)<br>è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 4294967293ï¼Œ<br>     å› æ­¤è¿”å› 3221225471 å…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 10111111111111111111111111111111 ã€‚</p></blockquote><h4 id="è§£é¢˜æ€è·¯-13"><a href="#è§£é¢˜æ€è·¯-13" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><p>æ ¹æ®ä½è¿ç®—ç‰¹æ€§ï¼Œéå†å„ä½ï¼Œé€ä½é¢ å€’ã€‚</p><h4 id="ä»£ç -17"><a href="#ä»£ç -17" class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; <span class="variable">n</span> - a positive integer</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">number</span>&#125; - a positive integer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> reverseBits = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ˜¯è¿ç”¨JSå†…ç½®ä¸€äº›APIåšçš„ï¼Œä½†æ˜¯æ•ˆç‡ä¸åŠåè€…</span></span><br><span class="line">    <span class="comment">// return +(&#x27;0b&#x27;+n.toString(2).padStart(32,0).split(&#x27;&#x27;).reverse().join(&#x27;&#x27;))</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> rev = <span class="number">0</span> <span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªæ”¾å„ä½æ•°çš„å®¹å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span> &amp;&amp; n &gt; <span class="number">0</span>; i++) &#123;  <span class="comment">// å¯¹nè¿›è¡Œå–æ•°ä½ç§»æ“ä½œ</span></span><br><span class="line">        rev |= (n &amp; <span class="number">1</span>) &lt;&lt; (<span class="number">31</span> - <span class="number">1</span>)  <span class="comment">// å–å‡ºnä¸­æœ€åä¸€ä½æ•°ï¼Œå¹¶å°†è¯¥æ•°æ”¾è¿›devæŒ‡å®šä½ç½®</span></span><br><span class="line">        n &gt;&gt;&gt;= <span class="number">1</span>  <span class="comment">// næ— ç¬¦å·å‘å³ç§»åŠ¨ä¸€ä½æå˜¿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rev &gt;&gt;&gt; <span class="number">0</span>  <span class="comment">// ä¸€å¼€å§‹æ²¡åŠ &gt;&gt;&gt;0ï¼ŒæŠ¥é”™äº†ï¼Œé”™è¯¯æ¡ˆä¾‹æ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œæˆ‘ï¼Ÿï¼Ÿï¼Ÿ </span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯â€˜ä½è¿ç®—åˆ†æ²»â€™æˆ‘ä¸å¤ªç†è§£ï¼Œå¶æ•°å¯¹è°ƒéš”2å¯¹è°ƒéš”4å¯¹è°ƒä»€ä¹ˆçš„</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è’œæ³• </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é€Ÿé€šè“æ¡¥æ¯Web</title>
      <link href="/post/d0c6.html"/>
      <url>/post/d0c6.html</url>
      
        <content type="html"><![CDATA[<img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/QQ%E5%9B%BE%E7%89%8720230405164057.png" alt="QQå›¾ç‰‡20230405164057" style="zoom:50%;" /><p>æŒ‰ç…§è“æ¡¥é¢˜åº“é‡Œçš„æ ‡ç­¾åˆ†ç±»ï¼Œè“æ¡¥webé¢˜å‹åº”è¯¥æ˜¯è¿™æ ·å­çš„â†“ä¸è¿‡èº«ä½“çŠ¶å†µä¸å…è®¸ï¼Œæˆ‘å·²æ— æ—¶é—´æ•´ç†ï¼Œç•™ä¸‹è¿™å‡ ä¸ªç©ºæ ‡é¢˜ï¼Œä»¥åé—²æ¥æ— äº‹æŠŠæ‰€æœ‰çš„é¢˜è¡¥ä¸Šç½¢ã€‚è¯·è½¬è‡³æ¨¡æ‹Ÿé¢˜</p><h1 id="CSS3"><a href="#CSS3" class="headerlink" title="CSS3"></a>CSS3</h1><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><h1 id="ECharts"><a href="#ECharts" class="headerlink" title="ECharts"></a>ECharts</h1><h1 id="ElementUI"><a href="#ElementUI" class="headerlink" title="ElementUI"></a>ElementUI</h1><h1 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h1><h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><p>Seletor?</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>()</span><br></pre></td></tr></table></figure><h1 id="JSå‡½æ•°å°è£…"><a href="#JSå‡½æ•°å°è£…" class="headerlink" title="JSå‡½æ•°å°è£…"></a>JSå‡½æ•°å°è£…</h1><h1 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h1><p>æ¥å£æ€ä¹ˆå†™ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>()</span><br><span class="line"><span class="keyword">const</span> data = [â€¦â€¦]</span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="keyword">function</span>(<span class="params">req, res</span>) &#123;</span><br><span class="line">    <span class="comment">// UTF-8ï¼Ÿ</span></span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;text/html;charset=utf8&quot;</span>);</span><br><span class="line">    <span class="comment">// åˆ¤æ–­ä¸€ä¸‹è·¯å¾„ï¼Ÿä»¥/newsä¸ºä¾‹</span></span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&#x27;/news&#x27;</span>) &#123;</span><br><span class="line">        res.<span class="title function_">end</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res.<span class="title function_">end</span>(<span class="string">&quot;404 NOT FOUND&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;is running!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h1><h1 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h1><h1 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h1><h1 id="æ¨¡æ‹Ÿé¢˜"><a href="#æ¨¡æ‹Ÿé¢˜" class="headerlink" title="æ¨¡æ‹Ÿé¢˜"></a>æ¨¡æ‹Ÿé¢˜</h1><p>è¯è¯´ä»¥ä¸‹çš„é¢˜åœ¨å“ªå¯ä»¥æ‰¾åˆ°ï¼Ÿ</p><p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/image-20230407163538477.png" alt="image-20230407163538477"></p><h2 id="JSåŸºç¡€"><a href="#JSåŸºç¡€" class="headerlink" title="JSåŸºç¡€"></a>JSåŸºç¡€</h2><h3 id="æ•°æ®ç±»å‹æ£€æµ‹-ä¸€"><a href="#æ•°æ®ç±»å‹æ£€æµ‹-ä¸€" class="headerlink" title="æ•°æ®ç±»å‹æ£€æµ‹-ä¸€"></a>æ•°æ®ç±»å‹æ£€æµ‹-ä¸€</h3><p>å®Œå–„ <code>main.js</code> ä¸­ <code>getType</code> å‡½æ•°ä¸­çš„ TODO éƒ¨åˆ†ï¼Œè¿”å›ä¼ å…¥å€¼çš„å¯¹åº”æ•°æ®ç±»å‹ã€‚</p><p>ä¼ å…¥å€¼ä»¥åŠ <code>getType</code> å‡½æ•°è¿”å›å€¼ï¼ˆ<strong>å¤§å°å†™å¯å¿½ç•¥</strong>ï¼‰æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å¯¹åº”ï¼š</p><table><thead><tr><th>ä¼ å…¥å€¼</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td>â€˜sâ€™</td><td>string</td></tr><tr><td>0</td><td>number</td></tr><tr><td>false</td><td>boolean</td></tr><tr><td>undefined</td><td>undefined</td></tr><tr><td>Symbol()</td><td>symbol</td></tr><tr><td>function fn(){}</td><td>function</td></tr><tr><td>123n</td><td>bigint</td></tr><tr><td>null</td><td>null</td></tr><tr><td>{}</td><td>object</td></tr><tr><td>[]</td><td>array</td></tr><tr><td>new Date</td><td>date</td></tr><tr><td>new Map</td><td>map</td></tr><tr><td>new Set</td><td>set</td></tr><tr><td>/a/</td><td>regexp</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: æ•°æ®ç±»å‹æ£€æµ‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; data ä¼ å…¥çš„å¾…æ£€æµ‹æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125; è¿”å›æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getType</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// TODOï¼šå¾…è¡¥å……ä»£ç </span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> data != <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> <span class="keyword">typeof</span> data</span><br><span class="line">  <span class="keyword">if</span>(!data) <span class="keyword">return</span> <span class="string">&quot;null&quot;</span></span><br><span class="line">  <span class="keyword">return</span> data.<span class="property">__proto__</span>.<span class="property">constructor</span>.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>)[<span class="number">1</span>].<span class="title function_">replace</span>(<span class="string">&quot;()&quot;</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">toLowerCase</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  getType</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä¸æ˜¯å¾ˆèƒ½ç†è§£è¿™ä¸ªï¼</p><h3 id="æ¢…æ¥¼å°çš„ä¸€å¤©-ä¸€"><a href="#æ¢…æ¥¼å°çš„ä¸€å¤©-ä¸€" class="headerlink" title="æ¢…æ¥¼å°çš„ä¸€å¤©-ä¸€"></a>æ¢…æ¥¼å°çš„ä¸€å¤©-ä¸€</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/image-20230405171552500.png" alt="image-20230405171552500" style="zoom: 67%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">str</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">rule</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">symbol</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">*</span>&#125; <span class="variable">dealPhone</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">*</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">toDesensitization</span> = (<span class="params">str, rule, symbol = <span class="string">&quot;*&quot;</span>, dealPhone = <span class="literal">true</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// ç»“æœé›†</span></span><br><span class="line">    <span class="keyword">let</span> ans = &#123;</span><br><span class="line">        <span class="string">&quot;ids&quot;</span>: [],</span><br><span class="line">        <span class="string">&quot;newStr&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç©ºå­—ç¬¦ä¸²å¤„ç†</span></span><br><span class="line">    <span class="keyword">if</span> (!str) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">if</span> (!rule) <span class="keyword">return</span> str</span><br><span class="line">    <span class="comment">// ç”µè¯å·ç è„±æ•</span></span><br><span class="line">    <span class="keyword">if</span> (dealPhone) &#123;</span><br><span class="line">        str = str.<span class="title function_">replace</span>(<span class="regexp">/(\d&#123;3&#125;)\d&#123;5&#125;(\d&#123;3&#125;)/</span>, <span class="string">`$1<span class="subst">$&#123;symbol.repeat(<span class="number">5</span>)&#125;</span>$2`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ•æ„Ÿè¯è„±æ•</span></span><br><span class="line">    <span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(rule) ? rule.<span class="title function_">join</span>(<span class="string">&#x27;|&#x27;</span>) : rule, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">    ans.<span class="property">newStr</span> = str.<span class="title function_">replace</span>(regex, <span class="function">(<span class="params">match, index</span>) =&gt;</span> &#123;</span><br><span class="line">        ans.<span class="property">ids</span>.<span class="title function_">push</span>(index)</span><br><span class="line">        <span class="keyword">return</span> symbol.<span class="title function_">repeat</span>(match.<span class="property">length</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœé›†</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = toDesensitization;</span><br></pre></td></tr></table></figure><h3 id="å¹³åœ°èµ·é«˜æ¥¼-äºŒ"><a href="#å¹³åœ°èµ·é«˜æ¥¼-äºŒ" class="headerlink" title="å¹³åœ°èµ·é«˜æ¥¼-äºŒ"></a>å¹³åœ°èµ·é«˜æ¥¼-äºŒ</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/image-20230406102227590.png" alt="image-20230406102227590" style="zoom: 50%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">convertToTree</span>(<span class="params">regions, rootId = <span class="string">&quot;0&quot;</span></span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œå†™å…¥å…·ä½“çš„å®ç°é€»è¾‘</span></span><br><span class="line">  <span class="comment">// å°†å¹³é“ºçš„ç»“æ„è½¬åŒ–ä¸ºæ ‘çŠ¶ç»“æ„ï¼Œå¹¶å°† rootId ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹æ•°ç»„è¿”å›</span></span><br><span class="line">  <span class="comment">// å¦‚æœä¸å­˜åœ¨ rootId ä¸‹çš„å­èŠ‚ç‚¹ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">travNode</span>(<span class="params">region, rootId</span>) &#123;</span><br><span class="line">    <span class="comment">// å¤ªå·§ç§’äº†ï¼Œæˆ‘æ²¡æœ‰è¿™ç§å·§å¦™çš„JSè„‘ï¼Œå¸Œæœ›åšå®Œè¿™ä¸ªé¢˜ä¹‹åä¼šé•¿å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">return</span> region.<span class="title function_">filter</span>(<span class="function"><span class="params">el</span> =&gt;</span> rootId === el.<span class="property">pid</span>)</span><br><span class="line">        .<span class="title function_">map</span>(<span class="function"><span class="params">el</span> =&gt;</span> (el.<span class="property">children</span> = <span class="title function_">travNode</span>(region, el.<span class="property">id</span>), el))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">travNode</span>(regions, rootId)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = convertToTree; <span class="comment">// æ£€æµ‹éœ€è¦ï¼Œè¯·å‹¿åˆ é™¤</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ”¶å¿«é€’äº†-äºŒ"><a href="#æ”¶å¿«é€’äº†-äºŒ" class="headerlink" title="æ”¶å¿«é€’äº†-äºŒ"></a>æ”¶å¿«é€’äº†-äºŒ</h3><p>ç®—æ˜¯æ‰¿æ¥ä¸Šä¸€é“é¢˜ï¼Œæ­¤é¢˜æ€è·¯æ˜¯æ·±æœï¼Œè¿ç”¨é€’å½’æœç´¢å‡ºæœ€ç»ˆæ•°ç»„é›†åˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">findRegion</span>(<span class="params">regions, regionName</span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œå†™å…¥å…·ä½“çš„å®ç°é€»è¾‘</span></span><br><span class="line">  <span class="comment">// éœ€è¦ä»æ ‘çŠ¶ç»“æ„çš„è¡Œæ”¿ä¿¡æ¯ä¸­ï¼Œéå†æ‰¾åˆ°ç›®æ ‡åŒºåŸŸçš„è¡Œæ”¿ä¿¡æ¯ï¼Œå¦‚è¾“å…¥ï¼šæˆéƒ½å¸‚ï¼Œè¿”å› [å››å·çœï¼Œæˆéƒ½å¸‚]</span></span><br><span class="line">  <span class="comment">// å¦‚æœæ‰€è¾“å…¥çš„ä½ç½®ä¿¡æ¯ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› null</span></span><br><span class="line">  <span class="keyword">let</span> ans = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> region <span class="keyword">of</span> regions) &#123;</span><br><span class="line">    <span class="keyword">if</span> (region.<span class="property">name</span> === regionName) &#123;</span><br><span class="line">      ans = [regionName]</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!region.<span class="property">children</span>) <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">let</span> kidans = <span class="title function_">findRegion</span>(region.<span class="property">children</span>, regionName)</span><br><span class="line">      <span class="keyword">if</span> (kidans) &#123;</span><br><span class="line">        ans = [region.<span class="property">name</span>, ...kidans]</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = findRegion; <span class="comment">// æ£€æµ‹éœ€è¦ï¼Œè¯·å‹¿åˆ é™¤</span></span><br></pre></td></tr></table></figure><h2 id="promiseâˆš"><a href="#promiseâˆš" class="headerlink" title="promiseâˆš"></a>promiseâˆš</h2><h3 id="èŠéº»å¼€é—¨-äºŒ"><a href="#èŠéº»å¼€é—¨-äºŒ" class="headerlink" title="èŠéº»å¼€é—¨-äºŒ"></a>èŠéº»å¼€é—¨-äºŒ</h3><blockquote><p>è¿‡è¾£ï¼</p></blockquote><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/wm.gif" alt="å›¾ç‰‡æè¿°" style="zoom:33%;" /><p>æ‰¾åˆ° <code>index.js</code> æ–‡ä»¶ä¸­çš„ <code>mPrompt</code> å‡½æ•°ï¼Œå®Œæˆå‡½æ•°ä¸­çš„ TODO éƒ¨åˆ†ã€‚</p><ol><li>ç‚¹å‡»â€œç‚¹å‡»å¼¹å‡ºå¯¹è¯æ¡†ï¼Œè¾“å…¥å’’è¯­â€æŒ‰é’®ä¼šè°ƒç”¨ <code>mPrompt</code> å‡½æ•°ï¼Œ<code>mPrompt</code> è°ƒç”¨åé¡µé¢æ˜¾ç¤ºå¯¹è¯æ¡†ã€‚<code>mPrompt</code> å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ª <code>promise</code> å¯¹è±¡ã€‚</li><li>åœ¨å¯¹è¯æ¡†ä¸­çš„è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—åï¼Œç‚¹å‡»ç¡®è®¤æŒ‰é’®ï¼Œå¯¹è¯æ¡†æ¶ˆå¤±ï¼Œ <code>promise</code> è¿”å›æˆåŠŸï¼Œ<code>promise</code> æˆåŠŸçš„å€¼ä¸ºè¾“å…¥çš„å€¼ã€‚</li><li>åªæœ‰å½“æˆåŠŸçš„å€¼ä¸ºâ€œèŠéº»å¼€é—¨â€æ—¶é—¨è‡ªåŠ¨æ‰“å¼€ï¼ˆå·²å®ç°ï¼‰ã€‚</li><li>ç‚¹å‡»å–æ¶ˆï¼Œå¯¹è¯æ¡†æ¶ˆå¤±ï¼Œ<code>promise</code> è¿”å›å¤±è´¥ï¼Œå¤±è´¥çš„å€¼ä¸º <code>false</code>ã€‚</li><li>å¯¹è¯æ¡†çš„æ˜¾ç¤ºéšè—è¯·ä½¿ç”¨ DOM èŠ‚ç‚¹çš„æ·»åŠ åˆ é™¤å®ç°ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç®€å•è€ƒå¯Ÿäº†Promise */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> incantations = <span class="string">&quot;èŠéº»å¼€é—¨&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params">el</span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.wrapper .btn&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">mPrompt</span>()</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res === incantations) &#123;</span><br><span class="line">          <span class="variable language_">document</span></span><br><span class="line">            .<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#door .doors&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">            .<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;door-left&quot;</span>);</span><br><span class="line">          <span class="variable language_">document</span></span><br><span class="line">            .<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#door .doors&quot;</span>)[<span class="number">1</span>]</span><br><span class="line">            .<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;door-right&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: è°ƒç”¨å‡½æ•°ï¼Œå¼€å¯å¼¹çª—ï¼Œè®°å½•è¾“å…¥æ¡†çš„å†…å®¹ï¼Œå¹¶é€šè¿‡ promise å¼‚æ­¥è¿”å›è¾“å…¥æ¡†ä¸­çš„å†…å®¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">Promise</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mPrompt</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å¼¹çª—å¿…é¡»ä½¿ç”¨ä»¥ä¸‹ç»“æ„ template ä¿å­˜çš„æ˜¯å¼¹çª—çš„ç»“æ„å­—ç¬¦ä¸²ï¼Œå¯ä»¥å…ˆè½¬åŒ–ä¸º DOM å†é€šè¿‡ appendChild æ–¹å¼æ’å…¥åˆ° body ä¸­</span></span><br><span class="line">  <span class="keyword">const</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;modal&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;message-box&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-header&quot;&gt;è¯·è¾“å…¥å’’è¯­&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-body&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;input type=&quot;text&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;message-footer&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;button class=&quot;btn btn-small&quot; id=&#x27;cancel&#x27;&gt;å–æ¶ˆ&lt;/button&gt;</span></span><br><span class="line"><span class="string">                    &lt;button class=&quot;btn btn-small btn-primary&quot; id=&#x27;confirm&#x27;&gt;ç¡®å®š&lt;/button&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">  <span class="keyword">const</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  <span class="comment">// TODOï¼šå¾…è¡¥å……ä»£ç </span></span><br><span class="line">  div.<span class="property">innerHTML</span> = template</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(div)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;cancel&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      div.<span class="title function_">remove</span>()</span><br><span class="line">      <span class="title function_">rej</span>(<span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;confirm&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> val = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">      div.<span class="title function_">remove</span>()</span><br><span class="line">      <span class="title function_">res</span>(val.<span class="property">value</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è£…Promisefyå‡½æ•°-ä¸‰"><a href="#å°è£…Promisefyå‡½æ•°-ä¸‰" class="headerlink" title="å°è£…Promisefyå‡½æ•°-ä¸‰"></a>å°è£…Promisefyå‡½æ•°-ä¸‰</h3><blockquote><p>ä»¥ Node.js ä¸­å¸¸ç”¨çš„è¯»å–æ–‡ä»¶æ“ä½œä¸ºä¾‹ï¼Œå°è£…ä¸€ä¸ª Promisefy å‡½æ•°ï¼Œå°†å›è°ƒå½¢å¼è°ƒç”¨çš„è¯»å–æ–‡ä»¶æ–¹æ³•è½¬æ¢æˆä¸€ä¸ª Promise çš„ç‰ˆæœ¬ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> textPath = path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;/test.md&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–ç¤ºä¾‹æ–‡ä»¶</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(textPath, <span class="string">&#x27;utf8&#x27;</span>, <span class="function">(<span class="params">err, contrast</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡promisefyè½¬åŒ–ä¸ºé“¾å¼è°ƒç”¨</span></span><br><span class="line">  <span class="keyword">const</span> readFileSync = <span class="title function_">promisefy</span>(fs.<span class="property">readFile</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">readFileSync</span>(textPath, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res === contrast) <span class="comment">// æ­¤å¤„ç»“æœé¢„æœŸï¼štrueï¼Œå³promiseè¿”å›å†…å®¹ä¸å‰é¢è¯»å–å†…å®¹ä¸€è‡´</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">promisefy</span> = (<span class="params">fn</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// TODO æ­¤å¤„å®Œæˆè¯¥å‡½æ•°çš„å°è£…</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">textPath, type</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">fn</span>(textPath, type, <span class="function">(<span class="params">err, contrast</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(contrast)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = promisefy <span class="comment">// è¯·å‹¿åˆ é™¤è¯¥è¡Œä»£ç </span></span><br></pre></td></tr></table></figure><p>â€‹        è¿™æ®µä»£ç æ˜¯å¯¹ Node.js å†…ç½®æ¨¡å— <code>fs</code> ä¸­ <code>readFile</code> å‡½æ•°è¿›è¡Œäº†å°è£…ï¼Œå°†å…¶è½¬åŒ–ä¸ºè¿”å› Promise çš„å½¢å¼ï¼Œä»¥å®ç°æ›´æ–¹ä¾¿çš„å¼‚æ­¥æ“ä½œã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œ<code>promisefy</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•° <code>fn</code> ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°éœ€è¦å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å…¶æœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•° <code>err</code> å’Œ <code>result</code>ï¼Œå…¶ä¸­ <code>err</code> è¡¨ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œ<code>result</code> è¡¨ç¤ºè¿”å›ç»“æœã€‚</li><li>åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿé”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦è°ƒç”¨å›è°ƒå‡½æ•°å¹¶ä¼ å…¥é”™è¯¯ä¿¡æ¯ã€‚</li><li>åœ¨æ‰§è¡Œç»“æŸåéœ€è¦è°ƒç”¨å›è°ƒå‡½æ•°å¹¶ä¼ å…¥ç»“æœã€‚</li></ul><p>â€‹        <code>promisefy</code> å‡½æ•°è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ä¸ <code>fn</code> ç›¸åŒï¼Œä½†æ˜¯è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå®ç°äº†å¯¹ <code>fn</code> å‡½æ•°çš„å°è£…ï¼Œå°†å…¶è½¬åŒ–ä¸º Promise å½¢å¼çš„å¼‚æ­¥æ“ä½œã€‚</p><p>â€‹        åœ¨è¯¥ä»£ç ä¸­ï¼Œé¦–å…ˆä½¿ç”¨ <code>fs.readFile</code> å‡½æ•°è¯»å–ä¸€ä¸ªæ–‡ä»¶å†…å®¹ï¼Œå¹¶å°†å…¶ä¸å¦ä¸€ä¸ªä½¿ç”¨ <code>promisefy</code> å‡½æ•°å°è£…åçš„ <code>readFileSync</code> å‡½æ•°è¿”å›çš„ç»“æœè¿›è¡Œæ¯”è¾ƒï¼Œä»¥éªŒè¯å°è£…åçš„å‡½æ•°èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</p><h3 id="é€ƒç¦»äºŒå‘ç®”-ä¸€"><a href="#é€ƒç¦»äºŒå‘ç®”-ä¸€" class="headerlink" title="é€ƒç¦»äºŒå‘ç®”-ä¸€"></a>é€ƒç¦»äºŒå‘ç®”-ä¸€</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/476c7ac573d16e8ee2cc1c56aad6b14b-0.gif" alt="å›¾ç‰‡æè¿°" style="zoom:50%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ promise æ¨¡æ‹Ÿè¯·æ±‚ + 3000msåå®Œæˆå¾—åˆ°å‘å°„åç»“æœ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createRequest</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> start = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt;= <span class="number">0.05</span>) &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(</span><br><span class="line">            <span class="string">`ç¬¬<span class="subst">$&#123;i + <span class="number">1</span>&#125;</span>è‰˜æ›²ç‡é£èˆ¹è¾¾åˆ°å…‰é€Ÿï¼ŒæˆåŠŸé€ƒç¦»ï¼Œç”¨æ—¶<span class="subst">$&#123;<span class="built_in">Date</span>.now() - start&#125;</span>`</span></span><br><span class="line">          );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(</span><br><span class="line">            <span class="string">`ç¬¬<span class="subst">$&#123;i + <span class="number">1</span>&#125;</span>è‰˜æ›²ç‡é£èˆ¹å‡ºç°æ•…éšœï¼Œæ— æ³•è¾¾åˆ°å…‰é€Ÿï¼Œç”¨æ—¶<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">              <span class="built_in">Date</span>.now() - start</span></span></span><br><span class="line"><span class="subst"><span class="string">            &#125;</span>`</span></span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, <span class="number">3000</span> + i * <span class="number">100</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RequestControl</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">&#123; max, el &#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">max</span> = max;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">requestQueue</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">el</span> = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(el);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">requestQueue</span>.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">run</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">startTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addRequest</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">requestQueue</span>.<span class="title function_">push</span>(request);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">run</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// TODOï¼šå¾…è¡¥å……ä»£ç </span></span><br><span class="line">    <span class="keyword">let</span> lque = []</span><br><span class="line">    <span class="keyword">while</span> (<span class="variable language_">this</span>.<span class="property">requestQueue</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> req = <span class="variable language_">this</span>.<span class="property">requestQueue</span>.<span class="title function_">shift</span>()()</span><br><span class="line">      lque.<span class="property">push</span> (</span><br><span class="line">        req.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">render</span>(res)</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">rej</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">render</span>(rej)</span><br><span class="line">        &#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          lque.<span class="title function_">shift</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      )</span><br><span class="line">        <span class="keyword">if</span> (lque.<span class="property">length</span> &gt;= <span class="variable language_">this</span>.<span class="property">max</span>) &#123;</span><br><span class="line">          <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">race</span>(lque)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;   </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params">context</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> childNode = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">    childNode.<span class="property">innerText</span> = context;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">el</span>.<span class="title function_">appendChild</span>(childNode);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> requestControl = <span class="keyword">new</span> <span class="title class_">RequestControl</span>(&#123; <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">25</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> request = <span class="title function_">createRequest</span>(i);</span><br><span class="line">    requestControl.<span class="title function_">addRequest</span>(request);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  requestControl,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="JSæ ·å¼é€‰æ‹©å™¨âˆš"><a href="#JSæ ·å¼é€‰æ‹©å™¨âˆš" class="headerlink" title="JSæ ·å¼é€‰æ‹©å™¨âˆš"></a>JSæ ·å¼é€‰æ‹©å™¨âˆš</h2><ul><li>querySelector</li></ul><h3 id="è“æ¡¥æ ¡å›­ä¸€å¡é€š-ä¸‰"><a href="#è“æ¡¥æ ¡å›­ä¸€å¡é€š-ä¸‰" class="headerlink" title="è“æ¡¥æ ¡å›­ä¸€å¡é€š-ä¸‰"></a>è“æ¡¥æ ¡å›­ä¸€å¡é€š-ä¸‰</h3><blockquote><p>è¿‡è¾£ï¼</p><p>æ•‘å‘½æˆ‘çš„HTML/CSSåŸºç¡€çƒ‚åˆ°å®¶äº†</p></blockquote><p>ä»‹ç»ï¼š</p><p>æ¯å¹´å¤§ä¸€æ–°ç”ŸæŠ¥é“æ—¶ï¼Œéƒ½éœ€è¦åŠä¸€å¼ æ ¡å›­ä¸€å¡é€šï¼Œæ— è®ºåƒé¥­ã€æ´—æ¾¡ã€ä¹°ä¸œè¥¿ã€ç”šè‡³å»å›¾ä¹¦é¦†å€Ÿä¹¦éƒ½è¦ç”¨ï¼Œå°è“æƒ³å¸®åŠ©å­¦æ ¡åšä¸€ä¸ªåˆ¶å¡ç•Œé¢ï¼Œä½†æ˜¯ç”¨ js åšç”¨æˆ·è¾“å…¥éªŒè¯ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œå¿«æ¥å¸®åŠ©å°è“å®Œæˆè¿™ä¸ªé¡µé¢å§ï¼</p><p>è¯·åœ¨ <code>index.html</code> æ–‡ä»¶ä¸­è¡¥å…¨ä»£ç ï¼Œå…·ä½“éœ€æ±‚å¦‚ä¸‹ï¼š</p><ol><li>å®Œæˆè¡¨å•éªŒè¯ï¼š</li></ol><ul><li>å§“åï¼š2-4 ä¸ªæ±‰å­—ï¼ŒéªŒè¯é”™è¯¯åœ¨å¯¹åº”çš„è¡¨å•é¡¹ï¼ˆ<code>class=form-group</code>ï¼‰æ·»åŠ ç±» <code>class=has-error</code>ï¼Œå¹¶åœ¨ä¸‹æ–¹æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼ˆå³ <code>id=vail_name</code> çš„å…ƒç´ æ˜¾ç¤ºï¼‰ã€‚</li></ul><blockquote><p>tips: æ­£åˆ™ä¸­ç”¨ <code>[\u4e00-\u9fa5]</code> è¡¨ç¤ºæ±‰å­—ã€‚</p></blockquote><ul><li>å­¦å·: 1-12 ä½çº¯æ•°å­—ï¼Œé”™è¯¯å³åœ¨å¯¹åº”çš„è¡¨å•é¡¹ï¼ˆ<code>class=form-group</code>ï¼‰æ·»åŠ ç±» <code>class=has-error</code>ï¼Œå¹¶åœ¨ä¸‹æ–¹æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼ˆå³ <code>id=vail_studentId</code> çš„å…ƒç´ æ˜¾ç¤ºï¼‰ã€‚</li></ul><ol><li>è¡¨å•éªŒè¯é€šè¿‡è¿‡åï¼Œæ­£ç¡®æ˜¾ç¤ºå¡ç‰‡ã€‚åœ¨å¡ç‰‡ï¼ˆ<code>class=info</code>ï¼‰å…ƒç´ ä¸‹çš„ï¼ˆ<code>class=item</code>ï¼‰çš„å…ƒç´ ä¸­æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¾ç¤ºè¡¨å•æäº¤çš„å†…å®¹ï¼šå§“åï¼šxxxï¼Œå­¦å·ï¼šxxx, å­¦é™¢ï¼šxxxã€‚</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cardStyle&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cardName&quot;</span>&gt;</span>è“æ¡¥æ ¡å›­ä¸€å¡é€š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;studentName&quot;</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;studentName&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“å&quot;</span> <span class="attr">aria-describedby</span>=<span class="string">&quot;inputSuccess2Status&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;vail_name&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;help-block&quot;</span>&gt;</span> å§“åé”™è¯¯æç¤º<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;studentId&quot;</span>&gt;</span>å­¦å·<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;studentId&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å­¦å·&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;vail_studentId&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;help-block&quot;</span>&gt;</span> å­¦å·æç¤º<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;college&quot;</span>&gt;</span>å­¦é™¢<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;college&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;è½¯ä»¶å·¥ç¨‹å­¦é™¢&quot;</span>&gt;</span>è½¯ä»¶å·¥ç¨‹å­¦é™¢<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;ä¿¡æ¯æŠ€æœ¯å­¦é™¢&quot;</span>&gt;</span>â€¦â€¦<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>åˆ¶å¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">   <span class="comment">// è·å–DOMå…ƒç´ å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> studentName = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;studentName&quot;</span>); <span class="comment">// å§“å</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> studentId = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;studentId&quot;</span>);  <span class="comment">// å­¦å·</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> college = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;college&quot;</span>); <span class="comment">// å­¦é™¢</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> submit = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;submit&quot;</span>);  <span class="comment">// åˆ¶å¡æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> cardStyle = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;cardStyle&quot;</span>); <span class="comment">// å¡ç‰‡</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> item = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.item&quot;</span>) <span class="comment">// å¡ç‰‡é¡¹</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">submit.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// TODO å¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> hanzi = <span class="regexp">/^[\u4e00-\u9fa5]&#123;2,4&#125;$/</span>.<span class="title function_">test</span>(studentName.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> shuzi = <span class="regexp">/^\d&#123;1,12&#125;$/</span>.<span class="title function_">test</span>(studentId.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (!hanzi) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.form-group&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;has-error&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#vail_name&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.form-group&quot;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;has-error&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#vail_name&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (!shuzi) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.form-group:nth-child(2)&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;has-error&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#vail_studentId&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æµ‹è¯•æµ‹è¯•&quot;</span> + shuzi)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.form-group:nth-child(2)&quot;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;has-error&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#vail_studentId&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;å§“åï¼š&quot;</span> + studentName.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item:nth-child(2)&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;å­¦å·ï¼š&quot;</span> + studentId.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.item:last-child&quot;</span>).<span class="property">innerHTML</span> = <span class="string">&quot;å­¦é™¢ï¼š&quot;</span> + college.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// æ·»åŠ  showCard ç±»æ˜¾ç¤ºæ”¾å¤§ä¸€å¡é€šçš„åŠ¨ç”»ï¼Œè¯·å‹¿åˆ é™¤</span></span></span><br><span class="line"><span class="language-javascript">cardStyle.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;showCard&#x27;</span>) </span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JQæ ·å¼é€‰æ‹©å™¨âˆš"><a href="#JQæ ·å¼é€‰æ‹©å™¨âˆš" class="headerlink" title="JQæ ·å¼é€‰æ‹©å™¨âˆš"></a>JQæ ·å¼é€‰æ‹©å™¨âˆš</h2><h3 id="å¤§ç”µå½±"><a href="#å¤§ç”µå½±" class="headerlink" title="å¤§ç”µå½±"></a><a href="https://www.lanqiao.cn/problems/2333/learning/?page=1&first_category_id=2&sort=students_count&second_category_id=11&tags=jQuery">å¤§ç”µå½±</a></h3><blockquote><p>è¿‡è¾£ï¼</p><p>è·Ÿçº¸é¹¤å¤§ä½¬å­¦åˆ°ä¸€ä¸ªç®€æ˜åŒ–ä»£ç çš„å°æŠ€å·§â†“</p><p>é€‰æ‹©å™¨é€‰æ‹©çš„å…ƒç´ å‘½åï¼š<code>$this $domå…ƒç´ </code></p><p>ä¼˜é›…â€¦â€¦å®åœ¨æ˜¯ï¼ï¼ï¼ï¼ï¼å¤ªä¼˜é›…äº†ï¼</p></blockquote><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/b5c9ab272dec391d8dc020e728893ed1-0.gif" alt="å›¾ç‰‡æè¿°" style="zoom:33%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TODOï¼šå¾…è¡¥å……ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> $toast = $(<span class="string">&quot;#toast__container&quot;</span>)</span><br><span class="line">$(<span class="string">&quot;.card-body-option-favorite img&quot;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> solid = <span class="string">&#x27;./images/solid.svg&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> hollow = <span class="string">&#x27;./images/hollow.svg&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> $this = $(<span class="variable language_">this</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ($this.<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>) === hollow) &#123;</span><br><span class="line">    $this.<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>, solid)</span><br><span class="line"></span><br><span class="line">    $toast.<span class="title function_">show</span>()</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      $toast.<span class="title function_">fadeOut</span>()</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $this.<span class="title function_">attr</span>(<span class="string">&#x27;src&#x27;</span>, hollow)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>($this+<span class="string">&#x27;!!!&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;.toast__close&quot;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  $toast.<span class="title function_">fadeOut</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ä¼ é€é—¨-å›½"><a href="#ä¼ é€é—¨-å›½" class="headerlink" title="ä¼ é€é—¨-å›½"></a>ä¼ é€é—¨-å›½</h3><p><code>.html</code>çš„ä»£ç å¾ˆæœ‰æ„æ€ï¼Œè¿™è¯´æ˜è¿™ä¸ª<code>toFunction()</code>ä¹Ÿå¾ˆæœ‰æ„æ€ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;lift&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;default-color active-color&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toFunction.call(this,0)&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span>é¡¶éƒ¨&lt;/a</span><br><span class="line">  &gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;default-color&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toFunction.call(this,960)&quot;</span>&gt;</span>ä¸­é—´<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;line&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;default-color&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toFunction.call(this,2000)&quot;</span>&gt;</span>åº•éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>$(window).scrollTop()</code></p><p>è§£é¢˜å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// é¡µé¢æ»šåŠ¨åˆ°æŒ‡å®šèŒƒå›´ï¼Œå¯¹åº”çš„ä¾§è¾¹æŒ‰é’®å­—ä½“å˜è‰²</span></span><br><span class="line">  <span class="comment">// TODOï¼šè¯·è¡¥å……ä»£ç å®ç°åŠŸèƒ½</span></span><br><span class="line">  <span class="keyword">let</span> top = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>()</span><br><span class="line">  <span class="keyword">if</span> (top &lt; <span class="number">960</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é¡¶éƒ¨&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;.default-color&quot;</span>).<span class="title function_">eq</span>(<span class="number">0</span>).<span class="title function_">addClass</span>(<span class="string">&quot;active-color&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">removeClass</span>(<span class="string">&quot;active-color&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (top &lt; <span class="number">1920</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä¸­é—´&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;.default-color&quot;</span>).<span class="title function_">eq</span>(<span class="number">1</span>).<span class="title function_">addClass</span>(<span class="string">&quot;active-color&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">removeClass</span>(<span class="string">&quot;active-color&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åº•éƒ¨&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;.default-color&quot;</span>).<span class="title function_">eq</span>(<span class="number">2</span>).<span class="title function_">addClass</span>(<span class="string">&quot;active-color&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">removeClass</span>(<span class="string">&quot;active-color&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; scrollTopValï¼šåˆ°è¾¾æŒ‡å®šä½ç½®éœ€è¦æ»šåŠ¨çš„é«˜åº¦</span></span><br><span class="line"><span class="comment"> * ç‚¹å‡»æŒ‰é’®ï¼Œæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toFunction</span>(<span class="params">scrollTopVal</span>) &#123;</span><br><span class="line">  <span class="comment">// TODOï¼šè¯·è¡¥å……ä»£ç å®ç°åŠŸèƒ½</span></span><br><span class="line">  $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>(scrollTopVal)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç½‘é¡µ-PPT-ä¸‰"><a href="#ç½‘é¡µ-PPT-ä¸‰" class="headerlink" title="ç½‘é¡µ PPT-ä¸‰"></a>ç½‘é¡µ PPT-ä¸‰</h3><blockquote><p>è¿‡è¾£ï¼</p></blockquote><p>ä»‹ç»:</p><p>é™¤äº†ä½¿ç”¨åŠå…¬è½¯ä»¶æ¥åˆ¶ä½œ PPTï¼Œåˆ©ç”¨å‰ç«¯æŠ€æœ¯å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ¶ä½œä¸€ä¸ªåœ¨æµè§ˆå™¨æ’­æ”¾çš„ PPTï¼Œè¿™æ ·çš„ PPT æ›´åŠ æ–¹ä¾¿ä¼ æ’­å’ŒæŸ¥çœ‹ï¼Œè€Œä¸”å¯ä»¥æœ€å¤§é™åº¦åœ°åˆ©ç”¨å‰ç«¯æŠ€æœ¯çš„å¸ƒå±€å’Œäº¤äº’èƒ½åŠ›ã€‚æœ¬é¢˜è¯·å®ç°ä¸€ä¸ªè®²æˆ HTML åŸºç¡€çŸ¥è¯†çš„ç½‘é¡µ PPTã€‚</p><p>è¯·åœ¨ <code>js/index.js</code> æ–‡ä»¶ä¸­è¡¥å…¨ä»£ç ï¼Œå…·ä½“éœ€æ±‚å¦‚ä¸‹ï¼š</p><ol><li>è¡¥å…… <code>switchPage</code> å‡½æ•°ï¼Œå®ç°æ ¹æ® <code>activeIndex</code> åˆ‡æ¢ PPT é¡µé¢çš„åŠŸèƒ½ï¼ˆåˆ‡æ¢é¡µé¢è¯·é€šè¿‡æ§åˆ¶ <code>section</code> å…ƒç´ çš„ <code>display</code> å±æ€§å®ç°ï¼‰ï¼Œåˆ‡æ¢é¡µé¢çš„åŒæ—¶éœ€è¦æ”¹å˜å·¦ä¸‹è§’çš„é¡µç  <code>(class=&quot;page&quot;)</code>ï¼Œæ ¼å¼ä¸º <code>&quot;å½“å‰é¡µç  / æ€»é¡µç &quot;</code>ï¼Œæ³¨æ„ã€‚</li><li>åœ¨æ’­æ”¾åˆ°ç¬¬ä¸€é¡µæ—¶ç»™â€œä¸Šä¸€å¼ â€æŒ‰é’® <code>(class=&quot;btn left&quot;)</code> æ·»åŠ  <code>disable</code> ç±»ï¼Œå¹¶åœ¨æ’­æ”¾åˆ°æœ€åä¸€é¡µæ—¶ç»™â€œä¸‹ä¸€å¼ â€æŒ‰é’® <code>(class=&quot;btn right&quot;)</code> æ·»åŠ  <code>disable</code> ç±»ï¼Œå…¶ä»–æƒ…å†µä¸‹åˆ™éƒ½ä¸æ·»åŠ ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sectionsCount = $(<span class="string">&quot;section&quot;</span>).<span class="property">length</span>;</span><br><span class="line"><span class="keyword">let</span> activeIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼å’Œæ–¹å‘é”®çš„äº‹ä»¶</span></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">on</span>(<span class="string">&quot;keydown&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&quot; &quot;</span> || e.<span class="property">key</span> === <span class="string">&quot;ArrowRight&quot;</span>) &#123;</span><br><span class="line">    <span class="title function_">goRight</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&quot;ArrowLeft&quot;</span>) &#123;</span><br><span class="line">    <span class="title function_">goLeft</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">$(<span class="string">&quot;.btn.left&quot;</span>).<span class="title function_">click</span>(goLeft);</span><br><span class="line">$(<span class="string">&quot;.btn.right&quot;</span>).<span class="title function_">click</span>(goRight);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢ä¸‹ä¸€å¼ çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goLeft</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (activeIndex === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  activeIndex -= <span class="number">1</span>;</span><br><span class="line">  <span class="title function_">switchPage</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢ä¸Šä¸€å¼ çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">goRight</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (activeIndex+<span class="number">1</span> === sectionsCount) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  activeIndex += <span class="number">1</span>;</span><br><span class="line">  <span class="title function_">switchPage</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> è¯·è¡¥å……è¯¥å‡½æ•°ï¼Œå®ç°æ ¹æ®activeIndexåˆ‡æ¢é¡µé¢çš„åŠŸèƒ½ï¼Œ</span></span><br><span class="line">  <span class="comment">// å¹¶ä¸”åœ¨åˆ°è¾¾æœ€åä¸€é¡µæˆ–ç¬¬ä¸€é¡µæ—¶ç»™ç›¸åº”çš„æŒ‰é’®æ·»åŠ disableç±»</span></span><br><span class="line">  $(<span class="string">&quot;.page&quot;</span>).<span class="title function_">text</span>((activeIndex + <span class="number">1</span>) + <span class="string">&#x27; / &#x27;</span> + sectionsCount)</span><br><span class="line"></span><br><span class="line">  $(<span class="string">`section:nth(<span class="subst">$&#123;activeIndex&#125;</span>)`</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;block&quot;</span>).<span class="title function_">siblings</span>(<span class="string">&quot;section&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;none&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (activeIndex &gt;= sectionsCount - <span class="number">1</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.right&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    $(<span class="string">`section:nth(<span class="subst">$&#123;activeIndex&#125;</span>)`</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;flex&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (activeIndex &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.left&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    $(<span class="string">`section:nth(<span class="subst">$&#123;activeIndex&#125;</span>)`</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;flex&quot;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $(<span class="string">&quot;.right&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;.left&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;disable&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®è´µçš„ä¸€ç¥¨-äºŒ"><a href="#å®è´µçš„ä¸€ç¥¨-äºŒ" class="headerlink" title="å®è´µçš„ä¸€ç¥¨-äºŒ"></a>å®è´µçš„ä¸€ç¥¨-äºŒ</h3><p>å®Œæˆ <code>index.html</code> æ–‡ä»¶ä¸­çš„ TODO éƒ¨åˆ†ã€‚</p><ol><li>ç‚¹å‡»æ·»åŠ é€‰é¡¹ï¼Œé¡µé¢ä¸­æ–°å¢ä¸€ä¸ªé€‰é¡¹ã€‚é€‰é¡¹å‰æ–‡å­—æŒ‰ç…§ï¼šé€‰é¡¹ 1ï¼Œé€‰é¡¹ 2ï¼Œé€‰é¡¹ 3 â€¦â€¦ é¡ºåºæ’åˆ—ï¼Œå½“é¡µé¢ä¸­çš„é€‰é¡¹å¤§äº 2 ä¸ªæ—¶ï¼Œé€‰é¡¹åé¢è·Ÿéšåˆ é™¤æŒ‰é’®ï¼ˆå³ x å›¾æ ‡ï¼‰ã€‚å¸¦æœ‰åˆ é™¤å›¾æ ‡çš„é€‰é¡¹ DOM ç»“æ„å¦‚ä¸‹ï¼š</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3 row item&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 col-form-label txt&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-9&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-1&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ é™¤å›¾æ ‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;del-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/x.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œåˆ é™¤å½“å‰é€‰é¡¹ï¼Œå¹¶ä¸”é€‰é¡¹å‰æ–‡å­—æŒ‰ç…§ï¼šé€‰é¡¹ 1ï¼Œé€‰é¡¹ 2ï¼Œé€‰é¡¹ 3 â€¦â€¦ é¡ºåºæ’åˆ—ï¼Œå½“é€‰é¡¹æ•°é‡å°äºç­‰äº 2 ä¸ªæ—¶ï¼Œé€‰é¡¹åé¢æ— åˆ é™¤æŒ‰é’®ã€‚</li></ol><p>å®Œæˆåï¼Œæœ€ç»ˆé¡µé¢æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/bf4ab64cd06058c7a41f5ed0b629c967-0.gif" alt="å›¾ç‰‡æè¿°" style="zoom:50%;" /><p>æˆ‘çš„é€»è¾‘å¥½å·®ï¼Œåƒè¿™ç§å¤šæ‹å‡ ä¸ªå¼¯çš„å°±ä¸ä¼šäº†ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      let initRender = (txt) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        return `</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3 row&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 col-form-label txt&quot;</span>&gt;</span>$&#123;txt&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-9&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        `;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      &#125;;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      $(</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        (function () &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          // åˆå§‹åŒ–çš„æ—¶å€™æ¸²æŸ“ä¸¤æ¡æ•°æ®ï¼Œä¸”ä¸å¸¦åˆ é™¤ç¬¦å·</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          for (let index = 0; index &lt; 2; index++) &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            let initList = initRender(`é€‰é¡¹$&#123;index + 1&#125;`);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            $(&quot;.list&quot;).append(initList);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          // ç‚¹å‡»åŠ å·é€»è¾‘</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          $(&quot;.add&quot;).click(function () &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            // TODO å¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            let $list = $(&quot;.list&quot;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            let len = $list.children().length</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            if(len === 2) &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              $list.children().each((index, item) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                $(item).append(`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-1&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="comment">&lt;!-- åˆ é™¤å›¾æ ‡ --&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;del-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/x.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                `)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            if (len &lt; 2) &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              $list.append(initRender(`é€‰é¡¹$&#123;len+1&#125;`))</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125; else &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              $list.append(`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mb-3 row item&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 col-form-label txt&quot;</span>&gt;</span>é€‰é¡¹$&#123;len+1&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-9&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-1&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="comment">&lt;!-- åˆ é™¤å›¾æ ‡ --&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;del-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/x.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              `)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            </span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          &#125;);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          // ç‚¹å‡» x åˆ é™¤é€»è¾‘ï¼Œåˆ—è¡¨å°äº 2 é¡¹æ—¶ä¸æ˜¾ç¤ºåˆ é™¤å›¾æ ‡</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          $(document).on(&quot;click&quot;, &quot;.del-icon&quot;, function () &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            // TODO å¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            $(this).parent().parent().remove()</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            $(&quot;.list&quot;).children().each((index, item) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              $(item).children(&#x27;label&#x27;).text(`é€‰é¡¹$&#123;index + 1&#125;`)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              if ($(&quot;.list&quot;).children().length &lt; 2) &#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                $(item).children()[2].remove()</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">              &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">          &#125;);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)()</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      );</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ°´æœå å ä¹-ä¸€"><a href="#æ°´æœå å ä¹-ä¸€" class="headerlink" title="æ°´æœå å ä¹-ä¸€"></a>æ°´æœå å ä¹-ä¸€</h3><blockquote><p>æ€ä¹ˆè‡ªå¦‚åˆ é™¤æ·»åŠ æ›´æ”¹DOMå…ƒç´ å•Š555555</p><p>èƒŒæ™¯æ ·å¼å¾ˆå¥½ï¼Œå¾ˆé€‚åˆæ‹¿æ¥åšç™»å½•æ³¨å†ŒèƒŒæ™¯</p></blockquote><p>è¿™ä¸ªæ‰¾ä¸åˆ°å®˜æ–¹é¢˜è§£ï¼Œåªèƒ½çœ‹åˆ°CSDNä¸€ä¸ªå¾ˆç¹ççš„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ°´æœå å ä¹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/style.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;stars3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-one&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-two&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-three&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-four&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-five&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/apple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-six&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/pineapple.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-seven&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-eight&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;3&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-nine&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/avocado.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-ten&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-eleven&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-id</span>=<span class="string">&quot;4&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fruit-twelve&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./images/grapes.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å›¾ç‰‡ä½ç½® --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¡æ§½ä½ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;fixed&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gradient-border&quot;</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      $(<span class="string">&quot;#card li&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// <span class="doctag">TODO:</span> å¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>($(<span class="string">&quot;#box li&quot;</span>).<span class="property">length</span> == <span class="number">7</span>) <span class="keyword">return</span> </span></span><br><span class="line"><span class="language-javascript">        $(<span class="variable language_">this</span>).<span class="title function_">hide</span>()</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#box&quot;</span>).<span class="title function_">append</span>($(<span class="variable language_">this</span>).<span class="title function_">clone</span>())</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> list = $(<span class="string">`#box li[data-id = <span class="subst">$&#123;<span class="variable language_">this</span>.getAttribute(<span class="string">&#x27;data-id&#x27;</span>)&#125;</span>]`</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(list.<span class="property">length</span> = <span class="number">3</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            list.<span class="title function_">each</span>(<span class="function">(<span class="params">i, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                item.<span class="title function_">remove</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æŠ˜å æ‰‹é£ç´-ä¹ "><a href="#æŠ˜å æ‰‹é£ç´-ä¹ " class="headerlink" title="æŠ˜å æ‰‹é£ç´-ä¹ "></a>æŠ˜å æ‰‹é£ç´-ä¹ </h3><p>ç”¨JQå®ç°æ‰‹é£ç´å›¾ç‰‡å±•ç¤ºæ•ˆæœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.option&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;active&#x27;</span>).<span class="title function_">siblings</span>().<span class="title function_">removeClass</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>.siblings()â€”â€”è¿”å›æŸå…ƒç´ çš„æ‰€æœ‰åŒçº§å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;li.start&quot;</span>).<span class="title function_">siblings</span>().<span class="title function_">css</span>(&#123;<span class="string">&quot;color&quot;</span>:<span class="string">&quot;red&quot;</span>,<span class="string">&quot;border&quot;</span>:<span class="string">&quot;2px solid red&quot;</span>&#125;);</span><br><span class="line"><span class="comment">// è¿”å›å¸¦æœ‰ç±»åstartçš„æ¯ä¸ªliå…ƒç´ çš„æ‰€æœ‰åŒçº§å…ƒç´ </span></span><br></pre></td></tr></table></figure><h3 id="æ¸å˜è‰²-ä¸€"><a href="#æ¸å˜è‰²-ä¸€" class="headerlink" title="æ¸å˜è‰²-ä¸€"></a>æ¸å˜è‰²-ä¸€</h3><p>ä»£ç è§/Project/LittleProgram/æ¸å˜è‰²</p><h2 id="JQ-amp-AJAXâˆš"><a href="#JQ-amp-AJAXâˆš" class="headerlink" title="JQ &amp; AJAXâˆš"></a>JQ &amp; AJAXâˆš</h2><h3 id="æƒé™ç®¡ç†-ä¸‰"><a href="#æƒé™ç®¡ç†-ä¸‰" class="headerlink" title="æƒé™ç®¡ç†-ä¸‰"></a>æƒé™ç®¡ç†-ä¸‰</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/a1e7c0ed83318bbad9a1a26589c0be2b-0.png" alt="å·¦ä¾§é€‰æ‹©æ¡†å†…é€‰é¡¹è¢«å…¨éƒ¨ç§»è‡³å³ä¾§ï¼Œæ‰€æœ‰ç”¨æˆ·æƒé™å‡å˜ä¸ºç®¡ç†å‘˜" style="zoom:33%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ ajax è·å– userList.json æ•°æ®å¹¶æ¸²æŸ“åˆ°é¡µé¢</span></span><br><span class="line">  <span class="title function_">getData</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸ºæŒ‰é’®æ·»åŠ äº‹ä»¶</span></span><br><span class="line">  $(<span class="string">&quot;#add&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">let</span> $rt = $(<span class="string">&quot;#rightSelect&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;#leftSelect&quot;</span>).<span class="title function_">val</span>().<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      $rt.<span class="title function_">append</span>($(<span class="string">&quot;&lt;option&gt;&quot;</span>).<span class="title function_">val</span>(item).<span class="title function_">text</span>(item))</span><br><span class="line">      $(<span class="string">`#leftSelect option[value=<span class="subst">$&#123;item&#125;</span>]`</span>).<span class="title function_">remove</span>()</span><br><span class="line"></span><br><span class="line">      $(<span class="string">`#userList td:contains(<span class="subst">$&#123;item&#125;</span>)`</span>).<span class="title function_">siblings</span>().<span class="title function_">text</span>(<span class="string">&#x27;ç®¡ç†å‘˜&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="string">&quot;#addAll&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">let</span> $lt = $(<span class="string">&quot;#leftSelect&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> $rt = $(<span class="string">&quot;#rightSelect&quot;</span>)</span><br><span class="line">    $rt.<span class="title function_">append</span>($lt.<span class="title function_">children</span>())</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#userList tr&quot;</span>).<span class="title function_">not</span>(<span class="string">&quot;:eq(0)&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      $(<span class="variable language_">this</span>).<span class="title function_">find</span>(<span class="string">&quot;td:last-child&quot;</span>).<span class="title function_">text</span>(<span class="string">&#x27;ç®¡ç†å‘˜&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="string">&quot;#remove&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">let</span> $lt = $(<span class="string">&quot;#leftSelect&quot;</span>)</span><br><span class="line">    $(<span class="string">&quot;#rightSelect&quot;</span>).<span class="title function_">val</span>().<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      $lt.<span class="title function_">append</span>($(<span class="string">&quot;&lt;option&gt;&quot;</span>).<span class="title function_">val</span>(item).<span class="title function_">text</span>(item))</span><br><span class="line">      $(<span class="string">`#rightSelect option[value=<span class="subst">$&#123;item&#125;</span>]`</span>).<span class="title function_">remove</span>()</span><br><span class="line"></span><br><span class="line">      $(<span class="string">`#userList td:contains(<span class="subst">$&#123;item&#125;</span>)`</span>).<span class="title function_">siblings</span>().<span class="title function_">text</span>(<span class="string">&#x27;æ™®é€šç”¨æˆ·&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  $(<span class="string">&quot;#removeAll&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">let</span> $lt = $(<span class="string">&quot;#leftSelect&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> $rt = $(<span class="string">&quot;#rightSelect&quot;</span>)</span><br><span class="line">    $lt.<span class="title function_">append</span>($rt.<span class="title function_">children</span>())</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#userList tr&quot;</span>).<span class="title function_">not</span>(<span class="string">&quot;:eq(0)&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      $(<span class="variable language_">this</span>).<span class="title function_">find</span>(<span class="string">&quot;td:last-child&quot;</span>).<span class="title function_">text</span>(<span class="string">&#x27;æ™®é€šç”¨æˆ·&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹æƒé™</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; right è¦ä¿®æ”¹çš„æƒé™</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; changeList è¦ä¿®æ”¹æƒé™çš„ç”¨æˆ·åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeAccess</span>(<span class="params">right, changeList</span>) &#123;</span><br><span class="line">  <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¼‚æ­¥è·å–æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// TODOï¼šè¡¥å……ä»£ç ï¼Œå®ç°åŠŸèƒ½</span></span><br><span class="line">  $.<span class="title function_">get</span>(<span class="string">&#x27;./js/userList.json&#x27;</span>, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">forEach</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">      $(<span class="string">&quot;#userList&quot;</span>).<span class="title function_">append</span>(<span class="string">`</span></span><br><span class="line"><span class="string">        &lt;tr&gt;</span></span><br><span class="line"><span class="string">          &lt;td&gt;<span class="subst">$&#123;element.name&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">          &lt;td&gt;<span class="subst">$&#123;element.right ? <span class="string">&#x27;ç®¡ç†å‘˜&#x27;</span> : <span class="string">&#x27;æ™®é€šç”¨æˆ·&#x27;</span>&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;/tr&gt;</span></span><br><span class="line"><span class="string">      `</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Elementâˆš"><a href="#Elementâˆš" class="headerlink" title="Elementâˆš"></a>Elementâˆš</h2><h3 id="å¿ƒæ„¿ä¾¿åˆ©è´´-ä¸‰"><a href="#å¿ƒæ„¿ä¾¿åˆ©è´´-ä¸‰" class="headerlink" title="å¿ƒæ„¿ä¾¿åˆ©è´´-ä¸‰"></a>å¿ƒæ„¿ä¾¿åˆ©è´´-ä¸‰</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/1c5e4b419aec689146069d07f0e98035-0.gif" alt="å®Œæˆæ•ˆæœ" style="zoom:50%;" /><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>å¿ƒæ„¿ä¾¿åˆ©è´´<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥element-uiæ ·å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/wish.css&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥element-uiç»„ä»¶åº“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>å¿ƒæ„¿ä¾¿åˆ©è´´<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- TODO å¾…ä¿®æ”¹çš„ä»£ç  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;item.css&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in wishList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;closeCard(index)&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./images/ding.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-image</span> <span class="attr">v-if</span>=<span class="string">&quot;item.pic&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px; height: 100px&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;item.pic&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">:preview-src-list</span>=<span class="string">&quot;picList&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">&#123;&#123;item.content&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-position</span>=<span class="string">&quot;left&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;80px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">id</span>=<span class="string">&quot;firstName&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;è®¸æ„¿å†…å®¹&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.content&quot;</span> <span class="attr">show-word-limit</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å›¾ç‰‡ä¸Šä¼ &quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">ref</span>=<span class="string">&quot;uploadRef&quot;</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">:limit</span>=<span class="string">&quot;1&quot;</span> <span class="attr">list-type</span>=<span class="string">&quot;picture-card&quot;</span> <span class="attr">:on-remove</span>=<span class="string">&quot;handleRemove&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">:on-change</span>=<span class="string">&quot;getPic&quot;</span> <span class="attr">:auto-upload</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">slot</span>=<span class="string">&quot;default&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-plus&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;file&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123;file&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-thumbnail&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;file.url&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-actions&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-preview&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handlePictureCardPreview(file)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-zoom-in&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;!disabled&quot;</span> <span class="attr">class</span>=<span class="string">&quot;el-upload-list__item-delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleRemove(file)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-delete&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">id</span>=<span class="string">&quot;onSubmit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;onRest&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">:visible.sync</span>=<span class="string">&quot;dialogVisible&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;form.pic&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">wishList</span>: [],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">form</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">pic</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">rules</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// TODO å¾…è¡¥å……éªŒè¯çš„ä»£ç </span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>: [</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥å§“å&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">4</span>, <span class="attr">message</span>: <span class="string">&#x27;é•¿åº¦åœ¨2åˆ°4ä¸ªå­—ç¬¦&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">content</span>: [</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;è¯·è¾“å…¥è®¸æ„¿å†…å®¹&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">&#123; <span class="attr">min</span>: <span class="number">1</span>, <span class="attr">max</span>: <span class="number">30</span>, <span class="attr">message</span>: <span class="string">&#x27;é•¿åº¦åœ¨1åˆ°30ä¸ªå­—ç¬¦&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">]</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">num</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">picList</span>: [],</span></span><br><span class="line"><span class="language-javascript"><span class="attr">textarea</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">dialogVisible</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">disabled</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// æäº¤æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onSubmit</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> obj = <span class="variable language_">this</span>.<span class="property">form</span>;</span></span><br><span class="line"><span class="language-javascript">obj.<span class="property">css</span> = <span class="string">&#x27;item&#x27;</span> + <span class="variable language_">this</span>.<span class="property">num</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">num</span>++;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">num</span> &gt; <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">num</span> = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">wishList</span>.<span class="title function_">push</span>(obj)</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span> = &#123;&#125;;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">pop</span>()</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">wishList</span>);</span></span><br><span class="line"><span class="language-javascript">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.$message(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">message</span>: <span class="string">&#x27;æäº¤é”™è¯¯ï¼è¯·æ£€æŸ¥è¾“å…¥å†…å®¹&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// å…³é—­è®¸æ„¿å¡</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">closeCard</span>(<span class="params">index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">wishList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// é‡ç½®è¡¨å•</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">onRest</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;form&#x27;</span>].<span class="title function_">resetFields</span>();</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// å›¾ç‰‡åˆ é™¤</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">handleRemove</span>(<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">e</span> =&gt;</span> e.<span class="property">uid</span> === file.<span class="property">uid</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">uploadRef</span>.<span class="property">uploadFiles</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// æ¨¡æ‹Ÿä¸Šä¼ å›¾ç‰‡</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">getPic</span>(<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">pic</span> = e.<span class="property">url</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">picList</span>.<span class="title function_">push</span>(e.<span class="property">url</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// é¢„è§ˆå›¾ç‰‡</span></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">handlePictureCardPreview</span>(<span class="params">file, fileList</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">pic</span> = file.<span class="property">url</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">dialogVisible</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é¥¿äº†ä¹ˆç¬¬äºŒæ¬¡å°è£…-ä¸€"><a href="#é¥¿äº†ä¹ˆç¬¬äºŒæ¬¡å°è£…-ä¸€" class="headerlink" title="é¥¿äº†ä¹ˆç¬¬äºŒæ¬¡å°è£…-ä¸€"></a>é¥¿äº†ä¹ˆç¬¬äºŒæ¬¡å°è£…-ä¸€</h3><p>ç›®æ ‡ï¼šï¼ˆå®ç°å•é€‰é€‰ä¸­æ•ˆæœï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;main&quot;&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">      ref=&quot;singleTable&quot;</span><br><span class="line">      highlight-current-row</span><br><span class="line">      :data=&quot;tableData&quot;</span><br><span class="line">      stripe</span><br><span class="line">      border</span><br><span class="line">      style=&quot;width: 100%&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-table-column label=&quot;å•é€‰&quot; width=&quot;80&quot;&gt;</span><br><span class="line">        &lt;!-- TODOï¼šå®Œå–„å•é€‰æŒ‰é’®ç»„ä»¶ï¼Œå®ç°éœ€æ±‚ï¼ˆDOM ç»“æ„ä¸èƒ½ä¿®æ”¹ï¼‰ --&gt;</span><br><span class="line">        &lt;!-- TODOï¼šå®Œå–„å•é€‰æŒ‰é’®ç»„ä»¶ï¼Œå®ç°éœ€æ±‚ï¼ˆDOM ç»“æ„ä¸èƒ½ä¿®æ”¹ï¼‰ --&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">            &lt;!-- ç»‘å®šchangeæ–¹æ³•è°ƒç”¨setCurrent --&gt;</span><br><span class="line">            &lt;el-radio</span><br><span class="line">                v-model=&quot;currentRow&quot;</span><br><span class="line">                :label=&quot;scope.$index&quot;</span><br><span class="line">                @change=&quot;setCurrent(scope.row)&quot;</span><br><span class="line">            &gt;</span><br><span class="line">                &amp;nbsp;</span><br><span class="line">    &lt;/el-radio&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-table-column label=&quot;æ—¥æœŸ&quot; width=&quot;180&quot;&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">          ğŸ“…&lt;span style=&quot;margin-left: 10px&quot;&gt;&#123;&#123; scope.row.date &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-table-column prop=&quot;name&quot; label=&quot;å§“å&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column prop=&quot;address&quot; label=&quot;åœ°å€&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;div class=&quot;tools&quot;&gt;</span><br><span class="line">      &lt;el-button @click=&quot;setCurrent(tableData[1])&quot;&gt;é€‰ä¸­ç¬¬äºŒè¡Œ&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button @click=&quot;setCurrent()&quot;&gt;å–æ¶ˆé€‰æ‹©&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    tableData: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default: () =&gt; [],</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      currentRow: null,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    setCurrent(row) &#123;</span><br><span class="line">      this.currentRow = this.tableData.indexOf(row) // æ–°å¢</span><br><span class="line">      this.$refs.singleTable.setCurrentRow(row); // è®¾ç½®å½“å‰é€‰ä¸­è¡Œ</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.main &#123;</span><br><span class="line">  width: 60%;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.tools &#123;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="Vuexâˆš"><a href="#Vuexâˆš" class="headerlink" title="Vuexâˆš"></a>Vuexâˆš</h2><h3 id="æ¶ˆå¤±çš„Token-ä¸‰"><a href="#æ¶ˆå¤±çš„Token-ä¸‰" class="headerlink" title="æ¶ˆå¤±çš„Token-ä¸‰"></a>æ¶ˆå¤±çš„Token-ä¸‰</h3><p>â€‹        <strong>åªæœ‰ <code>user</code> æ¨¡å—é€šè¿‡ <code>namespaced: true</code> å¼€å¯äº†å‘½åç©ºé—´åŠŸèƒ½ã€‚</strong>å› æ­¤ï¼Œåœ¨è°ƒç”¨ <code>user</code> æ¨¡å—ä¸­çš„ <code>getters</code> ä¸ <code>mutations</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹ç‰¹å®šè¯­æ³•â†“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;æ¨¡å—å/æ¨¡å—ä¸­çš„gettersæˆ–mutations&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./components/login.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./components/panel.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// TODO ä¿®æ”¹ä¸‹é¢é”™è¯¯ä»£ç </span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">data</span>(<span class="params"></span>) &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">computed</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">welcome</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>.<span class="property">welcome</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">username</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>[<span class="string">&#x27;user/username&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">token</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> store.<span class="property">getters</span>[<span class="string">&#x27;user/token&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å›è½¦/ç‚¹å‡»ç¡®è®¤çš„å›è°ƒäº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">login</span>(<span class="params">username</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    username &amp;&amp; store.<span class="title function_">commit</span>(<span class="string">&#x27;user/login&#x27;</span>, &#123; username, <span class="attr">token</span>: <span class="string">&#x27;sxgWKnLADfS8hUxbiMWyb&#x27;</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">                    username &amp;&amp; store.<span class="title function_">commit</span>(<span class="string">&#x27;say&#x27;</span>, <span class="string">&#x27;ç™»å½•æˆåŠŸï¼Œæ¬¢è¿ä½ å›æ¥ï¼&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vueâˆš"><a href="#vueâˆš" class="headerlink" title="vueâˆš"></a>vueâˆš</h2><h3 id="è¶£è´­-ä¸‰"><a href="#è¶£è´­-ä¸‰" class="headerlink" title="è¶£è´­-ä¸‰"></a>è¶£è´­-ä¸‰</h3><blockquote><p>è¯·åœ¨ <code>trolley.vue</code> æ–‡ä»¶ä¸­çš„ TODO éƒ¨åˆ†è¡¥å…¨ä»£ç ï¼š</p><ul><li><p>ç”¨é¼ æ ‡æŒ‰ä¸‹æ‹–åŠ¨å›¾ç‰‡åˆ°è´­ç‰©è½¦ï¼ˆå³ <code>id=&quot;trolley&quot;</code> çš„èŠ‚ç‚¹ï¼‰ä¸­ï¼Œç„¶åæ¾å¼€é¼ æ ‡ï¼Œè´­ç‰©è½¦ä¼šæ·»åŠ æ‹–åŠ¨çš„å•†å“ï¼Œå¹¶æ˜¾ç¤ºè´­ç‰©è½¦å•†å“æ•°é‡ã€‚</p></li><li><p>ä¸‹æ–¹ï¼ˆå³ <code>class=&quot;result&quot;</code> çš„æ–¹æ¡†ï¼‰ä¼šæ˜¾ç¤ºè´­ç‰©è½¦ä¸­å•†å“çš„è¯¦æƒ…ï¼Œè¯¦æƒ…ä»¥<strong>å•†å“å x æ•°é‡</strong>çš„å½¢å¼å±•ç¤ºï¼Œå•†å“ä¹‹é—´é€šè¿‡ç©ºæ ¼é—´éš”ã€‚</p></li><li><p>ä¸‹æ–¹ï¼ˆå³ <code>class=&quot;result&quot;</code> çš„æ–¹æ¡†ï¼‰åŒæ—¶è¿˜ä¼šæ˜¾ç¤ºè´­ç‰©è½¦ä¸­å•†å“çš„æ€»ä»·ã€‚</p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/92a4a4eb2145085ca6cce760211191c8-0.gif" alt="å®Œæˆæ•ˆæœ" style="zoom: 33%;" /></li></ul></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- TODO: è¡¥å……æ‹–æ‹½äº‹ä»¶ï¼Œè¯·ä¸è¦æ”¹åŠ¨ä»»ä½• id å±æ€§ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;good-list&quot;&gt;</span><br><span class="line">      &lt;div v-for=&quot;good in goods&quot; :key=&quot;good.name&quot; class=&quot;good&quot; draggable @dragstart=&quot;dragstart($event, good)&quot;&gt;</span><br><span class="line">        &lt;img :src=&quot;good.cover&quot; /&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; good.name &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;ï¿¥&#123;&#123; good.price &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;trolley&quot; class=&quot;trolley&quot; @dragover.prevent=&quot;&quot; @drop=&quot;drop&quot;&gt;</span><br><span class="line">      &lt;span id=&quot;bought&quot; class=&quot;bought&quot; v-if=&quot;bought.length !== 0&quot;&gt;&#123;&#123;</span><br><span class="line">        bought.length</span><br><span class="line">      &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;img src=&quot;./images/trolley.jpeg&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;result&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        è´­ç‰©è½¦å•†å“ï¼š&lt;span id=&quot;goods&quot;&gt;&#123;&#123; goodsDetail &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        è´­ç‰©è½¦å•†å“æ€»è®¡ï¼š&lt;span id=&quot;total&quot;&gt;&#123;&#123; totalPrice &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">......</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      goods: [</span><br><span class="line">        &#123;</span><br><span class="line">          name: &quot;ç•…é”€ä¹¦&quot;,</span><br><span class="line">          price: 30,</span><br><span class="line">          cover: &quot;./images/book.jpeg&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: &quot;æ”¶çº³ç®±&quot;,</span><br><span class="line">          price: 60,</span><br><span class="line">          cover: &quot;./images/box.jpeg&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: &quot;çº¸å·¾&quot;,</span><br><span class="line">          price: 20,</span><br><span class="line">          cover: &quot;./images/paper.jpeg&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          name: &quot;ç”µè§†&quot;,</span><br><span class="line">          price: 1000,</span><br><span class="line">          cover: &quot;./images/tv.jpg&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      bought: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  // TODO: è¯·è¡¥å……å®ç°ä»£ç </span><br><span class="line">  computed: &#123;</span><br><span class="line">    totalPrice() &#123;</span><br><span class="line">      return this.bought.reduce((t, v) =&gt; v.price + t, 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    goodsDetail() &#123;</span><br><span class="line">      let r = this.bought.reduce((t, v) =&gt; &#123;</span><br><span class="line">        return (t[v.name] ? t[v.name]++ : (t[v.name] = 1), t);</span><br><span class="line">      &#125;, &#123;&#125;);</span><br><span class="line">      let detail = &#x27;&#x27;;</span><br><span class="line">      for (let i in r) &#123;</span><br><span class="line">        detail += i + &#x27;*&#x27; + r[i];</span><br><span class="line">      &#125;</span><br><span class="line">      return detail;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    dragstart(event, good) &#123;</span><br><span class="line">      event.dataTransfer.setData(&#x27;good&#x27;, JSON.stringify(good));</span><br><span class="line">    &#125;,</span><br><span class="line">    drop(e) &#123;</span><br><span class="line">      this.bought.push(JSON.parse(e.dataTransfer.getData(&#x27;good&#x27;)));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="ç»ç¾å®‹è¯-äºŒ"><a href="#ç»ç¾å®‹è¯-äºŒ" class="headerlink" title="ç»ç¾å®‹è¯-äºŒ"></a>ç»ç¾å®‹è¯-äºŒ</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/7ed17d0a07cd8f45c52df266b765abad-0.gif" alt="å›¾ç‰‡æè¿°" style="zoom:50%;" /><p>è§ =&gt; E:\Project\LittlePrograms\poem</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç»ç¾å®‹è¯<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span>è¾“å…¥å…³é”®å­—ï¼Œæ‰¾ä¸€é¦–è¯<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- TODOï¼šå¾…è¡¥å……ä»£ç  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search-form&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;search&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;search&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯ç‰Œå è¯å¥ è¯äºº&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;suggestions&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item of showList&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;poet&quot;</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.poetry_content)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.title)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            -</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;highlight(item.author)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// TODOï¼šå¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">search</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">poemList</span>: [],</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">showList</span>: [],</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        axios.<span class="title function_">get</span>(<span class="string">&#x27;./data.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">poemList</span> = res.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">        &#125;) </span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">watch</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">search</span>(<span class="params">newVal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (!newVal) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">showList</span> = []</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">showList</span> = <span class="variable language_">this</span>.<span class="property">poemList</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> item.<span class="property">author</span>.<span class="title function_">includes</span>(newVal) || item.<span class="property">title</span>.<span class="title function_">includes</span>(newVal) || item.<span class="property">poetry_content</span>.<span class="title function_">includes</span>(newVal)</span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">highlight</span>(<span class="params">str</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> str.<span class="title function_">replaceAll</span>(<span class="variable language_">this</span>.<span class="property">search</span>, <span class="string">`&lt;span class=&quot;highlight&quot;&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.search&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æˆè¯­å­¦ä¹ -ä¸€"><a href="#æˆè¯­å­¦ä¹ -ä¸€" class="headerlink" title="æˆè¯­å­¦ä¹ -ä¸€"></a>æˆè¯­å­¦ä¹ -ä¸€</h3><p>ä¸ºäº†è¾¾æˆè¿™ç§æ•ˆæœâ†“</p><p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/d2e35a5c6f12d569c595b56f0c996dd0-0.gif" alt="å›¾ç‰‡æè¿°"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>æˆè¯­å­¦ä¹ <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#app</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.title</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(-<span class="number">225deg</span>, <span class="number">#69EACB</span> <span class="number">0%</span>, <span class="number">#EACCF8</span> <span class="number">48%</span>, <span class="number">#6654F1</span> <span class="number">100%</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.idiom_tips_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.detailed_description</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.idiom_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.item_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">120px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">248</span>, <span class="number">243</span>, <span class="number">243</span>);</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.optional_words_region</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">flex-wrap</span>: wrap;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.words</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: orange;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.words</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">247</span>, <span class="number">113</span>, <span class="number">3</span>);</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">248</span>, <span class="number">243</span>, <span class="number">243</span>);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.confirm_btn_box</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.confirm_btn</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background</span>: <span class="number">#409eff</span></span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;çƒ­æ³ªç›ˆçœ¶&quot;,means:&quot;å½¢å®¹éå¸¸æ„Ÿæ¿€æˆ–é«˜å…´&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;æ‰åæ¨ªæº¢&quot;,means:&quot;æŒ‡æ‰åå……åˆ†æ˜¾éœ²å‡ºæ¥&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;èšæ²™æˆå¡”&quot;,means:&quot;æ¯”å–»ç§¯å°‘æˆå¤š&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;åå‚é’å²&quot;,means:&quot;å½¢å®¹åŠŸä¸šå·¨å¤§ï¼Œæ°¸è¿œæµä¼ &quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;ç»æ— ä»…æœ‰&quot;,means:&quot;å½¢å®¹æå…¶ç¨€å°‘&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;è¡£è¡«è¤´è¤›&quot;,means:&quot;å½¢å®¹èº«ä¸Šè¡£æœç ´ç ´çƒ‚çƒ‚&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;ç„•ç„¶ä¸€æ–°&quot;,means:&quot;å½¢å®¹å‘ˆç°å‡ºå´­æ–°çš„é¢è²Œ&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;å¹¶é©¾é½é©±&quot;,means:&quot;æ¯”å–»é½å¤´å¹¶è¿›ï¼Œä¸åˆ†å‰å&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;åšå¤§ç²¾æ·±&quot;,means:&quot;å½¢å®¹æ€æƒ³å’Œå­¦è¯†å¹¿åšé«˜æ·±&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &#123;word:&quot;å¿™é‡Œå·é—²&quot;,means:&quot;åœ¨ç¹å¿™ä¸­æŠ½å‡ºç©ºé—²æ¥&quot;&#125; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>æˆè¯­å­¦ä¹ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æç¤º-æè¿° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;idiom_tips_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;detailed_description&quot;</span>&gt;</span>æç¤ºï¼š&#123;&#123;tip&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é€‰ä¸­çš„æˆè¯­ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;idiom_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item_box&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item,index in idiom&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clear(index)&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;result == null ? &#x27;color:#ccc&#x27; : result ? &#x27;color : red&#x27; : &#x27;&#x27;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;result == null ? &#x27;è¯·ç‚¹å‡»ä¸‹æ–¹æ–‡å­—ç»„ç»‡æ­£ç¡®çš„æˆè¯­ï¼ˆç‚¹å‡»æ¡†å†…æ–‡å­—å¯æ¸…é™¤ï¼‰&#x27; : result ? &#x27;ç­”æ¡ˆæ­£ç¡®&#x27; : &#x27;ç­”æ¡ˆé”™è¯¯&#x27;&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯é€‰åŒºåŸŸ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;optional_words_region&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;div&gt;&#123;&#123;word&#125;&#125;&lt;/div&gt; --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;words&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in words.split(&#x27;&#x27;)&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getSingleWord(item)&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¡®å®š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;confirm_btn_box&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;confirm_btn&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;confirm&quot;</span>&gt;</span>ç¡®å®š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tip</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">arr</span>: [</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;çƒ­æ³ªç›ˆçœ¶&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹éå¸¸æ„Ÿæ¿€æˆ–é«˜å…´&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;æ‰åæ¨ªæº¢&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;æŒ‡æ‰åå……åˆ†æ˜¾éœ²å‡ºæ¥&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;èšæ²™æˆå¡”&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;æ¯”å–»ç§¯å°‘æˆå¤š&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;åå‚é’å²&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹åŠŸä¸šå·¨å¤§ï¼Œæ°¸è¿œæµä¼ &quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;ç»æ— ä»…æœ‰&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹æå…¶ç¨€å°‘&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;è¡£è¡«è¤´è¤›&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹èº«ä¸Šè¡£æœç ´ç ´çƒ‚çƒ‚&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;ç„•ç„¶ä¸€æ–°&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹å‘ˆç°å‡ºå´­æ–°çš„é¢è²Œ&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;å¹¶é©¾é½é©±&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;æ¯”å–»é½å¤´å¹¶è¿›ï¼Œä¸åˆ†å‰å&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;åšå¤§ç²¾æ·±&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;å½¢å®¹æ€æƒ³å’Œå­¦è¯†å¹¿åšé«˜æ·±&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          &#123; <span class="attr">word</span>: <span class="string">&quot;å¿™é‡Œå·é—²&quot;</span>, <span class="attr">tip</span>: <span class="string">&quot;åœ¨ç¹å¿™ä¸­æŠ½å‡ºç©ºé—²æ¥&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">words</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">idiom</span>: [<span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">result</span>: <span class="literal">null</span></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">tip</span> = <span class="variable language_">this</span>.<span class="property">arr</span>[<span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="property">length</span>)].<span class="property">tip</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">words</span> += item.<span class="property">word</span></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> words = <span class="variable language_">this</span>.<span class="property">words</span>.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        words = <span class="variable language_">this</span>.<span class="title function_">shuffle</span>(words)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">words</span> = words.<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//ä¹±åºæ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">shuffle</span>(<span class="params">arr</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> temp, length = arr.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (length--));</span></span><br><span class="line"><span class="language-javascript">            temp = arr[index];</span></span><br><span class="line"><span class="language-javascript">            arr[index] = arr[length];</span></span><br><span class="line"><span class="language-javascript">            arr[length] = temp;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> arr;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//TODO ç‚¹å‡»æ–‡å­—åï¼Œåœ¨idiomä»å·¦åˆ°å³ç¬¬ä¸€ä¸ªç©ºçš„ä½ç½®åŠ ä¸Šè¯¥æ–‡å­—</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getSingleWord</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">idiom</span>[i] === <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">idiom</span>, i, val)</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">continue</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          </span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">clear</span>(<span class="params">i</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">idiom</span>[i] = <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">idiom</span>, i, <span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// TODO æ ¡éªŒæˆè¯­æ˜¯å¦è¾“å…¥æ­£ç¡®ç­”æ¡ˆ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// çŒœä¸­æˆè¯­ result ä¸º true;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// çŒœé”™æˆè¯­ result ä¸º false;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¾‹1ï¼štip=â€˜å½¢å®¹éå¸¸æ„Ÿæ¿€æˆ–é«˜å…´â€™ï¼Œidiom=[&quot;çƒ­&quot;,&quot;æ³ª&quot;,&quot;ç›ˆ&quot;,&quot;çœ¶&quot;]ï¼Œåˆ™resultè¿”å›true</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¾‹2ï¼štip=â€˜å½¢å®¹éå¸¸æ„Ÿæ¿€æˆ–é«˜å…´â€™ï¼Œidiom=[&quot;æ³ª&quot;,&quot;çœ¼&quot;,&quot;ç›ˆ&quot;,&quot;çœ¶&quot;]ï¼Œåˆ™resultè¿”å›false</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ä¾‹3ï¼štip=â€˜åœ¨ç¹å¿™ä¸­æŠ½å‡ºç©ºé—²æ¥â€™ï¼Œidiom=[&quot;å¿™&quot;,&quot;é‡Œ&quot;,&quot;å·&quot;,&quot;é—²&quot;]ï¼Œåˆ™resultè¿”å›true</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">confirm</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">let</span> i = <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">arr</span>.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">tip</span> === <span class="variable language_">this</span>.<span class="property">arr</span>[i].<span class="property">tip</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">break</span></span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">continue</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">arr</span>[i].<span class="property">word</span> === <span class="variable language_">this</span>.<span class="property">idiom</span>.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">result</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="nodeæ¥å£âˆš"><a href="#nodeæ¥å£âˆš" class="headerlink" title="nodeæ¥å£âˆš"></a>nodeæ¥å£âˆš</h2><h3 id="èµ„è®¯æ¥å£-äºŒ"><a href="#èµ„è®¯æ¥å£-äºŒ" class="headerlink" title="èµ„è®¯æ¥å£-äºŒ"></a>èµ„è®¯æ¥å£-äºŒ</h3><blockquote><ol><li>é€šè¿‡åœ¨ <code>app.js</code> ä¹¦å†™ä»£ç ï¼Œåˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½¿æœåŠ¡åœ¨ <strong>8080</strong> ç«¯å£è¿è¡Œã€‚</li><li>è®¿é—® <code>/news</code> è¿”å›èµ„è®¯æ•°æ®ï¼Œè®¿é—®å…¶ä»–ä»»æ„è·¯å¾„å‡è¿”å›<strong>å­—ç¬¦ä¸² 404</strong> ã€‚</li></ol><table><thead><tr><th>Url</th><th>è¯·æ±‚æ–¹å¼</th><th>å‚æ•°</th><th>å“åº”ç»“æœ</th></tr></thead><tbody><tr><td>news</td><td>GET</td><td>ç©º</td><td>æ˜¾ç¤ºèµ„è®¯æ•°æ®</td></tr></tbody></table><p>æ•°æ®éœ€è¦è®¾ç½®ä¸º <code>utf8</code> æ ¼å¼ï¼Œèµ„è®¯æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;channelId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5572a108b3cdc86cf39001cd&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å›½å†…ç„¦ç‚¹&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;channelId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5572a108b3cdc86cf39001ce&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å›½é™…ç„¦ç‚¹&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>555å†™æ¥å£ï¼ï¼ï¼ï¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å¾…è¡¥å……ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;channelId&quot;</span>: <span class="string">&quot;5572a108b3cdc86cf39001cd&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;å›½å†…ç„¦ç‚¹&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;channelId&quot;</span>: <span class="string">&quot;5572a108b3cdc86cf39001ce&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;å›½é™…ç„¦ç‚¹&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>, <span class="keyword">function</span>(<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;text/html;charset=utf8&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&#x27;/news&#x27;</span>) &#123;</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.<span class="title function_">end</span>(<span class="string">&#x27;404 NOT FOUND&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;running&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="httpåº”ç”¨-ä¸€"><a href="#httpåº”ç”¨-ä¸€" class="headerlink" title="httpåº”ç”¨-ä¸€"></a>httpåº”ç”¨-ä¸€</h3><ol><li>é€šè¿‡åœ¨ <code>app.js</code> ä¹¦å†™ä»£ç ï¼Œåˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½¿æœåŠ¡åœ¨ <strong>8080</strong> ç«¯å£è¿è¡Œã€‚</li><li>é€šè¿‡ <code>node app.js</code> è¿è¡Œä»£ç ï¼Œä½¿æœåŠ¡å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç‚¹å‡»å³ä¾§ ã€web æœåŠ¡ã€‘ï¼Œé¡µé¢ä¸Šæ˜¾ç¤º â€œhello worldâ€ ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å¾…è¡¥å……ä»£ç </span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>();</span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&quot;request&quot;</span>,<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8080</span>)</span><br></pre></td></tr></table></figure><h2 id="Echartsâˆš"><a href="#Echartsâˆš" class="headerlink" title="Echartsâˆš"></a>Echartsâˆš</h2><h3 id="å•†å“é”€é‡å’Œé”€å”®é¢å®æ—¶å±•ç¤ºçœ‹æ¿-ä¸‰"><a href="#å•†å“é”€é‡å’Œé”€å”®é¢å®æ—¶å±•ç¤ºçœ‹æ¿-ä¸‰" class="headerlink" title="å•†å“é”€é‡å’Œé”€å”®é¢å®æ—¶å±•ç¤ºçœ‹æ¿-ä¸‰"></a>å•†å“é”€é‡å’Œé”€å”®é¢å®æ—¶å±•ç¤ºçœ‹æ¿-ä¸‰</h3><blockquote><p>è¿‡è¾£ï¼</p></blockquote><p>è¯·åœ¨ <code>js/index.js</code> æ–‡ä»¶ä¸­è¡¥å…¨ä»£ç ã€‚</p><p>æœ€ç»ˆæ•ˆæœå¯å‚è€ƒæ–‡ä»¶å¤¹ä¸‹é¢çš„ gif å›¾ï¼Œå›¾ç‰‡åç§°ä¸º <code>effect.gif</code>ï¼ˆæç¤ºï¼šå¯ä»¥é€šè¿‡ VS Code æˆ–è€…æµè§ˆå™¨é¢„è§ˆ gif å›¾ç‰‡ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> charData = &#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;äº‘è¯¾è¯¾ç¨‹é”€é‡å’Œé”€å”®é¢çœ‹æ¿&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="attr">textStyle</span>: &#123;</span><br><span class="line">            <span class="attr">lineHeight</span>: <span class="number">50</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">left</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">grid</span>: &#123;</span><br><span class="line">        <span class="attr">top</span>: <span class="number">80</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>:&#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å…¨ `yAxis` çš„è®¾ç½®ï¼Œè¦æ±‚â€œé”€å”®é¢â€ï¼ˆå³ï¼Œé…ç½®é¡¹ `name`ï¼‰çš„ä½ç½®ï¼ˆå³ï¼Œé…ç½®é¡¹ `position`ï¼‰åœ¨å›¾è¡¨çš„å·¦ä¾§ï¼Œâ€œé”€é‡â€ï¼ˆå³ï¼Œé…ç½®é¡¹ `name`ï¼‰çš„ä½ç½®ï¼ˆå³ï¼Œé…ç½®é¡¹ `position`ï¼‰åœ¨å›¾è¡¨çš„å³ä¾§ã€‚</span></span><br><span class="line">    <span class="attr">yAxis</span>: [&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;é”€å”®é¢&#x27;</span>,</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;é”€é‡&#x27;</span>,</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;é”€å”®é¢&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [],</span><br><span class="line">            <span class="attr">yAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;é”€é‡&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [],</span><br><span class="line">            <span class="attr">yAxisIndex</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">smooth</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä»£ç ä¸ºæ¨¡æ‹Ÿåç«¯æœåŠ¡å™¨è¿”å›æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> sale = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// é”€å”®é¢</span></span><br><span class="line"><span class="keyword">const</span> saleObj = &#123;&#125;;</span><br><span class="line"><span class="comment">// é”€é‡</span></span><br><span class="line"><span class="keyword">const</span> countObj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Ajax</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> randomNum = <span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">randomSum</span> = (<span class="params"></span>) =&gt; (randomNum * <span class="number">500</span> + <span class="number">900</span>);</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">randomCount</span> = (<span class="params"></span>) =&gt; (randomNum * <span class="number">50</span> + <span class="number">80</span>);</span><br><span class="line">        <span class="keyword">let</span> i = index++ * <span class="number">10</span></span><br><span class="line">        <span class="keyword">let</span> key = <span class="string">`10:<span class="subst">$&#123;i == <span class="number">0</span> ? <span class="string">&quot;00&quot;</span> : i&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">7</span>) &#123;</span><br><span class="line">            sale = <span class="title function_">randomSum</span>();</span><br><span class="line">            <span class="title class_">Object</span>.<span class="title function_">assign</span>(saleObj, &#123; [key]: sale.<span class="title function_">toFixed</span>(<span class="number">2</span>) &#125;)</span><br><span class="line">            count = <span class="title function_">randomCount</span>();</span><br><span class="line">            <span class="title class_">Object</span>.<span class="title function_">assign</span>(countObj, &#123; [key]: count.<span class="title function_">toFixed</span>(<span class="number">2</span>) &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> respondBody = &#123;</span><br><span class="line">            <span class="string">&quot;code&quot;</span>: <span class="number">200</span>,</span><br><span class="line">            <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">                saleObj,</span><br><span class="line">                countObj</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(respondBody);</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">renderChart</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title class_">Ajax</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#result&quot;</span>).<span class="property">innerText</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(result);</span><br><span class="line">    <span class="keyword">const</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line">    <span class="comment">// TODOï¼šè¡¥å…¨ä»£ç ï¼Œæ­£ç¡®ç»™ X è½´çš„æ—¶é—´ï¼Œä»¥åŠ Y è½´çš„å•†å“çš„é”€å”®é¢ saleObj å’Œé”€é‡èµ‹å€¼ countObjã€‚</span></span><br><span class="line">    charData.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">values</span>(saleObj)</span><br><span class="line">    charData.<span class="property">series</span>[<span class="number">1</span>].<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">values</span>(countObj)</span><br><span class="line">    charData.<span class="property">xAxis</span>.<span class="property">data</span> = <span class="title class_">Object</span>.<span class="title function_">keys</span>(saleObj)</span><br><span class="line"></span><br><span class="line">    myChart.<span class="title function_">setOption</span>(charData, <span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#data&quot;</span>).<span class="property">innerText</span> = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(charData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">renderChart</span>();</span><br><span class="line"><span class="keyword">let</span> times = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">renderChart</span>();</span><br><span class="line">    ++times == <span class="number">6</span> &amp;&amp; <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç²’ç²’çš†è¾›è‹¦-äºŒ"><a href="#ç²’ç²’çš†è¾›è‹¦-äºŒ" class="headerlink" title="ç²’ç²’çš†è¾›è‹¦-äºŒ"></a>ç²’ç²’çš†è¾›è‹¦-äºŒ</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/6e4cef34c272b23520bae329dd63bd02-0.png" alt="å›¾ç‰‡æè¿°" style="zoom:20%;" /><blockquote><p>é¡¹ç›®è§ =&gt; E:\Project\LittlePrograms\EchartsTest1</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;desc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;è¯·æ±‚æˆåŠŸ&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;2017&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">431</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">142</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">232</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">642</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2018&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">417</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">156</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">258</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">643</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2019&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">416</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">168</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">269</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">650</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2020&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">436</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">174</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">277</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">680</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2021&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">441</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">186</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">289</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">692</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;2022&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;wheat&quot;</span><span class="punctuation">:</span> <span class="number">445</span><span class="punctuation">,</span> <span class="attr">&quot;soybean&quot;</span><span class="punctuation">:</span> <span class="number">201</span><span class="punctuation">,</span> <span class="attr">&quot;potato&quot;</span><span class="punctuation">:</span> <span class="number">315</span><span class="punctuation">,</span> <span class="attr">&quot;corn&quot;</span><span class="punctuation">:</span> <span class="number">706</span> <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç²’ç²’çš†è¾›è‹¦<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./js/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%; margin: 0; overflow: hidden&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 80%; width: 80%; margin: 5% auto&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;container&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> option;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(dom, <span class="literal">null</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">renderer</span>: <span class="string">&quot;canvas&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">useDirtyRect</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> <span class="title function_">initCharts</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        option = &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">text</span>: <span class="string">&quot;è¿‘äº”å¹´ x å¸‚ç²®é£Ÿæ€»äº§é‡åˆ†å¸ƒä»¥åŠ 2022 å¹´ç²®é£Ÿäº§é‡æ¯”ä¾‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">subtext</span>: <span class="string">&quot;å•ä½ï¼ˆä¸‡å¨ï¼‰&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">dataset</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//source -&gt; å›¾è¡¨æ˜¾ç¤ºæ‰€éœ€çš„æ•°æ®æ ¼å¼ï¼ˆé¥¼å½¢å›¾å’ŒæŠ˜çº¿å›¾å…±ç”¨ï¼‰ï¼Œè¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹æ­¤è¡Œ</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">source</span>: [</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;å…¨éƒ¨&quot;</span>, <span class="string">&quot;2017&quot;</span>, <span class="string">&quot;2018&quot;</span>, <span class="string">&quot;2019&quot;</span>, <span class="string">&quot;2020&quot;</span>, <span class="string">&quot;2021&quot;</span>, <span class="string">&quot;2022&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;å°éº¦&quot;</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;å¤§è±†&quot;</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;é©¬é“ƒè–¯&quot;</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>, <span class="number">13</span>],</span></span><br><span class="line"><span class="language-javascript">              [<span class="string">&quot;ç‰ç±³&quot;</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>],</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">xAxis</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;category&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">yAxis</span>: &#123; <span class="attr">gridIndex</span>: <span class="number">0</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">grid</span>: &#123; <span class="attr">top</span>: <span class="string">&quot;55%&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;line&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">seriesLayoutBy</span>: <span class="string">&quot;row&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">type</span>: <span class="string">&quot;pie&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">id</span>: <span class="string">&quot;pie&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">radius</span>: <span class="string">&quot;30%&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">center</span>: [<span class="string">&quot;50%&quot;</span>, <span class="string">&quot;25%&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 2022 æ•°æ®çš„ç™¾åˆ†æ¯”</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">formatter</span>: <span class="string">&quot;&#123;b&#125; &#123;@2022&#125; (&#123;d&#125;%)&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">encode</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">itemName</span>: <span class="string">&quot;å…¨éƒ¨&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">value</span>: <span class="string">&quot;2022&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">tooltip</span>: <span class="string">&quot;2022&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">          ],</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (option &amp;&amp; <span class="keyword">typeof</span> option === <span class="string">&quot;object&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// myChart.setOption -&gt; è®¾ç½® echarts æ•°æ®çš„æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">          myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, myChart.<span class="property">resize</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">initCharts</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// <span class="doctag">TODO:</span> å¾…è¡¥å……ä»£ç </span></span></span><br><span class="line"><span class="language-javascript">      axios.<span class="title function_">get</span>(<span class="string">&#x27;./data.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> data = res.<span class="property">data</span>.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> source = [</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;å…¨éƒ¨&quot;</span>, <span class="string">&quot;2017&quot;</span>, <span class="string">&quot;2018&quot;</span>, <span class="string">&quot;2019&quot;</span>, <span class="string">&quot;2020&quot;</span>, <span class="string">&quot;2021&quot;</span>, <span class="string">&quot;2022&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;å°éº¦&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;å¤§è±†&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;é©¬é“ƒè–¯&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">          [<span class="string">&quot;ç‰ç±³&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">        ]</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> data) &#123;</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">1</span>].<span class="title function_">push</span>(data[item].<span class="property">wheat</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">2</span>].<span class="title function_">push</span>(data[item].<span class="property">soybean</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">3</span>].<span class="title function_">push</span>(data[item].<span class="property">potato</span>)</span></span><br><span class="line"><span class="language-javascript">          source[<span class="number">4</span>].<span class="title function_">push</span>(data[item].<span class="property">corn</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        option.<span class="property">dataset</span>.<span class="property">source</span> = source</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option)</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å­¦æµ·æ— æ¶¯-ä¸€"><a href="#å­¦æµ·æ— æ¶¯-ä¸€" class="headerlink" title="å­¦æµ·æ— æ¶¯-ä¸€"></a>å­¦æµ·æ— æ¶¯-ä¸€</h3><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/9ee66d6bdc2369d8f52710d09d7c577c-0.gif" alt="å›¾ç‰‡æè¿°" style="zoom:50%;" /><p>æ¯”è¾ƒè®¨å·§çš„åŠæ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">option.<span class="property">xAxis</span>.<span class="property">data</span>=[<span class="string">&quot;2æœˆç¬¬1å‘¨&quot;</span>,<span class="string">&quot;2æœˆç¬¬2å‘¨&quot;</span>,<span class="string">&quot;2æœˆç¬¬3å‘¨&quot;</span>,<span class="string">&quot;2æœˆç¬¬4å‘¨&quot;</span>,<span class="string">&quot;3æœˆç¬¬1å‘¨&quot;</span>,<span class="string">&quot;3æœˆç¬¬2å‘¨&quot;</span>,<span class="string">&quot;3æœˆç¬¬3å‘¨&quot;</span>,<span class="string">&quot;3æœˆç¬¬4å‘¨&quot;</span>,<span class="string">&quot;3æœˆç¬¬5å‘¨&quot;</span>]</span><br><span class="line">option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>=[<span class="number">180</span>,<span class="number">274</span>,<span class="number">253</span>,<span class="number">324</span>,<span class="number">277</span>,<span class="number">240</span>,<span class="number">332</span>,<span class="number">378</span>,<span class="number">101</span>]</span><br><span class="line"></span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, myChart.<span class="property">resize</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> change=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">option.<span class="property">xAxis</span>.<span class="property">data</span>=[<span class="string">&quot;2æœˆ&quot;</span>,<span class="string">&quot;3æœˆ&quot;</span>]</span><br><span class="line">option.<span class="property">series</span>[<span class="number">0</span>].<span class="property">data</span>=[<span class="number">1031</span>,<span class="number">1328</span>]</span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> month = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;month&quot;</span>);</span><br><span class="line">month.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,change)</span><br></pre></td></tr></table></figure><h2 id="åäº†é¡µé¢æ­å»º-CSS3"><a href="#åäº†é¡µé¢æ­å»º-CSS3" class="headerlink" title="åäº†é¡µé¢æ­å»º/CSS3"></a>åäº†é¡µé¢æ­å»º/CSS3</h2><p>å¤ªè–„å¼±äº†å¤ªè–„å¼±äº†å¤ªè–„å¼±äº†å¤ªè–„å¼±äº†å¤ªè–„å¼±äº†</p><h2 id="æœªåš-æœªç†è§£"><a href="#æœªåš-æœªç†è§£" class="headerlink" title="æœªåš/æœªç†è§£"></a>æœªåš/æœªç†è§£</h2><h1 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h1><h3 id="å…³äºä½ çš„æ¬¢è¿è¯­-ä¹ é¢˜-JS"><a href="#å…³äºä½ çš„æ¬¢è¿è¯­-ä¹ é¢˜-JS" class="headerlink" title="å…³äºä½ çš„æ¬¢è¿è¯­-ä¹ é¢˜-JS"></a>å…³äºä½ çš„æ¬¢è¿è¯­-ä¹ é¢˜-JS</h3><p>ç”¨JSå®ç°ç‰¹å®šç”¨æˆ·æ¬¢è¿è¯­çš„å±•ç¤ºï¼ˆè¾“å…¥æ¡†è¾“å…¥çš„å­—ç¬¦ä¸²æ‹¼æ¥åæ˜¾ç¤ºï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">generate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    subject = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;subject&quot;</span>);</span><br><span class="line">    event1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;event1&quot;</span>);</span><br><span class="line">    event2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;event2&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (subject.<span class="property">length</span>==<span class="number">0</span> || event1.<span class="property">length</span>==<span class="number">0</span> || event2.<span class="property">length</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    result = <span class="string">`æ¬¢è¿ç”¨æˆ·<span class="subst">$&#123;subject.value&#125;</span>åœ¨<span class="subst">$&#123;event2.value&#125;</span>å­¦ä¹ <span class="subst">$&#123;event1.value&#125;</span>è¯¾ç¨‹ï¼`</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;result&quot;</span>).<span class="property">value</span> = result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠŸèƒ½åŒ–æ ‡ç­¾é¡µ-ä¹ é¢˜-JS"><a href="#åŠŸèƒ½åŒ–æ ‡ç­¾é¡µ-ä¹ é¢˜-JS" class="headerlink" title="åŠŸèƒ½åŒ–æ ‡ç­¾é¡µ-ä¹ é¢˜-JS"></a>åŠŸèƒ½åŒ–æ ‡ç­¾é¡µ-ä¹ é¢˜-JS</h3><p>ç”¨JSå®ç°é€‰é¡¹å¡åˆ‡æ¢åŠŸèƒ½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°é€‰é¡¹å¡åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// TODO å¾…è¡¥å……ä»£ç </span></span><br><span class="line">  <span class="keyword">let</span> cho = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.tabs&gt;div&quot;</span>)</span><br><span class="line">  <span class="keyword">let</span> sho = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#content&gt;div&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cho.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    cho[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> a = <span class="number">0</span>;a&lt;cho.<span class="property">length</span>;a++) &#123;</span><br><span class="line">        cho[a].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">        sho[a].<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>);</span><br><span class="line">      &#125; </span><br><span class="line"></span><br><span class="line">      cho[i].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>)</span><br><span class="line">      sho[i].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><h3 id="æ–°å¹´è´ºå¡-ä¹ é¢˜-JS-æˆ‘ä¸‡èˆ¬ä¸è§£"><a href="#æ–°å¹´è´ºå¡-ä¹ é¢˜-JS-æˆ‘ä¸‡èˆ¬ä¸è§£" class="headerlink" title="æ–°å¹´è´ºå¡-ä¹ é¢˜-JS-æˆ‘ä¸‡èˆ¬ä¸è§£"></a>æ–°å¹´è´ºå¡-ä¹ é¢˜-JS-æˆ‘ä¸‡èˆ¬ä¸è§£</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">const</span> greetingDisplay = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;greeting-display&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>)</span><br><span class="line"><span class="comment">// ç‚¹å‡»å¼€å§‹ä¹¦å†™æŒ‰é’®</span></span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="title function_">show</span>(greetingDisplay)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> greetings = [</span><br><span class="line"><span class="string">&quot;æ–°å¹´å¿«ä¹!&quot;</span>,</span><br><span class="line"><span class="string">&quot;æ¥å—æˆ‘æ–°æ˜¥çš„ç¥æ„¿,ç¥ä½ å¹³å®‰å¹¸ç¦&quot;</span>,</span><br><span class="line"><span class="string">&quot;ç¥ä½ æ–°å¹´å¿«ä¹,æ´‹æ´‹å¾—æ„!&quot;</span>,</span><br><span class="line"><span class="string">&quot;æ–°çš„ä¸€å¹´,æ–°çš„å¼€å§‹;å¿ƒçš„ç¥ç¦,æ–°çš„èµ·ç‚¹!&quot;</span>,</span><br><span class="line"><span class="string">&quot;æ–°å¹´å¥½!ç¥æ–°å¹´å¿ƒæƒ…å¥½,èº«ä½“å¥½,ä¸€åˆ‡é¡ºå¿ƒ!&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšæœºæ•°å‡½æ•° ä» greetings éšæœºå–ä¸€ä¸ªå€¼å¹¶è¿”å›</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">writeGreeting</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// TODO å¸¦è¡¥å……ä»£ç   </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*greetings.<span class="property">length</span>))</span><br><span class="line"><span class="keyword">return</span> greetings[ <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*greetings.<span class="property">length</span>) ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @param &#123;*&#125; greetingDisplay  è¦æ˜¾ç¤ºå†…å®¹çš„domå…ƒç´ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//  show å°† writeGreeting å‡½æ•°ä¸­è¿”å›çš„å†…å®¹æ˜¾ç¤ºåœ¨ greetingDisplay å…ƒç´ ä¸­</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">greetingDisplay</span>) &#123;</span><br><span class="line"><span class="comment">// TODO å¾…è¡¥å……ä»£ç </span></span><br><span class="line">greetingDisplay.<span class="property">innerText</span> = <span class="title function_">writeGreeting</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; show, writeGreeting &#125;</span><br></pre></td></tr></table></figure><h3 id="ç»™é¡µé¢åŒ–ä¸ªå¦†-ä¹ é¢˜-CSS-æˆ‘çš„å¸ƒå±€å•Šï¼"><a href="#ç»™é¡µé¢åŒ–ä¸ªå¦†-ä¹ é¢˜-CSS-æˆ‘çš„å¸ƒå±€å•Šï¼" class="headerlink" title="ç»™é¡µé¢åŒ–ä¸ªå¦†-ä¹ é¢˜-CSS-æˆ‘çš„å¸ƒå±€å•Šï¼"></a>ç»™é¡µé¢åŒ–ä¸ªå¦†-ä¹ é¢˜-CSS-æˆ‘çš„å¸ƒå±€å•Šï¼</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;../images/background-pic.jpeg&#x27;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">945</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1920</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-bar</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-bar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content-container</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">45</span>);</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">15%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">800</span>;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#041c32</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#2d4263</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">5px</span> <span class="number">20px</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°å…”å­çˆ¬æ¥¼æ¢¯-ä¹ é¢˜-ç®—æ³•"><a href="#å°å…”å­çˆ¬æ¥¼æ¢¯-ä¹ é¢˜-ç®—æ³•" class="headerlink" title="å°å…”å­çˆ¬æ¥¼æ¢¯-ä¹ é¢˜-ç®—æ³•"></a>å°å…”å­çˆ¬æ¥¼æ¢¯-ä¹ é¢˜-ç®—æ³•</h3><p>ç®€å•å•Šï¼Œä¼˜åŒ–DP</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">climbStairs</span> = (<span class="params">n</span>) =&gt; &#123;</span><br><span class="line"> <span class="keyword">let</span> dp0 = <span class="number">0</span>, dp1 = <span class="number">1</span></span><br><span class="line"> <span class="keyword">if</span> (n === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> dp0</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">let</span> ans = <span class="number">0</span></span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    ans = dp0 + dp1</span><br><span class="line">    dp0 = dp1</span><br><span class="line">    dp1 = ans</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = climbStairs; </span><br></pre></td></tr></table></figure><h3 id="è´­ç‰©è½¦-ä¹ é¢˜-vue-axios"><a href="#è´­ç‰©è½¦-ä¹ é¢˜-vue-axios" class="headerlink" title="è´­ç‰©è½¦-ä¹ é¢˜-vue axios"></a>è´­ç‰©è½¦-ä¹ é¢˜-vue axios</h3><p>å®ç°è¿™ç§æ•ˆæœï¼Œå°±æ˜¯ä¸€ä¸ªv-foréå†ã€‚è¿˜æœ‰axiosè¯·æ±‚JSON</p><img src="../images/%E9%80%9F%E9%80%9A%E8%93%9D%E6%A1%A5%E6%9D%AFWeb/wm.png" alt="å›¾ç‰‡æè¿°" style="zoom: 15%;" /><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>è´­ç‰©è½¦<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/element-ui.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>è´­ç‰©è½¦<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è´­ç‰©è½¦åˆ—è¡¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">&quot;box-card&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;item in carlist&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å•†å“å›¾ç‰‡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.img&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å•†å“åç§° --&gt;</span></span><br><span class="line">&#123;&#123; item.name &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bottom clearfix&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;item.num++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å•†å“æ•°é‡ --&gt;</span></span><br><span class="line">&#123;&#123; item.num &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;item.num?item.num--:item.num&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥ç»„ä»¶åº“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/element-ui.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">carlist</span>: [] <span class="comment">//è´­ç‰©è½¦åˆ—è¡¨</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// åœ¨è¿™é‡Œä½¿ç”¨axios å‘é€è¯·æ±‚</span></span></span><br><span class="line"><span class="language-javascript">axios.<span class="title function_">get</span>(<span class="string">&#x27;./carList.json&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">this</span>.<span class="property">carlist</span> = value.<span class="property">data</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å¤šä¸ªæ–œçº¿å¼€å§‹çš„è·¯å¾„é‡å®šå‘é—®é¢˜-ä¹ é¢˜-vue"><a href="#å¤šä¸ªæ–œçº¿å¼€å§‹çš„è·¯å¾„é‡å®šå‘é—®é¢˜-ä¹ é¢˜-vue" class="headerlink" title="å¤šä¸ªæ–œçº¿å¼€å§‹çš„è·¯å¾„é‡å®šå‘é—®é¢˜-ä¹ é¢˜-vue"></a>å¤šä¸ªæ–œçº¿å¼€å§‹çš„è·¯å¾„é‡å®šå‘é—®é¢˜-ä¹ é¢˜-vue</h3><p>æºç ä¸­ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®æ”¹</p><h3 id="è·¯ç”±å™¨æŸ¥è¯¢ä¸­çš„æœªå®šä¹‰å€¼ç°åœ¨å˜ä¸ºæœªå®šä¹‰å­—ç¬¦ä¸²-ä¹ é¢˜-vue"><a href="#è·¯ç”±å™¨æŸ¥è¯¢ä¸­çš„æœªå®šä¹‰å€¼ç°åœ¨å˜ä¸ºæœªå®šä¹‰å­—ç¬¦ä¸²-ä¹ é¢˜-vue" class="headerlink" title="è·¯ç”±å™¨æŸ¥è¯¢ä¸­çš„æœªå®šä¹‰å€¼ç°åœ¨å˜ä¸ºæœªå®šä¹‰å­—ç¬¦ä¸²-ä¹ é¢˜-vue"></a>è·¯ç”±å™¨æŸ¥è¯¢ä¸­çš„æœªå®šä¹‰å€¼ç°åœ¨å˜ä¸ºæœªå®šä¹‰å­—ç¬¦ä¸²-ä¹ é¢˜-vue</h3><p>åœ¨ <a href="https://github.com/lanqiao-courses/vue-router/tree/v3.4.0">vue-router v3.4.0</a> ç‰ˆæœ¬ä»£ç ä¸­å­˜åœ¨ä¸€ä¸ª Bugï¼Œè·¯ç”±å™¨æŸ¥è¯¢ä¸­çš„æœªå®šä¹‰å€¼ç°åœ¨å˜ä¸ºæœªå®šä¹‰å­—ç¬¦ä¸²ã€‚è¯·ä¿®å¤æ­¤é—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">resolveQuery</span> (</span><br><span class="line">  <span class="attr">query</span>: ?string,</span><br><span class="line">  <span class="attr">extraQuery</span>: <span class="title class_">Dictionary</span>&lt;string&gt; = &#123;&#125;,</span><br><span class="line">  <span class="attr">_parseQuery</span>: ?<span class="title class_">Function</span></span><br><span class="line">): <span class="title class_">Dictionary</span>&lt;string&gt; &#123;</span><br><span class="line">  <span class="comment">// ... çœç•¥éƒ¨åˆ†ä»£ç </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> extraQuery) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = extraQuery[key]</span><br><span class="line">    parsedQuery[key] = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(value)</span><br><span class="line">    ? value.<span class="title function_">map</span>(castQueryParamValue)</span><br><span class="line">    : <span class="title function_">castQueryParamValue</span>(value)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> parsedQuery</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">castQueryParamValue</span> = value =&gt; (value == <span class="literal">null</span> ? value : <span class="string">&#x27;&#x27;</span> + value)</span><br></pre></td></tr></table></figure><h3 id="è­¦å‘Šå·²å¼ƒç”¨çš„-addRoutes-ä¹ é¢˜-vue"><a href="#è­¦å‘Šå·²å¼ƒç”¨çš„-addRoutes-ä¹ é¢˜-vue" class="headerlink" title="è­¦å‘Šå·²å¼ƒç”¨çš„ addRoutes-ä¹ é¢˜-vue"></a>è­¦å‘Šå·²å¼ƒç”¨çš„ addRoutes-ä¹ é¢˜-vue</h3><p>å…¶å®å°±æ˜¯ä¸ªconsole.warn</p><p>æ‰©å±•ï¼š</p>]]></content>
      
      
      <categories>
          
          <category> è’œæ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è“æ¡¥æ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JQé€Ÿé€š</title>
      <link href="/post/e6cd.html"/>
      <url>/post/e6cd.html</url>
      
        <content type="html"><![CDATA[<h1 id="JQé€Ÿé€š"><a href="#JQé€Ÿé€š" class="headerlink" title="JQé€Ÿé€š"></a>JQé€Ÿé€š</h1><h2 id="é€Ÿé€šèƒŒæ™¯"><a href="#é€Ÿé€šèƒŒæ™¯" class="headerlink" title="é€Ÿé€šèƒŒæ™¯"></a>é€Ÿé€šèƒŒæ™¯</h2><ol><li>å­¦Ajaxçš„æ—¶å€™å‘ç°è‡ªå·±æ¼å­¦äº†JQ</li><li>è“æ¡¥æ¯webå‰ç«¯ç»„ç¬¬ä¸€ä¸ªé¢˜å°±æ˜¯JQæ“ä½œ</li></ol><h2 id="é€Ÿé€šå†…å®¹"><a href="#é€Ÿé€šå†…å®¹" class="headerlink" title="é€Ÿé€šå†…å®¹"></a>é€Ÿé€šå†…å®¹</h2><h3 id="document-ready"><a href="#document-ready" class="headerlink" title="document.ready"></a>document.ready</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æµè§ˆå™¨åŠ è½½é¡µé¢åï¼Œæ”¾å…¥æ­¤funcæ‰§è¡Œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é€‰æ‹©å™¨selector"><a href="#é€‰æ‹©å™¨selector" class="headerlink" title="é€‰æ‹©å™¨selector"></a>é€‰æ‹©å™¨selector</h3><p>å¤šä¸ªå…ƒç´ å¯ä»¥ç”¨<code>,</code>åˆ†éš”</p><ul><li>æ ‡ç­¾é€‰æ‹©å™¨ <code>$(&quot;button&quot;)</code></li><li>classé€‰æ‹©å™¨ <code>$(&quot;.btn&quot;)</code></li><li>idé€‰æ‹©å™¨ <code>$(&quot;#target1&quot;)</code></li><li><code>*, :first, :last, :eq(index), :gt(no), :lt(no), :not(selector), </code>è¿˜æœ‰å¾ˆå¤šâ†“</li><li><a href="https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp">https://www.w3school.com.cn/jquery/jquery_ref_selectors.asp</a>  å»è¿™é‡ŒæŸ¥</li></ul><h3 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h3><ul><li>æ·»åŠ ç±» <code>.addClass(&quot;&quot;)</code></li><li>åˆ é™¤ç±» <code>.removeClass(&quot;&quot;)</code></li><li>æœ‰åˆ™åˆ ï¼Œæ— åˆ™æ·» <code>.toggleClass(&quot;&quot;)</code></li><li>æ›´æ”¹å…ƒç´ CSS <code>.css(&quot;å…ƒç´ å&quot;, &quot;å…ƒç´ å±æ€§å€¼&quot;)</code></li><li>è°ƒæ•´æ ‡ç­¾å±æ€§ <code>.prop(&quot;å±æ€§é”®&quot;, å±æ€§å€¼)</code></li><li>æ›´æ”¹å…ƒç´ å†…éƒ¨æ–‡æœ¬ <code>.text(&quot;æ–‡æœ¬å†…å®¹&quot;)</code> </li><li>æ›¿æ¢å…ƒç´ å†…éƒ¨å†…å®¹ <code>.html(&quot;&lt;æ ‡ç­¾&gt;å†…å®¹&lt;æ ‡ç­¾/&gt;&quot;)</code></li><li>åˆ é™¤å…ƒç´  <code>.remove(&quot;å…ƒç´ å&quot;)</code></li><li>ç§»åŠ¨å…ƒç´  <code>.appenTo(&quot;ç›®æ ‡åœ°å€&quot;)</code></li><li>å…‹éš†å…ƒç´  <code>.clone()</code>  å¯ä¸ä¸Šè€…æ­é…ä½¿ç”¨ä½œä¸ºå¤åˆ¶ä¸€ä¸ªå…ƒç´ åˆ°å¦ä¸€ä¸ªåœ°æ–¹</li><li>é€‰æ‹©å…ƒç´ çš„çˆ¶å…ƒç´  <code>.parent()</code> å¯æ­é…ä¸Šå‡ ä¸ªä½¿ç”¨</li><li>é€‰æ‹©å…ƒç´ çš„å­å…ƒç´  <code>.children()</code>å¯æ­é…ä¸Šå‡ ä¸ªä½¿ç”¨</li><li>é€‰æ‹©å…ƒç´ çš„ç‰¹å®šå­å…ƒç´  <code>$(å…ƒç´ :nth-child(æ•°))</code></li><li>é€‰æ‹©å¥‡å¶å…ƒç´ -è¿™é‡Œçš„å¥‡å¶æ˜¯ç´¢å¼•ï¼Œç´¢å¼•ä»0å¼€å§‹ <code>$(å…ƒç´ :odd/even)</code></li><li>ä¿®æ”¹æ•´ä¸ªé¡µé¢ <code>$(&quot;body&quot;)</code> å¯æ­é…ä¸Šå‡ ä¸ªä½¿ç”¨</li><li><a href="https://www.w3school.com.cn/jquery/jquery_ref_manipulation.asp">https://www.w3school.com.cn/jquery/jquery_ref_manipulation.asp</a></li></ul><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p><a href="https://www.w3school.com.cn/jquery/jquery_ref_events.asp">https://www.w3school.com.cn/jquery/jquery_ref_events.asp</a></p><h3 id="æ•ˆæœå‡½æ•°"><a href="#æ•ˆæœå‡½æ•°" class="headerlink" title="æ•ˆæœå‡½æ•°"></a>æ•ˆæœå‡½æ•°</h3><p><a href="https://www.w3school.com.cn/jquery/jquery_ref_effects.asp">https://www.w3school.com.cn/jquery/jquery_ref_effects.asp</a></p><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><p>ä¸€ä¸ªå™—é€šæ —å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;https://labfile.oss.aliyuncs.com/courses/4450/userlist.json&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">    <span class="title function_">success</span>(<span class="params">res</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">        <span class="keyword">var</span> flag = res.<span class="property">userlist</span>.<span class="title function_">some</span>(<span class="function"><span class="params">value</span>=&gt;</span>value.<span class="property">username</span> == username&amp;&amp;value.<span class="property">password</span> == password);</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            $(<span class="string">&quot;#tip1&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;fade&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;show&quot;</span>)</span><br><span class="line">            $(<span class="string">&quot;#tip2&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;show&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;fade&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;#tip1&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;show&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;fade&quot;</span>)</span><br><span class="line">            $(<span class="string">&quot;#tip2&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;fade&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;show&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p> <a href="https://www.w3school.com.cn/jquery/jquery_ref_ajax.asp">https://www.w3school.com.cn/jquery/jquery_ref_ajax.asp</a></p><blockquote><p>é‡åˆ°é—®é¢˜å»èœé¸Ÿ/w3schoolæŸ¥</p><p>ä½†æ˜¯æŸ¥å®Œä¹‹åä¸€å®šè¦åŠªåŠ›è®°ä½å‘€ï¼Œä¸ç„¶è¿˜å¾—å†æŸ¥ï¼Œçœ‹çš„æ—¶é—´é•¿ ä¼˜äº æ¬¡æ•°å¤šï¼ˆä¸ªäººæµ…è–„è§‚ç‚¹ï¼Œäººå„æœ‰å¼‚ï¼Œçˆ¶æ¯å¥åœ¨ï¼‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ajaxå­¦ä¹ ç¬”è®°</title>
      <link href="/post/584d.html"/>
      <url>/post/584d.html</url>
      
        <content type="html"><![CDATA[<ol><li>Ajaxæ¦‚è¿°</li></ol><ul><li>ä»‹ç»Ajaxçš„åŸºæœ¬æ¦‚å¿µå’ŒèƒŒæ™¯</li><li>è§£é‡ŠAjaxçš„ä¼˜åŠ¿å’Œç”¨é€”</li></ul><ol><li>JavaScriptåŸºç¡€</li></ol><ul><li>JavaScriptè¯­æ³•å’ŒåŸºæœ¬æ¦‚å¿µ</li><li>JavaScriptä¸­çš„äº‹ä»¶å¤„ç†å’ŒDOMæ“ä½œ</li><li>JavaScriptä¸­çš„XMLHttpRequestå¯¹è±¡</li></ul><ol><li>AjaxåŸºæœ¬åŸç†</li></ol><ul><li>Ajaxçš„å·¥ä½œåŸç†å’ŒåŸºæœ¬æµç¨‹</li><li>è§£é‡Šå¼‚æ­¥è¯·æ±‚å’ŒæœåŠ¡å™¨å“åº”çš„æ¦‚å¿µ</li><li>Ajaxä¸­çš„åŒæºç­–ç•¥å’Œè·¨åŸŸè¯·æ±‚</li></ul><ol><li>Ajaxçš„æ ¸å¿ƒæŠ€æœ¯</li></ol><ul><li>ä½¿ç”¨JavaScriptä¸­çš„XMLHttpRequestå¯¹è±¡å‘é€å¼‚æ­¥è¯·æ±‚</li><li>å¤„ç†æœåŠ¡å™¨å“åº”æ•°æ®ï¼Œå¦‚æ–‡æœ¬ã€JSONå’ŒXML</li><li>ä½¿ç”¨Promiseã€å›è°ƒå‡½æ•°å’Œäº‹ä»¶å¤„ç†æ¥å¤„ç†å¼‚æ­¥è¯·æ±‚å’Œå“åº”</li></ul><ol><li>Ajaxçš„é«˜çº§æŠ€æœ¯</li></ol><ul><li>ä½¿ç”¨Fetch APIå’ŒAxiosç­‰ç°ä»£Ajaxåº“è¿›è¡Œå¼‚æ­¥è¯·æ±‚</li><li>å¤„ç†Ajaxè¯·æ±‚å’Œå“åº”çš„é”™è¯¯å’Œå¼‚å¸¸</li><li>ä½¿ç”¨è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰æ¥å¤„ç†è·¨åŸŸè¯·æ±‚</li></ul><ol><li>Ajaxä¸å…¶ä»–WebæŠ€æœ¯çš„æ•´åˆ</li></ol><ul><li>ç»“åˆAjaxå’ŒDOMæ“ä½œæ¥åˆ›å»ºåŠ¨æ€Webé¡µé¢</li><li>ä½¿ç”¨Ajaxä¸åç«¯æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå¦‚è·å–å’Œæäº¤æ•°æ®</li><li>ä½¿ç”¨Ajaxå®ç°å•é¡µåº”ç”¨ï¼ˆSPAï¼‰å’Œå‰åç«¯åˆ†ç¦»ï¼ˆå‰ç«¯æ¡†æ¶ã€RESTful APIç­‰ï¼‰</li></ul><ol><li>Ajaxçš„æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨è€ƒè™‘</li></ol><ul><li>ä¼˜åŒ–Ajaxè¯·æ±‚å’Œå“åº”çš„æ€§èƒ½ï¼Œå¦‚ç¼“å­˜ã€å‹ç¼©ã€åˆå¹¶ç­‰</li><li>å¤„ç†Ajaxè¯·æ±‚å’Œå“åº”çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰å’Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰ç­‰</li></ul><ol><li>å®é™…åº”ç”¨å’Œé¡¹ç›®å®è·µ</li></ol><ul><li>å®é™…é¡¹ç›®ä¸­çš„Ajaxåº”ç”¨åœºæ™¯å’Œæ¡ˆä¾‹</li><li>æ­å»ºAjaxåº”ç”¨çš„å®é™…æ­¥éª¤å’Œæ³¨æ„äº‹é¡¹</li><li>è¿›è¡Œå®é™…é¡¹ç›®å®è·µï¼ŒåŠ æ·±å¯¹Ajaxçš„ç†è§£å’ŒæŒæ¡</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç»œé€šä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootå­¦ä¹ ç¬”è®°</title>
      <link href="/post/251e.html"/>
      <url>/post/251e.html</url>
      
        <content type="html"><![CDATA[<h2 id="SpringBootå¤§çº²"><a href="#SpringBootå¤§çº²" class="headerlink" title="SpringBootå¤§çº²"></a>SpringBootå¤§çº²</h2><h3 id="1-Java-åŸºç¡€çŸ¥è¯†"><a href="#1-Java-åŸºç¡€çŸ¥è¯†" class="headerlink" title="1. Java åŸºç¡€çŸ¥è¯†"></a>1. Java åŸºç¡€çŸ¥è¯†</h3><p>åœ¨å­¦ä¹  Spring Boot ä¹‹å‰ï¼Œéœ€è¦å¯¹ Java ç¼–ç¨‹è¯­è¨€æœ‰ä¸€å®šçš„äº†è§£ã€‚åŒ…æ‹¬ Java çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€é›†åˆæ¡†æ¶ã€å¼‚å¸¸å¤„ç†ã€IO æµã€æ³›å‹ã€Lambda è¡¨è¾¾å¼ç­‰ç­‰ã€‚</p><h3 id="2-Spring-åŸºç¡€çŸ¥è¯†"><a href="#2-Spring-åŸºç¡€çŸ¥è¯†" class="headerlink" title="2. Spring åŸºç¡€çŸ¥è¯†"></a>2. Spring åŸºç¡€çŸ¥è¯†</h3><p>Spring æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼€æºæ¡†æ¶ï¼Œå®ƒä¸º Java å¼€å‘äººå‘˜æä¾›äº†ä¸€ç§å¼€å‘ä¼ä¸šçº§åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚åœ¨å­¦ä¹  Spring Boot ä¹‹å‰ï¼Œéœ€è¦æŒæ¡ Spring çš„åŸºæœ¬æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶ï¼ˆIOCã€AOPã€MVCç­‰ï¼‰ã€é…ç½®æ–¹å¼ï¼ˆXMLã€JavaConfigã€Annotationï¼‰ç­‰ã€‚</p><h3 id="3-Spring-Boot-å…¥é—¨"><a href="#3-Spring-Boot-å…¥é—¨" class="headerlink" title="3. Spring Boot å…¥é—¨"></a>3. Spring Boot å…¥é—¨</h3><p>å­¦ä¹  Spring Boot çš„ç¬¬ä¸€æ­¥æ˜¯äº†è§£å®ƒçš„åŸºæœ¬æ¦‚å¿µã€ä¼˜ç‚¹å’Œç”¨é€”ã€‚åŒ…æ‹¬ Spring Boot çš„èµ·æºã€ç‰¹ç‚¹ã€ä¸ä¼ ç»Ÿ Spring æ¡†æ¶çš„åŒºåˆ«ç­‰ã€‚</p><h3 id="4-Spring-Boot-å¿«é€Ÿå…¥é—¨"><a href="#4-Spring-Boot-å¿«é€Ÿå…¥é—¨" class="headerlink" title="4. Spring Boot å¿«é€Ÿå…¥é—¨"></a>4. Spring Boot å¿«é€Ÿå…¥é—¨</h3><p>å­¦ä¹  Spring Boot çš„æœ€å¥½æ–¹æ³•æ˜¯åŠ¨æ‰‹å®è·µã€‚å¯ä»¥ä½¿ç”¨ Spring Initializr å¿«é€Ÿåˆ›å»ºä¸€ä¸ª Spring Boot é¡¹ç›®ï¼Œå¹¶ç¼–å†™ä¸€äº›ç®€å•çš„ç¤ºä¾‹ä»£ç ã€‚è¿™äº›ç¤ºä¾‹ä»£ç å¯ä»¥æ¶‰åŠå¸¸ç”¨çš„ Spring Boot åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šWeb å¼€å‘ã€æ•°æ®åº“è®¿é—®ã€å®‰å…¨è®¤è¯ã€ç¼“å­˜ç­‰ã€‚</p><h3 id="5-Spring-Boot-åŸºç¡€ç»„ä»¶"><a href="#5-Spring-Boot-åŸºç¡€ç»„ä»¶" class="headerlink" title="5. Spring Boot åŸºç¡€ç»„ä»¶"></a>5. Spring Boot åŸºç¡€ç»„ä»¶</h3><p>Spring Boot æä¾›äº†è®¸å¤šåŸºç¡€ç»„ä»¶ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>Spring Boot Starterï¼šç”¨äºå¿«é€Ÿé›†æˆå¸¸ç”¨çš„ä¾èµ–åº“ï¼Œä¾‹å¦‚ï¼šSpring MVCã€JPAã€MyBatisã€Thymeleaf ç­‰ã€‚</li><li>Spring Boot AutoConfigureï¼šè‡ªåŠ¨é…ç½®ï¼Œç”¨äºæ ¹æ®åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„ã€ç¯å¢ƒå˜é‡ç­‰æ¥é…ç½® Spring åº”ç”¨ç¨‹åºã€‚</li><li>Spring Boot Actuatorï¼šç”¨äºç›‘è§†å’Œç®¡ç† Spring Boot åº”ç”¨ç¨‹åºçš„ç«¯ç‚¹ã€‚</li></ul><h3 id="6-Spring-Boot-Web-å¼€å‘"><a href="#6-Spring-Boot-Web-å¼€å‘" class="headerlink" title="6. Spring Boot Web å¼€å‘"></a>6. Spring Boot Web å¼€å‘</h3><p>Spring Boot æä¾›äº†ç”¨äºæ„å»º Web åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>Spring MVCï¼šç”¨äºå¤„ç† HTTP è¯·æ±‚å’Œå“åº”ï¼Œæ”¯æŒ RESTful API å’Œè§†å›¾è§£æç­‰ã€‚</li><li>Spring WebFluxï¼šå“åº”å¼ Web æ¡†æ¶ï¼ŒåŸºäº Reactor å’Œ RxJavaã€‚</li><li>Spring Boot Web å®‰å…¨ï¼šç”¨äºå®ç°èº«ä»½éªŒè¯å’Œæˆæƒï¼ŒåŒ…æ‹¬åŸºäºè¡¨å•ã€åŸºäº OAuth2 ç­‰æ–¹å¼ã€‚</li></ul><h3 id="7-Spring-Boot-æ•°æ®è®¿é—®"><a href="#7-Spring-Boot-æ•°æ®è®¿é—®" class="headerlink" title="7. Spring Boot æ•°æ®è®¿é—®"></a>7. Spring Boot æ•°æ®è®¿é—®</h3><p>Spring Boot æä¾›äº†å„ç§æ–¹å¼æ¥è®¿é—®å’Œç®¡ç†æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>JDBCï¼šJava æ•°æ®åº“è¿æ¥ï¼Œç”¨äºè®¿é—®å…³ç³»å‹æ•°æ®åº“ã€‚</li><li>JPAï¼šJava æŒä¹…åŒ– APIï¼Œç”¨äºè®¿é—®å…³ç³»å‹æ•°æ®åº“ã€‚</li><li>MongoDBï¼šæ–‡æ¡£æ•°æ®åº“ï¼Œç”¨äºè®¿é—® NoSQL æ•°æ®åº“ã€‚</li><li>Redisï¼šå†…å­˜æ•°æ®ç»“æ„å­˜å‚¨ï¼Œç”¨äºå®ç°ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚</li></ul><h3 id="8-Spring-Boot-æµ‹è¯•"><a href="#8-Spring-Boot-æµ‹è¯•" class="headerlink" title="8. Spring Boot æµ‹è¯•"></a>8. Spring Boot æµ‹è¯•</h3><p>Spring Boot æä¾›äº†ä¸€ç³»åˆ—ç”¨äºæµ‹è¯•çš„å·¥å…·å’Œæ¡†æ¶ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><p>Spring Boot Testï¼šç”¨äºç¼–å†™é›†æˆæµ‹è¯•å’Œå•å…ƒæµ‹è¯•ã€‚</p></li><li><p>Spring Boot Test Sliceï¼šç”¨äºç¼–å†™é’ˆå¯¹ç‰¹å®šå±‚ï¼ˆä¾‹å¦‚ï¼ŒWeb å±‚æˆ–æ•°æ®è®¿é—®å±‚ï¼‰çš„æµ‹è¯•ã€‚</p></li><li><p>Mockitoï¼šç”¨äºæ¨¡æ‹Ÿå¯¹è±¡ï¼Œä»¥ä¾¿è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p></li><li><p>TestContainersï¼šç”¨äºåœ¨æµ‹è¯•ç¯å¢ƒä¸­å¯åŠ¨ Docker å®¹å™¨ï¼Œä»¥ä¾¿æµ‹è¯•å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚</p></li></ul><h3 id="9-Spring-Boot-éƒ¨ç½²ä¸è¿ç»´"><a href="#9-Spring-Boot-éƒ¨ç½²ä¸è¿ç»´" class="headerlink" title="9. Spring Boot éƒ¨ç½²ä¸è¿ç»´"></a>9. Spring Boot éƒ¨ç½²ä¸è¿ç»´</h3><p>å­¦ä¹  Spring Boot è¿˜éœ€è¦äº†è§£å¦‚ä½•éƒ¨ç½²å’Œè¿ç»´åº”ç”¨ç¨‹åºã€‚å¯ä»¥æŒæ¡ä»¥ä¸‹çŸ¥è¯†ï¼š</p><ul><li>Spring Boot æ‰“åŒ…ï¼šä½¿ç”¨ Maven æˆ– Gradle å°† Spring Boot åº”ç”¨ç¨‹åºæ‰“åŒ…æˆå¯æ‰§è¡Œçš„ JAR æˆ– WAR æ–‡ä»¶ã€‚</li><li>Spring Boot éƒ¨ç½²ï¼šä½¿ç”¨ä¸åŒçš„éƒ¨ç½²æ–¹å¼ï¼Œä¾‹å¦‚ï¼šä¼ ç»Ÿçš„æœåŠ¡å™¨éƒ¨ç½²ã€Docker å®¹å™¨åŒ–éƒ¨ç½²ã€äº‘åŸç”Ÿéƒ¨ç½²ç­‰ã€‚</li><li>Spring Boot è¿ç»´ï¼šä½¿ç”¨ Spring Boot Actuator ç›‘è§†åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µã€ä½¿ç”¨ Spring Boot Admin è¿›è¡Œå¯è§†åŒ–çš„åº”ç”¨ç¨‹åºç®¡ç†ç­‰ã€‚</li></ul><h3 id="10-Spring-Boot-å®æˆ˜é¡¹ç›®"><a href="#10-Spring-Boot-å®æˆ˜é¡¹ç›®" class="headerlink" title="10. Spring Boot å®æˆ˜é¡¹ç›®"></a>10. Spring Boot å®æˆ˜é¡¹ç›®</h3><p>æœ€åï¼Œå¯ä»¥å°è¯•å®Œæˆä¸€ä¸ªçœŸå®çš„ Spring Boot é¡¹ç›®ï¼Œè¿™æœ‰åŠ©äºåŠ æ·±å¯¹ Spring Boot çš„ç†è§£å’Œåº”ç”¨ã€‚</p><p>ä»¥ä¸Šæ˜¯å­¦ä¹  Spring Boot çš„ä¸€ä¸ªå¯é å¤§çº²ï¼Œå¯ä»¥å¸®åŠ©ä½ ç³»ç»Ÿåœ°æŒæ¡ Spring Boot çš„å„ç§çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚å½“ç„¶ï¼Œåœ¨å®é™…å­¦ä¹ ä¸­ï¼Œè¿˜éœ€è¦ä¸æ–­å®è·µå’Œç§¯ç´¯ç»éªŒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3çš„å­¦ä¹ </title>
      <link href="/post/8d93.html"/>
      <url>/post/8d93.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" style="width:200px" /><h2 id="1-Vue3ç®€ä»‹"><a href="#1-Vue3ç®€ä»‹" class="headerlink" title="1.Vue3ç®€ä»‹"></a>1.Vue3ç®€ä»‹</h2><ul><li>2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰</li><li>è€—æ—¶2å¹´å¤šã€<a href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+æ¬¡æäº¤</a>ã€<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+ä¸ªRFC</a>ã€<a href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+æ¬¡PR</a>ã€<a href="https://github.com/vuejs/vue-next/graphs/contributors">99ä½è´¡çŒ®è€…</a> </li><li>githubä¸Šçš„tagsåœ°å€ï¼š<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li></ul><h2 id="2-Vue3å¸¦æ¥äº†ä»€ä¹ˆ"><a href="#2-Vue3å¸¦æ¥äº†ä»€ä¹ˆ" class="headerlink" title="2.Vue3å¸¦æ¥äº†ä»€ä¹ˆ"></a>2.Vue3å¸¦æ¥äº†ä»€ä¹ˆ</h2><h3 id="1-æ€§èƒ½çš„æå‡"><a href="#1-æ€§èƒ½çš„æå‡" class="headerlink" title="1.æ€§èƒ½çš„æå‡"></a>1.æ€§èƒ½çš„æå‡</h3><ul><li><p>æ‰“åŒ…å¤§å°å‡å°‘41%</p></li><li><p>åˆæ¬¡æ¸²æŸ“å¿«55%, æ›´æ–°æ¸²æŸ“å¿«133%</p></li><li><p>å†…å­˜å‡å°‘54%</p><p>â€¦â€¦</p></li></ul><h3 id="2-æºç çš„å‡çº§"><a href="#2-æºç çš„å‡çº§" class="headerlink" title="2.æºç çš„å‡çº§"></a>2.æºç çš„å‡çº§</h3><ul><li><p>ä½¿ç”¨Proxyä»£æ›¿definePropertyå®ç°å“åº”å¼</p></li><li><p>é‡å†™è™šæ‹ŸDOMçš„å®ç°å’ŒTree-Shaking</p><p>â€¦â€¦</p></li></ul><h3 id="3-æ‹¥æŠ±TypeScript"><a href="#3-æ‹¥æŠ±TypeScript" class="headerlink" title="3.æ‹¥æŠ±TypeScript"></a>3.æ‹¥æŠ±TypeScript</h3><ul><li>Vue3å¯ä»¥æ›´å¥½çš„æ”¯æŒTypeScript</li></ul><h3 id="4-æ–°çš„ç‰¹æ€§"><a href="#4-æ–°çš„ç‰¹æ€§" class="headerlink" title="4.æ–°çš„ç‰¹æ€§"></a>4.æ–°çš„ç‰¹æ€§</h3><ol><li><p>Composition APIï¼ˆç»„åˆAPIï¼‰</p><ul><li>setupé…ç½®</li><li>refä¸reactive</li><li>watchä¸watchEffect</li><li>provideä¸inject</li><li>â€¦â€¦</li></ul></li><li><p>æ–°çš„å†…ç½®ç»„ä»¶</p><ul><li>Fragment </li><li>Teleport</li><li>Suspense</li></ul></li><li><p>å…¶ä»–æ”¹å˜</p><ul><li>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li><li>data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</li><li>ç§»é™¤keyCodeæ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦</li><li>â€¦â€¦</li></ul></li></ol><h1 id="ä¸€ã€åˆ›å»ºVue3-0å·¥ç¨‹"><a href="#ä¸€ã€åˆ›å»ºVue3-0å·¥ç¨‹" class="headerlink" title="ä¸€ã€åˆ›å»ºVue3.0å·¥ç¨‹"></a>ä¸€ã€åˆ›å»ºVue3.0å·¥ç¨‹</h1><h2 id="1-ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#1-ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="1.ä½¿ç”¨ vue-cli åˆ›å»º"></a>1.ä½¿ç”¨ vue-cli åˆ›å»º</h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="comment">## åˆ›å»º</span></span><br><span class="line">vue create vue_test</span><br><span class="line"><span class="comment">## å¯åŠ¨</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><h2 id="2-ä½¿ç”¨-vite-åˆ›å»º"><a href="#2-ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="2.ä½¿ç”¨ vite åˆ›å»º"></a>2.ä½¿ç”¨ vite åˆ›å»º</h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>viteå®˜ç½‘ï¼š<a href="https://vitejs.cn/">https://vitejs.cn</a></p><ul><li>ä»€ä¹ˆæ˜¯viteï¼Ÿâ€”â€” æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚</li><li>ä¼˜åŠ¿å¦‚ä¸‹ï¼š<ul><li>å¼€å‘ç¯å¢ƒä¸­ï¼Œæ— éœ€æ‰“åŒ…æ“ä½œï¼Œå¯å¿«é€Ÿçš„å†·å¯åŠ¨ã€‚</li><li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ã€‚</li><li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</li></ul></li><li>ä¼ ç»Ÿæ„å»º ä¸ viteæ„å»ºå¯¹æ¯”å›¾</li></ul><p><img src="https://cn.vitejs.dev/assets/bundler.37740380.png" style="width:500px;height:280px;float:left" /><img src="https://cn.vitejs.dev/assets/esm.3070012d.png" style="width:480px;height:280px" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## åˆ›å»ºå·¥ç¨‹</span></span><br><span class="line">npm init vite-app &lt;project-name&gt;</span><br><span class="line"><span class="comment">## è¿›å…¥å·¥ç¨‹ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> &lt;project-name&gt;</span><br><span class="line"><span class="comment">## å®‰è£…ä¾èµ–</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment">## è¿è¡Œ</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h1 id="äºŒã€å¸¸ç”¨-Composition-API"><a href="#äºŒã€å¸¸ç”¨-Composition-API" class="headerlink" title="äºŒã€å¸¸ç”¨ Composition API"></a>äºŒã€å¸¸ç”¨ Composition API</h1><p>å®˜æ–¹æ–‡æ¡£: <a href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p><h2 id="1-æ‹‰å¼€åºå¹•çš„setup"><a href="#1-æ‹‰å¼€åºå¹•çš„setup" class="headerlink" title="1.æ‹‰å¼€åºå¹•çš„setup"></a>1.æ‹‰å¼€åºå¹•çš„setup</h2><ol><li><p>ç†è§£ï¼šVue3.0ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p></li><li><p>setupæ˜¯æ‰€æœ‰<strong style="color:#DD5145">Composition APIï¼ˆç»„åˆAPIï¼‰</strong><i style="color:gray;font-weight:bold">â€œ è¡¨æ¼”çš„èˆå° â€</i>ã€‚</p></li><li><p>ç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼Œå‡è¦é…ç½®åœ¨setupä¸­ã€‚</p></li><li><p>setupå‡½æ•°çš„ä¸¤ç§è¿”å›å€¼ï¼š</p><ol><li><p>è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•, åœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆé‡ç‚¹å…³æ³¨ï¼ï¼‰</p></li><li><p><span style="color:#aad">è‹¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ã€‚ï¼ˆäº†è§£ï¼‰</span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; h &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // æ•°æ®</span><br><span class="line">    let name = &#x27;è€äº”&#x27;</span><br><span class="line">    // æ–¹æ³•</span><br><span class="line">    function sayHi() &#123;</span><br><span class="line">      alert(`ä½ å¥½ï¼Œä¿ºæ˜¯$&#123;name&#125;~`)</span><br><span class="line">    &#125;</span><br><span class="line">    // 1-è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ˆå¸¸ç”¨ï¼‰</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      sayHi</span><br><span class="line">    &#125;</span><br><span class="line">    // 2-è¿”å›å‡½æ•°ï¼ˆæ¸²æŸ“å‡½æ•°ï¼‰</span><br><span class="line">    // return () =&gt; h(&#x27;h2&#x27;, &#x27;å—¨å—¨å—¨&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol></li><li><p>æ³¨æ„ç‚¹ï¼š</p><p>è™½ç„¶Vue3å‘ä¸‹å…¼å®¹ï¼Œä½†æ˜¯â†“</p><ol><li>å°½é‡ä¸è¦ä¸Vue2.xé…ç½®æ··ç”¨<ul><li>Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ä¸­<strong style="color:#DD5145">å¯ä»¥è®¿é—®åˆ°</strong>setupä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li><li>ä½†åœ¨setupä¸­<strong style="color:#DD5145">ä¸èƒ½è®¿é—®åˆ°</strong>Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ã€‚</li><li>å¦‚æœæœ‰é‡å, setupä¼˜å…ˆã€‚</li></ul></li><li>setupä¸èƒ½æ˜¯ä¸€ä¸ªasyncå‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼ä¸å†æ˜¯returnçš„å¯¹è±¡, è€Œæ˜¯promise, æ¨¡æ¿çœ‹ä¸åˆ°returnå¯¹è±¡ä¸­çš„å±æ€§ã€‚ï¼ˆåæœŸä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œä½†éœ€è¦Suspenseå’Œå¼‚æ­¥ç»„ä»¶çš„é…åˆï¼‰</li></ol></li></ol><h2 id="2-refå‡½æ•°"><a href="#2-refå‡½æ•°" class="headerlink" title="2.refå‡½æ•°"></a>2.refå‡½æ•°</h2><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ª==å“åº”å¼==çš„æ•°æ®</li><li>è¯­æ³•: <code>const xxx = ref(initValue)</code> <ul><li>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„<strong style="color:#DD5145">å¼•ç”¨å¯¹è±¡ï¼ˆreferenceå¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼‰</strong>å…¨ï¼šå¼•ç”¨å®ç°çš„å®ä¾‹å¯¹è±¡ã€‚</li><li>JSä¸­æ“ä½œæ•°æ®ï¼š <code>xxx.value</code></li><li>æ¨¡æ¿ä¸­è¯»å–æ•°æ®: ä¸éœ€è¦.valueï¼Œç›´æ¥ï¼š<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li></ul></li><li>å¤‡æ³¨ï¼š<ul><li>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ã€‚</li><li>åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é <code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>å®Œæˆçš„ã€‚</li><li>å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨ <i style="color:gray;font-weight:bold">â€œ æ±‚åŠ© â€</i> äº†Vue3.0ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€” <code>reactive</code>å‡½æ•°ã€‚</li></ul></li></ul><h2 id="3-reactiveå‡½æ•°"><a href="#3-reactiveå‡½æ•°" class="headerlink" title="3.reactiveå‡½æ•°"></a>3.reactiveå‡½æ•°</h2><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ª<strong style="color:#DD5145">å¯¹è±¡ç±»å‹</strong>çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>å‡½æ•°ï¼‰</li><li>è¯­æ³•ï¼š<code>const ä»£ç†å¯¹è±¡= reactive(æºå¯¹è±¡)</code>æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ª<strong style="color:#DD5145">ä»£ç†å¯¹è±¡ï¼ˆProxyçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°proxyå¯¹è±¡ï¼‰</strong></li><li>reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚</li><li>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®è¿›è¡Œæ“ä½œã€‚</li></ul><h2 id="4-Vue3-0ä¸­çš„å“åº”å¼åŸç†"><a href="#4-Vue3-0ä¸­çš„å“åº”å¼åŸç†" class="headerlink" title="4.Vue3.0ä¸­çš„å“åº”å¼åŸç†"></a>4.Vue3.0ä¸­çš„å“åº”å¼åŸç†</h2><h3 id="vue2-xçš„å“åº”å¼"><a href="#vue2-xçš„å“åº”å¼" class="headerlink" title="vue2.xçš„å“åº”å¼"></a>vue2.xçš„å“åº”å¼</h3><ul><li><p>å®ç°åŸç†ï¼š</p><ul><li><p>å¯¹è±¡ç±»å‹ï¼šé€šè¿‡<code>Object.defineProperty()</code>å¯¹å±æ€§çš„è¯»å–ã€ä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</p></li><li><p>æ•°ç»„ç±»å‹ï¼šé€šè¿‡é‡å†™æ›´æ–°æ•°ç»„çš„ä¸€ç³»åˆ—æ–¹æ³•æ¥å®ç°æ‹¦æˆªã€‚ï¼ˆå¯¹æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;&#125;, </span><br><span class="line">    set () &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>å­˜åœ¨é—®é¢˜ï¼š</p><ul><li>æ–°å¢å±æ€§ã€åˆ é™¤å±æ€§, ç•Œé¢ä¸ä¼šæ›´æ–°ã€‚</li><li>ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„, ç•Œé¢ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li></ul></li></ul><h3 id="Vue3-0çš„å“åº”å¼"><a href="#Vue3-0çš„å“åº”å¼" class="headerlink" title="Vue3.0çš„å“åº”å¼"></a>Vue3.0çš„å“åº”å¼</h3><ul><li><p>å®ç°åŸç†: </p><ul><li><p>é€šè¿‡Proxyï¼ˆä»£ç†ï¼‰:  æ‹¦æˆªå¯¹è±¡ä¸­ä»»æ„å±æ€§çš„å˜åŒ–, åŒ…æ‹¬ï¼šå±æ€§å€¼çš„è¯»å†™ã€å±æ€§çš„æ·»åŠ ã€å±æ€§çš„åˆ é™¤ç­‰ã€‚</p></li><li><p>é€šè¿‡Reflectï¼ˆåå°„ï¼‰:  å¯¹æºå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œã€‚</p></li><li><p>MDNæ–‡æ¡£ä¸­æè¿°çš„Proxyä¸Reflectï¼š</p><ul><li><p>Proxyï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p></li><li><p>Reflectï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line"><span class="comment">// æ‹¦æˆªè¯»å–å±æ€§å€¼</span></span><br><span class="line">    get (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ‹¦æˆªè®¾ç½®å±æ€§å€¼æˆ–æ·»åŠ æ–°å±æ€§</span></span><br><span class="line">    set (target, prop, value) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// æ‹¦æˆªåˆ é™¤å±æ€§</span></span><br><span class="line">    deleteProperty (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">proxy.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span>   </span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h2 id="5-reactiveå¯¹æ¯”ref"><a href="#5-reactiveå¯¹æ¯”ref" class="headerlink" title="5.reactiveå¯¹æ¯”ref"></a>5.reactiveå¯¹æ¯”ref</h2><ul><li>ä»å®šä¹‰æ•°æ®è§’åº¦å¯¹æ¯”ï¼š<ul><li> refç”¨æ¥å®šä¹‰ï¼š<strong style="color:#DD5145">åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€‚</li><li> reactiveç”¨æ¥å®šä¹‰ï¼š<strong style="color:#DD5145">å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>ã€‚</li><li> å¤‡æ³¨ï¼šrefä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰<strong style="color:#DD5145">å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®</strong>, å®ƒå†…éƒ¨ä¼šè‡ªåŠ¨é€šè¿‡<code>reactive</code>è½¬ä¸º<strong style="color:#DD5145">ä»£ç†å¯¹è±¡</strong>ã€‚</li></ul></li><li>ä»åŸç†è§’åº¦å¯¹æ¯”ï¼š<ul><li> refé€šè¿‡<code>Object.defineProperty()</code>çš„<code>get</code>ä¸<code>set</code>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</li><li> reactiveé€šè¿‡ä½¿ç”¨<strong style="color:#DD5145">Proxy</strong>æ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰, å¹¶é€šè¿‡<strong style="color:#DD5145">Reflect</strong>æ“ä½œ<strong style="color:orange">æºå¯¹è±¡</strong>å†…éƒ¨çš„æ•°æ®ã€‚</li></ul></li><li>ä»ä½¿ç”¨è§’åº¦å¯¹æ¯”ï¼š<ul><li> refå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®<strong style="color:#DD5145">éœ€è¦</strong><code>.value</code>ï¼Œè¯»å–æ•°æ®æ—¶æ¨¡æ¿ä¸­ç›´æ¥è¯»å–<strong style="color:#DD5145">ä¸éœ€è¦</strong><code>.value</code>ã€‚</li><li> reactiveå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®ä¸è¯»å–æ•°æ®ï¼š<strong style="color:#DD5145">å‡ä¸éœ€è¦</strong><code>.value</code>ã€‚</li></ul></li></ul><h2 id="6-setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹"><a href="#6-setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹" class="headerlink" title="6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹"></a>6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹</h2><ul><li><p>setupæ‰§è¡Œçš„æ—¶æœº</p><ul><li>åœ¨beforeCreateä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œthisæ˜¯undefinedã€‚</li></ul></li><li><p>setupçš„å‚æ•°</p><ul><li>propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚</li><li>contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡<ul><li>attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨propsé…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº <code>this.$attrs</code>ã€‚</li><li>slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº <code>this.$slots</code>ã€‚</li><li>emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº <code>this.$emit</code>ã€‚</li></ul></li></ul></li></ul><h2 id="7-è®¡ç®—å±æ€§ä¸ç›‘è§†"><a href="#7-è®¡ç®—å±æ€§ä¸ç›‘è§†" class="headerlink" title="7.è®¡ç®—å±æ€§ä¸ç›‘è§†"></a>7.è®¡ç®—å±æ€§ä¸ç›‘è§†</h2><h3 id="1-computedå‡½æ•°"><a href="#1-computedå‡½æ•°" class="headerlink" title="1.computedå‡½æ•°"></a>1.computedå‡½æ•°</h3><ul><li><p>ä¸Vue2.xä¸­computedé…ç½®åŠŸèƒ½ä¸€è‡´</p></li><li><p>å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//è®¡ç®—å±æ€§â€”â€”ç®€å†™</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//è®¡ç®—å±æ€§â€”â€”å®Œæ•´</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">            person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-watchå‡½æ•°"><a href="#2-watchå‡½æ•°" class="headerlink" title="2.watchå‡½æ•°"></a>2.watchå‡½æ•°</h3><ul><li><p>ä¸Vue2.xä¸­watché…ç½®åŠŸèƒ½ä¸€è‡´</p></li><li><p>ä¸¤ä¸ªå°â€œå‘â€ï¼š</p><ul><li>ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ—¶ï¼šoldValueæ— æ³•æ­£ç¡®è·å–ã€å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†ï¼ˆdeepé…ç½®å¤±æ•ˆï¼‰ã€‚</li><li>ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­æŸä¸ªå±æ€§æ—¶ï¼šdeepé…ç½®æœ‰æ•ˆã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ®</span></span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sumå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ®</span></span><br><span class="line"><span class="title function_">watch</span>([sum,msg],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sumæˆ–msgå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">/* æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®</span></span><br><span class="line"><span class="comment">è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™æ— æ³•æ­£ç¡®è·å¾—oldValueï¼ï¼</span></span><br><span class="line"><span class="comment">è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§† </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;personå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">false</span>&#125;) <span class="comment">//æ­¤å¤„çš„deepé…ç½®ä¸å†å¥æ•ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">//æƒ…å†µäº”ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸäº›å±æ€§</span></span><br><span class="line"><span class="title function_">watch</span>([<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">()=&gt;</span>person.<span class="property">name</span>],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">//æ­¤å¤„ç”±äºç›‘è§†çš„æ˜¯reactiveç´ å®šä¹‰çš„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œæ‰€ä»¥deepé…ç½®æœ‰æ•ˆ</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-watchEffectå‡½æ•°"><a href="#3-watchEffectå‡½æ•°" class="headerlink" title="3.watchEffectå‡½æ•°"></a>3.watchEffectå‡½æ•°</h3><ul><li><p>watchçš„å¥—è·¯æ˜¯ï¼šæ—¢è¦æŒ‡æ˜ç›‘è§†çš„å±æ€§ï¼Œä¹Ÿè¦æŒ‡æ˜ç›‘è§†çš„å›è°ƒã€‚</p></li><li><p>watchEffectçš„å¥—è·¯æ˜¯ï¼šä¸ç”¨æŒ‡æ˜ç›‘è§†å“ªä¸ªå±æ€§ï¼Œç›‘è§†çš„å›è°ƒä¸­ç”¨åˆ°å“ªä¸ªå±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªä¸ªå±æ€§ã€‚</p></li><li><p>watchEffectæœ‰ç‚¹åƒcomputedï¼š</p><ul><li>ä½†computedæ³¨é‡çš„è®¡ç®—å‡ºæ¥çš„å€¼ï¼ˆå›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦å†™è¿”å›å€¼ã€‚</li><li>è€ŒwatchEffectæ›´æ³¨é‡çš„æ˜¯è¿‡ç¨‹ï¼ˆå›è°ƒå‡½æ•°çš„å‡½æ•°ä½“ï¼‰ï¼Œæ‰€ä»¥ä¸ç”¨å†™è¿”å›å€¼ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//watchEffectæ‰€æŒ‡å®šçš„å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒã€‚</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">    <span class="keyword">const</span> x2 = person.<span class="property">age</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffecté…ç½®çš„å›è°ƒæ‰§è¡Œäº†&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h2 id="8-ç”Ÿå‘½å‘¨æœŸ"><a href="#8-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="8.ç”Ÿå‘½å‘¨æœŸ"></a>8.ç”Ÿå‘½å‘¨æœŸ</h2><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/lifecycle.16e4c08e.png" alt="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå›¾ç¤º" style="zoom:50%;" /><p>1</p><ul><li>Vue3.0ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨Vue2.xä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä½†æœ‰æœ‰ä¸¤ä¸ªè¢«æ›´åï¼š<ul><li><code>beforeDestroy</code>æ”¹åä¸º <code>beforeUnmount</code></li><li><code>destroyed</code>æ”¹åä¸º <code>unmounted</code></li></ul></li><li>Vue3.0ä¹Ÿæä¾›äº† Composition API å½¢å¼çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸Vue2.xä¸­é’©å­å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š<ul><li><code>beforeCreate</code>===&gt;<code>setup()</code></li><li><code>created</code>=======&gt;<code>setup()</code></li><li><code>beforeMount</code> ===&gt;<code>onBeforeMount</code></li><li><code>mounted</code>=======&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>===&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> =======&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code>Â ==&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> =====&gt;<code>onUnmounted</code></li></ul></li></ul><h2 id="9-è‡ªå®šä¹‰hookå‡½æ•°"><a href="#9-è‡ªå®šä¹‰hookå‡½æ•°" class="headerlink" title="9.è‡ªå®šä¹‰hookå‡½æ•°"></a>9.è‡ªå®šä¹‰hookå‡½æ•°</h2><ul><li><p>ä»€ä¹ˆæ˜¯hookï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠsetupå‡½æ•°ä¸­ä½¿ç”¨çš„Composition APIè¿›è¡Œäº†å°è£…ã€‚</p></li><li><p>ç±»ä¼¼äºvue2.xä¸­çš„mixinã€‚</p></li><li><p>è‡ªå®šä¹‰hookçš„ä¼˜åŠ¿: å¤ç”¨ä»£ç , è®©setupä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p></li></ul><h2 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h2><ul><li>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ª ref å¯¹è±¡ï¼Œå…¶valueå€¼æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ã€‚</li><li>è¯­æ³•ï¼š<code>const name = toRef(person,&#39;name&#39;)</code></li><li>åº”ç”¨:   è¦å°†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å•ç‹¬æä¾›ç»™å¤–éƒ¨ä½¿ç”¨æ—¶ã€‚</li></ul><ul><li>æ‰©å±•ï¼š<code>toRefs</code> ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†å¯ä»¥æ‰¹é‡åˆ›å»ºå¤šä¸ª ref å¯¹è±¡ï¼Œè¯­æ³•ï¼š<code>toRefs(person)</code></li></ul><h1 id="ä¸‰ã€å…¶å®ƒ-Composition-API"><a href="#ä¸‰ã€å…¶å®ƒ-Composition-API" class="headerlink" title="ä¸‰ã€å…¶å®ƒ Composition API"></a>ä¸‰ã€å…¶å®ƒ Composition API</h1><h2 id="1-shallowReactive-ä¸-shallowRef"><a href="#1-shallowReactive-ä¸-shallowRef" class="headerlink" title="1.shallowReactive ä¸ shallowRef"></a>1.shallowReactive ä¸ shallowRef</h2><ul><li><p>shallowReactiveï¼šåªå¤„ç†å¯¹è±¡æœ€å¤–å±‚å±æ€§çš„å“åº”å¼ï¼ˆæµ…å“åº”å¼ï¼‰ã€‚</p></li><li><p>shallowRefï¼šåªå¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„å“åº”å¼å¤„ç†ã€‚</p></li><li><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨?</p><ul><li> å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactiveã€‚</li><li> å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œåç»­åŠŸèƒ½ä¸ä¼šä¿®æ”¹è¯¥å¯¹è±¡ä¸­çš„å±æ€§ï¼Œè€Œæ˜¯ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRefã€‚</li></ul></li></ul><h2 id="2-readonly-ä¸-shallowReadonly"><a href="#2-readonly-ä¸-shallowReadonly" class="headerlink" title="2.readonly ä¸ shallowReadonly"></a>2.readonly ä¸ shallowReadonly</h2><ul><li>readonly: è®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæ·±åªè¯»ï¼‰ã€‚</li><li>shallowReadonlyï¼šè®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæµ…åªè¯»ï¼‰ã€‚</li><li>åº”ç”¨åœºæ™¯: ä¸å¸Œæœ›æ•°æ®è¢«ä¿®æ”¹æ—¶ã€‚</li></ul><h2 id="3-toRaw-ä¸-markRaw"><a href="#3-toRaw-ä¸-markRaw" class="headerlink" title="3.toRaw ä¸ markRaw"></a>3.toRaw ä¸ markRaw</h2><ul><li>toRawï¼š<ul><li>ä½œç”¨ï¼šå°†ä¸€ä¸ªç”±<code>reactive</code>ç”Ÿæˆçš„<strong style="color:orange">å“åº”å¼å¯¹è±¡</strong>è½¬ä¸º<strong style="color:orange">æ™®é€šå¯¹è±¡</strong>ã€‚</li><li>ä½¿ç”¨åœºæ™¯ï¼šç”¨äºè¯»å–å“åº”å¼å¯¹è±¡å¯¹åº”çš„æ™®é€šå¯¹è±¡ï¼Œå¯¹è¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼Œä¸ä¼šå¼•èµ·é¡µé¢æ›´æ–°ã€‚</li></ul></li><li>markRawï¼š<ul><li>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå†æˆä¸ºå“åº”å¼å¯¹è±¡ã€‚</li><li>åº”ç”¨åœºæ™¯:<ol><li>æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»åº“ç­‰ã€‚</li><li>å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡å“åº”å¼è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚</li></ol></li></ul></li></ul><h2 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h2><ul><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶ã€‚</p></li><li><p>å®ç°é˜²æŠ–æ•ˆæœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;keyword&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;keyword&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref,customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Demo&#x27;,</span><br><span class="line">setup()&#123;</span><br><span class="line">// let keyword = ref(&#x27;hello&#x27;) //ä½¿ç”¨Vueå‡†å¤‡å¥½çš„å†…ç½®ref</span><br><span class="line">//è‡ªå®šä¹‰ä¸€ä¸ªmyRef</span><br><span class="line">function myRef(value,delay)&#123;</span><br><span class="line">let timer</span><br><span class="line">//é€šè¿‡customRefå»å®ç°è‡ªå®šä¹‰</span><br><span class="line">return customRef((track,trigger)=&gt;&#123;</span><br><span class="line">return&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">track() //å‘Šè¯‰Vueè¿™ä¸ªvalueå€¼æ˜¯éœ€è¦è¢«â€œè¿½è¸ªâ€çš„</span><br><span class="line">return value</span><br><span class="line">&#125;,</span><br><span class="line">set(newValue)&#123;</span><br><span class="line">clearTimeout(timer)</span><br><span class="line">timer = setTimeout(()=&gt;&#123;</span><br><span class="line">value = newValue</span><br><span class="line">trigger() //å‘Šè¯‰Vueå»æ›´æ–°ç•Œé¢</span><br><span class="line">&#125;,delay)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">let keyword = myRef(&#x27;hello&#x27;,500) //ä½¿ç”¨ç¨‹åºå‘˜è‡ªå®šä¹‰çš„ref</span><br><span class="line">return &#123;</span><br><span class="line">keyword</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-provide-ä¸-inject"><a href="#5-provide-ä¸-inject" class="headerlink" title="5.provide ä¸ inject"></a>5.provide ä¸ inject</h2><img src="../images/Vue3%E7%9A%84%E5%AD%A6%E4%B9%A0/components_provide.png" style="width:300px" /><ul><li><p>ä½œç”¨ï¼šå®ç°<strong style="color:#DD5145">ç¥–ä¸åä»£ç»„ä»¶é—´</strong>é€šä¿¡</p></li><li><p>å¥—è·¯ï¼šçˆ¶ç»„ä»¶æœ‰ä¸€ä¸ª <code>provide</code> é€‰é¡¹æ¥æä¾›æ•°æ®ï¼Œåä»£ç»„ä»¶æœ‰ä¸€ä¸ª <code>inject</code> é€‰é¡¹æ¥å¼€å§‹ä½¿ç”¨è¿™äº›æ•°æ®</p></li><li><p>å…·ä½“å†™æ³•ï¼š</p><ol><li><p>ç¥–ç»„ä»¶ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;å¥”é©°&#x27;</span>,<span class="attr">price</span>:<span class="string">&#x27;40ä¸‡&#x27;</span>&#125;)</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>,car)</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åä»£ç»„ä»¶ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;car&#125;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h2 id="6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a>6.å“åº”å¼æ•°æ®çš„åˆ¤æ–­</h2><ul><li>isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡</li><li>isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> åˆ›å»ºçš„å“åº”å¼ä»£ç†</li><li>isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>readonly</code> åˆ›å»ºçš„åªè¯»ä»£ç†</li><li>isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•åˆ›å»ºçš„ä»£ç†</li></ul><h1 id="å››ã€Composition-API-çš„ä¼˜åŠ¿"><a href="#å››ã€Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="å››ã€Composition API çš„ä¼˜åŠ¿"></a>å››ã€Composition API çš„ä¼˜åŠ¿</h1><h2 id="1-Options-API-å­˜åœ¨çš„é—®é¢˜"><a href="#1-Options-API-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="1.Options API å­˜åœ¨çš„é—®é¢˜"></a>1.Options API å­˜åœ¨çš„é—®é¢˜</h2><p>ä½¿ç”¨ä¼ ç»ŸOptionsAPIä¸­ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«åœ¨dataï¼Œmethodsï¼Œcomputedé‡Œä¿®æ”¹ ã€‚</p><div style="width:600px;height:370px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" style="width:600px;float:left" /></div><div style="width:300px;height:370px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;width:560px;left" /> </div><h2 id="2-Composition-API-çš„ä¼˜åŠ¿"><a href="#2-Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="2.Composition API çš„ä¼˜åŠ¿"></a>2.Composition API çš„ä¼˜åŠ¿</h2><p>æˆ‘ä»¬å¯ä»¥æ›´åŠ ä¼˜é›…çš„ç»„ç»‡æˆ‘ä»¬çš„ä»£ç ï¼Œå‡½æ•°ã€‚è®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p><div style="width:500px;height:340px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/></div><div style="width:430px;height:340px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image"style="height:360px"/></div><h1 id="äº”ã€æ–°çš„ç»„ä»¶"><a href="#äº”ã€æ–°çš„ç»„ä»¶" class="headerlink" title="äº”ã€æ–°çš„ç»„ä»¶"></a>äº”ã€æ–°çš„ç»„ä»¶</h1><h2 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h2><ul><li>åœ¨Vue2ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li><li>åœ¨Vue3ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ªFragmentè™šæ‹Ÿå…ƒç´ ä¸­</li><li>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</li></ul><h2 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h2><ul><li><p>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” <code>Teleport</code> æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong style="color:#DD5145">ç»„ä»¶htmlç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;teleport to=&quot;ç§»åŠ¨ä½ç½®&quot;&gt;</span><br><span class="line">&lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;</span><br><span class="line">&lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">&lt;h3&gt;æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—&lt;/h3&gt;</span><br><span class="line">&lt;button @click=&quot;isShow = false&quot;&gt;å…³é—­å¼¹çª—&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/teleport&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h2><ul><li><p>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p></li><li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ul><li><p>å¼‚æ­¥å¼•å…¥ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">&lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;Suspense&gt;</span><br><span class="line">&lt;template v-slot:default&gt;</span><br><span class="line">&lt;Child/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template v-slot:fallback&gt;</span><br><span class="line">&lt;h3&gt;åŠ è½½ä¸­.....&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h1 id="å…­ã€å…¶ä»–"><a href="#å…­ã€å…¶ä»–" class="headerlink" title="å…­ã€å…¶ä»–"></a>å…­ã€å…¶ä»–</h1><h2 id="1-å…¨å±€APIçš„è½¬ç§»"><a href="#1-å…¨å±€APIçš„è½¬ç§»" class="headerlink" title="1.å…¨å±€APIçš„è½¬ç§»"></a>1.å…¨å±€APIçš„è½¬ç§»</h2><ul><li><p>Vue 2.x æœ‰è®¸å¤šå…¨å±€ API å’Œé…ç½®ã€‚</p><ul><li><p>ä¾‹å¦‚ï¼šæ³¨å†Œå…¨å±€ç»„ä»¶ã€æ³¨å†Œå…¨å±€æŒ‡ä»¤ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†Œå…¨å±€ç»„ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyButton&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨å†Œå…¨å±€æŒ‡ä»¤</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">inserted</span>: <span class="function"><span class="params">el</span> =&gt;</span> el.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Vue3.0ä¸­å¯¹è¿™äº›APIåšå‡ºäº†è°ƒæ•´ï¼š</p><ul><li><p>å°†å…¨å±€çš„APIï¼Œå³ï¼š<code>Vue.xxx</code>è°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ï¼ˆ<code>app</code>ï¼‰ä¸Š</p><table><thead><tr><th>2.x å…¨å±€ APIï¼ˆ<code>Vue</code>ï¼‰</th><th>3.x å®ä¾‹ API (<code>app</code>)</th></tr></thead><tbody><tr><td>Vue.config.xxxx</td><td>app.config.xxxx</td></tr><tr><td>Vue.config.productionTip</td><td><strong style="color:#DD5145">ç§»é™¤</strong></td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table></li></ul></li></ul><h2 id="2-å…¶ä»–æ”¹å˜"><a href="#2-å…¶ä»–æ”¹å˜" class="headerlink" title="2.å…¶ä»–æ”¹å˜"></a>2.å…¶ä»–æ”¹å˜</h2><ul><li><p>dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p></li><li><p>è¿‡åº¦ç±»åçš„æ›´æ”¹ï¼š</p><ul><li><p>Vue2.xå†™æ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Vue3.xå†™æ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">ç§»é™¤</strong>keyCodeä½œä¸º v-on çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒ<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">ç§»é™¤</strong><code>v-on.native</code>ä¿®é¥°ç¬¦</p><ul><li><p>çˆ¶ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component</span><br><span class="line">  v-on:close=&quot;handleComponentEvent&quot;</span><br><span class="line">  v-on:click=&quot;handleNativeClickEvent&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></li><li><p>å­ç»„ä»¶ä¸­å£°æ˜è‡ªå®šä¹‰äº‹ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    emits: [&#x27;close&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">ç§»é™¤</strong>è¿‡æ»¤å™¨ï¼ˆfilterï¼‰</p><blockquote><p>è¿‡æ»¤å™¨è™½ç„¶è¿™çœ‹èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰è¯­æ³•ï¼Œæ‰“ç ´å¤§æ‹¬å·å†…è¡¨è¾¾å¼æ˜¯ â€œåªæ˜¯ JavaScriptâ€ çš„å‡è®¾ï¼Œè¿™ä¸ä»…æœ‰å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰å®ç°æˆæœ¬ï¼å»ºè®®ç”¨æ–¹æ³•è°ƒç”¨æˆ–è®¡ç®—å±æ€§å»æ›¿æ¢è¿‡æ»¤å™¨ã€‚</p></blockquote></li><li><p>â€¦â€¦</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2çš„å­¦ä¹ </title>
      <link href="/post/48c2.html"/>
      <url>/post/48c2.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><h2 id="è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„"><a href="#è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„" class="headerlink" title="è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„"></a>è„šæ‰‹æ¶æ–‡ä»¶ç»“æ„</h2><p>(treer -d è·¯å¾„)</p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230128104810285.png" alt="image-20230128104810285" style="zoom:50%;" /><h2 id="å…³äºä¸åŒç‰ˆæœ¬çš„Vueè¯´æ˜"><a href="#å…³äºä¸åŒç‰ˆæœ¬çš„Vueè¯´æ˜" class="headerlink" title="å…³äºä¸åŒç‰ˆæœ¬çš„Vueè¯´æ˜"></a>å…³äºä¸åŒç‰ˆæœ¬çš„Vueè¯´æ˜</h2><ul><li><p>vue.jsä¸vue.runtime.xxx.jsçš„åŒºåˆ«ï¼š</p><p>â€‹    (1) vue.jsæ˜¯å®Œæ•´ç‰ˆçš„Vue,åŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½+æ¨¡æ¿è§£æå™¨ã€‚</p><p>â€‹    (2) vue.runtime.xxx.jsæ˜¯è¿è¡Œç‰ˆçš„Vue,åªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨ã€‚</p></li><li><p>å› ä¸ºvue.runtime.xxx,jsæ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨templateié…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderiå‡½æ•°æ¥æ”¶åˆ°çš„createElementiå‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚</p></li></ul><h2 id="vue-config-jsé…ç½®æ–‡ä»¶"><a href="#vue-config-jsé…ç½®æ–‡ä»¶" class="headerlink" title="vue.config.jsé…ç½®æ–‡ä»¶"></a>vue.config.jsé…ç½®æ–‡ä»¶</h2><ul><li>ä½¿ç”¨vue inspect &gt; output.js å¯ä»¥æŸ¥çœ‹åˆ°Vueè„šæ‰‹æ¶çš„é»˜è®¤é…ç½®</li><li>ä½¿ç”¨vue.config.js å¯ä»¥å¯¹è„šæ‰‹æ¶è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¯¦æƒ… <a href="https://cli.vuejs.org/zh/config/">https://cli.vuejs.org/zh/config/</a></li></ul><h2 id="refå±æ€§"><a href="#refå±æ€§" class="headerlink" title="refå±æ€§"></a>refå±æ€§</h2><p>1.è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨çš„ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£</p><p>2.åº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡</p><p>3.ä½¿ç”¨æ–¹å¼ï¼š</p><ul><li>æ‰“æ ‡è¯† <code>&lt;h1 ref=&quot;title&quot;&gt;å“ˆå“ˆ&lt;/h1&gt; æˆ–è€… &lt;School ref=&quot;sch&quot;/&gt;</code></li><li>è·å– this.$refs.titleå•¥çš„</li></ul><h2 id="é…ç½®é¡¹props"><a href="#é…ç½®é¡¹props" class="headerlink" title="é…ç½®é¡¹props"></a>é…ç½®é¡¹props</h2><p>åŠŸèƒ½ï¼šè®©ç»„ä»¶æ¥æ”¶å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ®</p><ul><li><p>ä¼ é€’æ•°æ®ï¼š<code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p></li><li><p>æ¥æ”¶æ•°æ®ï¼š</p><ul><li>åªæ¥æ”¶ï¼š<code>props: [&#39;name&#39;,&#39;sex&#39;,&#39;age&#39;]</code></li><li>é™åˆ¶ç±»å‹ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    name: String,</span><br><span class="line">    sex: String,</span><br><span class="line">    age: Number</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é™åˆ¶ç±»å‹ã€é™åˆ¶å¿…è¦æ€§ã€æŒ‡å®šé»˜è®¤å€¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">props :&#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: String,//ç±»å‹</span><br><span class="line">        required: true//å¿…é¡»</span><br><span class="line">    &#125;,</span><br><span class="line">    sex: &#123;</span><br><span class="line">        type: String,</span><br><span class="line">        required: true//é»˜è®¤å€¼</span><br><span class="line">    &#125;,</span><br><span class="line">    age: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 99</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¤‡æ³¨ï¼špropsæ˜¯åªè¯»çš„ã€‚Vueåº•å±‚ä¼šç›‘æµ‹ä½ å¯¹propsçš„ä¿®æ”¹ï¼Œå¦‚æœ‰ä¿®æ”¹ä¼šå‘å‡ºè­¦å‘Šï¼›è‹¥ä¸šåŠ¡éœ€æ±‚éœ€è¦æ”¹ï¼Œé‚£ä¹ˆå¾—ä»propsä¸­å¤åˆ¶ä¸€ä»½åˆ°dataé‡Œï¼Œç„¶åå»ä¿®æ”¹dataä¸­çš„é‚£ä¸ªæ•°æ®ã€‚</p></li></ul><h2 id="mixin-æ··å…¥"><a href="#mixin-æ··å…¥" class="headerlink" title="mixin-æ··å…¥"></a>mixin-æ··å…¥</h2><ul><li><p>åŠŸèƒ½ï¼šå¯ä»¥å§å¤šä¸ªç»„ä»¶ä¾›ç”¨ç”µé¢é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡</p></li><li><p>ä½¿ç”¨æ–¹å¼ï¼š</p><ul><li>ç¬¬ä¸€æ­¥å®šä¹‰æ··åˆ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    data()&#123;&#125;,</span><br><span class="line">    methods:&#123;&#125;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¬¬äºŒæ­¥æ··å…¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å±€éƒ¨å¼•å…¥ï¼š</span><br><span class="line">mixins:[&#x27;xxx&#x27;,&#x27;yyy&#x27;]</span><br><span class="line">å…¨å±€å¼•å…¥ï¼š</span><br><span class="line">Vue.mixin(xxx)</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><ul><li>åŠŸèƒ½ï¼šç”¨äºå¢å¼ºVue</li><li>æœ¬è´¨ï¼šåŒ…å«installæ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡ï¼Œinstallçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®</li><li>å®šä¹‰æ’ä»¶ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å¯¹è±¡.install = function(Vue, options) &#123;</span><br><span class="line">    //1.æ·»åŠ å…¨å±€è¿‡æ»¤å™¨</span><br><span class="line">    Vue.filter(....)</span><br><span class="line">    //2.æ·»åŠ å…¨å±€æŒ‡ä»¤</span><br><span class="line">    Vue.directive(....)</span><br><span class="line">    //3.é…ç½®å…¨å±€æ··å…¥</span><br><span class="line">    Vue.mixin(....)</span><br><span class="line">    //4.æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">    Vue.prototype.$myMethod = function()&#123;....&#125;</span><br><span class="line">    Vue.prototype.$myProperty = xxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨æ’ä»¶ï¼š<br><code>Vue.use()</code></li></ul><h2 id="scopedæ ·å¼"><a href="#scopedæ ·å¼" class="headerlink" title="scopedæ ·å¼"></a>scopedæ ·å¼</h2><ul><li>ä½œç”¨ï¼šè®©æ ·å¼åœ¨å¸ƒå±€ç”Ÿæ•ˆï¼Œé˜²æ­¢å†²çª</li><li>å†™æ³•ï¼š<code>&lt;style scoped&gt;&lt;/style&gt;</code></li></ul><h2 id="æ€»ç»“TodoListæ¡ˆä¾‹"><a href="#æ€»ç»“TodoListæ¡ˆä¾‹" class="headerlink" title="æ€»ç»“TodoListæ¡ˆä¾‹"></a>æ€»ç»“TodoListæ¡ˆä¾‹</h2><ol><li>ç»„ä»¶åŒ–ç¼–ç æµç¨‹</li></ol><ul><li><p>æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸htmlå…ƒç´ å†²çª</p></li><li><p>å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨</p><ul><li>ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯</li><li>ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬çš„å…±åŒçˆ¶ç»„ä»¶ä¸Šï¼ˆçŠ¶æ€æå‡ï¼‰</li></ul></li><li><p>å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹</p></li></ul><ol start="2"><li>propsé€‚ç”¨äºï¼š</li></ol><ul><li>çˆ¶ç»„ä»¶â†’å­ç»„ä»¶ é€šä¿¡</li><li>å­ç»„ä»¶â†’çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶å…ˆç»™è‡ªå·²ä¸ªå‡½æ•°ï¼‰</li></ul><ol start="3"><li><p>ç”¨v-modelæ—¶åˆ‡è®°ï¼šv-modelç»‘å®šçš„å€¼ä¸èƒ½æ˜¯propsä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸ºpropsæ˜¯ä¸å¯ä»¥è¢«ä¿®æ”¹çš„ï¼ï¼</p></li><li><p>propsä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶Vueä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨èè¿™æ ·åšã€‚</p></li></ol><h2 id="web-Storage"><a href="#web-Storage" class="headerlink" title="web Storage"></a>web Storage</h2><ol><li><p>å­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬5MBå·¦å³ï¼ˆä¸åŒæµè§ˆå™¨ä¸ä¸€æ ·ï¼‰</p></li><li><p>æµè§ˆå™¨é€šè¿‡ Window.sessionStorage å’Œ Window.localStorage å±æ€§å®ç°æœ¬åœ°å­˜å‚¨æœºåˆ¶</p></li><li><p>ç›¸å…³API</p><ol><li><code>xxxStorage.setItem(&#39;key&#39;, &#39;value&#39;)</code>ï¼šæ¥å—ä¸€ä¸ªé”®å’Œå€¼ä½œä¸ºå‚æ•°ï¼Œä¼šæŠŠé”®å€¼å¯¹æ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå­˜åœ¨ï¼Œæ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚</li><li><code>xxxStorage.getItem(&#39;key&#39;)</code>ï¼šæ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼Œè¿”å›é”®åå¯¹åº”çš„å€¼ã€‚</li><li><code>xxxStorage.removeItem(&#39;key&#39;)</code>ï¼šæ¥å—ä¸€ä¸ªé”®åä½œä¸ºå‚æ•°ï¼ŒæŠŠè¯¥é”®å€¼ä»å­˜å‚¨ä¸­åˆ é™¤ã€‚</li><li><code>xxxStorage.clear()</code>ï¼šæ¸…ç©ºå­˜å‚¨ä¸­æ‰€æœ‰çš„æ•°æ®ã€‚</li></ol></li><li><p>å¤‡æ³¨</p><ol><li>SessionStorageå­˜å‚¨çš„å†…å®¹ä¼šéšç€æµè§ˆå™¨çª—å£å…³é—­è€Œæ¶ˆå¤±</li><li>LocalStorageå­˜å‚¨çš„å†…å®¹éœ€è¦æ‰‹åŠ¨æ¸…é™¤</li><li>setItemå¦‚æœå¯¹åº”é”®çš„å€¼è·å–ä¸åˆ°ï¼Œé‚£ä¹ˆgetItemè¿”å›å€¼æ˜¯null</li><li><code>JSON.parse(null)</code>ç»“æœä¾ç„¶æ˜¯null</li></ol></li></ol><h2 id="ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"><a href="#ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶"></a>ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶</h2><ol><li><p>ä¸€ç§ç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼ï¼Œé€‚ç”¨äºï¼šå­ç»„ä»¶=&gt;çˆ¶ç»„ä»¶</p></li><li><p>ä½¿ç”¨åœºæ™¯ï¼šAæ˜¯çˆ¶ç»„ä»¶ï¼ŒBæ˜¯å­ç»„ä»¶ï¼ŒBæƒ³ç»™Aä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨Aä¸­ç»™Bç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆäº‹ä»¶çš„å›è°ƒåœ¨Aä¸­ï¼‰</p></li><li><p>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š</p><ol><li><p>ç¬¬ä¸€ç§ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š<code>&lt;Demo @qvq=&#39;test&#39;/&gt;</code>ï¼ˆv-onï¼‰</p></li><li><p>ç¬¬äºŒç§ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Demo ref=&quot;demo&quot;/&gt;</span><br><span class="line">......</span><br><span class="line">mounted() &#123;</span><br><span class="line">this.$refs.demo.$on(&#x27;qvq&#x27;,this.test)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼Œç”¨<code>once</code>ä¿®é¥°ç¬¦ï¼Œæˆ–<code>$once</code>æ–¹æ³•</p></li></ol></li><li><p>è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š<code>this.$emit(&#39;qvq&#39;,æ•°æ®)</code></p></li><li><p>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ï¼š<code>this.$off(&#39;qvq&#39;)</code></p></li><li><p>ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”ŸDOMäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>native</code>ä¿®é¥°ç¬¦</p></li><li><p>æ³¨æ„ï¼šé€šè¿‡<code>this.$refs.xxx.$on(&#39;refå€¼&#39;,å›è°ƒ)</code>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒè¦ä¹ˆé…ç½®åœ¨methodsä¸­ï¼Œè¦ä¹ˆç®­å¤´å‡½æ•°æ€¼è¿›å»ï¼Œå¦åˆ™thisæŒ‡å‘è°ƒç”¨å®ƒçš„ç»„ä»¶æã€‚</p></li></ol><h2 id="å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰"><a href="#å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰" class="headerlink" title="å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰"></a>å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰</h2><ol><li><p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p></li><li><p>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm</span></span><br><span class="line">&#125;ï¼Œ</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š</p><ol><li><p>æ¥å—æ•°æ®ï¼šAæƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™Aç»„ä»¶ç»™$busç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;....&#125;</span><br><span class="line">&#125;</span><br><span class="line">....</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br><span class="line">æˆ–è€…ç”¨ç®­å¤´å‡½æ•°</span><br></pre></td></tr></table></figure></li><li><p>æä¾›æ•°æ®ï¼š<code>this.$bus.$on(&#39;xxx&#39;,this.demo)</code></p></li></ol></li><li><p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨<code>$off</code>å»è§£ç»‘å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶ã€‚</p></li></ol><h2 id="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰"><a href="#æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰" class="headerlink" title="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰"></a>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰</h2><ol><li><p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p></li><li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>å®‰è£…pubsubï¼š<code>npm i pubsub-js</code></p></li><li><p>å¼•å…¥ï¼š<code>import pubsub from &#39;pubsub-js&#39;</code></p></li><li><p>æ¥å—æ•°æ®ï¼šAæƒ³æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aä¸­è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…çš„å›è°ƒç•™åœ¨Aè‡ªå·±è¿™é‡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;....&#125;</span><br><span class="line">&#125;</span><br><span class="line">....</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">pid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>, <span class="variable language_">this</span>.<span class="property">demo</span>)<span class="comment">//è®¢é˜…æ¶ˆæ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æä¾›æ•°æ®ï¼š<code>pubsub.publish(&#39;xxx&#39;,æ•°æ®)</code></p></li><li><p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨<code>pubsub.unsubscribe(pid)</code>å»å–æ¶ˆè®¢é˜…ã€‚</p></li></ol></li></ol><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><ol><li>è¯­æ³•ï¼š<code>this.$nextTick(å›è°ƒå‡½æ•°)</code></li><li>ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡DOMæ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡ä»¤å›è°ƒ</li><li>ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–°DOMè¿›è¡ŒæŸäº›æ“ä½œï¼Œè¦åœ¨nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œ</li></ol><h2 id="Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»"><a href="#Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»" class="headerlink" title="Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»"></a>Vueå°è£…çš„è¿‡åº¦ä¸åŠ¨ç”»</h2><ol><li><p>ä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–ç§»é™¤DOMå…ƒç´ æ—¶ï¼Œåœ¨æ ¸å®çš„æ—¶å€™ç»™å…ƒç´ æ·»åŠ æ ·å¼ç±»å</p></li><li><p>å›¾ç¤ºï¼š</p><p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230129200244340.png" alt="image-20230129200244340"></p></li><li><p>å†™æ³•</p><ol><li><p>å‡†å¤‡å¥½æ ·å¼</p><ul><li><p>å…ƒç´ è¿›å…¥çš„æ ·å¼</p><blockquote><p>v-enterï¼šè¿›å…¥çš„èµ·ç‚¹</p><p>v-enter-activeï¼šè¿›å…¥çš„è¿‡ç¨‹ä¸­â€”â€”å•ç”¨active å¯animation:æ­é…@keyframes animationName {}åŠ¨ç”»</p><p>v-enter-toï¼šè¿›å…¥çš„ç»ˆç‚¹</p></blockquote></li><li><p>å…ƒç´ ç¦»å¼€çš„æ ·å¼</p><blockquote><p>v-leaveï¼šç¦»å¼€çš„èµ·ç‚¹</p><p>v-leave-activeï¼šç¦»å¼€çš„è¿‡ç¨‹ä¸­</p><p>v-leave-toï¼šç¦»å¼€çš„ç»ˆç‚¹</p></blockquote></li></ul></li><li><p>ä½¿ç”¨<code>&lt;transition&gt;</code>åŒ…è£¹è¦è¿‡åº¦çš„å…ƒç´ ï¼Œå¹¶é…ç½®<code>name</code>å±æ€§</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;isShow&quot;&gt;</span><br><span class="line">        ä½ å¥½å•Šï¼</span><br><span class="line">    &lt;/h1&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¤‡æ³¨ï¼šè‹¥æœ‰å¤šä¸ªå…ƒç´ éœ€è¦è¿‡åº¦ï¼Œåˆ™éœ€è¦ç”¨ï¼š<code>&lt;transition-group&gt;</code>ï¼Œä¸”æ¯ä¸ªå…ƒç´ æŒ‡å®š<code>&lt;key&gt;</code>å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition-group name=&quot;qvq&quot; appear&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;isShow&quot; key=&quot;1&quot;&gt;ä½ å¥½:D&lt;/h1&gt;</span><br><span class="line">    &lt;h1 v-show=&quot;!isShow&quot; key=&quot;2&quot;&gt;å—¨å—¨å—¨:D&lt;/h1&gt;</span><br><span class="line">&lt;/transition-group&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h2 id="vueè„šæ‰‹æ¶é…ç½®ä»£ç†"><a href="#vueè„šæ‰‹æ¶é…ç½®ä»£ç†" class="headerlink" title="vueè„šæ‰‹æ¶é…ç½®ä»£ç†"></a>vueè„šæ‰‹æ¶é…ç½®ä»£ç†</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>åœ¨vue.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>:<span class="string">&quot;http://localhoost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹    è¯´æ˜ï¼š</p><pre><code> 1. ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ 2. ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç† 3. å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°ä»£ç†é…ç½®ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šä¸“è®¿ç»™æœåŠ¡å™¨ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰            </code></pre><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p>ç¼–å†™vue.config.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"> ....</span><br><span class="line">  <span class="comment">//å¼€å¯ä»£ç†æœåŠ¡å™¨(æ–¹å¼äºŒ)</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">//è¯·æ±‚å‰ç¼€ï¼ŒåŒ¹é…æ‰€æœ‰ä»¥&#x27;/api1&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">//ä»£ç†ç›®æ ‡çš„åŸºæœ¬è·¯å¾„</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>:<span class="string">&#x27;&#x27;</span>&#125;,<span class="comment">//è·¯å¾„é‡å†™ï¼Œè´¼é‡è¦ï¼ï¼ï¼</span></span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,<span class="comment">//ç”¨äºæ”¯æŒwebsocket</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span><span class="comment">//ç”¨äºæ§åˆ¶è¯·æ±‚å¤´ä¸­çš„hostå€¼â†’è¯·æ±‚è¯´è°ï¼Œè¯´è‡ªå·±æ˜¯5000çš„ï¼Œå¯çˆ±æï¼›é»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;<span class="comment">//è¯·æ±‚å‰ç¼€</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>:<span class="string">&#x27;&#x27;</span>&#125;,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000</span></span><br><span class="line"><span class="comment">falseï¼šlocalhoost:8080</span></span><br><span class="line"><span class="comment">é»˜è®¤å€¼ä¸ºtrue</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ol><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†</li><li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€</li></ol><h2 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h2><ol><li><p>ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼ï¼Œé€‚ç”¨äº çˆ¶ç»„ä»¶=&gt;å­ç»„ä»¶</p></li><li><p>åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ï¼Œå…·åæ’æ§½ï¼Œä½œç”¨åŸŸæ’æ§½</p></li><li><p>ä½¿ç”¨æ–¹å¼</p><ol><li><p>é»˜è®¤æ’æ§½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        htmlç»“æ„1</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;!--å®šä¹‰æ’æ§½--&gt;</span><br><span class="line">        &lt;slot&gt;æ’æ§½é»˜è®¤å†…å®¹...&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>å…·åæ’æ§½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">    &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            htmlç»“æ„1</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template slot=&quot;footer&quot;&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            htmlç»“æ„2</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!--å®šä¹‰æ’æ§½--&gt;</span><br><span class="line">        &lt;slot name=&quot;center&quot;&gt;æ’æ§½é»˜è®¤å†…å®¹&lt;/slot&gt;</span><br><span class="line">        &lt;slot name=&quot;footer&quot;&gt;æ’æ§½é»˜è®¤å†…å®¹&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>ä½œç”¨åŸŸæ’æ§½</p><ol><li><p>ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgameæ•°æ®åœ¨Categoryç»„ä»¶ä¸­ï¼Œä½†æ˜¯ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±APPç»„ä»¶å†³å®šï¼‰â€¦â€¦.å½“ç„¶å®ƒä¹Ÿå¯ä»¥å…·å</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;ol&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ol&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">    &lt;h4 v-for=&quot;g in games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;/template&gt;    </span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;slot :games=&quot;games&quot;&gt;é»˜è®¤&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#x27;Category&#x27;,</span><br><span class="line">        props: [&#x27;title&#x27;],</span><br><span class="line">        //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                games: [&#x27;åŸç¥&#x27;, &#x27;ä½¿å‘½å¬å”¤&#x27;, &#x27;èµ›ç‰¹æ–¯2&#x27;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol></li></ol><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/vuex.png" alt="vuex" style="zoom: 33%;" /><h3 id="1-æ¦‚å¿µ"><a href="#1-æ¦‚å¿µ" class="headerlink" title="1.æ¦‚å¿µ"></a>1.æ¦‚å¿µ</h3><p>åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸€ä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼ï¼Œåˆ‡å®ç”¨äºä»»æ„ç»„ä»¶é—´çš„é€šä¿¡ã€‚</p><h3 id="2-ä½•æ—¶ä½¿ç”¨"><a href="#2-ä½•æ—¶ä½¿ç”¨" class="headerlink" title="2.ä½•æ—¶ä½¿ç”¨"></a>2.ä½•æ—¶ä½¿ç”¨</h3><p>å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ•°æ®æ—¶ã€‚</p><h3 id="3-æ­å»ºvuexç¯å¢ƒ"><a href="#3-æ­å»ºvuexç¯å¢ƒ" class="headerlink" title="3.æ­å»ºvuexç¯å¢ƒ"></a>3.æ­å»ºvuexç¯å¢ƒ</h3><ol><li><p>åˆ›å»ºæ–‡ä»¶ï¼š<code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡†å¤‡actionsï¼Œç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡mutationsï¼Œç”¨äºæ“ä½œæ•°æ®ï¼ˆstate)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡stateï¼Œç”¨äºå­˜å‚¨æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span>  <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>main.js</code>ä¸­åˆ›å»ºvmæ—¶ä¼ å…¥<code>store</code>é…ç½®é¡¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="comment">//å¼•å…¥store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">....</span><br><span class="line"><span class="comment">//åˆ›å»ºvm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-åŸºæœ¬ä½¿ç”¨"><a href="#4-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4.åŸºæœ¬ä½¿ç”¨"></a>4.åŸºæœ¬ä½¿ç”¨</h3><ol><li><p>åˆå§‹åŒ–æ•°æ®ï¼Œé…ç½®<code>actions</code>é…ç½®<code>mutations</code>æ“ä½œæ–‡ä»¶<code>store.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//å¼•ç”¨Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = (</span><br><span class="line">    <span class="comment">//å“åº”ç»„å»ºçš„åŠ </span></span><br><span class="line">    <span class="title function_">increase</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">    context.<span class="title function_">commit</span>(<span class="string">&#x27;INCREASE&#x27;</span>, value)</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">///æ‰§è¡ŒåŠ </span></span><br><span class="line">    <span class="title function_">INCREASE</span>(<span class="params">state,value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ•°æ®</span></span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„å»ºä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š<code>$store.state.sum</code></p></li><li><p>ç»„å»ºä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š<code>$store.dispatch(&#39;actionä¸­çš„æ–¹æ³•å&#39;, æ•°æ®)</code>æˆ–<code>$store.commit(&#39;mutationsä¸­çš„æ–¹æ³•å&#39;, æ•°æ®)</code></p></li><li><p>å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™<code>dipatch</code>ï¼Œç›´æ¥<code>commit</code></p></li></ol><h3 id="5-getterçš„ä½¿ç”¨"><a href="#5-getterçš„ä½¿ç”¨" class="headerlink" title="5.getterçš„ä½¿ç”¨"></a>5.getterçš„ä½¿ç”¨</h3><ol><li><p>æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥ã€‚</p></li><li><p>åœ¨<code>store.js</code>ä¸­è¿½åŠ <code>getters</code>é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span><span class="comment">//è¿™é‡Œå‡è£…ä¸€æ³¢å¤æ‚è¿ç®—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    ....</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š<code>$store.getters.bigSum</code></p></li></ol><h3 id="6-å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨"><a href="#6-å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="6.å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨"></a>6.å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨</h3><ol><li><p><strong>mapStateæ–¹æ³•</strong>ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>state</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapState</span>(&#123;<span class="comment">//...è§£æ„èµ‹å€¼ï¼ŒæŠŠå¯¹è±¡é‡Œçš„ä¸œè¥¿å±•å¼€</span></span><br><span class="line">       <span class="string">&#x27;sum&#x27;</span>: <span class="string">&#x27;sum&#x27;</span>,<span class="comment">//è§„èŒƒ&#x27;sum&#x27;ï¼Œå›¾ä¸ªç®€å•â†“</span></span><br><span class="line">        <span class="attr">school</span>: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">        <span class="attr">kecheng</span>: <span class="string">&#x27;subject&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»stateä¸­è¯»å–æ•°æ®ï¼ˆæ•°ç»„å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;school&#x27;</span>, <span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapGettersæ–¹æ³•</strong>ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>getters</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>: <span class="string">&#x27;bigeSum&#x27;</span>&#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼Œä»gettersä¸­è¯»å–æ•°æ®ï¼ˆæ•°ç»„å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapActionsæ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>actions</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«<code>$store.dispatch(xxx)</code>çš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨despatchå»è”ç³»actionsï¼ˆå¯¹è±¡å†™æ³•ï¼‰â€”â€”å®ƒè‡ªåŠ¨ç”Ÿæˆçš„æ˜¯func(value)&#123;&#125;ï¼Œæ‰€ä»¥è¯´åœ¨è°ƒç”¨çš„æ—¶å€™è¦ä¼ å‚ï¼Œè¿™æ ·æ˜¯ç›¸è¾ƒäºå†ä»methodsé‡Œé¢è°ƒæ–¹æ³•æ›´ç®€å•çš„</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">increamentOdd</span>: <span class="string">&#x27;increaseOdd&#x27;</span>, <span class="attr">increamentWait</span>: <span class="string">&#x27;increaseWait&#x27;</span>&#125;),</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapActionsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨despatchå»è”ç³»actionsï¼ˆæ•°ç»„å†™æ³•ï¼‰â€”â€”æ³¨æ„è¿™é‡Œåªèƒ½æ˜¯actionsä¸­çš„åï¼Œé‚£ä¹ˆå‰é¢è°ƒç”¨å°±å¾—ç”¨è¿™ç§</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;increamentOdd&#x27;</span>, <span class="string">&#x27;increamentWait&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapMutationsæ–¹æ³•</strong>ï¼šç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>mutations</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼š<code>$store.commit(xxx)</code>çš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutationsï¼ˆå¯¹è±¡å†™æ³•ï¼‰â€”â€”å®ƒè‡ªåŠ¨ç”Ÿæˆçš„æ˜¯func(value)&#123;&#125;ï¼Œæ‰€ä»¥è¯´åœ¨è°ƒç”¨çš„æ—¶å€™è¦ä¼ å‚ï¼Œè¿™æ ·æ˜¯ç›¸è¾ƒäºå†ä»methodsé‡Œé¢è°ƒæ–¹æ³•æ›´ç®€å•çš„</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increament</span>: <span class="string">&#x27;INCREASE&#x27;</span>, <span class="attr">decreament</span>: <span class="string">&#x27;DECREASE&#x27;</span>&#125;),</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapMutationsç”Ÿæˆå¯¹åº”çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸­ä¼šè°ƒç”¨commitå»è”ç³»mutationsï¼ˆæ•°ç»„å†™æ³•ï¼‰â€”â€”æ³¨æ„è¿™é‡Œåªèƒ½æ˜¯mutationsä¸­çš„åï¼Œé‚£ä¹ˆå‰é¢è°ƒç”¨å°±å¾—ç”¨è¿™ç§</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;INCREASE&#x27;</span>, <span class="string">&#x27;DECREASE&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¤‡æ³¨ï¼šmapActionsä¸mapMutationsä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°ï¼Œéœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚</p></li></ol><h3 id="7-æ¨¡å—åŒ–-å‘½åç©ºé—´"><a href="#7-æ¨¡å—åŒ–-å‘½åç©ºé—´" class="headerlink" title="7.æ¨¡å—åŒ–+å‘½åç©ºé—´"></a>7.æ¨¡å—åŒ–+å‘½åç©ºé—´</h3><ol><li><p>ç›®çš„ï¼šè®©ä»£ç æ›´å¥½çš„ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ã€‚</p></li><li><p>ä¿®æ”¹<code>store.js</code>ï¼ˆè¿™é‡Œç›´æ¥ä»½æ–‡ä»¶äº†ï¼‰</p><p><strong>count.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ±‚å’Œç›¸å…³çš„é…ç½®</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> countOptions = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,<span class="comment">//å¼€å¯å‘½åç©ºé—´ï¼Œä¸æƒ³éº»çƒ¦ä¸€å®šè¦å†™ï¼</span></span><br><span class="line">    <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> countOptions</span><br></pre></td></tr></table></figure><p><strong>person.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äººåç›¸å…³çš„é…ç½®</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> personOptions = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">state</span>: &#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> personOptions</span><br></pre></td></tr></table></figure><p><strong>index.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼•å…¥Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥ä¿©æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> countOptions <span class="keyword">from</span> <span class="string">&#x27;./count&#x27;</span></span><br><span class="line"><span class="keyword">import</span> personOptions <span class="keyword">from</span> <span class="string">&#x27;./person&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ…æµ…æš´éœ²ä¸€ä¸‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span>  <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>: &#123;</span><br><span class="line">        <span class="attr">countAbout</span>: countOptions,<span class="comment">//ç®€å†™ä¹Ÿè¡Œ</span></span><br><span class="line">        <span class="attr">personAbout</span>: personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">list</span><span class="comment">//è‡ªå·±è¯»</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>, [<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;school&#x27;</span>, <span class="string">&#x27;subject&#x27;</span>])<span class="comment">//å€ŸåŠ©mapStateè¯»</span></span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]<span class="comment">//è‡ªå·±è¯»</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>, [<span class="string">&#x27;bigSum&#x27;</span>])<span class="comment">//å€ŸåŠ©mapGettersè¯»</span></span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatchï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>, person)<span class="comment">//è‡ªå·±è°ƒç”¨</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>, &#123;<span class="attr">increaseOdd</span>: <span class="string">&#x27;jiaOdd&#x27;</span>, <span class="attr">increasementWait</span>: <span class="string">&#x27;jiaWait&#x27;</span>&#125;)<span class="comment">//å€ŸåŠ©map.Actionsè°ƒç”¨</span></span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨commitï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>, person)<span class="comment">//è‡ªå·±è°ƒç”¨</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>, &#123;<span class="attr">increasement</span>:<span class="string">&#x27;JIA&#x27;</span>, <span class="attr">decreasement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><ol><li>ç†è§£ï¼šä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†</li><li>å‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶</li></ol><h3 id="1-åŸºæœ¬ä½¿ç”¨"><a href="#1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨"></a>1.åŸºæœ¬ä½¿ç”¨</h3><ol><li><p>å®‰è£…vue-routerï¼Œå‘½ä»¤<code>npm i vue-router</code></p></li><li><p>åº”ç”¨æ’ä»¶ï¼š<code>Vue.use(VueRouter)</code></p></li><li><p>ç¼–å†™routeré…ç½®é¡¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥VueRouter</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥è·¯ç”±ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"><span class="comment">//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;./about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">About</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;./home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//æš´éœ²router</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>å®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>æŒ‡å®šå±•ç¤ºä½ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-å‡ ä¸ªæ³¨æ„ç‚¹"><a href="#2-å‡ ä¸ªæ³¨æ„ç‚¹" class="headerlink" title="2.å‡ ä¸ªæ³¨æ„ç‚¹"></a>2.å‡ ä¸ªæ³¨æ„ç‚¹</h3><ol><li><p>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹</p></li><li><p>é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½</p></li><li><p>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„<code>$route</code>å±æ€§ï¼Œé‡Œé¢å­˜å‚¨è‡ªå·±çš„è·¯ç”±ä¿¡æ¯</p></li><li><p>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª<code>router</code>ï¼Œå¯ä»¥é€šè¿‡<code>$router</code>å±æ€§è·å–åˆ°</p><p><img src="../images/Vue2%E7%9A%84%E5%AD%A6%E4%B9%A0/image-20230202165843249.png" alt="image-20230202165843249"></p></li></ol><h3 id="3-å¤šçº§è·¯ç”±ï¼ˆåµŒå¥—è·¯ç”±ï¼‰"><a href="#3-å¤šçº§è·¯ç”±ï¼ˆåµŒå¥—è·¯ç”±ï¼‰" class="headerlink" title="3.å¤šçº§è·¯ç”±ï¼ˆåµŒå¥—è·¯ç”±ï¼‰"></a>3.å¤šçº§è·¯ç”±ï¼ˆåµŒå¥—è·¯ç”±ï¼‰</h3><ol><li><p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>: [</span><br><span class="line">    &#123;<span class="comment">//ä¸€çº§è·¯ç”±</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;./home&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;<span class="comment">//è¿™ä¸ªåœ°æ–¹ä¸€å®šä¸è¦åŠ æ–œæ ï¼Œå› ä¸ºå·²ç»å¸®ç€åŠ äº†</span></span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">News</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">Message</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to:&#x27;/home/news&#x27;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-è·¯ç”±ä¼ å‚"><a href="#4-è·¯ç”±ä¼ å‚" class="headerlink" title="4.è·¯ç”±ä¼ å‚"></a>4.è·¯ç”±ä¼ å‚</h3><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line"> &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;m.id&#125;&amp;title=$&#123;m.title&#125;`&quot;&gt;è·³è½¬&lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">        path: &#x27;/home/message/detail&#x27;,</span><br><span class="line">        query: &#123;</span><br><span class="line">            id: m.id,</span><br><span class="line">            title: m.title,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;&quot;&gt;è·³è½¬</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="5-å‘½åè·¯ç”±"><a href="#5-å‘½åè·¯ç”±" class="headerlink" title="5.å‘½åè·¯ç”±"></a>5.å‘½åè·¯ç”±</h3><ol><li><p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬</p></li><li><p>å¦‚ä½•ä½¿ç”¨</p><ol><li><p>ç»™è·¯ç”±å‘½å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>: [</span><br><span class="line">        <span class="comment">//ä¸€çº§è·¯ç”±</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;guanyu&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: myAbout,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;jia&#x27;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: myHome,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;xiaoxi&#x27;</span>,</span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>: myNews,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;message&#x27;</span></span><br><span class="line">                    <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>: myMessage,</span><br><span class="line">                    <span class="attr">children</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">name</span>: <span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">                            <span class="attr">path</span>: <span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">                            <span class="attr">component</span>: myDetail,</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></li><li><p>ç®€åŒ–è·³è½¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´è·¯å¾„</span><br><span class="line">&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬</span><br><span class="line">&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; :to=&quot;&#123;name: &#x27;xiaoxi&#x27;&#125;&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•°</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">    name: &#x27;xiangqing&#x27;,</span><br><span class="line">        query: &#123;</span><br><span class="line">              id: m.id,</span><br><span class="line">              title: m.title,</span><br><span class="line">        &#125;,</span><br><span class="line">     &#125;&quot; &gt; è·³è½¬</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="6-paramså‚æ•°"><a href="#6-paramså‚æ•°" class="headerlink" title="6.paramså‚æ•°"></a>6.paramså‚æ•°</h3><ol><li><p>é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶paramså‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;detail/:id/:title&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: myDetail,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line">&lt;router-link :to=&quot;`/home/message/detail/$&#123;m.id&#125;/$&#123;m.title&#125;`&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬è·¯ç”±å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link</span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name: &#x27;xiangqing&#x27;,</span><br><span class="line">        //è¿™ä¸ªåœ°æ–¹å°±å¿…é¡»å¾—ç”¨nameäº†</span><br><span class="line">        params: &#123;</span><br><span class="line">        id: m.id,</span><br><span class="line">        title: m.title,</span><br><span class="line">&#125;&quot;&gt;è·³è½¬</span><br><span class="line"> &lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$route.params.id</span><br></pre></td></tr></table></figure></li></ol><h3 id="7-è·¯ç”±propsé…ç½®"><a href="#7-è·¯ç”±propsé…ç½®" class="headerlink" title="7.è·¯ç”±propsé…ç½®"></a>7.è·¯ç”±propsé…ç½®</h3><p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿æ”¶åˆ°å‚æ•°</p><p>å“ˆå“ˆè¶…çº§ä¸å–œæ¬¢params</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;detail/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line"><span class="attr">props</span>:&#123;<span class="attr">a</span>:<span class="number">900</span>]</span><br><span class="line">    <span class="comment">//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrue,åˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detail:ç»„ä»¶</span></span><br><span class="line">    /<span class="attr">props</span>:<span class="literal">true</span></span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propstä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">    <span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">id</span>:route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">title</span>:route.<span class="property">query</span>.<span class="property">title</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-lt-router-linkçš„replaceå±æ€§"><a href="#8-lt-router-linkçš„replaceå±æ€§" class="headerlink" title="8.&lt;router-linkçš„replaceå±æ€§"></a>8.<code>&lt;router-link</code>çš„replaceå±æ€§</h3><ol><li><p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è°ƒå¥½é’»æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼</p></li><li><p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼</p><ul><li>pushï¼Œè¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤ï¼‰</li><li>replaceï¼Œæ›¿æ¢å½“å‰è®°å½•</li></ul></li><li><p>å¦‚ä½•å¼€å¯replaceæ¨¡å¼</p><p><code>&lt;router-link repalce&gt;News&lt;/router-link&gt;</code>OR<code>&lt;router-link :repalce=&quot;true&quot;&gt;News&lt;/router-link&gt;</code></p></li></ol><h3 id="9-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"><a href="#9-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª" class="headerlink" title="9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"></a>9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h3><ol><li><p>ä½œç”¨ï¼šä¸å€ŸåŠ©<code>&lt;router-link&gt;</code>å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»ï¼ˆå› ä¸ºä¼šè½¬åŒ–æˆ<code>&lt;a&gt;</code>å‘€ï¼‰</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;<span class="comment">//æŒ‰é’®å•¥çš„</span></span><br><span class="line">    <span class="title function_">pushShow</span>(<span class="params">m</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;xiangqing&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">id</span>: m.<span class="property">id</span>,</span><br><span class="line">          <span class="attr">title</span>: m.<span class="property">title</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">replaceShow</span>(<span class="params">m</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;xiangqing&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">id</span>: m.<span class="property">id</span>,</span><br><span class="line">          <span class="attr">title</span>: m.<span class="property">title</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123; <span class="comment">//å‰è¿›åé€€å•¥çš„</span></span><br><span class="line">    <span class="title function_">back</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">forward</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">go</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">//å‘å‰èµ°næ­¥</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(-<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure></li></ol><h3 id="10-ç¼“å­˜è·¯ç”±ç»„ä»¶"><a href="#10-ç¼“å­˜è·¯ç”±ç»„ä»¶" class="headerlink" title="10.ç¼“å­˜è·¯ç”±ç»„ä»¶"></a>10.ç¼“å­˜è·¯ç”±ç»„ä»¶</h3><ol><li><p>ç»„ä»¶ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;ç»„ä»¶å&quot;&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="11-ä¸‰ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#11-ä¸‰ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="11.ä¸‰ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­"></a>11.ä¸‰ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h3><ol><li><p>ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·æœ‰è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€</p></li><li><p>å…·ä½“åå­—ï¼š</p><ol><li><code>activated</code>è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘</li><li><code>deactivated</code>è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘</li></ol></li><li><p>è¿˜æœ‰ä¸€ä¸ªå«<code>nextTick</code></p></li></ol><h3 id="12-è·¯ç”±å®ˆå«"><a href="#12-è·¯ç”±å®ˆå«" class="headerlink" title="12.è·¯ç”±å®ˆå«"></a>12.è·¯ç”±å®ˆå«</h3><ol><li><p>ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶</p></li><li><p>åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«</p></li><li><p>å…¨å±€å®ˆå«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€ å‰ç½® è·¯ç”±å®ˆå«ï¼šåˆå§‹åŒ–æ—¶/æ¯ä¸€æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰è°ƒç”¨</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;<span class="comment">//åˆ¤æ–­æ˜¯å¦éœ€è¦é‰´æƒ</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;å½“å‰ç”¨æˆ·æ— æƒé™æŸ¥çœ‹&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€ åç½® è·¯ç”±å®ˆå«ï¼šåˆå§‹åŒ–æ—¶è¢«è°ƒç”¨/æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹åè¢«è°ƒç”¨</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span> || <span class="string">&#x27;å“ˆå“ˆå“ˆ&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç‹¬äº«å®ˆå«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;<span class="comment">//åˆ¤æ–­æ˜¯å¦éœ€è¦é‰´æƒ</span></span><br><span class="line">         <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">               <span class="title function_">next</span>()</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="title function_">alert</span>(<span class="string">&#x27;å½“å‰ç”¨æˆ·æ— æƒé™æŸ¥çœ‹&#x27;</span>)</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶å†…å®ˆå«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿›å…¥å®ˆå«-ç»„ä»¶è·¯ç”±å®ˆå«ï¼Œé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">    <span class="title function_">beforeRouteEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">idAuth</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;qust&#x27;</span>) &#123;</span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">alert</span>(<span class="string">&#x27;è¯¥ç”¨æˆ·æ— æƒè®¿é—®&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">//ç¦»å¼€å®ˆå«-ç»„ä»¶è·¯ç”±å®ˆå«ï¼Œé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">    <span class="title function_">beforeRouteLeave</span>(<span class="params">to,<span class="keyword">from</span>,next</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="13-è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼"><a href="#13-è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼" class="headerlink" title="13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼"></a>13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼</h3><ol><li>å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€”#åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼</li><li>hashå€¼ä¸åŒ…æ‹¬åœ¨httpè¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨</li><li>hashæ¨¡å¼ï¼š<ol><li>åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚</li><li>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•</li><li>å…¼å®¹æ€§è¾ƒå¥½</li></ol></li><li>historyæ¨¡å¼ï¼š<ol><li>åœ°å€å¹²å‡€ï¼Œç¾è§‚</li><li>å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®</li><li>åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡å™¨404çš„é—®é¢˜</li></ol></li></ol><h2 id="Vue-UIç»„ä»¶åº“"><a href="#Vue-UIç»„ä»¶åº“" class="headerlink" title="Vue UIç»„ä»¶åº“"></a>Vue UIç»„ä»¶åº“</h2><h4 id="ç§»åŠ¨ç«¯å¸¸ç”¨UIç»„ä»¶åº“"><a href="#ç§»åŠ¨ç«¯å¸¸ç”¨UIç»„ä»¶åº“" class="headerlink" title="ç§»åŠ¨ç«¯å¸¸ç”¨UIç»„ä»¶åº“"></a>ç§»åŠ¨ç«¯å¸¸ç”¨UIç»„ä»¶åº“</h4><ol><li>Vant</li><li>Cube UI</li><li>Mint UI</li></ol><h4 id="PCç«¯å¸¸ç”¨UIç»„ä»¶åº“"><a href="#PCç«¯å¸¸ç”¨UIç»„ä»¶åº“" class="headerlink" title="PCç«¯å¸¸ç”¨UIç»„ä»¶åº“"></a>PCç«¯å¸¸ç”¨UIç»„ä»¶åº“</h4><ol><li>Element UI</li><li>IView UI</li></ol>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AndroidåŸºç¡€</title>
      <link href="/post/86b8.html"/>
      <url>/post/86b8.html</url>
      
        <content type="html"><![CDATA[<h1 id="AndroidåŸºç¡€"><a href="#AndroidåŸºç¡€" class="headerlink" title="AndroidåŸºç¡€"></a>AndroidåŸºç¡€</h1><h2 id="åŸºç¡€ä¸­çš„åŸºç¡€"><a href="#åŸºç¡€ä¸­çš„åŸºç¡€" class="headerlink" title="åŸºç¡€ä¸­çš„åŸºç¡€"></a>åŸºç¡€ä¸­çš„åŸºç¡€</h2><h3 id="å®‰å“ç³»ç»Ÿå››å±‚ç»“æ„"><a href="#å®‰å“ç³»ç»Ÿå››å±‚ç»“æ„" class="headerlink" title="å®‰å“ç³»ç»Ÿå››å±‚ç»“æ„"></a>å®‰å“ç³»ç»Ÿå››å±‚ç»“æ„</h3><ul><li>Linuxå†…æ ¸å±‚</li><li>ç³»ç»Ÿè¿è¡Œåº“å±‚</li><li>åº”ç”¨ç¨‹åºåº“å±‚</li><li>åº”ç”¨ç¨‹åºå±‚</li></ul><p><img src="../images/Android%E5%9F%BA%E7%A1%80/uTools_1677462650078.png" alt="uTools_1677462650078"></p><h3 id="å®‰å“å››ç§ç»„ä»¶"><a href="#å®‰å“å››ç§ç»„ä»¶" class="headerlink" title="å®‰å“å››ç§ç»„ä»¶"></a>å®‰å“å››ç§ç»„ä»¶</h3><p><img src="../images/Android%E5%9F%BA%E7%A1%80/image-20230227095553850.png" alt="image-20230227095553850"></p><h3 id="å®‰è£…-é…ç½®"><a href="#å®‰è£…-é…ç½®" class="headerlink" title="å®‰è£…/é…ç½®"></a>å®‰è£…/é…ç½®</h3><ol><li><p>å®‰è£…Android Studioï¼Œå®‰è£…SDKï¼Œæ–°å»ºç©ºé¡¹ç›®ï¼Œæ³¨æ„å­˜å‚¨é…ç½®ï¼Œç†Ÿæ‚‰ä¸€ä¸‹ã€‚ï¼ˆåŸºåœ°çš„ç½‘å¥½å·®ï¼‰</p></li><li><p>å…³äºç•Œé¢é¢„è§ˆé—®é¢˜</p><ul><li><p>æœ¬åœ°æ¨¡æ‹Ÿå™¨</p></li><li><p>ä»£ç†æ¨¡æ‹Ÿå™¨</p></li><li><p>çœŸæœºè¿ä¸€è¿ï¼ˆæ‚²æƒ¨é¸¿è’™ï¼‰</p></li></ul></li><li><p>ä¸‹äº†ä¸ªæ¨¡æ‹Ÿå™¨</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.\adb devices<span class="comment"># æŸ¥çœ‹é…ç½®</span></span><br><span class="line">.\adb <span class="built_in">kill</span><span class="literal">-server</span><span class="comment"># å…³é—­æœåŠ¡</span></span><br><span class="line">.\adb <span class="built_in">start-server</span><span class="comment"># å¼€å¯æœåŠ¡</span></span><br></pre></td></tr></table></figure><p>é¡¹ç›®è¿è¡Œ</p><p><img src="../images/Android%E5%9F%BA%E7%A1%80/image-20230227170255525.png" alt="image-20230227170255525"></p></li><li><p>è€å¿ƒç­‰å¾…â€¦</p></li></ol><h3 id="ä½¿ç”¨è®°å½•"><a href="#ä½¿ç”¨è®°å½•" class="headerlink" title="ä½¿ç”¨è®°å½•"></a>ä½¿ç”¨è®°å½•</h3>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¨å¹³å°å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡¹ç›®å¼€å‘-Gitå·¥ä½œæµ</title>
      <link href="/post/3150.html"/>
      <url>/post/3150.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ›´æ–°å†…å®¹ï¼Œè¯·ç›´æ¥çœ‹è¿™é‡Œ"><a href="#æ›´æ–°å†…å®¹ï¼Œè¯·ç›´æ¥çœ‹è¿™é‡Œ" class="headerlink" title="æ›´æ–°å†…å®¹ï¼Œè¯·ç›´æ¥çœ‹è¿™é‡Œ"></a>æ›´æ–°å†…å®¹ï¼Œè¯·ç›´æ¥çœ‹è¿™é‡Œ</h1><h2 id="è¿™æ˜¯å·¥ä½œ-å›¢é˜Ÿåä½œä¸­æœ€å¸¸è§çš„ä¸€ä¸ªåŸºæœ¬æµç¨‹ï¼Œå¯ä»¥è·Ÿç€è¿™ä¸€ä¸²è‡ªå·±è¯•ä¸€è¯•ã€‚"><a href="#è¿™æ˜¯å·¥ä½œ-å›¢é˜Ÿåä½œä¸­æœ€å¸¸è§çš„ä¸€ä¸ªåŸºæœ¬æµç¨‹ï¼Œå¯ä»¥è·Ÿç€è¿™ä¸€ä¸²è‡ªå·±è¯•ä¸€è¯•ã€‚" class="headerlink" title="è¿™æ˜¯å·¥ä½œ/å›¢é˜Ÿåä½œä¸­æœ€å¸¸è§çš„ä¸€ä¸ªåŸºæœ¬æµç¨‹ï¼Œå¯ä»¥è·Ÿç€è¿™ä¸€ä¸²è‡ªå·±è¯•ä¸€è¯•ã€‚"></a>è¿™æ˜¯å·¥ä½œ/å›¢é˜Ÿåä½œä¸­æœ€å¸¸è§çš„ä¸€ä¸ªåŸºæœ¬æµç¨‹ï¼Œå¯ä»¥è·Ÿç€è¿™ä¸€ä¸²è‡ªå·±è¯•ä¸€è¯•ã€‚</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ€å¼€å§‹</span></span><br><span class="line">$ git <span class="built_in">clone</span><span class="comment">#å°†è¿œç¨‹ä»“åº“çš„ä»£ç æ‹‰åˆ°æœ¬åœ°(local-git)</span></span><br><span class="line"><span class="comment"># è®°å¾—åˆ‡æ¢æ–°åˆ†æ”¯å“¦ï¼</span></span><br><span class="line">$ git checkout -b åˆ†æ”¯å  <span class="comment">#åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œå¹¶åœ¨è¯¥åˆ†æ”¯ä¸‹å·¥ä½œï¼ˆä¾‹:git checkout mybranchï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å®Œä¸€äº›ä¸œè¥¿ï¼Œæƒ³æ›´æ–°ä¸€ä¸‹ä»“åº“æ—¶</span></span><br><span class="line">$ git add --allæˆ–git add .  <span class="comment">#æ·»åŠ ç­‰å¾…commit</span></span><br><span class="line">$ git commit -m <span class="string">&quot;XXX&quot;</span>   <span class="comment">#æ”¾è¿›local-gité‡Œ(â€œé™„åŠ ä¿¡æ¯â€ï¼Œä¸€èˆ¬å°±&quot;update from XXX&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># commitä¹‹å</span></span><br><span class="line">$ git checkout main<span class="comment">#å…ˆåˆ‡æ¢åˆ°ä¸»åˆ†æ”¯</span></span><br><span class="line">$ git pull origin main<span class="comment">#æŠŠè¿œç«¯mainåŒæ­¥åˆ°local_mainä¸­</span></span><br><span class="line">$ git checkout raliz<span class="comment">#åˆ‡æ¢åˆ°è‡ªå·±çš„åˆ†æ”¯</span></span><br><span class="line">$ git rebase/merge main    <span class="comment">#å°†è‡ªå·±åˆ†æ”¯çš„ä»£ç å’Œä¸»åˆ†æ”¯ä¸Šçš„æ–°ä»£ç åˆå¹¶</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è§£å†³rebase conflictï¼Œçœ‹ä¸€ä¸‹è‡ªå·±çš„ç¼–è¯‘å™¨ï¼Œæ“ä½œä¸€ä¸‹</span></span><br><span class="line">$ git add --all æˆ– .</span><br><span class="line">$ git commit -m <span class="string">&quot;msg&quot;</span></span><br><span class="line">$ git rebase cotinue</span><br><span class="line">$ git push (-f) origin åˆ†æ”¯å  <span class="comment">#(å¼ºè¡Œ)pushï¼Œå°†åˆå¹¶åçš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„å¯¹åº”åˆ†æ”¯</span></span><br><span class="line"><span class="comment"># å»pull requestï¼Œæ·»åŠ åˆ†æ”¯åˆå¹¶</span></span><br><span class="line"><span class="comment"># squash and mergeï¼Œdeleteåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…è¿œç«¯æ›´æ–°å®Œæ¯•</span></span><br><span class="line">$ git checkout main<span class="comment">#åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯</span></span><br><span class="line">$ git branch -D åˆ†æ”¯å    <span class="comment">#åˆ é™¤è‡ªå·±åˆ›å»ºçš„åˆ†æ”¯</span></span><br><span class="line">$ git pull origin main<span class="comment">#æ‹‰å–èˆ¹æ–°ç‰ˆæœ¬</span></span><br><span class="line">$ git checkout -b raliz<span class="comment">#åˆ›å»ºæ–°åˆ†æ”¯ï¼Œå¹¶åœ¨è¯¥åˆ†æ”¯ä¸‹å·¥ä½œ</span></span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½å‘ç°äº†ï¼Œgit rebase å’Œ git mergeéƒ½èƒ½åˆå¹¶åˆ†æ”¯ï¼Œä½†ä½ çŸ¥é“ä¸¤ç§çš„åŒºåˆ«å˜›ï¼Ÿ</p><h2 id="git-merge-main-å’Œ-git-rebase-mainçš„åŒºåˆ«"><a href="#git-merge-main-å’Œ-git-rebase-mainçš„åŒºåˆ«" class="headerlink" title="git merge main å’Œ git rebase mainçš„åŒºåˆ«"></a>git merge main å’Œ git rebase mainçš„åŒºåˆ«</h2><h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p>mergeä¼š<strong>åœ¨featureåˆ†æ”¯ä¸­æ–°å¢ä¸€ä¸ªæ–°çš„merge commit</strong>ï¼Œç„¶åå°†ä¸¤ä¸ªåˆ†æ”¯çš„å†å²è”ç³»åœ¨ä¸€èµ·ã€‚</p><p>æ˜¯ä¸€ç§<strong>éç ´åæ€§çš„æ“ä½œ</strong>ï¼Œå¯¹ç°æœ‰çš„åˆ†æ”¯ä¸ä¼šé€ æˆä»»ä½•æ–¹å¼çš„æ”¹å˜ã€‚</p><p>åˆ†æ”¯æ¯æ¬¡éœ€è¦åˆå¹¶ä¸Šæ¸¸æ›´æ”¹æ—¶ï¼Œå®ƒéƒ½äº§ç”Ÿä¸€ä¸ªé¢å¤–çš„å’Œå¹¶æäº¤ã€‚</p><p><strong>å¦‚æœmainåˆ†æ”¯æäº¤ååˆ†æ´»è·ƒï¼Œé‚£ä¹ˆå¯èƒ½ä¼šä¸¥é‡æ±¡æŸ“featureåˆ†æ”¯è®°å½•</strong>ï¼Œå¯ä»¥ä½¿ç”¨git logæ¥è§£å†³ã€‚</p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/S5YmfCK7wW1JxTB.png" alt="git-merge" style="zoom: 33%;" /><h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><p>rebaseä¼šå°†æ•´ä¸ªfeatureåˆ†æ”¯ç§»åŠ¨åˆ°mainåˆ†æ”¯çš„é¡¶ç«¯ï¼Œæœ‰æ•ˆæ•´åˆäº†æ‰€æœ‰mainåˆ†æ”¯çš„æäº¤ã€‚</p><p>rebaseé€šè¿‡ä¸ºåŸå§‹åˆ†æ”¯ä¸­æ¯ä¸ªæäº¤åˆ›å»ºå…¨æ–°commitsæ¥é‡å†™é¡¹ç›®å†å²è®°å½•ã€‚</p><p>rebaseèƒ½ä½¿å¾—è·å¾—æ›´æ¸…æ™°çš„é¡¹ç›®å†å²ï¼Œæ¶ˆé™¤äº†git mergeé‚£æ ·ä¸å¿…è¦çš„å’Œå¹¶æäº¤ã€‚</p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/F1qIGKTNDW6aRul.png" alt="git-rebase" style="zoom:33%;" /><p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/image-20230720203517949.png" alt="image-20230720203517949" style="zoom: 50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720203413810.png" alt="image-20230720203413810" style="zoom: 50%;" /></p><p>rebase rebase featureï¼Œç­‰æ•ˆä¸åˆ›å»ºäº†æ–°æäº¤ï¼Œä¸”è€çš„æäº¤åªæ˜¯ä¸èƒ½å†è¢«è®¿é—®ä½¿ç”¨</p><h1 id="GitHubå·¥ä½œæµå­¦ä¹ å®è·µæ€»ç»“"><a href="#GitHubå·¥ä½œæµå­¦ä¹ å®è·µæ€»ç»“" class="headerlink" title="GitHubå·¥ä½œæµå­¦ä¹ å®è·µæ€»ç»“"></a>GitHubå·¥ä½œæµå­¦ä¹ å®è·µæ€»ç»“</h1><p>è¿™ä¸ªå·¥ä½œæµæ˜¯è·Ÿç€ä¸€è¶…çº§ç‰›ç‰›upä¸»å­¦çš„ï¼Œæ¯”è¾ƒè§„èŒƒã€‚</p><p>ä¸‹é¢çš„å†…å®¹</p><p><strong>æ›´é€‚åˆå¼€æºé¡¹ç›®</strong></p><p><strong>æ›´é€‚åˆå¼€æºé¡¹ç›®</strong></p><p><strong>æ›´é€‚åˆå¼€æºé¡¹ç›®</strong></p><h2 id="fork"><a href="#fork" class="headerlink" title="fork"></a>fork</h2><blockquote><p>fork-åˆ†å‰ï¼Œæ˜¯åœ¨githubè´¦æˆ·ä¸Šå®Œæˆçš„ã€‚</p><p>forkä¸€ä¸ªå­˜å‚¨åº“ï¼Œä¼šåœ¨æˆ‘ä»¬çš„GitHubè´¦æˆ·ä¸Šåˆ›å»ºä¸€ä¸ªåŸå§‹å­˜å‚¨åº“çš„å‰¯æœ¬ã€‚</p><p>å¯¹åˆ†å‰å­˜å‚¨åº“æ‰€åšçš„æ›´æ”¹ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªpullè¯·æ±‚ä¸åŸå§‹å­˜å‚¨åº“åˆå¹¶ã€‚</p><p>forkåªåŒ…å«å­˜å‚¨åº“çš„ä¸€ä¸ªå•ç‹¬å‰¯æœ¬ï¼Œä¸æ¶‰åŠå‘½ä»¤ã€‚</p></blockquote><h3 id="å¿…è¦æ€§"><a href="#å¿…è¦æ€§" class="headerlink" title="å¿…è¦æ€§"></a>å¿…è¦æ€§</h3><ul><li>ä¸€äº›é¡¹ç›®ä»“åº“åœ¨å®‰å…¨è®¾ç½®ä¸Šä¼šç¦æ­¢ç›´æ¥åœ¨ä¸»ä»“åº“ç›´æ¥pushâ€”â€”åœ¨å‚ä¸å¼€æºé¡¹ç›®ä»£ç è´¡çŒ®æ—¶ï¼Œé€šå¸¸ä¸ä¼šç›´æ¥è·å¾—æºä»£ç ä»“åº“çš„Developeræƒé™ã€‚è¿™ç‚¹å’Œä¸€èˆ¬å…¬å¸å¼€å‘ä¸å¤ªä¸€æ ·ï¼Œå…¬å¸ä¸€èˆ¬éƒ½æ˜¯è®¾ç½®åœ¨åˆ†æ”¯ä¸Šæ˜¯å¦æœ‰Pushæƒé™ã€‚</li><li>è‡ªå·±ä¿®æ”¹ä¸€äº›ä¸œè¥¿ä¸ä¼šå½±å“åˆ°ä¸»ä»“åº“ï¼Œè€Œä¸”æ¯”è¾ƒå®‰å…¨åˆç†ï¼Œå¾ˆå·§å¦™å•Šã€‚</li></ul><h3 id="ç›¸å…³æ“ä½œ"><a href="#ç›¸å…³æ“ä½œ" class="headerlink" title="ç›¸å…³æ“ä½œ"></a>ç›¸å…³æ“ä½œ</h3><h4 id="forkä¸€ä¸‹"><a href="#forkä¸€ä¸‹" class="headerlink" title="forkä¸€ä¸‹"></a>forkä¸€ä¸‹</h4><p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/image-20230218103127303.png" alt="image-20230218103127303"></p><p>è¿™æ ·å­å°±åœ¨è‡ªå·±è´¦å·ä¸‹ç”Ÿæˆåˆ†ä»“åº“åŠ›ï¼</p><p><img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/image-20230218103208307.png" alt="image-20230218103208307"></p><h4 id="åŒæ­¥ä¸€ä¸‹"><a href="#åŒæ­¥ä¸€ä¸‹" class="headerlink" title="åŒæ­¥ä¸€ä¸‹"></a>åŒæ­¥ä¸€ä¸‹</h4><blockquote><p>æŸ¥äº†å¾ˆå¤šåœ°æ–¹ï¼Œç™¾åº¦æœå‡ºæ¥çš„æœ€ä¸é è°±ï¼Œå®˜æ–¹æ–‡æ¡£æœ€é è°±â†“</p><p><a href="https://docs.github.com/zh/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork">https://docs.github.com/zh/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork</a></p></blockquote><h5 id="åœ¨WebUIåŒæ­¥åˆ†å‰åˆ†æ”¯"><a href="#åœ¨WebUIåŒæ­¥åˆ†å‰åˆ†æ”¯" class="headerlink" title="åœ¨WebUIåŒæ­¥åˆ†å‰åˆ†æ”¯"></a>åœ¨WebUIåŒæ­¥åˆ†å‰åˆ†æ”¯</h5><ol><li><p>åœ¨ GitHub ä¸Šï¼Œå¯¼èˆªåˆ°æ‚¨æƒ³è¦ä¸ä¸Šæ¸¸ç‰ˆæœ¬åº“åŒæ­¥çš„å¤åˆ»ä»“åº“ä¸»é¡µã€‚</p></li><li><p>é€‰æ‹©â€œåŒæ­¥åˆ†æ”¯â€ä¸‹æ‹‰èœå•ã€‚</p><p><img src="https://docs.github.com/assets/cb-18605/images/help/repository/sync-fork-dropdown.png" alt="çªå‡ºæ˜¾ç¤ºâ€œåŒæ­¥åˆ†æ”¯â€ä¸‹æ‹‰èœå•"></p></li><li><p>æŸ¥çœ‹æœ‰å…³ä¸Šæ¸¸å­˜å‚¨åº“æäº¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œç„¶åå•å‡»â€œæ›´æ–°åˆ†æ”¯â€ã€‚<img src="../images/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91-Git%E5%B7%A5%E4%BD%9C%E6%B5%81/update-branch-button.png" alt="çªå‡ºæ˜¾ç¤ºâ€œæ›´æ–°åˆ†æ”¯â€æŒ‰é’®çš„åŒæ­¥åˆ†æ”¯æ¨¡å¼"></p></li></ol><p>å¦‚æœä¸Šæ¸¸ä»“åº“çš„æ›´æ”¹å¯¼è‡´å†²çªï¼ŒGitHub å°†æç¤ºæ‚¨åˆ›å»ºæ‹‰å–è¯·æ±‚ä»¥è§£å†³å†²çªã€‚</p><h5 id="ä»å‘½ä»¤è¡ŒåŒæ­¥åˆ†å‰åˆ†æ”¯"><a href="#ä»å‘½ä»¤è¡ŒåŒæ­¥åˆ†å‰åˆ†æ”¯" class="headerlink" title="ä»å‘½ä»¤è¡ŒåŒæ­¥åˆ†å‰åˆ†æ”¯"></a>ä»å‘½ä»¤è¡ŒåŒæ­¥åˆ†å‰åˆ†æ”¯</h5><ol><li><p>æ‰“å¼€Git Bashã€‚</p></li><li><p>å°†å½“å‰å·¥ä½œç›®å½•æ›´æ”¹ä¸ºæ‚¨çš„æœ¬åœ°ä»“åº“ã€‚</p></li><li><p>ä»ä¸Šæ¸¸ä»“åº“è·å–åˆ†æ”¯åŠå…¶å„è‡ªçš„æäº¤ã€‚ å¯¹ <code>BRANCHNAME</code> çš„æäº¤å°†ä¿å­˜åœ¨æœ¬åœ°åˆ†æ”¯ <code>upstream/BRANCHNAME</code> ä¸­ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git fetch upstream</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Counting objects: 75, <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Compressing objects: 100% (53/53), <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">remote: Total 62 (delta 27), reused 44 (delta 9)</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Unpacking objects: 100% (62/62), <span class="keyword">done</span>.</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> * [new branch]      main     -&gt; upstream/main</span></span><br></pre></td></tr></table></figure></li><li><p>ç­¾å‡ºåˆ†æ”¯çš„æœ¬åœ°é»˜è®¤åˆ†æ”¯ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>main</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Switched to branch <span class="string">&#x27;main&#x27;</span></span></span><br></pre></td></tr></table></figure></li><li><p>å°†ä¸Šæ¸¸é»˜è®¤åˆ†æ”¯ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º <code>upstream/main</code>ï¼‰çš„æ›´æ”¹åˆå¹¶åˆ°æœ¬åœ°é»˜è®¤åˆ†æ”¯ä¸­ã€‚ è¿™ä¼šä½¿å¤åˆ»çš„é»˜è®¤åˆ†æ”¯ä¸ä¸Šæ¸¸ä»“åº“åŒæ­¥ï¼Œè€Œä¸ä¼šä¸¢å¤±æœ¬åœ°æ›´æ”¹ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge upstream/main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Updating a422352..5fdff0f</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Fast-forward</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README                    |    9 -------</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README.md                 |    7 ++++++</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> 2 files changed, 7 insertions(+), 9 deletions(-)</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> delete mode 100644 README</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> create mode 100644 README.md</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœ¬åœ°åˆ†æ”¯æ²¡æœ‰ä»»ä½•å”¯ä¸€æäº¤ï¼ŒGit å°†æ‰§è¡Œå¿«é€Ÿè½¬å‘ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… Git æ–‡æ¡£ä¸­çš„<a href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">åŸºæœ¬åˆ†æ”¯å’Œåˆå¹¶</a>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge upstream/main</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Updating 34e91da..16c56ad</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">Fast-forward</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> README.md                 |    5 +++--</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> 1 file changed, 3 insertions(+), 2 deletions(-)</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœ¬åœ°åˆ†æ”¯å…·æœ‰å”¯ä¸€æäº¤ï¼Œåˆ™å¯èƒ½éœ€è¦è§£å†³å†²çªã€‚</p></li></ol><h4 id="ç»§ç»­å¼€å‘"><a href="#ç»§ç»­å¼€å‘" class="headerlink" title="ç»§ç»­å¼€å‘"></a>ç»§ç»­å¼€å‘</h4><p>è¿™æ ·å­å°±èƒ½ä¿è¯é¡¹ç›®åŸºæœ¬å¼€å‘çº¿æ€§å•¦</p><h2 id="pråŸºæœ¬æµç¨‹"><a href="#pråŸºæœ¬æµç¨‹" class="headerlink" title="pråŸºæœ¬æµç¨‹"></a>pråŸºæœ¬æµç¨‹</h2><p>åœ¨forä¸forkçš„åŸºç¡€ä¸Šâ†“</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ€å¼€å§‹</span></span><br><span class="line"><span class="variable">$</span> git clone<span class="comment">#å°†è¿œç¨‹ä»“åº“çš„ä»£ç æ‹‰åˆ°æœ¬åœ°(local-git)</span></span><br><span class="line"><span class="comment"># è®°å¾—åˆ‡æ¢æ–°åˆ†æ”¯å“¦ï¼</span></span><br><span class="line"><span class="variable">$</span> git checkout <span class="literal">-b</span> åˆ†æ”¯å  <span class="comment">#åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œå¹¶åœ¨è¯¥åˆ†æ”¯ä¸‹å·¥ä½œï¼ˆä¾‹:git checkout mybranchï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å®Œä¸€äº›ä¸œè¥¿ï¼Œæƒ³æ›´æ–°ä¸€ä¸‹ä»“åº“æ—¶</span></span><br><span class="line"><span class="variable">$</span> git add <span class="literal">--all</span>æˆ–git add .  <span class="comment">#æ·»åŠ ç­‰å¾…commit</span></span><br><span class="line"><span class="variable">$</span> git commit <span class="literal">-m</span> <span class="string">&quot;XXX&quot;</span>   <span class="comment">#æ”¾è¿›local-gité‡Œ(â€œé™„åŠ ä¿¡æ¯â€ï¼Œä¸€èˆ¬å°±&quot;update from XXX&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># commitä¹‹å</span></span><br><span class="line"><span class="variable">$</span> git checkout main<span class="comment">#å…ˆåˆ‡æ¢åˆ°ä¸»åˆ†æ”¯</span></span><br><span class="line"><span class="variable">$</span> git pull origin main<span class="comment">#æŠŠè¿œç«¯mainåŒæ­¥åˆ°local_mainä¸­</span></span><br><span class="line"><span class="variable">$</span> git checkout raliz<span class="comment">#åˆ‡æ¢åˆ°è‡ªå·±çš„åˆ†æ”¯</span></span><br><span class="line"><span class="variable">$</span> git rebase/merge main    <span class="comment">#å°†è‡ªå·±åˆ†æ”¯çš„ä»£ç å’Œä¸»åˆ†æ”¯ä¸Šçš„æ–°ä»£ç åˆå¹¶</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è§£å†³rebase conflictï¼Œçœ‹ä¸€ä¸‹è‡ªå·±çš„ç¼–è¯‘å™¨ï¼Œæ“ä½œä¸€ä¸‹</span></span><br><span class="line"><span class="variable">$</span> git add <span class="literal">--all</span> æˆ– .</span><br><span class="line"><span class="variable">$</span> git commit <span class="literal">-m</span> <span class="string">&quot;msg&quot;</span></span><br><span class="line"><span class="variable">$</span> git rebase cotinue</span><br><span class="line"><span class="variable">$</span> git push (<span class="operator">-f</span>) origin åˆ†æ”¯å  <span class="comment">#(å¼ºè¡Œ)pushï¼Œå°†åˆå¹¶åçš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„å¯¹åº”åˆ†æ”¯</span></span><br><span class="line"><span class="comment"># å»pull requestï¼Œæ·»åŠ åˆ†æ”¯åˆå¹¶</span></span><br><span class="line"><span class="comment"># squash and mergeï¼Œdeleteåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å¾…è¿œç«¯æ›´æ–°å®Œæ¯•</span></span><br><span class="line"><span class="variable">$</span> git checkout main<span class="comment">#åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯</span></span><br><span class="line"><span class="variable">$</span> git branch <span class="literal">-D</span> åˆ†æ”¯å    <span class="comment">#åˆ é™¤è‡ªå·±åˆ›å»ºçš„åˆ†æ”¯</span></span><br><span class="line"><span class="variable">$</span> git pull origin main<span class="comment">#æ‹‰å–èˆ¹æ–°ç‰ˆæœ¬</span></span><br><span class="line"><span class="variable">$</span> git checkout <span class="literal">-b</span> raliz<span class="comment">#åˆ›å»ºæ–°åˆ†æ”¯ï¼Œå¹¶åœ¨è¯¥åˆ†æ”¯ä¸‹å·¥ä½œ</span></span><br></pre></td></tr></table></figure><p>ç‰›ç‰›ï¼ï¼</p><h2 id="commite-message"><a href="#commite-message" class="headerlink" title="commite message"></a>commite message</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">type</span>&gt;: &lt;subject&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span>(å¿…é¡»)â€”â€”ç”¨äºè¯´æ˜git commitçš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢çš„æ ‡è¯†ã€‚</span><br><span class="line">featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ã€‚</span><br><span class="line">fix/toï¼šä¿®å¤bugï¼Œå¯ä»¥æ˜¯QAå‘ç°çš„BUGï¼Œä¹Ÿå¯ä»¥æ˜¯ç ”å‘è‡ªå·±å‘ç°çš„BUGã€‚</span><br><span class="line">fixï¼šäº§ç”Ÿdiffå¹¶è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºä¸€æ¬¡æäº¤ç›´æ¥ä¿®å¤é—®é¢˜</span><br><span class="line">toï¼šåªäº§ç”Ÿdiffä¸è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºå¤šæ¬¡æäº¤ã€‚æœ€ç»ˆä¿®å¤é—®é¢˜æäº¤æ—¶ä½¿ç”¨fix</span><br><span class="line">docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ã€‚</span><br><span class="line">styleï¼šæ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ã€‚</span><br><span class="line">refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ã€‚</span><br><span class="line">perfï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒã€‚</span><br><span class="line">testï¼šå¢åŠ æµ‹è¯•ã€‚</span><br><span class="line">choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ã€‚</span><br><span class="line">revertï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚</span><br><span class="line">mergeï¼šä»£ç åˆå¹¶ã€‚</span><br><span class="line">syncï¼šåŒæ­¥ä¸»çº¿æˆ–åˆ†æ”¯çš„Bugã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line">feat: æ·»åŠ  button ç»„ä»¶</span><br><span class="line">fix: ä¿®å¤ button ç»„ä»¶ circle æ ·å¼</span><br><span class="line">refactor(docs): æ·»åŠ inputæ–‡æ¡£</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å‘½ä»¤è¡Œ"><a href="#å¸¸ç”¨å‘½ä»¤è¡Œ" class="headerlink" title="å¸¸ç”¨å‘½ä»¤è¡Œ"></a>å¸¸ç”¨å‘½ä»¤è¡Œ</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> git branch<span class="comment">#æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯</span></span><br><span class="line"><span class="variable">$</span> git branch <span class="literal">-m</span> oldName newName<span class="comment">#æ›´æ”¹åˆ†æ”¯å</span></span><br><span class="line"><span class="variable">$</span> git remote <span class="literal">-v</span><span class="comment">#æŸ¥çœ‹æœ¬åœ°å…³è”åœ°å€</span></span><br><span class="line"><span class="variable">$</span> git remote remove origin<span class="comment">#åˆ é™¤ç°åœ¨å…³è¿œç¨‹ä»“åº“</span></span><br><span class="line"><span class="variable">$</span> git remote add origin XXX<span class="comment">#æ·»åŠ æ–°çš„è¿œç¨‹ä»“åº“</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$</span> git rebase <span class="literal">--abort</span><span class="comment">#å–æ¶ˆrebase</span></span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>æäº¤prè¿‡ç¨‹ä¸­è¦æ³¨æ„è¿™äº›é—®é¢˜ï¼Œä¸ç„¶è‡ªå·±éƒ½ä¼šå«Œå¼ƒè‡ªå·±ã€‚</p><ul><li>åˆ†æ”¯åå­—å°½é‡ç”¨æ–°å¢çš„åŠŸèƒ½æˆ–è€…ä¿®å¤äº†ä»€ä¹ˆ bug å‘½å</li><li>å¹²ä¸€ç‚¹å°±æäº¤ä¸€ç‚¹ï¼Œä¸ç„¶è¦è¿‡åº¦rebase</li></ul>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>HTTPè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/7743.html"/>
      <url>/post/7743.html</url>
      
        <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><p>æ­£ç»äººè°å­¦HTTPå•Š</p><h2 id="åˆè¯†"><a href="#åˆè¯†" class="headerlink" title="åˆè¯†"></a>åˆè¯†</h2><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094221823.png" alt="image-20230211094221823"></p><h3 id="ä»€ä¹ˆæ˜¯HTTPï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯HTTPï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯HTTPï¼Ÿ"></a>ä»€ä¹ˆæ˜¯HTTPï¼Ÿ</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094241402.png" alt="image-20230211094241402"></p><h2 id="åè®®åˆ†æ"><a href="#åè®®åˆ†æ" class="headerlink" title="åè®®åˆ†æ"></a>åè®®åˆ†æ</h2><h3 id="å˜åŒ–"><a href="#å˜åŒ–" class="headerlink" title="å˜åŒ–"></a>å˜åŒ–</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094253459.png" alt="image-20230211094253459"></p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ä»¥HTTP/1.1ä¸ºä¾‹ï¼š</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094305325.png" alt="image-20230211094305325"></p><h3 id="1-Method"><a href="#1-Method" class="headerlink" title="1.Method"></a>1.Method</h3><h4 id="å¸¸è§"><a href="#å¸¸è§" class="headerlink" title="å¸¸è§"></a>å¸¸è§</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094316160.png" alt="image-20230211094316160"></p><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li><p>Safeå®‰å…¨ï¼šä¸ä¼šä¿®æ”¹æœåŠ¡å™¨çš„æ•°æ®çš„æ–¹æ³•</p><blockquote><p>GET HEAD OPTIONS</p></blockquote></li><li><p>Indempoteneå¹‚ç­‰ï¼šåŒæ ·çš„è¯·æ±‚è¢«æ‰§è¡Œä¸€æ¬¡ä¸è¿ç»­æ‰§è¡Œå¤šæ¬¡çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ŒæœåŠ¡å™¨çš„çŠ¶æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ‰€æœ‰çš„safeçš„æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„</p><blockquote><p>GET HEAD OPTIONS PUT DELETE</p></blockquote></li></ul><h3 id="2-çŠ¶æ€ç "><a href="#2-çŠ¶æ€ç " class="headerlink" title="2.çŠ¶æ€ç "></a>2.çŠ¶æ€ç </h3><h4 id="å¸¸è§-1"><a href="#å¸¸è§-1" class="headerlink" title="å¸¸è§"></a>å¸¸è§</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094325151.png" alt="image-20230211094325151"></p><h4 id="RESTful-API"><a href="#RESTful-API" class="headerlink" title="RESTful API"></a>RESTful API</h4><p>Representational State Transferï¼ˆRESTï¼‰ful API</p><p>ä¸€ç§APIè®¾è®¡é£æ ¼</p><h5 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h5><ol><li>æ¯ä¸ªURIä»£è¡¨ä¸€ç§èµ„æº</li><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¼ é€’è¿™ç§èµ„æºçš„æŸç§è¡¨ç°å±‚</li><li>å®¢æˆ·ç«¯é€šè¿‡HTTP methodï¼Œå¯¹æœåŠ¡å™¨ç«¯èµ„æºè¿›è¡Œæ“ä½œï¼Œå®ç°â€œè¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€</li></ol><h5 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h5><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094336678.png" alt="image-20230211094336678"></p><h3 id="3-è¯·æ±‚å¤´"><a href="#3-è¯·æ±‚å¤´" class="headerlink" title="3.è¯·æ±‚å¤´"></a>3.è¯·æ±‚å¤´</h3><h4 id="å¸¸ç”¨è¯·æ±‚å¤´"><a href="#å¸¸ç”¨è¯·æ±‚å¤´" class="headerlink" title="å¸¸ç”¨è¯·æ±‚å¤´"></a>å¸¸ç”¨è¯·æ±‚å¤´</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094405977.png" alt="image-20230211094405977"></p><h3 id="4-ç¼“å­˜"><a href="#4-ç¼“å­˜" class="headerlink" title="4.ç¼“å­˜"></a>4.ç¼“å­˜</h3><h4 id="å¼ºç¼“å­˜-åå•†ç¼“å­˜"><a href="#å¼ºç¼“å­˜-åå•†ç¼“å­˜" class="headerlink" title="å¼ºç¼“å­˜/åå•†ç¼“å­˜"></a>å¼ºç¼“å­˜/åå•†ç¼“å­˜</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094419297.png" alt="image-20230211094419297"></p><h4 id="ä¼˜å…ˆçº§-æµç¨‹"><a href="#ä¼˜å…ˆçº§-æµç¨‹" class="headerlink" title="ä¼˜å…ˆçº§/æµç¨‹"></a>ä¼˜å…ˆçº§/æµç¨‹</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094428650.png" alt="image-20230211094428650"></p><h3 id="5-cookie"><a href="#5-cookie" class="headerlink" title="5.cookie"></a>5.cookie</h3><h4 id="Set-Cookie-response"><a href="#Set-Cookie-response" class="headerlink" title="Set-Cookie -response"></a>Set-Cookie -response</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094442637.png" alt="image-20230211094442637"></p><h3 id="HTTP-2"><a href="#HTTP-2" class="headerlink" title="HTTP/2"></a>HTTP/2</h3><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>æ›´å¿«æ›´ç¨³æ›´ç®€å•</p><h4 id="ä¸€äº›åè¯"><a href="#ä¸€äº›åè¯" class="headerlink" title="ä¸€äº›åè¯"></a>ä¸€äº›åè¯</h4><ul><li> å¸§ï¼šHTTP/2é€šä¿¡çš„æœ€å°å•ä½ï¼Œæ¯ä¸ªå¸§éƒ½åŒ…å«å¸§å¤´ï¼Œè‡³å°‘ä¹Ÿä¼šæ ‡è¯†å‡ºå½“å‰å¸§æ‰€å±çš„æ•°æ®æµ</li><li>äºŒè¿›åˆ¶ æå¤§æé«˜æ•ˆç‡</li><li>å‹ç¼©ç®—æ³• æå¤§æé«˜æ•ˆç‡</li><li>æ¶ˆæ¯ï¼šä¸é€»è¾‘è¯·æ±‚æˆ–å“åº”æ¶ˆæ¯å¯¹åº”çš„å®Œæ•´çš„ä¸€ç³»åˆ—å¸§ã€‚</li><li>æ•°æ®æµï¼šå·²å»ºç«‹çš„è¿æ¥å†…çš„åŒå‘å­—èŠ‚æµï¼Œå¯ä»¥æ‰¿è½½ä¸€æ¡æˆ–å¤šæ¡æ¶ˆæ¯ã€‚</li><li>äº¤é”™å‘é€ï¼Œæ¥æ”¶æ–¹é‡ç»„ç»‡</li></ul><h4 id="ä¸€äº›ç‰¹æ€§"><a href="#ä¸€äº›ç‰¹æ€§" class="headerlink" title="ä¸€äº›ç‰¹æ€§"></a>ä¸€äº›ç‰¹æ€§</h4><ul><li>HTTP/2è¿æ¥éƒ½æ˜¯æ°¸ä¹…çš„ï¼Œè€Œä¸”ä»…éœ€è¦æ¯ä¸ªæ¥æºä¸€ä¸ªè¿æ¥</li><li>æµæ§åˆ¶ï¼šé˜»æ­¢å‘é€æ–¹å‘æ¥æ”¶æ–¹å‘é€å¤§é‡æ•°æ®çš„æœºåˆ¶</li><li>æœåŠ¡å™¨æ¨é€ï¼šæœåŠ¡å™¨ä¸»åŠ¨æ¨é€ä¸€äº›ä¿¡æ¯ï¼ˆæ¯”å¦‚ä¸€äº›é™æ€èµ„æºï¼Œä½†æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µï¼Œä¸è¦ç›²ç›®æ€¼è¿›å»ï¼‰</li></ul><h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><h4 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><ul><li>HTTPS Hypertext Transfer Protocol Secure</li><li>ç»è¿‡TSL/SSLåŠ å¯†</li></ul><h4 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h4><ul><li> å¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å’Œè§£å¯†éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥</li><li>éå¯¹ç§°åŠ å¯†ï¼ŒåŠ å¯†å’Œè§£å¯†éœ€è¦ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ï¼šå…¬é’¥(public key)å’Œç§é’¥(private key)</li><li>ä¸ºäº†è¾¾åˆ°æ›´é«˜å®‰å…¨æ€§â€”â€”ä¸¤è€…æ··ç”¨â†“</li></ul><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094458634.png" alt="image-20230211094458634"></p><h2 id="å¸¸è§åœºæ™¯"><a href="#å¸¸è§åœºæ™¯" class="headerlink" title="å¸¸è§åœºæ™¯"></a>å¸¸è§åœºæ™¯</h2><h3 id="é™æ€èµ„æº"><a href="#é™æ€èµ„æº" class="headerlink" title="é™æ€èµ„æº"></a>é™æ€èµ„æº</h3><p>å¥½ç©å§</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094458634-1676694486063-29.png" alt="image-20230211094458634"></p><h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211104616306.png" alt="image-20230211104616306"></p><h4 id="OPTIONSå¼•å‡º"><a href="#OPTIONSå¼•å‡º" class="headerlink" title="OPTIONSå¼•å‡º"></a>OPTIONSå¼•å‡º</h4><ul><li>è·¨åŸŸé—®é¢˜-cross-origin</li><li>éœ€è¦same-origin</li></ul><p>https:       //<a href="http://www.example.com/">www.example.com</a>     :443<br>scheme     host name                    port</p><h4 id="å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ"><a href="#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ"></a>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ</h4><ol><li><p>CORS    Cross-Origin Resource Sharing</p><ul><li><p>é¢„è¯·æ±‚ï¼šè·çŸ¥æœåŠ¡ç«¯æ˜¯å¦å…è®¸è¯¥è·¨æºè¯·æ±‚ï¼ˆå¤æ‚è¯·æ±‚ï¼‰</p></li><li><p>ç›¸å…³åè®®å¤´<br>Access-Control-Allow-Origin<br>Access-Control-Expose-Headers<br>Access-Control-Max-Age<br>Access-Control-Allow-Credentials<br>Access-Control-Allow-Methods<br>Access-Control-Allow-Headers<br>Access-Control-Request-Method<br>Access-Control-Request-Headers<br>Origin</p></li></ul></li><li><p>ä»£ç†æœåŠ¡å™¨</p><ul><li><p>åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œä¸æ˜¯HTTPçš„</p><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211105054923.png" alt="image-20230211105054923"></p></li></ul></li><li><p>Iframe</p><ul><li>è¯¸å¤šä¸ä¾¿</li></ul></li></ol><h4 id="æºå¸¦ä¿¡æ¯"><a href="#æºå¸¦ä¿¡æ¯" class="headerlink" title="æºå¸¦ä¿¡æ¯"></a>æºå¸¦ä¿¡æ¯</h4><ol><li>å‘ä»€ä¹ˆåœ°å€åšäº†ä»€ä¹ˆåŠ¨ä½œï¼Ÿï¼ˆæ —å­ï¼‰<ul><li>ä½¿ç”¨POSTæ–¹æ³•</li><li>ç›®æ ‡åŸŸåhttps:/sso.toutiao.com</li><li>ç›®æ ‡path/quick_login,/v2/</li></ul></li><li>æºå¸¦äº†å“ªäº›ä¿¡æ¯ï¼Œè¿”å›äº†å“ªäº›ä¿¡æ¯ï¼Ÿ<ul><li>æºå¸¦ä¿¡æ¯<pre><code>Post body,æ•°æ®æ ¼å¼ä¸ºformå¸Œæœ›è·å–çš„æ•°æ®æ ¼å¼ä¸ºjsonå·²æœ‰çš„cookie</code></pre></li><li>è¿”å›ä¿¡æ¯<pre><code>æ•°æ®æ ¼å¼jsonç§cookieçš„ä¿¡æ¯</code></pre></li></ul></li></ol><h4 id="é‰´æƒ"><a href="#é‰´æƒ" class="headerlink" title="é‰´æƒ"></a>é‰´æƒ</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211105550005.png" alt="image-20230211105550005"></p><h4 id="SSOå•ç‚¹ç™»å½•"><a href="#SSOå•ç‚¹ç™»å½•" class="headerlink" title="SSOå•ç‚¹ç™»å½•"></a>SSOå•ç‚¹ç™»å½•</h4><p>å•ç‚¹ç™»å½•ï¼ˆSingle Sign-Onï¼Œç¼©å†™ä¸º SSOï¼‰æ˜¯ä¸€ç§ç”¨æˆ·è®¤è¯æ–¹å¼ï¼Œä½¿ç”¨ä¸€ä¸ªå‡­è¯ï¼ˆå¦‚ç”¨æˆ·åå’Œå¯†ç ï¼‰å³å¯ç™»å½•å¤šä¸ªç›¸å…³ç³»ç»Ÿã€‚è¿™æ ·ï¼Œç”¨æˆ·åªéœ€è¦ç™»å½•ä¸€æ¬¡å°±å¯ä»¥åœ¨å¤šä¸ªç³»ç»Ÿä¸­è®¿é—®æ‰€éœ€çš„èµ„æºï¼Œè€Œä¸éœ€è¦åœ¨æ¯ä¸ªç³»ç»Ÿä¸Šè¿›è¡Œç‹¬ç«‹ç™»å½•ã€‚</p><p>å•ç‚¹ç™»å½•é€šå¸¸ç”¨äºç»„ç»‡å†…éƒ¨çš„ç³»ç»Ÿï¼Œå¦‚ä¼ä¸šå†…éƒ¨çš„äººåŠ›èµ„æºç³»ç»Ÿã€è´¢åŠ¡ç³»ç»Ÿç­‰ã€‚å®ƒçš„å¥½å¤„åœ¨äºç®€åŒ–äº†ç”¨æˆ·ç™»å½•è¿‡ç¨‹ï¼Œæé«˜äº†ç”¨æˆ·ä½“éªŒï¼Œå¹¶ä¸”æé«˜äº†å®‰å…¨æ€§ã€‚</p><h2 id="å®é™…åº”ç”¨"><a href="#å®é™…åº”ç”¨" class="headerlink" title="å®é™…åº”ç”¨"></a>å®é™…åº”ç”¨</h2><h3 id="XHR"><a href="#XHR" class="headerlink" title="XHR"></a>XHR</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153030107.png" alt="image-20230211153030107"></p><h3 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h3><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153051629.png" alt="image-20230211153051629"></p><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><h4 id="HTTP-HTTPS"><a href="#HTTP-HTTPS" class="headerlink" title="HTTP/HTTPS"></a>HTTP/HTTPS</h4><ul><li>é»˜è®¤æ¨¡å—ï¼Œæ— éœ€å®‰è£…å…¶ä»–ä¾èµ–</li><li>åŠŸèƒ½æœ‰é™/ä¸æ˜¯ååˆ†å‹å¥½</li></ul><h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><ul><li>æ”¯æŒæµè§ˆå™¨ã€nodejsç¯å¢ƒ</li><li>ä¸°å¯Œçš„æ‹¦æˆªå™¨</li></ul><h3 id="ç½‘ç»œä¼˜åŒ–"><a href="#ç½‘ç»œä¼˜åŒ–" class="headerlink" title="ç½‘ç»œä¼˜åŒ–"></a>ç½‘ç»œä¼˜åŒ–</h3><h4 id="å¿«"><a href="#å¿«" class="headerlink" title="å¿«"></a>å¿«</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153308004.png" alt="image-20230211153308004"></p><h4 id="ç¨³"><a href="#ç¨³" class="headerlink" title="ç¨³"></a>ç¨³</h4><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153414258.png" alt="image-20230211153414258"></p><ul><li>é‡è¯•æ˜¯ä¿è¯ç¨³å®šçš„æœ‰æ•ˆæ‰‹æ®µï¼Œä½†æ˜¯è¦é˜²æ­¢åŠ å‰§æ¶åŠ£æƒ…å†µ</li><li>ç¼“å­˜åˆç†ä½¿ç”¨ï¼Œä½œä¸ºæœ€åçš„ä¸€é“é˜²çº¿</li></ul><h2 id="äº†è§£æ›´å¤š"><a href="#äº†è§£æ›´å¤š" class="headerlink" title="äº†è§£æ›´å¤š"></a>äº†è§£æ›´å¤š</h2><h3 id="é€šä¿¡æ–¹å¼"><a href="#é€šä¿¡æ–¹å¼" class="headerlink" title="é€šä¿¡æ–¹å¼"></a>é€šä¿¡æ–¹å¼</h3><h4 id="WEbSocket"><a href="#WEbSocket" class="headerlink" title="WEbSocket"></a>WEbSocket</h4><ul><li>æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œå…¨åŒå·¥é€šè®¯çš„ç½‘ç»œæŠ€æœ¯</li><li>å…¸å‹åœºæ™¯ï¼šå®æ—¶æ€§è¦æ±‚é«˜ï¼Œä¾‹å¦‚èŠå¤©å®¤</li><li>URLä½¿ç”¨ws://æˆ–wSs:/ç­‰å¼€å¤´</li></ul><h3 id="ä¼ è¾“å±‚UDP"><a href="#ä¼ è¾“å±‚UDP" class="headerlink" title="ä¼ è¾“å±‚UDP"></a>ä¼ è¾“å±‚UDP</h3><h4 id="QUICï¼ˆç›®å‰ä¸é€‚åˆå¤§è§„æ¨¡åº”ç”¨ï¼‰"><a href="#QUICï¼ˆç›®å‰ä¸é€‚åˆå¤§è§„æ¨¡åº”ç”¨ï¼‰" class="headerlink" title="QUICï¼ˆç›®å‰ä¸é€‚åˆå¤§è§„æ¨¡åº”ç”¨ï¼‰"></a>QUICï¼ˆç›®å‰ä¸é€‚åˆå¤§è§„æ¨¡åº”ç”¨ï¼‰</h4><ul><li>QUIC:Quick UDP Internet Connection</li><li>O-RTTå»ºè”ï¼ˆé¦–æ¬¡å»ºè”é™¤å¤–ï¼‰ã€‚</li><li>ç±»ä¼¼TCPçš„å¯é ä¼ è¾“ã€‚</li><li>ç±»ä¼¼TLSçš„åŠ å¯†ä¼ è¾“ï¼Œæ”¯æŒå®Œç¾å‰å‘å®‰å…¨ã€‚</li><li>ç”¨æˆ·ç©ºé—´çš„æ‹¥å¡æ§åˆ¶ï¼Œæœ€æ–°çš„BBRç®—æ³•ã€‚</li><li>æ”¯æŒh2çš„åŸºäºæµçš„å¤šè·¯å¤ç”¨ï¼Œä½†æ²¡æœ‰TCPçš„HOLé—®é¢˜ã€‚</li><li>å‰å‘çº é”™FECã€‚</li><li>ç±»ä¼¼MPTCPçš„Connection migrationã€‚</li></ul><p><img src="../images/HTTP%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211153755036.png" alt="image-20230211153755036"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTPåè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TSè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/bd24.html"/>
      <url>/post/bd24.html</url>
      
        <content type="html"><![CDATA[<h1 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h1><p>æ­£ç»äººè°å­¦TSå•Š</p><h2 id="å‘å±•å†å²"><a href="#å‘å±•å†å²" class="headerlink" title="å‘å±•å†å²"></a>å‘å±•å†å²</h2><blockquote><ul><li>2012-10:å¾®è½¯å‘å¸ƒäº†TypeScriptç¬¬-ä¸ªç‰ˆæœ¬(0.8)</li><li>2014-10:Angular2å‘å¸ƒäº†åŸºäºTypeScriptçš„2.0ç‰ˆæœ¬</li><li>2015-04:å¾®è½¯å‘å¸ƒäº†Visual Studio Code</li><li>2016-05:@types/react?å‘å¸ƒï¼ŒTypeScriptå¯å¼€å‘React</li><li>2020-09:ueå‘å¸ƒäº†3.0ç‰ˆæœ¬ï¼Œå®˜æ–¹æ”¯æŒTypeScript</li><li>2021-11:v4.5ç‰ˆæœ¬å‘å¸ƒ</li></ul></blockquote><h2 id="ä¸ºä»€ä¹ˆTS"><a href="#ä¸ºä»€ä¹ˆTS" class="headerlink" title="ä¸ºä»€ä¹ˆTS"></a>ä¸ºä»€ä¹ˆTS</h2><h3 id="å’ŒJSçš„æ¯”è¾ƒ"><a href="#å’ŒJSçš„æ¯”è¾ƒ" class="headerlink" title="å’ŒJSçš„æ¯”è¾ƒ"></a>å’ŒJSçš„æ¯”è¾ƒ</h3><table><thead><tr><th>JS</th><th>TS</th></tr></thead><tbody><tr><td>åŠ¨æ€ç±»å‹</td><td>é™æ€ç±»å‹</td></tr><tr><td>å¼±ç±»å‹è¯­è¨€</td><td>å¼±ç±»å‹è¯­è¨€</td></tr></tbody></table><h4 id="åŠ¨æ€ç±»å‹"><a href="#åŠ¨æ€ç±»å‹" class="headerlink" title="åŠ¨æ€ç±»å‹"></a>åŠ¨æ€ç±»å‹</h4><p>åœ¨æ‰§è¡Œé˜¶æ®µæ‰ç¡®å®šç±»å‹çš„åŒ¹é…ã€‚ç¼–è¯‘åœ¨æ‰§è¡Œæ—¶</p><h4 id="é™æ€ç±»å‹"><a href="#é™æ€ç±»å‹" class="headerlink" title="é™æ€ç±»å‹"></a>é™æ€ç±»å‹</h4><p>æå‰ç¡®å®šç±»å‹åŒ¹é…ã€‚ç¼–è¯‘åœ¨æ‰§è¡Œå‰</p><h4 id="å¼±ç±»å‹è¯­è¨€"><a href="#å¼±ç±»å‹è¯­è¨€" class="headerlink" title="å¼±ç±»å‹è¯­è¨€"></a>å¼±ç±»å‹è¯­è¨€</h4><p>æ•°æ®ç±»å‹å¯ä»¥è¢«å¿½ç•¥çš„è¯­è¨€=&gt;ä¸€ä¸ªå˜é‡å¯ä»¥èµ‹ä¸åŒçš„æ•°æ®ç±»å‹çš„å€¼ã€‚</p><h4 id="å¼ºç±»å‹è¯­è¨€"><a href="#å¼ºç±»å‹è¯­è¨€" class="headerlink" title="å¼ºç±»å‹è¯­è¨€"></a>å¼ºç±»å‹è¯­è¨€</h4><p>å¼ºåˆ¶æ•°æ®ç±»å‹å®šä¹‰çš„è¯­è¨€=&gt;ä¸€ä¸ªå˜é‡è¢«æŒ‡å®šäº†æŸä¸ªæ•°æ®ç±»å‹ï¼Œå¦‚æœä¸ç»è¿‡å¼ºåˆ¶è½¬æ¢ï¼Œæ°¸è¿œæ˜¯è¿™ä¸ªç±»å‹=&gt;ä¸€ä¸ªç±»å‹çš„å˜é‡ä¸ä¼šè¢«å½“æˆå¦ä¸€ç§ç±»å‹å¤„ç†ï¼Œï¼ˆå¼ºç±»å‹å®šä¹‰è¯­è¨€æ˜¯ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼‰</p><h4 id="TSä¼˜åŠ¿"><a href="#TSä¼˜åŠ¿" class="headerlink" title="TSä¼˜åŠ¿"></a>TSä¼˜åŠ¿</h4><h5 id="é™æ€ç±»å‹-1"><a href="#é™æ€ç±»å‹-1" class="headerlink" title="é™æ€ç±»å‹"></a>é™æ€ç±»å‹</h5><ul><li>å¯è¯»æ€§å¢å¼ºï¼šåŸºäºè¯­æ³•è§£æTSDocï¼Œideå¢å¼º</li><li>å¯ç»´æŠ¤æ€§å¢å¼ºï¼šåœ¨ç¼–è¯‘é˜¶æ®µæš´éœ²å¤§éƒ¨åˆ†é”™è¯¯=&gt;å¤šäººåˆä½œçš„å¤§å‹é¡¹ç›®ä¸­è·å¾—æ›´å¥½çš„ç¨³å®šæ€§å’Œå¼€å‘æ•ˆç‡</li></ul><h5 id="JSçš„è¶…é›†"><a href="#JSçš„è¶…é›†" class="headerlink" title="JSçš„è¶…é›†"></a>JSçš„è¶…é›†</h5><ul><li>åŒ…å«äºå…¼å®¹æ‰€æœ‰çš„JSç‰¹æ€§ï¼Œæ”¯æŒå…±å­˜</li><li>æ”¯æŒæ¸è¿›å¼å¼•å…¥çš„å‡çº§</li></ul><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><h3 id="åŸºç¡€æ•°æ®ç±»å‹"><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹</h3><p>JS</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> q = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> w = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> e = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> r = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> t = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">q</span>: <span class="built_in">string</span> = <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">w</span>: <span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">e</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">r</span>: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line">ocnst <span class="attr">t</span>: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡ç±»å‹"><a href="#å¯¹è±¡ç±»å‹" class="headerlink" title="å¯¹è±¡ç±»å‹"></a>å¯¹è±¡ç±»å‹</h3><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">bytedancer</span>: <span class="title class_">IBytedancer</span> = &#123;</span><br><span class="line">    <span class="attr">jobId</span>: <span class="number">9303245</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Lin&#x27;</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;man&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">28</span>,</span><br><span class="line">    <span class="attr">hobby</span>: swimming<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*è‡ªå®šä¹‰å¯¹è±¡ç±»å‹ï¼šIå¼€å¤´è¡¨ç¤ºæ˜¯ä¸ªç±»å‹ï¼Œä¸æ™®é€šå¯¹è±¡/ç±»çš„ä½œåŒºåˆ†*/</span></span><br><span class="line"><span class="string">interface IBytedancer &#123;</span></span><br><span class="line"><span class="string">    /*åªè¯»å±æ€§ï¼šçº¦æŸå±æ€§ä¸å¯åœ¨å¯¹è±¡åˆå§‹åŒ–å¤–èµ‹å€¼*/</span></span><br><span class="line"><span class="string">    readonly jobId: number;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    name: string;</span></span><br><span class="line"><span class="string">    sex: &#x27;</span>man<span class="string">&#x27;|&#x27;</span>woman<span class="string">&#x27;|&#x27;</span>other<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">    age: number;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    /*å¯é€‰å±æ€§ï¼šå®šä¹‰è¯¥å±æ€§å¯ä»¥ä¸å­˜åœ¨*/</span></span><br><span class="line"><span class="string">    hobby?: string;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    /*ä»»æ„å±æ€§ï¼šçº¦æŸæ‰€æœ‰å¯¹è±¡å±æ€§éƒ½å¿…é¡»æ˜¯è¯¥å±æ€§çš„å­ç±»å‹*/</span></span><br><span class="line"><span class="string">    [key: string]: any;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*æŠ¥é”™ï¼šæ— æ³•åˆ†é…åˆ°&quot;jobIdâ€,å› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§*/</span></span><br><span class="line"><span class="string">bytedancer.jobId = 12345;</span></span><br><span class="line"><span class="string">/*æˆåŠŸï¼šä»»æ„å±æ€§æ ‡æ³¨ä¸‹å¯ä»¥æ·»åŠ ä»»æ„å±æ€§*/</span></span><br><span class="line"><span class="string">bytedancer.plateform = &#x27;</span>data<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">/*æŠ¥é”™ï¼šç¼ºå°‘å±æ€§&quot;name&quot;,hobbyå¯ç¼ºçœ*/</span></span><br><span class="line"><span class="string">const bytedancer2: IBytedancer = &#123;</span></span><br><span class="line"><span class="string">    jobId: 89757,</span></span><br><span class="line"><span class="string">    sex: &#x27;</span>woman<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">    age: 18,</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><p>JS</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mult</span> = (<span class="params">x, y</span>) =&gt; x * y;</span><br></pre></td></tr></table></figure><p>TS</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y;</span><br><span class="line">â†“æ›´åŠ æ¸…æ™°</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IMult</span> &#123;</span><br><span class="line">    (<span class="attr">x</span>: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mult</span>: <span class="title class_">IMult</span> = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x * y;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å¯¹getDateå‡½æ•°è¿›è¡Œé‡è½½ï¼Œtimestampä¸ºå¯ç¼ºçœå‚æ•°*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDate</span>(<span class="params"><span class="keyword">type</span>:<span class="string">&#x27;string&#x27;</span>,timestamp?:<span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line">â†“</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IGetDate</span> &#123;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;string&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="built_in">string</span>;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;date&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="title class_">Date</span>;</span><br><span class="line">    (<span class="attr">type</span>:<span class="string">&#x27;string&#x27;</span>|<span class="string">&#x27;date&#x27;</span>,timestamp?:<span class="built_in">string</span>):<span class="title class_">Date</span> <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰ç»™å‚æ•°å£°æ˜ç±»å‹ */</span></span><br><span class="line"><span class="comment">/*ä¸èƒ½å°†ç±»å‹â€œ(type:any,timestamp:any)=&gt;string|Date&quot;åˆ†é…ç»™ç±»å‹â€œIGetDateâ€ã€‚</span></span><br><span class="line"><span class="comment">ä¸èƒ½å°†ç±»å‹â€œstring|Date&quot;åˆ†é…ç»™ç±»å‹â€œstringâ€ã€‚</span></span><br><span class="line"><span class="comment">ä¸èƒ½å°†ç±»å‹â€œDateâ€åˆ†é…ç»™ç±»å‹â€œstringâ€ã€‚ts(322) */</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">getDate2</span>:<span class="title class_">IGetDate</span> = <span class="function">(<span class="params"><span class="keyword">type</span>, timestamp</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">type</span> ===<span class="string">&#x27;string&#x27;</span> ? date.<span class="title function_">toLocalestring</span>():date;</span><br><span class="line">&#125;</span><br><span class="line">ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡½æ•°é‡Œé¢çš„å‡½æ•°çš„ç±»å‹èŒƒå›´è¦å°äºå‡½æ•°æœ¬èº«æ‰€åœ¨çš„ç±»å‹èŒƒå›´ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ã€Œç±»å‹+æ–¹æ‹¬å·ã€è¡¨ç¤º-å¸¸ç”¨*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr1</span> = <span class="built_in">number</span>[];</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr</span> = <span class="built_in">string</span>[];</span><br><span class="line"><span class="comment">/*æ³›å‹è¡¨ç¤º-å¸¸ç”¨,ç¬¬ä¸‰ä¸ªæ˜¯å¯¹è±¡çš„ç®€å†™å½¢å¼*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr2</span> = <span class="title class_">Array</span>&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,<span class="built_in">number</span>&gt;&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å…ƒç¥–è¡¨ç¤º*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IArr3</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">string</span>, <span class="built_in">string</span>];</span><br><span class="line"><span class="comment">/*æ¥å£è¡¨ç¤º*/</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IArr4</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">number</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr1</span>: <span class="title class_">IArr1</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr2</span>: <span class="title class_">IArr2</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr3</span>: <span class="title class_">IArr3</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">arr4</span>: <span class="title class_">IArr4</span> [<span class="string">&#x27;string&#x27;</span>,<span class="function">() =&gt;</span> <span class="literal">null</span>, &#123;&#125;, []];</span><br></pre></td></tr></table></figure><h3 id="TSè¡¥å……ç±»å‹"><a href="#TSè¡¥å……ç±»å‹" class="headerlink" title="TSè¡¥å……ç±»å‹"></a>TSè¡¥å……ç±»å‹</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç©ºç±»å‹ï¼Œè¡¨ç¤ºæ— èµ‹å€¼*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IEmptyFunction</span> = <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"><span class="comment">/*ä»»æ„ç±»å‹ï¼Œæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IAnyType</span> = <span class="built_in">any</span>;</span><br><span class="line"><span class="comment">/*æšä¸¾ç±»å‹ï¼šæ”¯æŒæšä¸¾å€¼åˆ°æšä¸¾åçš„æ­£ã€åå‘æ˜ å°„*/</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">EnumExample</span> &#123;</span><br><span class="line">    add = <span class="string">&#x27;+&#x27;</span>,</span><br><span class="line">mult = <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;add&#x27;</span>] === <span class="string">&#x27;+&#x27;</span>;</span><br><span class="line"><span class="title class_">EnumExample</span>[<span class="string">&#x27;*&#x27;</span>] === <span class="string">&#x27;mult&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">ECorlor</span> &#123; <span class="title class_">Mon</span>, <span class="title class_">Tue</span>, <span class="title class_">Wed</span>, <span class="title class_">Thu</span>, <span class="title class_">Fri</span>, <span class="title class_">Sat</span>, <span class="title class_">Sun</span> &#125;;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="string">&#x27;Mon&#x27;</span>] === <span class="number">0</span>;</span><br><span class="line"><span class="title class_">ECorlor</span>[<span class="number">0</span>] === <span class="string">&#x27;Mon&#x27;</span>;</span><br><span class="line"><span class="comment">/* æ³›å‹ */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">INumArr</span> = <span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt;;</span><br></pre></td></tr></table></figure><h3 id="TSæ³›å‹"><a href="#TSæ³›å‹" class="headerlink" title="TSæ³›å‹"></a>TSæ³›å‹</h3><p>ç‰¹å¾ï¼šä¸é¢„å…ˆæŒ‡å®šç±»å‹çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨æŸç±»å‹æ—¶ï¼Œæ‰ç¡®å®šè¯¥ç±»å‹ã€‚</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRepeatArr</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span> = <span class="function">(<span class="params">target: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>[];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ */</span></span><br><span class="line"><span class="comment">/* å‡½æ•°ä¸­æ³›å‹ï¼š&lt;T&gt;å‡½æ•°å®šä¹‰ */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArrR</span> = &lt;T&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç±»ï¼Œæ³›å‹æ¥å£ï¼ŒObjectä¸­ï¼šç±»å‹å&lt;T&gt; */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ³›å‹æ¥å£ &amp; å¤šæ³›å‹ */</span></span><br><span class="line"><span class="keyword">interface</span> IX&lt;T,U&gt; &#123;</span><br><span class="line">    <span class="attr">key</span>: T;</span><br><span class="line">    <span class="attr">val</span>: U;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ³›å‹ç±» */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IMan</span>&lt;T&gt; &#123;</span><br><span class="line"><span class="attr">instance</span>: T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ³›å‹åˆ«å */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ITypeArr</span>&lt;T&gt; = <span class="title class_">Array</span>&lt;T&gt;;</span><br></pre></td></tr></table></figure><h4 id="æœ‰ç‚¹é«˜çº§çš„è¯­æ³•"><a href="#æœ‰ç‚¹é«˜çº§çš„è¯­æ³•" class="headerlink" title="æœ‰ç‚¹é«˜çº§çš„è¯­æ³•"></a>æœ‰ç‚¹é«˜çº§çš„è¯­æ³•</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å‡½æ•°çš„æ³›å‹</span><br><span class="line"><span class="comment">/* æ³›å‹çº¦æŸï¼šé™åˆ¶æ³›å‹å¿…é¡»ç¬¦åˆå­—ç¬¦ä¸² */</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatStringArr</span> = &lt;T <span class="keyword">extends</span> <span class="built_in">string</span>&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[]; </span><br><span class="line"><span class="keyword">const</span> <span class="attr">getstrArr</span>: <span class="title class_">IGetRepeatStringArr</span> = <span class="function"><span class="params">target</span> =&gt;</span> <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line"><span class="comment">/*æŠ¥é”™ï¼šç±»å‹â€œnumber&quot;çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œstringâ€çš„å‚æ•°*/</span></span><br><span class="line"><span class="title function_">getstrArr</span>(<span class="number">123</span>);</span><br></pre></td></tr></table></figure><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ç±»å‹åˆ«åçš„æ³›å‹</span><br><span class="line"><span class="comment">/*æ³›å‹å‚æ•°é»˜è®¤ç±»å‹*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IGetRepeatArr</span>&lt;T = <span class="built_in">number</span>&gt;<span class="function">(<span class="params">target: T</span>) =&gt;</span> T[];</span><br><span class="line"><span class="keyword">const</span> <span class="attr">getRepeatArr</span>: <span class="title class_">IGetRepeatArr</span> target = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100</span>).<span class="title function_">fill</span>(target);</span><br><span class="line"><span class="comment">/*æŠ¥é”™ï¼šç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumber&quot;çš„å‚æ•°*/</span></span><br><span class="line"><span class="title function_">getRepeatArr</span>(<span class="string">&#x27;123&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ç±»å‹åˆ«å-amp-ç±»å‹æ–­è¨€"><a href="#ç±»å‹åˆ«å-amp-ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹åˆ«å&amp;ç±»å‹æ–­è¨€"></a>ç±»å‹åˆ«å&amp;ç±»å‹æ–­è¨€</h3><p>è¿™æ®µä»£ç æ˜¯ä½¿ç”¨TypeScriptå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°â€keyByâ€ï¼Œå®ƒç”¨äºå°†ä¸€ä¸ªå¯¹è±¡æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ªé”®å€¼å¯¹å­—å…¸ã€‚</p><p>ç¬¬1è¡Œï¼šé€šè¿‡â€typeâ€å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªåˆ«åç±»å‹â€IObjArrâ€ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªåŒ…å«keyå±æ€§ä¸ä»»æ„å…¶ä»–å±æ€§çš„å¯¹è±¡ã€‚</p><p>ç¬¬3è¡Œï¼šå£°æ˜äº†ä¸€ä¸ªåä¸ºâ€keyByâ€çš„å‡½æ•°ï¼Œå®ƒå‚æ•°ä¸ºâ€objArrâ€ï¼Œå®ƒç±»å‹ä¸ºArray<T>ï¼ŒTç»§æ‰¿è‡ªIObjArrï¼Œæ„å‘³ç€objArrçš„å…ƒç´ å¿…é¡»æ˜¯åŒ…å«keyå±æ€§çš„å¯¹è±¡ã€‚</p><p>ç¬¬5è¡Œï¼šå®šä¹‰äº†ä¸€ä¸ªåä¸ºresultçš„å˜é‡ï¼Œåˆå§‹å€¼æ˜¯å°†objArrä½¿ç”¨reduceæ–¹æ³•è½¬æ¢ä¸ºçš„å¯¹è±¡ï¼Œreduceæ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œä¸æ–­ç´¯ç§¯æœ€ç»ˆçš„ç»“æœã€‚</p><p>ç¬¬9è¡Œï¼šä½¿ç”¨â€asâ€å…³é”®å­—æ–­è¨€resultçš„ç±»å‹ä¸ºRecord&lt;string,T&gt;ï¼Œæ„å‘³ç€resultæ˜¯ä¸€ä¸ªä»¥å­—ç¬¦ä¸²ä¸ºé”®ï¼ŒTç±»å‹ä¸ºå€¼çš„å­—å…¸ã€‚</p><p>æœ€åï¼Œè¿”å›resultã€‚</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é€šè¿‡typeå…³é”®å­—å®šä¹‰äº†I0 bjArrlçš„åˆ«åç±»å‹*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IObjArr</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">    [<span class="attr">objKey</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>;</span><br><span class="line">&#125;&gt;</span><br><span class="line"><span class="keyword">function</span> keyBy&lt;T <span class="keyword">extends</span> <span class="title class_">IObjArr</span>&gt;(<span class="attr">objArr</span>: <span class="title class_">Array</span>&lt;T&gt;)&#123;</span><br><span class="line"><span class="comment">/*æœªæŒ‡å®šç±»å‹æ—¶ï¼Œresultç±»å‹ä¸º&#123;&#125;*/</span></span><br><span class="line">    <span class="keyword">const</span> result = objArr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">res, val, key</span>) =&gt;</span> &#123;</span><br><span class="line">    res[key] = val;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;,&#123;&#125;);</span><br><span class="line"><span class="comment">/*é€šè¿‡aså…³é”®å­—ï¼Œæ–­è¨€resultç±»å‹ä¸ºæ­£ç¡®ç±»å‹*/</span></span><br><span class="line"><span class="keyword">return</span> result <span class="keyword">as</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,T&gt;;</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²-æ•°å­—-å­—é¢é‡"><a href="#å­—ç¬¦ä¸²-æ•°å­—-å­—é¢é‡" class="headerlink" title="å­—ç¬¦ä¸²/æ•°å­— å­—é¢é‡"></a>å­—ç¬¦ä¸²/æ•°å­— å­—é¢é‡</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å…è®¸æŒ‡å®šå­—ç¬¦ä¸²/æ•°å­—å¿…é¡»çš„å›ºå®šå€¼*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*IDomTagå¿…é¡»ä¸ºhtmlã€bodyã€divã€spanä¸­çš„å…¶ä¸€*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDomTag</span> = <span class="string">&#x27;html&#x27;</span> | <span class="string">&#x27;body&#x27;</span> | <span class="string">&#x27;div&#x27;</span> | <span class="string">&#x27;span&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*I0 ddNumberå¿…é¡»ä¸º1ã€3ã€5ã€7ã€9ä¸­çš„å…¶ä¸€*/</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IOddNumber</span> = <span class="number">1</span> |<span class="number">3</span> | <span class="number">5</span> | <span class="number">7</span> | <span class="number">9</span>;</span><br></pre></td></tr></table></figure><h2 id="é«˜çº§ç±»å‹"><a href="#é«˜çº§ç±»å‹" class="headerlink" title="é«˜çº§ç±»å‹"></a>é«˜çº§ç±»å‹</h2><h3 id="æ¥è‡ªchatGPT"><a href="#æ¥è‡ªchatGPT" class="headerlink" title="æ¥è‡ªchatGPT"></a>æ¥è‡ªchatGPT</h3><p>ä¸€äº›å¸¸ç”¨ç±»å‹ï¼š</p><ol><li>å¯è¯»å±æ€§</li><li>å¯é€‰å±æ€§</li><li>ç´¢å¼•ç­¾å</li><li>å­—é¢é‡ç±»å‹</li></ol><p>å¸¸ç”¨çš„ TypeScript é«˜çº§ç±»å‹æœ‰ï¼š</p><ol><li><p>äº¤å‰ç±»å‹ (Intersection Types)</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Role</span> &#123;</span><br><span class="line">  <span class="attr">role</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserWithRole</span> = <span class="title class_">User</span> &amp; <span class="title class_">Role</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userWithRole</span>: <span class="title class_">UserWithRole</span> = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">  <span class="attr">role</span>: <span class="string">&#x27;admin&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>è”åˆç±»å‹ (Union Types)</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">UserID</span> = <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userID</span>: <span class="title class_">UserID</span> = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">anotherUserID</span>: <span class="title class_">UserID</span> = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ï¼Œå› ä¸ºtrueä¸æ˜¯numberæˆ–string</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">wrongUserID</span>: <span class="title class_">UserID</span> = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç±»å‹åˆ«å (Type Aliases)</p></li><li><p>æ˜ å°„ç±»å‹ (Mapped Types)</p></li><li><p>æ¡ä»¶ç±»å‹ (Conditional Types)</p></li><li><p>å¯è¾¨è¯†è”åˆç±»å‹ (Discriminated Unions)</p></li><li><p>ç±»å‹æ¨æ–­ (Type Inference)</p></li><li><p>ç±»å‹ä¿æŠ¤ (Type Guards)</p></li><li><p>ç´¢å¼•ç±»å‹ (Index Types)</p></li><li><p>è”åˆç±»å‹æ¨æ–­ (Union Type Inference)</p></li></ol><h3 id="1-è”åˆ-äº¤å‰ç±»å‹"><a href="#1-è”åˆ-äº¤å‰ç±»å‹" class="headerlink" title="1.è”åˆ/äº¤å‰ç±»å‹"></a>1.è”åˆ/äº¤å‰ç±»å‹</h3><h4 id="ä¸ºä¹¦ç±åˆ—è¡¨ç¼–å†™ç±»å‹"><a href="#ä¸ºä¹¦ç±åˆ—è¡¨ç¼–å†™ç±»å‹" class="headerlink" title="ä¸ºä¹¦ç±åˆ—è¡¨ç¼–å†™ç±»å‹"></a>ä¸ºä¹¦ç±åˆ—è¡¨ç¼–å†™ç±»å‹</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bookList = [&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xioaming&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    <span class="attr">range</span>: <span class="string">&#x27;2001-2021&#x27;</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;xiaoli&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>,</span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;love&#x27;</span>,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p>â†“ç±»å‹å£°æ˜ç¹çï¼Œå­˜åœ¨è¾ƒå¤šé‡å¤</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IHistoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IStoryBook</span> &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">type</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;<span class="title class_">IHistoryBook</span> | <span class="title class_">IStoryBook</span>&gt;;</span><br></pre></td></tr></table></figure><h4 id="æ”¹è¿›å"><a href="#æ”¹è¿›å" class="headerlink" title="æ”¹è¿›å"></a>æ”¹è¿›å</h4><ul><li>è”åˆç±»å‹ï¼šIA | IB    è”åˆç±»å‹è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€</li><li>äº¤å‰ç±»å‹ï¼šIA &amp; IB   å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·å½¢æˆçš„ä¸€ç§ç±»å‹ï¼ŒåŒ…å«äº†æ‰€æœ‰æ‰€éœ€çš„æ‰€æœ‰ç±»å‹ç‰¹æ€§ </li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">IBookList</span> = <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; &amp; (&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;history&#x27;</span>;</span><br><span class="line">    <span class="attr">range</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125; | &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;story&#x27;</span>;</span><br><span class="line">    <span class="attr">theme</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;)&gt;</span><br></pre></td></tr></table></figure><h3 id="2-ç±»å‹ä¿æŠ¤-amp-ç±»å‹å®ˆå«"><a href="#2-ç±»å‹ä¿æŠ¤-amp-ç±»å‹å®ˆå«" class="headerlink" title="2.ç±»å‹ä¿æŠ¤&amp;ç±»å‹å®ˆå«"></a>2.ç±»å‹ä¿æŠ¤&amp;ç±»å‹å®ˆå«</h3><h4 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IA &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">a2</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">interface</span> IB &#123;<span class="attr">b</span>: <span class="number">1</span>, <span class="attr">b1</span>: <span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">args: IA | IB</span>) &#123;</span><br><span class="line"><span class="comment">/*æŠ¥é”™ï¼šç±»å‹â€œIA|IBâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œaâ€ã€‚ç±»å‹â€œIBâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œaâ€ã€‚*/</span></span><br><span class="line"><span class="comment">/*ç»“è®ºï¼šè®¿é—®è”åˆç±»å‹æ—¶ï¼Œå¤„äºç¨‹åºå®‰å…¨ï¼Œä»…èƒ½è®¿é—®è”åˆç±»å‹ä¸­çš„äº¤é›†éƒ¨åˆ†*/</span></span><br><span class="line">    <span class="keyword">if</span>(arg.<span class="property">a</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">a1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">b1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ”¹é€ "><a href="#æ”¹é€ " class="headerlink" title="æ”¹é€ "></a>æ”¹é€ </h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> IA a:1,al:2</span><br><span class="line"><span class="keyword">interface</span> IB b:1,b1:2</span><br><span class="line"></span><br><span class="line">/*ç±»å‹å®ˆå«ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç±»å‹è°“è¯ï¼Œç”Ÿæ•ˆèŒƒå›´ä¸ºå­ä½œç”¨åŸŸ*/</span><br><span class="line">function getIsIA(arg: IA | IB): arg is IA &#123;</span><br><span class="line">    <span class="comment">/*as-æ–­è¨€,å½“å­˜åœ¨aæ—¶ï¼Œæ–­è¨€ä¸ºIAç±»å‹*/</span></span><br><span class="line">    <span class="keyword">return</span> !!(arg <span class="keyword">as</span> <span class="variable constant_">IA</span>).<span class="property">a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log2</span>(<span class="params">arg: IA | IB</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">getIsIA</span>(arg))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">a1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">b1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°å‡½æ•°logBookç±»å‹"><a href="#å®ç°å‡½æ•°logBookç±»å‹" class="headerlink" title="å®ç°å‡½æ•°logBookç±»å‹"></a>å®ç°å‡½æ•°logBookç±»å‹</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡½æ•°æ¥å—ä¹¦æœ¬ç±»å‹ï¼Œå¹¶loggerå‡ºç›¸å…³ç‰¹å¾</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logBook</span>(<span class="params">book: IBookItem</span>) &#123;</span><br><span class="line">    <span class="comment">// è”åˆç±»å‹ + ç±»å‹ä¿æŠ¤ = è‡ªåŠ¨ç±»å‹åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span>(book.<span class="property">type</span> === <span class="string">&#x27;history&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(book.<span class="property">range</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(book.<span class="property">theme</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-mergeå‡½æ•°ç±»å‹"><a href="#3-mergeå‡½æ•°ç±»å‹" class="headerlink" title="3.mergeå‡½æ•°ç±»å‹"></a>3.mergeå‡½æ•°ç±»å‹</h3><h4 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*å®ç°mergeå‡½æ•°ç±»å‹</span></span><br><span class="line"><span class="comment">*è¦æ±‚sourceObjå¿…é¡»ä¸ºtargetObjçš„å­é›†</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge1</span>(<span class="params">sourceObj, targetObj</span>)&#123;</span><br><span class="line"><span class="keyword">const</span> result &#123;...sourceobj &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> targetobj) &#123;</span><br><span class="line">        <span class="keyword">const</span> itemVal = sourceobj[key];</span><br><span class="line">        itemVal &amp;&amp; (result[key] = itemVal);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge2</span>(<span class="params">sourceObj, targetObj</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;...sourceobj,...targetobj &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="TS-1"><a href="#TS-1" class="headerlink" title="TS"></a>TS</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ISourceobj</span> &#123;</span><br><span class="line">    x?: <span class="built_in">string</span>;</span><br><span class="line">y?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å®šä¹‰æ—¶ä¸æ˜ç¡®ï¼Œä½¿ç”¨æ—¶æ‰æ˜ç¡®*/</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ITargetobj</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IMerge</span> = <span class="function">(<span class="params">sourceobj: ISourceobj, targetobj: ITargetobj</span>) =&gt;</span> <span class="title class_">ITargetobj</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*ç±»å‹å®ç°ç¹çï¼šè‹¥objç±»å‹è¾ƒä¸ºå¤æ‚ï¼Œåˆ™å£°æ˜sourceå’Œtargetä¾¿éœ€è¦å¤§é‡é‡å¤2é</span></span><br><span class="line"><span class="comment">*å®¹æ˜“å‡ºé”™ï¼šè‹¥targetå¢åŠ /å‡å°‘key,åˆ™éœ€è¦sourceè”åŠ¨å»é™¤</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h4 id="æ”¹è¿›"><a href="#æ”¹è¿›" class="headerlink" title="æ”¹è¿›"></a>æ”¹è¿›</h4><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IMerge</span> &#123;</span><br><span class="line">    &lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>,<span class="built_in">any</span>&gt;&gt;(<span class="attr">sourceObj</span>: <span class="title class_">Partial</span>&lt;T&gt;, <span class="attr">targetObj</span>: T): T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IPartial</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Record</span>&lt;<span class="built_in">string</span>, <span class="built_in">any</span>&gt;&gt; = &#123;</span><br><span class="line">    [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IKeys</span> = keyof &#123; <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line">        </span><br><span class="line"><span class="comment">/* ç´¢å¼•ç±»å‹ï¼š</span></span><br><span class="line"><span class="comment">å…³é”®å­—ã€keyofã€‘,å…¶ç›¸å½“äºå–å€¼å¯¹åƒä¸­çš„æ‰€æœ‰keyç»„æˆçš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¦‚=&gt;type IKeys &quot;a&quot;|&quot;b&quot;</span></span><br><span class="line"><span class="comment">å…³é”®å­—ã€inã€‘,å…¶ç›¸å½“äºå–å€¼å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„ä¸€ç§å¯èƒ½ï¼Œé…åˆæ³›å‹P,å³è¡¨ç¤ºæ¯ä¸ªkey</span></span><br><span class="line"><span class="comment">å…³é”®å­—ã€?ã€‘ï¼Œé€šè¿‡è®¾å®šå¯¹è±¡å¯é€‰é€‰é¡¹ï¼Œå³å¯è‡ªåŠ¨æ¨å¯¼å‡ºå­é›†ç±»å‹ </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h5 id="è§£é‡Šè¯´æ˜"><a href="#è§£é‡Šè¯´æ˜" class="headerlink" title="è§£é‡Šè¯´æ˜"></a>è§£é‡Šè¯´æ˜</h5><blockquote><p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå®šä¹‰äº†å¤šä¸ªTypeScriptç±»å‹çš„ä»£ç ã€‚</p><ol><li><p>IMergeæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯Partial<T>ç±»å‹ï¼Œç¬¬äºŒä¸ªå¯¹è±¡æ˜¯Tç±»å‹ï¼ŒTæ˜¯Recordç±»å‹çš„æ³›å‹ã€‚</p></li><li><p>IPartialæ˜¯ä¸€ä¸ªç±»å‹åˆ«åï¼Œå®ƒå®šä¹‰äº†Tç±»å‹çš„å¯é€‰éƒ¨åˆ†ï¼ŒTæ˜¯Recordç±»å‹çš„æ³›å‹ã€‚</p></li><li><p>IKeysæ˜¯ä¸€ä¸ªç±»å‹åˆ«åï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªåä¸ºâ€™aâ€™å’Œâ€™bâ€™çš„å¯¹è±¡çš„é”®çš„ç±»å‹ï¼Œå…¶ä¸­â€™aâ€™çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œâ€™bâ€™çš„ç±»å‹æ˜¯æ•°å­—ã€‚</p></li><li><p>å…³ç³»ï¼š</p><ul><li><p><code>IMerge</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªåˆå¹¶ä¸¤ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œå¹¶å°†åˆå¹¶åçš„å¯¹è±¡è¿”å›ã€‚å®ƒæ¥å—ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œåˆ†åˆ«æ˜¯æºå¯¹è±¡å’Œç›®æ ‡å¯¹è±¡ï¼Œè¿”å›å€¼ä¸ºç›®æ ‡å¯¹è±¡ã€‚</p></li><li><p><code>IPartial</code> æ˜¯ä¸€ä¸ªç±»å‹åˆ«åï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå¯é€‰å­—æ®µçš„å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æœ‰ä¸€äº›å­—æ®µæ˜¯ä¸æ˜¯å¿…å¡«çš„ã€‚</p></li><li><p><code>IKeys</code> æ˜¯ä¸€ä¸ªç±»å‹åˆ«åï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹çš„è”åˆç±»å‹ã€‚å®ƒçš„å€¼æ˜¯ â€˜aâ€™ å’Œ â€˜bâ€™ã€‚</p></li></ul></li></ol></blockquote><h3 id="4-å‡½æ•°è¿”å›å€¼ç±»å‹"><a href="#4-å‡½æ•°è¿”å›å€¼ç±»å‹" class="headerlink" title="4.å‡½æ•°è¿”å›å€¼ç±»å‹"></a>4.å‡½æ•°è¿”å›å€¼ç±»å‹</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°å‡½æ•°delayCallçš„ç±»å‹å£°æ˜</span></span><br><span class="line"><span class="comment">// delayCallæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå…¥å‚ï¼Œå…¶å®ç°å»¶è¿Ÿ1sè¿è¡Œå‡½æ•°</span></span><br><span class="line"><span class="comment">// å…¶è¿”å›promise,ç»“æœä¸ºå…¥å‚å‡½æ•°çš„è¿”å›ç»“æœ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">delayCall</span>(<span class="params">func</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> result = <span class="title function_">func</span>();</span><br><span class="line">            <span class="title function_">resolve</span>(result)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â†“æ€ä¹ˆå†™ä¸ªç±»å‹å£°æ˜å˜ï¼Ÿ</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«å, extendsæ³›å‹é™å®šä¸ºå‡½æ•°</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IDelayCall</span> = &lt; T <span class="keyword">extends</span> () =&gt; <span class="built_in">any</span> &gt;<span class="function">(<span class="params">func: T</span>) =&gt;</span> <span class="title class_">ReturnType</span>&lt;T&gt;;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">type</span> <span class="title class_">IReturnType</span>&lt; T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span> &gt; = T <span class="keyword">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; infer R ? R : <span class="built_in">any</span>;                          <span class="comment">/*ç±»å‹æ¨æ–­*/</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// å…³é”®å­—ã€extendsã€‘è·Ÿéšæ³›å‹å‡ºç°æ—¶ï¼Œè¡¨ç¤ºç±»å‹æ¨æ–­ï¼Œå…¶è¡¨è¾¾å¯ç±»æ¯”ä¸‰å…ƒè¡¨è¾¾å¼</span></span><br><span class="line"><span class="comment">// å¦‚ T === åˆ¤æ–­ç±»å‹ï¼Ÿç±»å‹A:ç±»å‹B</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// å…³é”®å­—ã€inferã€‘)å‡ºç°åœ¨ç±»å‹æ¨èä¸­ï¼Œè¡¨ç¤ºå®šä¹‰ç±»å‹å˜é‡ï¼Œå¯ä»¥ç”¨äºæŒ‡ä»£ç±»å‹</span></span><br><span class="line"><span class="comment">// å¦‚è¯¥åœºæ™¯ä¸‹ï¼Œå°†å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä½œä¸ºå˜é‡ï¼Œä½¿ç”¨æ–°æ³›å‹Rè¡¨ç¤ºï¼Œä½¿ç”¨åœ¨ç±»å‹æ¨èå‘½ä¸­çš„ç»“æœä¸­    </span></span><br></pre></td></tr></table></figure><h4 id="è§£é‡Šè¯´æ˜-1"><a href="#è§£é‡Šè¯´æ˜-1" class="headerlink" title="è§£é‡Šè¯´æ˜"></a>è§£é‡Šè¯´æ˜</h4><blockquote><p>è¿™æ®µ TypeScript ä»£ç å®šä¹‰äº†ä¸¤ç§ç±»å‹ï¼š<code>IDelayCall</code> å’Œ <code>IReturnType</code>.</p><ul><li><p><code>IDelayCall</code>æ˜¯ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªç±»å‹ä¸º <code>(...args: any) =&gt; any</code> çš„å‚æ•°<code>func</code>ï¼Œè¿”å›å€¼ä¸º <code>func</code> çš„è¿”å›ç±»å‹ï¼ˆä½¿ç”¨äº† TypeScript çš„ <code>ReturnType</code> å†…ç½®ç±»å‹ï¼‰ã€‚</p></li><li><p><code>IReturnType</code> ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç±»å‹ä¸º <code>(...args: any) =&gt; any</code> çš„å‚æ•°ï¼Œå¹¶ä½¿ç”¨ TypeScript çš„ <code>infer</code>å…³é”®å­—æ¥æ¨æ–­è¯¥å‡½æ•°çš„è¿”å›ç±»å‹ï¼Œå¦‚æœè¿”å›ç±»å‹ä¸èƒ½è¢«æ¨æ–­å‡ºæ¥ï¼Œåˆ™é»˜è®¤ä¸º<code>any</code>ç±»å‹ã€‚</p></li></ul><p>è¿™ä¸¤ä¸ªç±»å‹å®šä¹‰ä¹‹é—´æ˜¯æœ‰å…³ç³»çš„ã€‚</p><ul><li><p><code>IDelayCall</code> ç±»å‹å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå‡½æ•° <code>func</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›è¯¥å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p></li><li><p>è€Œ <code>IReturnType</code> ç±»å‹å®šä¹‰äº†ä¸€ä¸ªæ¨¡æ¿ç±»å‹ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸ºå‚æ•° <code>T</code>ï¼Œå¹¶é€šè¿‡ TypeScript çš„æ¨å¯¼åŠŸèƒ½å°†è¯¥å‡½æ•°çš„è¿”å›ç±»å‹æ¨å¯¼ä¸º <code>R</code>ï¼Œæœ€åè¿”å›ç»“æœä¸º <code>R</code> æˆ–è€… <code>any</code>ï¼Œå…·ä½“å–å†³äº <code>T</code> ç±»å‹æ˜¯å¦æ»¡è¶³ä¸Šè¿°å‡½æ•°ç±»å‹ã€‚</p></li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>IReturnType</code> å®šä¹‰ä¸º <code>IDelayCall</code> å‡½æ•°çš„<strong>å†…éƒ¨ç±»å‹</strong>ï¼Œä»¥ä¾¿è¿›è¡Œæ›´ç®€æ´ã€æ¸…æ™°çš„ä»£ç ç¼–å†™ã€‚</p></blockquote><h2 id="å·¥ç¨‹è¿ç”¨"><a href="#å·¥ç¨‹è¿ç”¨" class="headerlink" title="å·¥ç¨‹è¿ç”¨"></a>å·¥ç¨‹è¿ç”¨</h2><h3 id="æµè§ˆå™¨Web"><a href="#æµè§ˆå™¨Web" class="headerlink" title="æµè§ˆå™¨Web"></a>æµè§ˆå™¨Web</h3><h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><ol><li>é…ç½®<strong>webpack loader</strong>ç›¸å…³é…ç½®ï¼ˆå¤„ç†tsæ–‡ä»¶ï¼Œè½¬åŒ–æˆjsæ–‡ä»¶ï¼‰</li><li>é…ç½®tsconfig.jsæ–‡ä»¶</li><li>è¿è¡Œwebpackå¯åŠ¨/æ‰“åŒ…</li><li>loaderå¤„ç†tsæ–‡ä»¶æ—¶ï¼Œä¼šè¿›è¡Œç¼–è¯‘ä¸ç±»å‹æ£€æŸ¥</li></ol><p>ç›¸å…³loaderï¼š</p><ol><li>awesome-typescript-loader</li><li>babel-loader</li></ol><h3 id="NodeJs"><a href="#NodeJs" class="headerlink" title="NodeJs"></a>NodeJs</h3><p>ä½¿ç”¨TSCç¼–è¯‘</p><ol><li>å®‰è£…node npm</li><li>ä½¿ç”¨npmå®‰è£…tsc</li><li>é…ç½®tsocnfig.jsæ–‡ä»¶</li><li>ä½¿ç”¨tscè¿è¡Œç¼–è¯‘å¾—åˆ°çš„jsæ–‡ä»¶</li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/a33a.html"/>
      <url>/post/a33a.html</url>
      
        <content type="html"><![CDATA[<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><p>æ­£ç»äººè°å­¦</p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a><strong>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</strong></h2><p>ï¼ˆå¦‚ä½•å†™å¥½JSâ†“ï¼‰</p><p>JSç¼–ç åŸåˆ™</p><ul><li>å„å¸å…¶è´£</li><li>ç»„ä»¶å°è£…ï¼ˆè¯¾ç¨‹å†…å®¹å±å®å¼ºï¼Œè¦èŠ±å¾ˆé•¿æ—¶é—´æ¶ˆåŒ–ï¼‰</li><li>è¿‡ç¨‹æŠ½è±¡</li></ul><p>Left-padäº‹æ•…èƒŒæ™¯å¼•å…¥</p><p>JSä»£ç è´¨é‡ä¼˜åŒ–</p><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a><strong>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</strong></h2><h3 id="JSç¼–ç åŸåˆ™-å„å¸å…¶èŒ"><a href="#JSç¼–ç åŸåˆ™-å„å¸å…¶èŒ" class="headerlink" title="JSç¼–ç åŸåˆ™-å„å¸å…¶èŒ"></a>JSç¼–ç åŸåˆ™-å„å¸å…¶èŒ</h3><blockquote><p>è®©HTMLã€CSSã€JSèŒèƒ½åˆ†ç¦»</p></blockquote><h4 id="ä¸¾ä¾‹-æ·±å¤œé£Ÿå ‚çš„æ˜æš—æ¨¡å¼mode"><a href="#ä¸¾ä¾‹-æ·±å¤œé£Ÿå ‚çš„æ˜æš—æ¨¡å¼mode" class="headerlink" title="ä¸¾ä¾‹-æ·±å¤œé£Ÿå ‚çš„æ˜æš—æ¨¡å¼mode"></a>ä¸¾ä¾‹-æ·±å¤œé£Ÿå ‚çš„æ˜æš—æ¨¡å¼mode</h4><p>HTMLä»£ç </p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon.png" alt="carbon"></p><p>CSSä»£ç </p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(1).png" alt="carbon (1)"></p><p><a href="https://code.juejin.cn/pen/7189551881298346039">ç ä¸Šæ˜é‡‘é“¾æ¥</a></p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li>ä¸‰è€…å„å¸å…¶è´£</li><li>é¿å…ä¸å¿…è¦çš„ç”±JSç›´æ¥æ“ä½œæ ·å¼</li><li>å¯ä»¥ç”¨classæ¥è¡¨ç¤ºçŠ¶æ€</li><li>çº¯å±•ç¤ºäº¤äº’å¯»æ±‚é›¶JSæ–¹æ¡ˆ</li></ul><h3 id="JSç¼–ç åŸåˆ™-ç»„ä»¶å°è£…"><a href="#JSç¼–ç åŸåˆ™-ç»„ä»¶å°è£…" class="headerlink" title="JSç¼–ç åŸåˆ™-ç»„ä»¶å°è£…"></a>JSç¼–ç åŸåˆ™-ç»„ä»¶å°è£…</h3><blockquote><p>å¥½çš„UIç»„ä»¶å…·å¤‡æ­£ç¡®æ€§ã€æ‰©å±•æ€§ã€å¤ç”¨æ€§</p></blockquote><h4 id="ä¸¾ä¾‹-åŸç”ŸJSç”µå•†ç½‘ç«™è½®æ’­å›¾"><a href="#ä¸¾ä¾‹-åŸç”ŸJSç”µå•†ç½‘ç«™è½®æ’­å›¾" class="headerlink" title="ä¸¾ä¾‹-åŸç”ŸJSç”µå•†ç½‘ç«™è½®æ’­å›¾"></a>ä¸¾ä¾‹-åŸç”ŸJSç”µå•†ç½‘ç«™è½®æ’­å›¾</h4><h5 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h5><p><a href="https://code.juejin.cn/pen/7189574916541251643">è½®æ’­å›¾-åŸå‹</a></p><h6 id="HTML-ç»“æ„"><a href="#HTML-ç»“æ„" class="headerlink" title="HTML-ç»“æ„"></a>HTML-ç»“æ„</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(2).png" alt="carbon (2)"></p><h6 id="CSS-è¡¨ç°"><a href="#CSS-è¡¨ç°" class="headerlink" title="CSS-è¡¨ç°"></a>CSS-è¡¨ç°</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(6).png" alt="carbon (6)"></p><h6 id="JS-è¡Œä¸ºï¼ˆåŠŸèƒ½APIã€æ§åˆ¶æµEventï¼‰"><a href="#JS-è¡Œä¸ºï¼ˆåŠŸèƒ½APIã€æ§åˆ¶æµEventï¼‰" class="headerlink" title="JS-è¡Œä¸ºï¼ˆåŠŸèƒ½APIã€æ§åˆ¶æµEventï¼‰"></a>JS-è¡Œä¸ºï¼ˆåŠŸèƒ½APIã€æ§åˆ¶æµEventï¼‰</h6><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(5).png" alt="carbon (5)"></p><h5 id="é‡æ„-æ’ä»¶åŒ–"><a href="#é‡æ„-æ’ä»¶åŒ–" class="headerlink" title="é‡æ„-æ’ä»¶åŒ–"></a>é‡æ„-æ’ä»¶åŒ–</h5><p><a href="https://code.juejin.cn/pen/7189573539517693986">è½®æ’­å›¾-æ’ä»¶åŒ–</a></p><h6 id="è§£è€¦"><a href="#è§£è€¦" class="headerlink" title="è§£è€¦"></a>è§£è€¦</h6><ul><li>å°†æ§åˆ¶å…ƒç´ æŠ½æˆæ’ä»¶</li><li>æ’ä»¶ä¸ç»„ä»¶ä¹‹é—´é€šè¿‡<strong>ä¾èµ–æ³¨å…¥</strong>æ–¹å¼å»ºç«‹è”ç³»</li></ul><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230117191726546.png" alt="image-20230117191726546"></p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(8).png" alt="carbon (8)"></p><h5 id="é‡æ„-æ¨¡å—åŒ–"><a href="#é‡æ„-æ¨¡å—åŒ–" class="headerlink" title="é‡æ„-æ¨¡å—åŒ–"></a>é‡æ„-æ¨¡å—åŒ–</h5><p><a href="https://code.juejin.cn/pen/7189563473347477541">è½®æ’­å›¾-æ¨¡å—åŒ–</a></p><h6 id="è§£è€¦-1"><a href="#è§£è€¦-1" class="headerlink" title="è§£è€¦"></a>è§£è€¦</h6><ul><li>å°†HTMLæ¨¡æ¿åŒ–ï¼Œæ›´æ˜“äºæ‰©å±•</li></ul><h6 id="æŠ½è±¡"><a href="#æŠ½è±¡" class="headerlink" title="æŠ½è±¡"></a>æŠ½è±¡</h6><ul><li>å°†ç»„ä»¶é€šç”¨æ¨¡å‹æŠ½è±¡å‡ºæ¥ï¼Œç»„ä»¶æ¡†æ¶</li></ul><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(4).png" alt="carbon (4)"></p><p><img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon%20(9).png" alt="carbon (9)"></p><h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><h5 id="ç»„ä»¶è®¾è®¡åŸåˆ™"><a href="#ç»„ä»¶è®¾è®¡åŸåˆ™" class="headerlink" title="ç»„ä»¶è®¾è®¡åŸåˆ™"></a>ç»„ä»¶è®¾è®¡åŸåˆ™</h5><ul><li>å°è£…æ€§</li><li>æ­£ç¡®æ€§</li><li>æ‰©å±•æ€§</li><li>å¤ç”¨æ€§</li></ul><h5 id="å®ç°ç»„ä»¶çš„æ­¥éª¤"><a href="#å®ç°ç»„ä»¶çš„æ­¥éª¤" class="headerlink" title="å®ç°ç»„ä»¶çš„æ­¥éª¤"></a>å®ç°ç»„ä»¶çš„æ­¥éª¤</h5><ul><li>ç»“æ„è®¾è®¡</li><li>å±•ç°æ•ˆæœ</li><li>è¡Œä¸ºè®¾è®¡</li></ul><h5 id="ä¸‰æ¬¡é‡æ„"><a href="#ä¸‰æ¬¡é‡æ„" class="headerlink" title="ä¸‰æ¬¡é‡æ„"></a>ä¸‰æ¬¡é‡æ„</h5><ul><li>æ¨¡å—åŒ–</li><li>æ¨¡æ¿åŒ–</li><li>æŠ½è±¡åŒ–ï¼ˆç»„ä»¶æ¡†æ¶-ç»„ä»¶æ˜¯æŒ‡Webé¡µé¢ä¸ŠæŠ½å‡ºæ¥çš„ä¸€ä¸ªåŒ…å«æ¨¡æ¿ã€åŠŸèƒ½ã€æ ·å¼çš„å•å…ƒã€‚ï¼‰</li></ul><h3 id="JSç¼–ç åŸåˆ™-è¿‡ç¨‹æŠ½è±¡"><a href="#JSç¼–ç åŸåˆ™-è¿‡ç¨‹æŠ½è±¡" class="headerlink" title="JSç¼–ç åŸåˆ™-è¿‡ç¨‹æŠ½è±¡"></a>JSç¼–ç åŸåˆ™-è¿‡ç¨‹æŠ½è±¡</h3><blockquote><p>åº”ç”¨å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³</p></blockquote><h4 id="è¿‡ç¨‹æŠ½è±¡"><a href="#è¿‡ç¨‹æŠ½è±¡" class="headerlink" title="è¿‡ç¨‹æŠ½è±¡"></a>è¿‡ç¨‹æŠ½è±¡</h4><ul><li>ç”¨æ¥å¤„ç†å±€éƒ¨ç»†èŠ‚æ§åˆ¶çš„ä¸€äº›æ–¹æ³•</li><li>å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³çš„åŸºç¡€åº”ç”¨</li></ul><h4 id="é«˜é˜¶å‡½æ•°-HOF"><a href="#é«˜é˜¶å‡½æ•°-HOF" class="headerlink" title="é«˜é˜¶å‡½æ•°-HOF"></a>é«˜é˜¶å‡½æ•°-HOF</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">HOF</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h5><p>ä¸ºäº†èƒ½è®©â€œåªæ‰§è¡Œä¸€æ¬¡â€çš„éœ€æ±‚è¦†ç›–ä¸ç”¨çš„äº‹ä»¶å¤„ç†ï¼Œå¯ä»¥å°†è¯¥éœ€æ±‚å‰¥ç¦»å‡ºæ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œè¿‡ç¨‹æŠ½è±¡â€ã€‚</p><h5 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h5><ul><li>ä»¥å‡½æ•°ä½œä¸ºå‚æ•°</li><li>ä»¥å‡½æ•°ä½œä¸ºè¿”å›å€¼</li><li>å¸¸ç”¨äºä½œä¸ºå‡½æ•°è£…é¥°å™¨</li></ul><h5 id="å¸¸ç”¨é«˜é˜¶å‡½æ•°"><a href="#å¸¸ç”¨é«˜é˜¶å‡½æ•°" class="headerlink" title="å¸¸ç”¨é«˜é˜¶å‡½æ•°"></a>å¸¸ç”¨é«˜é˜¶å‡½æ•°</h5><ul><li>Once<img src="../images/JS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/carbon-1673957466450-60.png" alt="carbon"></li><li>Throttle èŠ‚æµï¼Œé™åˆ¶å‡½æ•°æ‰§è¡Œé—´éš”    <a href="https://code.juejin.cn/pen/7189592749836861455">æ —å­</a></li><li>Debounce é˜²æŠ–ï¼Œé˜²æ­¢ç»™æœåŠ¡å™¨è¿‡å¤šè´Ÿæ‹…    <a href="https://code.juejin.cn/pen/7189593149349003279">æ —å­</a></li><li>Consumer /2 å¼‚æ­¥æ¶ˆè€—    <a href="https://code.juejin.cn/pen/7189593573535416354">æ —å­</a></li><li>Iterative è¿­ä»£å‡½æ•°    <a href="https://code.juejin.cn/pen/7189594190404288571">æ —å­</a></li></ul><h4 id="ç¼–ç¨‹èŒƒå¼"><a href="#ç¼–ç¨‹èŒƒå¼" class="headerlink" title="ç¼–ç¨‹èŒƒå¼"></a>ç¼–ç¨‹èŒƒå¼</h4><h5 id="å‘½ä»¤å¼"><a href="#å‘½ä»¤å¼" class="headerlink" title="å‘½ä»¤å¼"></a>å‘½ä»¤å¼</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> mapl = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    mapl.<span class="title function_">push</span>(list[i] * <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å£°æ˜å¼"><a href="#å£°æ˜å¼" class="headerlink" title="å£°æ˜å¼"></a>å£°æ˜å¼</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">double</span> = x =&gt; x * <span class="number">2</span>;</span><br><span class="line">list.<span class="title function_">map</span>(double);</span><br></pre></td></tr></table></figure><h5 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h5><p><a href="https://code.juejin.cn/pen/7189595739490943034">Toggle-å‘½ä»¤å¼</a></p><p><a href="https://code.juejin.cn/pen/7189595796021444664">Toggle-å£°æ˜å¼</a></p><p><a href="https://code.juejin.cn/pen/7189595847963705405">Toggle-ä¸‰æ€</a>ç”±æ­¤å¯è§å£°æ˜å¼æ›´èƒ½å‡è½»å†…å®¹ä¿®æ”¹æ·»åŠ çš„ä»£ç é‡è´Ÿæ‹…</p><h3 id="Left-padäº‹æ•…èƒŒæ™¯å¼•å…¥"><a href="#Left-padäº‹æ•…èƒŒæ™¯å¼•å…¥" class="headerlink" title="Left-padäº‹æ•…èƒŒæ™¯å¼•å…¥"></a>Left-padäº‹æ•…èƒŒæ™¯å¼•å…¥</h3><h4 id="æ —å­1-åˆ¤æ–­æ˜¯å¦ä¸ºå•ä½çŸ©é˜µ"><a href="#æ —å­1-åˆ¤æ–­æ˜¯å¦ä¸ºå•ä½çŸ©é˜µ" class="headerlink" title="æ —å­1-åˆ¤æ–­æ˜¯å¦ä¸ºå•ä½çŸ©é˜µ"></a>æ —å­1-åˆ¤æ–­æ˜¯å¦ä¸ºå•ä½çŸ©é˜µ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isUnitMatrix2d</span>(<span class="params">m</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> m[<span class="number">0</span>] === <span class="number">1</span> &amp;&amp; m[<span class="number">1</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">2</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">3</span>] === <span class="number">1</span> &amp;&amp; m[<span class="number">4</span>] === <span class="number">0</span> &amp;&amp; m[<span class="number">5</span>] === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™ä»£ç æœ€åº”è¯¥å…³æ³¨ä»€ä¹ˆï¼Ÿ</p><ul><li>é£æ ¼â€”â€”å¾ˆé‡è¦ï¼Œä»£ç ç»´æŠ¤æˆæœ¬å°å…³é”®</li><li>æ•ˆç‡â€”â€”å¾ˆé‡è¦ï¼Œç»“åˆåœºæ™¯é€‰æ‹©åˆé€‚ä»£ç ï¼ŒæŠ‰æ‹©æ˜¯æ•ˆç‡è¿˜æ˜¯å¯è¯»æ€§</li><li>çº¦å®š</li><li>ä½¿ç”¨åœºæ™¯</li><li>è®¾è®¡</li></ul><h4 id="æ —å­2-Left-padäº‹ä»¶"><a href="#æ —å­2-Left-padäº‹ä»¶" class="headerlink" title="æ —å­2-Left-padäº‹ä»¶"></a>æ —å­2-Left-padäº‹ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leftpad</span>(<span class="params">str, len, ch</span>)&#123;</span><br><span class="line">    str = <span class="title class_">String</span>(str);</span><br><span class="line">    <span class="keyword">var</span> i = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(!ch &amp;&amp; ch !== <span class="number">0</span>) ch=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    len = len - str.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">while</span>(++i&lt;len)&#123;</span><br><span class="line">        str = ch + str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº‹ä»¶æœ¬èº«æ§½ç‚¹ï¼š</p><ul><li>NPMæ¨¡å—ç²’åº¦â€”â€”æ¨¡å—åŒ–ã€æ‰“åŒ…å·¥å…·ä¸æˆç†Ÿ</li><li>ä»£ç é£æ ¼â€”â€”å¯è¯»æ€§ä¸ç®—å¥½</li><li>ä»£ç æ•ˆç‡è´¨é‡â€”â€”æ•ˆç‡ä¸ç®—é«˜</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leftpad</span>(<span class="params">str, len, ch</span>)&#123;</span><br><span class="line">    str = <span class="string">&quot;&quot;</span> + str;</span><br><span class="line">    <span class="keyword">const</span> padLen = len - str.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">if</span>(padLen &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span>(<span class="string">&quot;&quot;</span>+ch).<span class="title function_">repeat</span>(padLen) + str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§ä½¬ä¼˜åŒ–ï¼š</p><ul><li>æ›´ç®€æ´</li><li>æ›´é«˜æ•ˆ</li></ul><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat">å·¨ä½¬ä¼˜åŒ–</a></p><ul><li>æ€§èƒ½æ›´å¥½</li></ul><p>ä½†æ˜¯å°±å®ƒçš„ä½¿ç”¨åœºæ™¯ä¸Šï¼Œä¼˜åŒ–çš„æ„ä¹‰ä¸å¤§ã€‚</p><p>ï¼ˆä»¥ä¸‹çš„éƒ¨åˆ†æœ¬äººæ•ˆç‡å°±ä¸é«˜äº†ï¼Œè„‘å­è½¬ä¸åŠ¨äº†ï¼Œæ‰“ç®—æ˜å¤©å®Œå–„ï¼‰</p><h3 id="JSä»£ç è´¨é‡ä¼˜åŒ–"><a href="#JSä»£ç è´¨é‡ä¼˜åŒ–" class="headerlink" title="JSä»£ç è´¨é‡ä¼˜åŒ–"></a>JSä»£ç è´¨é‡ä¼˜åŒ–</h3><h4 id="æ —å­1-äº¤é€šç¯çŠ¶æ€åˆ‡æ¢"><a href="#æ —å­1-äº¤é€šç¯çŠ¶æ€åˆ‡æ¢" class="headerlink" title="æ —å­1-äº¤é€šç¯çŠ¶æ€åˆ‡æ¢"></a>æ —å­1-äº¤é€šç¯çŠ¶æ€åˆ‡æ¢</h4><h5 id="1-è¿‡äºç¹çï¼Œå›è°ƒä¼šå‡ºé—®é¢˜"><a href="#1-è¿‡äºç¹çï¼Œå›è°ƒä¼šå‡ºé—®é¢˜" class="headerlink" title="1.è¿‡äºç¹çï¼Œå›è°ƒä¼šå‡ºé—®é¢˜"></a>1.è¿‡äºç¹çï¼Œå›è°ƒä¼šå‡ºé—®é¢˜</h5><p><a href="https://code.h5jun.com/jezew/2/edit?html,css,js,output">æŸ¥çœ‹æºç </a></p><h5 id="2-å‡½æ•°å°è£…"><a href="#2-å‡½æ•°å°è£…" class="headerlink" title="2.å‡½æ•°å°è£…"></a>2.å‡½æ•°å°è£…</h5><p><a href="https://code.h5jun.com/xof/5/edit?js,output">æŸ¥çœ‹æºç </a></p><h5 id="3-è½®å·¡HOF"><a href="#3-è½®å·¡HOF" class="headerlink" title="3.è½®å·¡HOF"></a>3.è½®å·¡HOF</h5><p><a href="https://code.h5jun.com/bodul/2/edit?js,output">æŸ¥çœ‹æºç </a></p><h5 id="4-å¼‚æ­¥å‘½ä»¤å¼"><a href="#4-å¼‚æ­¥å‘½ä»¤å¼" class="headerlink" title="4.å¼‚æ­¥å‘½ä»¤å¼"></a>4.å¼‚æ­¥å‘½ä»¤å¼</h5><p><a href="https://code.h5jun.com/jobe/3/edit?js,output">æŸ¥çœ‹æºç </a></p><p>å¯å»¶ä¼¸å¼‚æ­¥å£°æ˜å¼â€¦â€¦</p><h4 id="æ —å­2-åˆ¤æ–­4çš„å¹‚"><a href="#æ —å­2-åˆ¤æ–­4çš„å¹‚" class="headerlink" title="æ —å­2-åˆ¤æ–­4çš„å¹‚"></a>æ —å­2-åˆ¤æ–­4çš„å¹‚</h4><h5 id="1-æš´åŠ›å¾ªç¯"><a href="#1-æš´åŠ›å¾ªç¯" class="headerlink" title="1.æš´åŠ›å¾ªç¯"></a>1.æš´åŠ›å¾ªç¯</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">while</span>(num&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(num%<span class="number">4</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        num /= <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">while</span>(num&gt;<span class="number">1</span>)&#123;</span><br><span class="line">       <span class="keyword">if</span>(num&amp; <span class="number">0b11</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       num &gt;&gt;&gt;=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num);</span><br><span class="line">    <span class="keyword">return</span> num &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (num&amp;(num - <span class="number">1</span>)) === <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (num&amp; <span class="number">0xAAAAAAAA</span>) === <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ­£åˆ™è¡¨è¾¾å¼-æœ€å–œæ¬¢çš„"><a href="#æ­£åˆ™è¡¨è¾¾å¼-æœ€å–œæ¬¢çš„" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼-æœ€å–œæ¬¢çš„"></a>æ­£åˆ™è¡¨è¾¾å¼-æœ€å–œæ¬¢çš„</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isPowerOfFour</span>(<span class="params">num</span>)&#123;</span><br><span class="line">    num = <span class="built_in">parseInt</span>(num).<span class="title function_">toString</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/^1(?:00)*$/</span>.<span class="title function_">test</span>(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ —å­3-æ´—ç‰Œ"><a href="#æ —å­3-æ´—ç‰Œ" class="headerlink" title="æ —å­3-æ´—ç‰Œ"></a>æ —å­3-æ´—ç‰Œ</h4><p>5555æˆ‘åˆæ‡’å¾—æ•²äº†ï¼Œæ˜å¤©ç»§ç»­ï¼</p><h5 id="1-ç®€å•å®ç°"><a href="#1-ç®€å•å®ç°" class="headerlink" title="1.ç®€å•å®ç°"></a>1.ç®€å•å®ç°</h5><p><a href="https://code.h5jun.com/cuvig/edit?js,console">https://code.h5jun.com/cuvig/edit?js,console</a></p><h5 id="2-æ­£ç¡®æ€§"><a href="#2-æ­£ç¡®æ€§" class="headerlink" title="2.æ­£ç¡®æ€§"></a>2.æ­£ç¡®æ€§</h5><p><a href="https://code.h5jun.com/venol/edit?js,console">https://code.h5jun.com/venol/edit?js,console</a></p><h5 id="3-å…¬å¹³æ€§"><a href="#3-å…¬å¹³æ€§" class="headerlink" title="3.å…¬å¹³æ€§"></a>3.å…¬å¹³æ€§</h5><p><a href="https://code.h5jun.com/huqi/edit?js,console">https://code.h5jun.com/huqi/edit?js,console</a></p><h5 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h5><p><a href="https://code.h5jun.com/zamuv/edit?js,console">https://code.h5jun.com/zamuv/edit?js,console</a></p><h4 id="æ —å­4-åˆ†çº¢åŒ…"><a href="#æ —å­4-åˆ†çº¢åŒ…" class="headerlink" title="æ —å­4-åˆ†çº¢åŒ…"></a>æ —å­4-åˆ†çº¢åŒ…</h4><h5 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h5><p><a href="https://code.h5jun.com/wuv/1/edit?js,output">https://code.h5jun.com/wuv/1/edit?js,output</a></p><h5 id="2-1"><a href="#2-1" class="headerlink" title="2."></a>2.</h5><p><a href="https://code.h5jun.com/luba/edit?js,output">https://code.h5jun.com/luba/edit?js,output</a></p><h2 id="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a><strong>ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</strong></h2><p>ä¼˜é›…ï¼Œå®åœ¨æ˜¯å¤ªä¼˜é›…äº†ï¼</p><p>JSç«Ÿç„¶æœ‰è¿™ä¹ˆå¤šå±‚ä¼˜åŒ–ï¼Œæˆ‘å¥½åƒåªåœ¨ç¬¬ä¸€å±‚ï¼ï¼ï¼ï¼</p><h2 id="å››ã€å¼•ç”¨å‚è€ƒï¼š"><a href="#å››ã€å¼•ç”¨å‚è€ƒï¼š" class="headerlink" title="å››ã€å¼•ç”¨å‚è€ƒï¼š"></a><strong>å››ã€å¼•ç”¨å‚è€ƒï¼š</strong></h2><p>è§ä¸Šæ–‡ä¸€äº›é“¾æ¥</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/4b21.html"/>
      <url>/post/4b21.html</url>
      
        <content type="html"><![CDATA[<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><p>æ­£ç»äººè°å­¦CSSå•Š</p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a><strong>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</strong></h2><ul><li>äº†è§£CSSï¼ˆæ˜¯ä»€ä¹ˆã€å¦‚ä½•ä½¿ç”¨ã€å¦‚ä½•å·¥ä½œã€ä¸€äº›é‡è¦å±æ€§é”®å€¼ã€å¦‚ä½•è°ƒè¯•ï¼‰</li><li>æ·±å…¥äº†è§£CSSï¼ˆå“ªæ¡è§„åˆ™ç”Ÿæ•ˆã€é€‰æ‹©å™¨ç‰¹å¼‚åº¦ã€CSSæ±‚å€¼è¿‡ç¨‹ã€CSSç»§æ‰¿ã€å¸ƒå±€ã€å—çº§ä¸è¡Œçº§ï¼‰</li></ul><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a><strong>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</strong></h2><h3 id="èµ°è¿›å‰ç«¯æŠ€æœ¯æ ˆ-CSS"><a href="#èµ°è¿›å‰ç«¯æŠ€æœ¯æ ˆ-CSS" class="headerlink" title="èµ°è¿›å‰ç«¯æŠ€æœ¯æ ˆ-CSS"></a>èµ°è¿›å‰ç«¯æŠ€æœ¯æ ˆ-CSS</h3><h4 id="ä»€ä¹ˆæ˜¯CSS"><a href="#ä»€ä¹ˆæ˜¯CSS" class="headerlink" title="ä»€ä¹ˆæ˜¯CSS"></a>ä»€ä¹ˆæ˜¯CSS</h4><ul><li>Cascading Style Sheets</li><li>ç”¨æ¥å®šä¹‰é¡µé¢å…ƒç´ çš„æ ·å¼ï¼ˆå­—ä½“ã€ä½ç½®ã€åŠ¨ç”»æ•ˆæœç­‰ï¼‰</li></ul><h4 id="CSSç»„æˆ"><a href="#CSSç»„æˆ" class="headerlink" title="CSSç»„æˆ"></a>CSSç»„æˆ</h4><ul><li>é€‰æ‹©å™¨Selector</li><li>å±æ€§Property</li><li>å±æ€§å€¼Value</li><li>å£°æ˜Declaration  ğŸŒ°ï¼š <code>selector &#123;   property: value;   ï¼ˆå£°æ˜è¯­å¥ï¼‰ &#125;</code></li></ul><h4 id="CSSä½¿ç”¨"><a href="#CSSä½¿ç”¨" class="headerlink" title="CSSä½¿ç”¨"></a>CSSä½¿ç”¨</h4><p>å†…è”ã€åµŒå…¥ã€å¤–é“¾ </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218121629136.png" alt="image-20230218121629136"></p><h4 id="CSSçš„å·¥ä½œ"><a href="#CSSçš„å·¥ä½œ" class="headerlink" title="CSSçš„å·¥ä½œ"></a>CSSçš„å·¥ä½œ</h4><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218121638505.png" alt="image-20230218121638505"></p><h5 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h5><p>æ‰¾å‡ºé¡µé¢ä¸­çš„å…ƒç´ ï¼Œä»¥ä¾¿ç»™ä»–ä»¬è®¾ç½®æ ·å¼ã€‚</p><p>ä½¿ç”¨å¤šç§æ–¹å¼é€‰æ‹©å…ƒç´ ï¼šæŒ‰ç…§æ ‡ç­¾åã€ç±»åæˆ–idï¼ŒæŒ‰ç…§å±æ€§ï¼ŒæŒ‰ç…§DOMæ ‘ä¸­çš„ä½ç½®</p><h6 id="é€‰æ‹©å™¨ç±»å‹"><a href="#é€‰æ‹©å™¨ç±»å‹" class="headerlink" title="é€‰æ‹©å™¨ç±»å‹"></a>é€‰æ‹©å™¨ç±»å‹</h6><ul><li>é€šé…é€‰æ‹©å™¨ ğŸŒ°:<code>* &#123;color:red; font-size: 20px&#125;</code></li><li>æ ‡ç­¾é€‰æ‹©å™¨</li><li>idé€‰æ‹©å™¨</li><li>ç±»é€‰æ‹©å™¨ï¼ˆå¯å‡ºç°å¤šæ¬¡ï¼Œå¸¸ç”¨ï¼‰</li><li>å±æ€§é€‰æ‹©å™¨</li></ul><p>å±æ€§ğŸŒ°:<code>&lt;input value=&quot;haha&quot; disabled&gt;</code> <code>&lt;style&gt;[disabled] &#123;background: #eee;&#125;&lt;/style&gt;</code></p><p>å¸¦å€¼å±æ€§ğŸŒ°:<code>&lt;input type=&quot;passworld&quot;&gt;</code> <code>&lt;style&gt;input[type=&quot;passworld&quot;] &#123;color: red;&#125;&lt;/style&gt;</code></p><p>ç¬¦åˆæ¡ä»¶å€¼å±æ€§ğŸŒ°:<code>&lt;a href=&quot;#top&quot;å›åˆ°é¡¶éƒ¨&gt;&lt;/a&gt;</code> <code>&lt;style&gt;a[href^=&quot;#&quot;] &#123;color: red;&#125;&lt;/style&gt;</code></p><ul><li><p>ä¼ªç±»ï¼ˆpseudo-classesï¼‰â€”â€”ä¸åŸºäºæ ‡ç­¾å’Œå±æ€§å®šä½å…ƒç´ </p><ul><li><p>çŠ¶æ€æ€§ä¼ªç±»ğŸŒ°</p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122353962.png" alt="image-20230218122353962"></p></li><li><p>ç»“æ„æ€§ä¼ªç±»ğŸŒ° ï¼ˆç›´æ¥ç»„åˆ) </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122406549.png" alt="image-20230218122406549"></p></li><li><p>å…¶ä»–ç±»å‹ç»„åˆ<img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122417953.png" alt="image-20230218122417953"></p></li></ul></li></ul><h6 id="é€‰æ‹©å™¨ç»„"><a href="#é€‰æ‹©å™¨ç»„" class="headerlink" title="é€‰æ‹©å™¨ç»„"></a>é€‰æ‹©å™¨ç»„</h6><p>ğŸŒ°ï¼š<code>body, h1, h2 &#123;margin: 0; padding: 0;&#125;</code></p><h4 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h4><h5 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h5><ul><li>rgb(å€¼ï¼Œå€¼ï¼Œå€¼)</li><li>#8fac87(00-ffå€¼)</li></ul><h5 id="HSLâ€”â€”Hueè‰²ç›¸-Saturationé¥±å’Œåº¦-Lightnessäº®åº¦"><a href="#HSLâ€”â€”Hueè‰²ç›¸-Saturationé¥±å’Œåº¦-Lightnessäº®åº¦" class="headerlink" title="HSLâ€”â€”Hueè‰²ç›¸ Saturationé¥±å’Œåº¦ Lightnessäº®åº¦"></a>HSLâ€”â€”Hueè‰²ç›¸ Saturationé¥±å’Œåº¦ Lightnessäº®åº¦</h5><ul><li>hsl(0-360, 100%, 100%)</li></ul><h5 id="ä¸€äº›é¢œè‰²å"><a href="#ä¸€äº›é¢œè‰²å" class="headerlink" title="ä¸€äº›é¢œè‰²å"></a>ä¸€äº›é¢œè‰²å</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122428812.png" alt="image-20230218122428812"></p><h5 id="alphaé€æ˜åº¦"><a href="#alphaé€æ˜åº¦" class="headerlink" title="alphaé€æ˜åº¦"></a>alphaé€æ˜åº¦</h5><ul><li>rgba(å€¼ï¼Œå€¼ï¼Œå€¼ï¼Œ0-1å€¼)</li><li>#ff000078(0-1è½¬åŒ–æˆ0-255)</li><li>hsla(åŒä¸Šï¼Œ0é€æ˜ 1ä¸é€æ˜)</li></ul><h4 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h4><h5 id="å­—ä½“æ—"><a href="#å­—ä½“æ—" class="headerlink" title="å­—ä½“æ—"></a>å­—ä½“æ—</h5><p>font-family  ğŸŒ°:<code>font-family:Optima,Georgiaï¼ŒSerif;</code></p><h6 id="ç»å¸¸æ”¾å¤šä¸ªå­—ä½“çš„åŸå› "><a href="#ç»å¸¸æ”¾å¤šä¸ªå­—ä½“çš„åŸå› " class="headerlink" title="ç»å¸¸æ”¾å¤šä¸ªå­—ä½“çš„åŸå› "></a>ç»å¸¸æ”¾å¤šä¸ªå­—ä½“çš„åŸå› </h6><p>ä¸åŒå®¢æˆ·ä½¿ç”¨çš„è®¾å¤‡æ”¯æŒæ‹¥æœ‰å’Œæ”¯æŒçš„å­—ä½“ä¸ä¸€æ ·ï¼Œæœ‰å“ªä¸ªç”¨å“ªä¸ªã€‚</p><h6 id="é€šç”¨å­—ä½“æ—"><a href="#é€šç”¨å­—ä½“æ—" class="headerlink" title="é€šç”¨å­—ä½“æ—"></a>é€šç”¨å­—ä½“æ—</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122436470.png" alt="image-20230218122436470"></p><h6 id="ä½¿ç”¨Web-Fonts"><a href="#ä½¿ç”¨Web-Fonts" class="headerlink" title="ä½¿ç”¨Web Fonts"></a>ä½¿ç”¨Web Fonts</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122443241.png" alt="image-20230218122443241"></p><h6 id="å­—ä½“è£åˆ‡"><a href="#å­—ä½“è£åˆ‡" class="headerlink" title="å­—ä½“è£åˆ‡"></a>å­—ä½“è£åˆ‡</h6><p>é€‚å½“è£åˆ‡å­—ä½“ï¼Œä¿è¯å­˜å‚¨åˆé€‚å¤§å°</p><h5 id="å­—ä½“å¤§å°"><a href="#å­—ä½“å¤§å°" class="headerlink" title="å­—ä½“å¤§å°"></a>å­—ä½“å¤§å°</h5><p>font-size(px,em,%)</p><h5 id="å­—ä½“æ•ˆæœ"><a href="#å­—ä½“æ•ˆæœ" class="headerlink" title="å­—ä½“æ•ˆæœ"></a>å­—ä½“æ•ˆæœ</h5><p>font-style(normal,italicæ–œä½“)</p><h5 id="å­—ä½“ç²—ç»†-å­—é‡"><a href="#å­—ä½“ç²—ç»†-å­—é‡" class="headerlink" title="å­—ä½“ç²—ç»†/å­—é‡"></a>å­—ä½“ç²—ç»†/å­—é‡</h5><p>font-weight(100-900,å…¶ä¸­400:normalï¼Œ700:bold)</p><h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><ul><li>å­—ä½“åé¢ä¸€å®šè¦æ·»åŠ ä¸€ä¸ªå­—ä½“æ—ï¼Œä»¥é˜²ä¸‡ä¸€ï¼ï¼</li><li>è‹±æ–‡å­—ä½“å°½é‡å†™åœ¨ä¸­æ–‡å­—ä½“å‰é¢</li><li>å­—é‡ä¸å­—ä½“å¯†åˆ‡ç›¸å…³</li></ul><h4 id="æ’ç‰ˆ"><a href="#æ’ç‰ˆ" class="headerlink" title="æ’ç‰ˆ"></a>æ’ç‰ˆ</h4><h5 id="è¡Œé«˜"><a href="#è¡Œé«˜" class="headerlink" title="è¡Œé«˜"></a>è¡Œé«˜</h5><p>line-height(1.6 åœ¨è‡ªèº«å­—ä½“å¤§å°çš„å€æ•°)</p><h5 id="å¯¹é½"><a href="#å¯¹é½" class="headerlink" title="å¯¹é½"></a>å¯¹é½</h5><p>text-align(right,left,center,justify)</p><h5 id="é—´è·"><a href="#é—´è·" class="headerlink" title="é—´è·"></a>é—´è·</h5><p>spacing å±æ€§ç±»å‹ï¼š</p><ul><li>letter-spacingï¼šå­—é—´è·</li><li>word-spacingï¼šå•è¯é—´è·</li></ul><h5 id="ç¼©è¿›"><a href="#ç¼©è¿›" class="headerlink" title="ç¼©è¿›"></a>ç¼©è¿›</h5><p>text-indent(px)</p><h5 id="æ–‡æ®µæ ¼å¼"><a href="#æ–‡æ®µæ ¼å¼" class="headerlink" title="æ–‡æ®µæ ¼å¼"></a>æ–‡æ®µæ ¼å¼</h5><p>text-decoration(none,underline,line-through,overline)</p><h5 id="ç©ºç™½ç¬¦å¤„ç†"><a href="#ç©ºç™½ç¬¦å¤„ç†" class="headerlink" title="ç©ºç™½ç¬¦å¤„ç†"></a>ç©ºç™½ç¬¦å¤„ç†</h5><p>white-space å±æ€§å€¼ï¼š</p><ul><li>normalï¼šé»˜è®¤ï¼Œç©ºç™½ä¼šè¢«æµè§ˆå™¨å¿½ç•¥</li><li>nowrapï¼šæ–‡æœ¬ä¸æ¢è¡Œï¼Œä¼šåœ¨åŒä¸€è¡Œç»§ç»­ï¼Œç›´åˆ°</li><li>preï¼šç©ºç™½ä¿ç•™ï¼Œç±»ä¼¼&lt;preæ ‡ç­¾</li><li>pre-wrapï¼šä¿ç•™ç©ºç™½ç¬¦åºåˆ—ï¼Œä½†æ˜¯æ­£å¸¸åœ°è¿›è¡Œæ¢è¡Œ</li><li>pre-lineï¼šåˆå¹¶ç©ºç™½ç¬¦åºåˆ—ï¼Œä½†æ˜¯ä¿ç•™æ¢è¡Œç¬¦</li><li>inheritï¼šè§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿white-spaceå±æ€§å€¼</li></ul><h4 id="è°ƒè¯•CSS"><a href="#è°ƒè¯•CSS" class="headerlink" title="è°ƒè¯•CSS"></a>è°ƒè¯•CSS</h4><p>ã€æ£€æŸ¥ã€‘é¡µé¢</p><h3 id="æ·±å…¥CSSï¼ˆä¸€ï¼‰"><a href="#æ·±å…¥CSSï¼ˆä¸€ï¼‰" class="headerlink" title="æ·±å…¥CSSï¼ˆä¸€ï¼‰"></a>æ·±å…¥CSSï¼ˆä¸€ï¼‰</h3><h4 id="é€‰æ‹©å™¨æ ·å¼ä¼˜å…ˆçº§"><a href="#é€‰æ‹©å™¨æ ·å¼ä¼˜å…ˆçº§" class="headerlink" title="é€‰æ‹©å™¨æ ·å¼ä¼˜å…ˆçº§"></a>é€‰æ‹©å™¨æ ·å¼ä¼˜å…ˆçº§</h4><p>Inline styleï¼ˆå†…è”æ ·å¼ï¼‰ &gt; Internal style sheetï¼ˆå†…éƒ¨æ ·å¼ï¼‰ &gt; External style sheetï¼ˆå¤–éƒ¨æ ·å¼ï¼‰&gt;ï¼important &gt; å†…è”æ ·å¼ &gt; ID é€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ = å±æ€§é€‰æ‹©å™¨ = ä¼ªç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾é€‰æ‹©å™¨ = ä¼ªå…ƒç´ é€‰æ‹©å™¨ &gt; é€šé…é€‰æ‹©å™¨</p><p>ğŸŒ°:</p><ul><li><p>å†…è”æ ·å¼ï¼šå†™åœ¨æ ‡ç­¾å±æ€§styleçš„æ ·å¼ï¼Œå¦‚ </p></li><li><p>IDé€‰æ‹©å™¨ï¼Œå¦‚#id{â€¦}</p></li><li><p>ç±»é€‰æ‹©å™¨ï¼Œå¦‚ .class{â€¦}</p></li><li><p>å±æ€§é€‰æ‹©å™¨ï¼Œå¦‚ input[type=â€emailâ€]{â€¦}</p></li><li><p>ä¼ªç±»é€‰æ‹©å™¨ï¼Œå¦‚a:hover{â€¦}</p></li><li><p>ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œå¦‚ p::before{â€¦}</p></li><li><p>æ ‡ç­¾é€‰æ‹©å™¨ï¼Œå¦‚ input{â€¦}</p></li><li><p>é€šé…é€‰æ‹©å™¨ï¼Œå¦‚ *{â€¦}</p></li></ul><h5 id="é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦Specificity"><a href="#é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦Specificity" class="headerlink" title="é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦Specificity"></a>é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦Specificity</h5><p>é€šè¿‡æ¯”è¾ƒå…ƒç´ ä½¿ç”¨é€‰æ‹©å™¨ç±»å‹å’Œæ•°é‡åˆ¤æ–­é€‰æ‹©å™¨çš„ç‰¹å¼‚åº¦ </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122452047.png" alt="image-20230218122452047"></p><h5 id="ä½¿ç”¨ç­–ç•¥"><a href="#ä½¿ç”¨ç­–ç•¥" class="headerlink" title="ä½¿ç”¨ç­–ç•¥"></a>ä½¿ç”¨ç­–ç•¥</h5><h6 id="å¤ç”¨"><a href="#å¤ç”¨" class="headerlink" title="å¤ç”¨"></a>å¤ç”¨</h6><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122501623.png" alt="image-20230218122501623"></p><h6 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h6><p>æ‰©å±•-CSSå±æ€§çš„ç»§æ‰¿æ€§åˆ†ç±»ï¼ˆå…‰ç ä¸çœ‹æ²¡æœ‰ç”¨ï¼‰</p><ul><li>ä¸å¯ç»§æ‰¿çš„ï¼šdisplayã€marginã€borderã€paddingã€backgroundã€heightã€min-heightã€max- heightã€widthã€min-widthã€max-widthã€overflowã€positionã€leftã€rightã€topã€ bottomã€z-indexã€floatã€clearã€table-layoutã€vertical-alignã€page-break-afterã€ page-bread-beforeå’Œunicode-bidiã€‚</li><li>æ‰€æœ‰å…ƒç´ å¯ç»§æ‰¿ï¼švisibilityå’Œcursorã€‚</li><li>å†…è”å…ƒç´ å¯ç»§æ‰¿ï¼šletter-spacingã€word-spacingã€white-spaceã€line-heightã€colorã€fontã€ font-familyã€font-sizeã€font-styleã€font-variantã€font-weightã€text- decorationã€text-transformã€directionã€‚</li><li>å—çŠ¶å…ƒç´ å¯ç»§æ‰¿ï¼štext-indentå’Œtext-alignã€‚</li><li>åˆ—è¡¨å…ƒç´ å¯ç»§æ‰¿ï¼šlist-styleã€list-style-typeã€list-style-positionã€list-style-imageã€‚</li><li>è¡¨æ ¼å…ƒç´ å¯ç»§æ‰¿ï¼šborder-collapseã€‚</li></ul><p>æ˜¾ç¤ºç»§æ‰¿</p><p>æŠŠä¸å¯ç»§æ‰¿çš„å˜æˆå¯ç»§æ‰¿çš„ï¼Œå±æ€§å€¼ï¼šinherit</p><h6 id="å±æ€§çš„åˆå§‹å€¼initial"><a href="#å±æ€§çš„åˆå§‹å€¼initial" class="headerlink" title="å±æ€§çš„åˆå§‹å€¼initial"></a>å±æ€§çš„åˆå§‹å€¼initial</h6><h5 id="CSSè¿ç®—è¿‡ç¨‹"><a href="#CSSè¿ç®—è¿‡ç¨‹" class="headerlink" title="CSSè¿ç®—è¿‡ç¨‹"></a>CSSè¿ç®—è¿‡ç¨‹</h5><p><a href="https://link.juejin.cn/?target=url">cdpn.io/webzhao/debâ€¦</a></p><h4 id="å¸ƒå±€Layout"><a href="#å¸ƒå±€Layout" class="headerlink" title="å¸ƒå±€Layout"></a>å¸ƒå±€Layout</h4><p>å¬ç´¯äº†å†™ç´¯äº†ï¼Œæ•´ç‚¹æˆªå›¾å–˜å£æ°”â†“</p><h5 id="å¸¸è§„æµ"><a href="#å¸¸è§„æµ" class="headerlink" title="å¸¸è§„æµ"></a>å¸¸è§„æµ</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122508756.png" alt="image-20230218122508756"></p><h5 id="å±æ€§å…³ç³»"><a href="#å±æ€§å…³ç³»" class="headerlink" title="å±æ€§å…³ç³»"></a>å±æ€§å…³ç³»</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122516618.png" alt="image-20230218122516618"></p><h5 id="borderå±æ€§"><a href="#borderå±æ€§" class="headerlink" title="borderå±æ€§"></a>borderå±æ€§</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122523744.png" alt="image-20230218122523744"></p><h5 id="paddingå±æ€§ç•¥"><a href="#paddingå±æ€§ç•¥" class="headerlink" title="paddingå±æ€§ç•¥"></a>paddingå±æ€§ç•¥</h5><h5 id="marginå±æ€§"><a href="#marginå±æ€§" class="headerlink" title="marginå±æ€§"></a>marginå±æ€§</h5><p><code>margin:auto</code>:æ°´å¹³å±…ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">margin collapse</span><br></pre></td></tr></table></figure><h5 id="box-sizing-border-boxéå¸¸å¸¸ç”¨â†“"><a href="#box-sizing-border-boxéå¸¸å¸¸ç”¨â†“" class="headerlink" title="box-sizing:border-boxéå¸¸å¸¸ç”¨â†“"></a><strong>box-sizing:border-box</strong>éå¸¸å¸¸ç”¨â†“</h5><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230218122530721.png" alt="image-20230218122530721"></p><h5 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h5><ul><li>visible</li><li>hidden</li><li>scrool</li></ul><h3 id="æ·±å…¥CSSï¼ˆäºŒï¼‰"><a href="#æ·±å…¥CSSï¼ˆäºŒï¼‰" class="headerlink" title="æ·±å…¥CSSï¼ˆäºŒï¼‰"></a>æ·±å…¥CSSï¼ˆäºŒï¼‰</h3><h4 id="å—çº§å’Œè¡Œçº§"><a href="#å—çº§å’Œè¡Œçº§" class="headerlink" title="å—çº§å’Œè¡Œçº§"></a>å—çº§å’Œè¡Œçº§</h4><p>ä¸è¡Œäº†çœŸçš„ä¸è¡Œäº†ï¼Œä»¥åè¿˜æ˜¯å¾—ç”¨è‡ªå·±çš„å·¥å…·å†™æ–‡æ¡£ </p><p><img src="../images/CSS%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211095206059.png" alt="image-20230211095206059"></p><h2 id="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a><strong>ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</strong></h2><p>1.è·Ÿç€è§†é¢‘é¡ºä¸€éçœŸçš„å¾ˆæœ‰ç”¨ 2.é€‰ä¸€æ¬¾é€‚åˆè‡ªå·±çš„å†™æ–‡æ¡£çš„å·¥å…·å¾ˆé‡è¦ï¼Œä¸è¦å›¾çœäº‹ 3.å†™æ–‡æ¡£æ˜¯ä¸ªä»”ç»†æ´»ï¼Œéœ€ç²¾è¿› 4.ä¸æ„§æ˜¯CSSï¼ˆè„‘å­çœŸçš„è½¬ä¸åŠ¨äº†ä¸çŸ¥é“æ€ä¹ˆæ€»ç»“äº†ï¼Œæ˜å¤©æ—©ä¸Šæƒ³å¥½äº†å†™è¯„è®ºé‡Œï¼‰</p><h2 id="å››ã€å¼•ç”¨å‚è€ƒï¼š"><a href="#å››ã€å¼•ç”¨å‚è€ƒï¼š" class="headerlink" title="å››ã€å¼•ç”¨å‚è€ƒï¼š"></a><strong>å››ã€å¼•ç”¨å‚è€ƒï¼š</strong></h2><p><a href="https://link.juejin.cn/?target=https://www.nowcoder.com/questionTerminal/82951db93fec4c6bb1a5a44e649b2bfc">ç‰›å®¢çœŸé¢˜1</a></p><p><a href="https://link.juejin.cn/?target=https://www.nowcoder.com/questionTerminal/e441b994986a411bb4872d640b790484">ç‰›å®¢çœŸé¢˜2</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/f274.html"/>
      <url>/post/f274.html</url>
      
        <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><p>æ­£ç»äººè°å­¦HTMLå•Š</p><h2 id="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"><a href="#ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š" class="headerlink" title="ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š"></a><strong>ä¸€ã€æœ¬å ‚è¯¾é‡ç‚¹å†…å®¹ï¼š</strong></h2><ul><li>HTMLåŸºæœ¬æ ‡ç­¾ã€å±æ€§ã€å±æ€§å€¼</li><li>HTMLè¯­ä¹‰åŒ–</li></ul><h2 id="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"><a href="#äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š" class="headerlink" title="äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š"></a><strong>äºŒã€è¯¦ç»†çŸ¥è¯†ç‚¹ä»‹ç»ï¼š</strong></h2><p>HTMLï¼š TyperText Markup Language</p><h3 id="HTMLåŸºæœ¬æ ‡ç­¾"><a href="#HTMLåŸºæœ¬æ ‡ç­¾" class="headerlink" title="HTMLåŸºæœ¬æ ‡ç­¾"></a>HTMLåŸºæœ¬æ ‡ç­¾</h3><h4 id="åºåˆ—"><a href="#åºåˆ—" class="headerlink" title="åºåˆ—"></a>åºåˆ—</h4><p><code>&lt;ol&gt;&lt;li&gt;åºå·æ’åˆ—&lt;/li&gt;&lt;/ol&gt;</code></p><p><code>&lt;ul&gt;&lt;li&gt;æ— åºå·æ’åˆ—&lt;/li&gt;&lt;/ul&gt;</code></p><p><code>&lt;dl&gt;&lt;dt&gt;æè¿°åˆ—è¡¨æ ‡é¢˜&lt;/dt&gt;&lt;dd&gt;å…·ä½“å…ƒç´ 1&lt;/dd&gt;&lt;dd&gt;å…·ä½“å…ƒç´ 2&lt;/dd&gt;&lt;/dl&gt;</code></p><h4 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h4><p><code>&lt;a href=&quot;&quot; target=&quot;_blank&quot;&gt;è¿™_blankå±æ€§æ˜¯è®©åœ¨æ–°çš„é¡µé¢ä¸­æ‰“å¼€é“¾æ¥&lt;/a&gt;</code></p><h4 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h4><p><code>&lt;img src=&quot;&quot; alt=&quot;é™çº§æ–‡å­—&quot;/&gt;</code></p><h4 id="éŸ³é¢‘"><a href="#éŸ³é¢‘" class="headerlink" title="éŸ³é¢‘"></a>éŸ³é¢‘</h4><p><code>&lt;audio src=&quot;&quot; controls(é»˜è®¤æ˜¾ç¤º)&gt;&lt;/audio&gt;</code></p><h4 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h4><p><code>&lt;video src=&quot;&quot; contiols(åŒä¸Šï¼‰&gt;&lt;/vedio&gt;</code></p><h4 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h4><p>å¥½ç©æ ‡ç­¾ï¼š</p><ul><li>input</li><li>textarea</li></ul><p>å¥½ç©å±æ€§ï¼š</p><ul><li>placeholder:æœªè¾“å…¥æ—¶çš„å ä½ç¬¦</li></ul><p>å¥½ç©å±æ€§å€¼ï¼š</p><ul><li>type=â€rangeâ€æ»‘åŠ¨è¿›åº¦æ¡</li><li>type=â€numberâ€ min=â€â€ max=â€â€è§„å®šæœ€å¤§å€¼æœ€å°å€¼çš„æ•°å­—è¾“å…¥</li><li>type=â€dateâ€ min=â€2022.12.31â€è§„å®šæœ€æ—©ä»è¿™ä¸ªæ—¥æœŸå¼€å§‹çš„æ—¥æœŸè¾“å…¥</li></ul><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094752754.png" alt="image-20230211094752754"></p><h4 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h4><p>å¸¸è§„åŒ…è£¹ï¼š</p><p>!<img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094742169.png" alt="image-20230211094742169">å¸¸è§„åŒ…è£¹</p><p>ï¼ˆå åä¸€ç§å¯ä»¥æä¾›ä¸€äº›è¾“å…¥å¿«æ·æç¤º)</p><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094725801.png" alt="image-20230211094725801"></p><h4 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h4><h5 id="å—çº§å¼•ç”¨"><a href="#å—çº§å¼•ç”¨" class="headerlink" title="å—çº§å¼•ç”¨"></a>å—çº§å¼•ç”¨</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">&quot;å¼•ç”¨åœ°å€&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        ä¸€æ®µè¯ï¼Œæ¯”å¦‚è¯´ä¹¦å†…è¯­å¥å•¥çš„</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="åç§°ç« èŠ‚çš„çŸ­å¼•ç”¨ã€å…·ä½“å†…å®¹çš„çŸ­å¼•ç”¨"><a href="#åç§°ç« èŠ‚çš„çŸ­å¼•ç”¨ã€å…·ä½“å†…å®¹çš„çŸ­å¼•ç”¨" class="headerlink" title="åç§°ç« èŠ‚çš„çŸ­å¼•ç”¨ã€å…·ä½“å†…å®¹çš„çŸ­å¼•ç”¨"></a>åç§°ç« èŠ‚çš„çŸ­å¼•ç”¨ã€å…·ä½“å†…å®¹çš„çŸ­å¼•ç”¨</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    åœ¨<span class="tag">&lt;<span class="name">cite</span>&gt;</span>ç¬¬ä¸€ç« ï¼ˆæ–œä½“ï¼‰<span class="tag">&lt;/<span class="name">cite</span>&gt;</span>ï¼Œæˆ‘ä»¬è®²è¿‡<span class="tag">&lt;<span class="name">q</span>&gt;</span>å­—ç¬¦å·æ‰èƒ½æ˜¯ä¸å¯å˜é‡ï¼ˆä¼šæœ‰å¼•å·ï¼Œè¡¨ç¤ºä¹‹å‰å†™è¿‡çš„è¯­å¥ï¼‰<span class="tag">&lt;/<span class="name">q</span>&gt;</span>ã€‚</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ä»£ç çš„å•è¡Œå¼•ç”¨"><a href="#ä»£ç çš„å•è¡Œå¼•ç”¨" class="headerlink" title="ä»£ç çš„å•è¡Œå¼•ç”¨"></a>ä»£ç çš„å•è¡Œå¼•ç”¨</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>const qvq = &quot;qvq&quot;<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ä»£ç çš„å¤šè¡Œå¼•ç”¨"><a href="#ä»£ç çš„å¤šè¡Œå¼•ç”¨" class="headerlink" title="ä»£ç çš„å¤šè¡Œå¼•ç”¨"></a>ä»£ç çš„å¤šè¡Œå¼•ç”¨</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span></span><br><span class="line">const add = (a,b) =&gt; a + b;</span><br><span class="line">const multipy = (a,b) =&gt; a * b;</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ç´§æ€¥æ–‡æœ¬å¼ºè°ƒ"><a href="#ç´§æ€¥æ–‡æœ¬å¼ºè°ƒ" class="headerlink" title="ç´§æ€¥æ–‡æœ¬å¼ºè°ƒ"></a>ç´§æ€¥æ–‡æœ¬å¼ºè°ƒ</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    åœ¨æŠ•èµ„å‰ï¼Œ<span class="tag">&lt;<span class="name">strong</span>&gt;</span>ä¸€å®šè¦åšé£é™©è¯„ä¼°<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>ã€‚</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="è¯­æ°”æ–‡æœ¬å¼ºè°ƒ"><a href="#è¯­æ°”æ–‡æœ¬å¼ºè°ƒ" class="headerlink" title="è¯­æ°”æ–‡æœ¬å¼ºè°ƒ"></a>è¯­æ°”æ–‡æœ¬å¼ºè°ƒ</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    Cats <span class="tag">&lt;<span class="name">em</span>&gt;</span>are<span class="tag">&lt;/<span class="name">em</span>&gt;</span> cute animals.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå›¾è§ä¸‹æ–¹çš„</p><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094658863.png" alt="image-20230211094658863"></p><h3 id="HTMLè¯­ä¹‰åŒ–"><a href="#HTMLè¯­ä¹‰åŒ–" class="headerlink" title="HTMLè¯­ä¹‰åŒ–"></a>HTMLè¯­ä¹‰åŒ–</h3><h4 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h4><p><img src="../images/HTML%E8%B7%9F%E5%AD%A6%E7%AC%94%E8%AE%B0/image-20230211094624477.png" alt="image-20230211094624477"></p><h4 id="è¯­ä¹‰åŒ–ä½œç”¨"><a href="#è¯­ä¹‰åŒ–ä½œç”¨" class="headerlink" title="è¯­ä¹‰åŒ–ä½œç”¨"></a>è¯­ä¹‰åŒ–ä½œç”¨</h4><p>ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€æœç´¢å¼•æ“ä¼˜åŒ–ã€æå‡æ— éšœç¢æ€§</p><h4 id="å¦‚ä½•åšåˆ°è¯­ä¹‰åŒ–"><a href="#å¦‚ä½•åšåˆ°è¯­ä¹‰åŒ–" class="headerlink" title="å¦‚ä½•åšåˆ°è¯­ä¹‰åŒ–"></a>å¦‚ä½•åšåˆ°è¯­ä¹‰åŒ–</h4><ul><li><p>äº†è§£æ¯ä¸ªæ ‡ç­¾å’Œå±æ€§çš„å«ä¹‰</p></li><li><p>æ€è€ƒä»€ä¹ˆæ ‡ç­¾æœ€é€‚åˆæè¿°è¯¥å†…å®¹</p></li><li><p>ä¸ä½¿ç”¨å¯è§†åŒ–å·¥å…·ç”Ÿæˆä»£ç </p></li><li><p>æ¶‰åŠåˆ°çš„è¯­ä¹‰åŒ–æ ‡ç­¾æ•´ç†</p></li></ul><h4 id="é¡µé¢å†…å®¹åˆ’åˆ†"><a href="#é¡µé¢å†…å®¹åˆ’åˆ†" class="headerlink" title="é¡µé¢å†…å®¹åˆ’åˆ†"></a>é¡µé¢å†…å®¹åˆ’åˆ†</h4><ul><li>headerï¼šé¡µçœ‰,é€šå¸¸åŒ…æ‹¬ç½‘ç«™æ ‡å¿—ã€ä¸»å¯¼èˆªã€å…¨ç«™é“¾æ¥ä»¥åŠæœç´¢æ¡†ã€‚</li><li>navï¼šæ ‡è®°å¯¼èˆªã€‚</li><li>mainï¼šé¡µé¢ä¸»è¦å†…å®¹ï¼Œä¸€ä¸ªé¡µé¢åªèƒ½ç”¨ä¸€æ¬¡ã€‚</li><li>articleï¼šå®šä¹‰å¤–éƒ¨çš„å†…å®¹ï¼Œå…¶ä¸­çš„å†…å®¹ç‹¬ç«‹äºæ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†ã€‚</li><li>asideï¼šå®šä¹‰å…¶æ‰€å¤„å†…å®¹ä¹‹å¤–çš„å†…å®¹ã€‚å¦‚ä¾§æ ã€æ–‡ç« çš„ä¸€ç»„é“¾æ¥ã€å¹¿å‘Šã€å‹æƒ…é“¾æ¥ã€ç›¸å…³äº§å“åˆ—è¡¨ç­‰ã€‚</li><li>footerï¼šé¡µè„šï¼Œåªæœ‰å½“çˆ¶çº§æ˜¯bodyæ—¶ï¼Œæ‰æ˜¯æ•´ä¸ªé¡µé¢çš„é¡µè„šã€‚</li></ul><h4 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h4><ul><li>titleï¼šå®šä¹‰æ–‡æ¡£æ ‡é¢˜,åªèƒ½åœ¨headæ ‡ç­¾å†…å‡ºç°ã€‚</li><li>hnï¼šh1~h6ï¼Œåˆ†çº§æ ‡é¢˜ï¼Œä¸ title åè°ƒæœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ã€‚</li></ul><h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><ul><li>ulï¼šæ— åºåˆ—è¡¨ã€‚</li><li>olï¼šæœ‰åºåˆ—è¡¨ã€‚</li></ul><h4 id="å¼ºè°ƒå’Œå¼•ç”¨"><a href="#å¼ºè°ƒå’Œå¼•ç”¨" class="headerlink" title="å¼ºè°ƒå’Œå¼•ç”¨"></a>å¼ºè°ƒå’Œå¼•ç”¨</h4><ul><li>smallï¼šå‘ˆç°å°å·å­—ä½“æ•ˆæœï¼ŒæŒ‡å®šç»†åˆ™ï¼Œè¾“å…¥å…è´£å£°æ˜ã€æ³¨è§£ã€ç½²åã€ç‰ˆæƒã€‚</li><li>strongï¼šå’Œ em æ ‡ç­¾ä¸€æ ·ï¼Œç”¨äºå¼ºè°ƒæ–‡æœ¬ï¼Œä½†å®ƒå¼ºè°ƒçš„ç¨‹åº¦æ›´å¼ºä¸€äº›ã€‚</li><li>emï¼šå°†å…¶ä¸­çš„æ–‡æœ¬è¡¨ç¤ºä¸ºå¼ºè°ƒçš„å†…å®¹ï¼Œè¡¨ç°ä¸ºæ–œä½“ã€‚</li><li>markï¼šä½¿ç”¨é»„è‰²çªå‡ºæ˜¾ç¤ºéƒ¨åˆ†æ–‡æœ¬ã€‚</li><li>citeï¼šè¡¨ç¤ºæ‰€åŒ…å«çš„æ–‡æœ¬å¯¹æŸä¸ªå‚è€ƒæ–‡çŒ®çš„å¼•ç”¨ï¼Œæ¯”å¦‚ä¹¦ç±æˆ–è€…æ‚å¿—çš„æ ‡é¢˜ã€‚</li><li>blockquotoï¼šå—çº§å¼•ç”¨ï¼Œå—å¼•ç”¨æ‹¥æœ‰å®ƒä»¬è‡ªå·±çš„ç©ºé—´ã€‚</li><li>qï¼šçŸ­çš„å¼•è¿°ï¼Œå¼•ç”¨å†™è¿‡çš„å†…å®¹ã€‚</li><li>codeï¼šæ ‡è®°ä»£ç ã€‚</li></ul><h2 id="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"><a href="#ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š" class="headerlink" title="ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š"></a><strong>ä¸‰ã€è¯¾åä¸ªäººæ€»ç»“ï¼š</strong></h2><p>å›é¡¾äº†å¸¸è§çš„HTMLè¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œè¿›ä¸€æ­¥äº†è§£è¯­ä¹‰åŒ–æ ‡ç­¾ä¼˜åŠ¿ã€‚</p><h2 id="å››ã€å¼•ç”¨å‚è€ƒï¼š"><a href="#å››ã€å¼•ç”¨å‚è€ƒï¼š" class="headerlink" title="å››ã€å¼•ç”¨å‚è€ƒï¼š"></a><strong>å››ã€å¼•ç”¨å‚è€ƒï¼š</strong></h2><p><a href="https://link.juejin.cn/?target=_blanck">HTMLè¯­ä¹‰åŒ–-CSDN</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Viteè·Ÿå­¦ç¬”è®°</title>
      <link href="/post/db5b.html"/>
      <url>/post/db5b.html</url>
      
        <content type="html"><![CDATA[<h1 id="Viteè·Ÿå­¦ç¬”è®°"><a href="#Viteè·Ÿå­¦ç¬”è®°" class="headerlink" title="Viteè·Ÿå­¦ç¬”è®°"></a>Viteè·Ÿå­¦ç¬”è®°</h1><p>æ­£ç»äººè°å­¦Viteå•Š</p><h2 id="Viteç³»åˆ—è¯¾ç¨‹å‰è¨€"><a href="#Viteç³»åˆ—è¯¾ç¨‹å‰è¨€" class="headerlink" title="Viteç³»åˆ—è¯¾ç¨‹å‰è¨€"></a>Viteç³»åˆ—è¯¾ç¨‹å‰è¨€</h2><h3 id="å†°å±±ä¸€è§’"><a href="#å†°å±±ä¸€è§’" class="headerlink" title="å†°å±±ä¸€è§’"></a>å†°å±±ä¸€è§’</h3><ol><li><p>Vite: æ€ç»´æ¯”è¾ƒå‰å«è€Œä¸”å…ˆè¿›çš„æ„å»ºå·¥å…· ä»–ç¡®å®è§£å†³äº†ä¸€äº›webpackè§£å†³ä¸äº†çš„é—®é¢˜, åŒæ—¶é™ä½äº†ä¸€äº›å¿ƒæ™ºè´Ÿæ‹…</p></li><li><p>å·²ç»æœ‰ä¸€äº›å¤§å‚åœ¨ä½¿ç”¨Viteå»æ„å»ºé¡¹ç›®</p></li><li><p>ViteåŸºäºè‡ªå·±å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿, ä»–æœªæ¥ä¸€å®šä¼šå æœ‰ä¸€å¸­ä¹‹åœ° å‰æ®µæ—¶é—´é˜¿é‡Œçš„é¢è¯•å·²ç»åœ¨é—®Viteäº†</p></li><li><p>Viteæ˜¯Vueå›¢é˜Ÿçš„å®˜æ–¹å‡ºå“, èƒŒé è¿™ä¹ˆå¤§çš„ç”Ÿæ€, Vue-cliä¼šåœ¨ä¸‹é¢ä¸¤ä¸ªç‰ˆæœ¬ä¸­å°†viteä½œä¸ºé¢„è®¾æ„å»ºå·¥å…· </p></li><li><p>æœªæ¥ä½ ä½¿ç”¨vue-cliå»æ„å»ºvueé¡¹ç›®çš„æ—¶å€™ä½ è¦å†™çš„vue.config.jsä¸å†æ˜¯webpackçš„é…ç½®è€Œæ˜¯viteçš„é…ç½®(ç›®å‰åªåŸºäºæµè§ˆå™¨é¡¹ç›®)</p></li><li><p>Viteä¹Ÿæ”¯æŒç›´æ¥æ„å»ºreacté¡¹ç›®, ä¹Ÿæ”¯æŒæ„å»ºangularé¡¹ç›®, svelteé¡¹ç›®ä¹Ÿæ”¯æŒæ„å»º</p></li></ol><h3 id="å­¦ä¹ æ¨¡å—"><a href="#å­¦ä¹ æ¨¡å—" class="headerlink" title="å­¦ä¹ æ¨¡å—"></a>å­¦ä¹ æ¨¡å—</h3><ol><li>ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·? </li><li>webpackçš„ä¸€ä¸ªç¼ºç‚¹åœ¨å“ª</li><li>es moduleçš„è§„èŒƒ</li><li>viteä»–åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ </li><li>viteçš„åŸºæœ¬å®‰è£…å’Œä½¿ç”¨</li><li>viteçš„ç¼–è¯‘ç»“æœ</li><li>viteç¼–è¯‘ç»“æœçš„åˆ†æ</li><li>viteçš„é…ç½®æ–‡ä»¶(å¯èƒ½ä¼šæœ‰èŠ‚è¯¾ç¨‹)</li><li>viteä¸­å¤„ç†css, é™æ€èµ„æºæ€ä¹ˆå»åš</li><li>viteçš„æ’ä»¶ä»¥åŠå¸¸ç”¨æ’ä»¶çš„ä½¿ç”¨</li><li>viteä¸tsçš„ç»“åˆ</li><li>viteç”Ÿäº§æ‰“åŒ…</li><li>viteæ„å»ºreacté¡¹ç›®, svelteé¡¹ç›®, vue3é¡¹ç›®</li><li>viteçš„ä¸€ä¸ªæ„å»ºåŸç† </li></ol><h2 id="ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·"><a href="#ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·" class="headerlink" title="ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·"></a>ä»€ä¹ˆæ˜¯æ„å»ºå·¥å…·</h2><p><strong>æµè§ˆå™¨å®ƒåªèƒ½è¯†åˆ«html css js</strong></p><h3 id="ä¼ä¸šåŠé¡¹ç›®å¯èƒ½å…·å¤‡å“ªäº›åŠŸèƒ½"><a href="#ä¼ä¸šåŠé¡¹ç›®å¯èƒ½å…·å¤‡å“ªäº›åŠŸèƒ½" class="headerlink" title="ä¼ä¸šåŠé¡¹ç›®å¯èƒ½å…·å¤‡å“ªäº›åŠŸèƒ½"></a>ä¼ä¸šåŠé¡¹ç›®å¯èƒ½å…·å¤‡å“ªäº›åŠŸèƒ½</h3><ol><li>typescript: å¦‚æœé‡åˆ°tsæ–‡ä»¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨tscå°†typescriptä»£ç è½¬æ¢ä¸ºjsä»£ç    </li><li>React/Vue: å®‰è£…react-compiler / vue-complier, å°†æˆ‘ä»¬å†™çš„jsxæ–‡ä»¶æˆ–è€….vueæ–‡ä»¶è½¬æ¢ä¸ºrenderå‡½æ•°</li><li>less/sass/postcss/component-style: æˆ‘ä»¬åˆéœ€è¦å®‰è£…less-loader, sass-loaderç­‰ä¸€ç³»åˆ—ç¼–è¯‘å·¥å…·</li><li>è¯­æ³•é™çº§: babel â€”&gt; å°†esçš„æ–°è¯­æ³•è½¬æ¢æ—§ç‰ˆæµè§ˆå™¨å¯ä»¥æ¥å—çš„è¯­æ³•</li><li>ä½“ç§¯ä¼˜åŒ–: uglifyjs â€”&gt; å°†æˆ‘ä»¬çš„ä»£ç è¿›è¡Œå‹ç¼©å˜æˆä½“ç§¯æ›´å°æ€§èƒ½æ›´é«˜çš„æ–‡ä»¶</li><li>â€¦..</li></ol><p>ç¨å¾®æ”¹ä¸€ç‚¹ç‚¹ä¸œè¥¿, éå¸¸éº»çƒ¦</p><blockquote><p>e.g.å°†App.tsx â€”&gt; tsc â€”&gt; App.jsx â€”&gt; React-complier â€”&gt; jsæ–‡ä»¶ </p></blockquote><p>æœ‰ä¸€ä¸ªä¸œè¥¿èƒ½å¤Ÿå¸®ä½ æŠŠtsc, react-compiler, less, babel, uglifyjså…¨éƒ¨é›†æˆåˆ°ä¸€èµ·ï¼Œè®©æˆ‘ä»¬åªéœ€è¦å…³å¿ƒæˆ‘ä»¬å†™çš„ä»£ç å°±å¥½äº† </p><blockquote><p>e.g.æˆ‘ä»¬å†™çš„ä»£ç ä¸€å˜åŒ– â€”&gt; æœ‰äººå¸®æˆ‘ä»¬è‡ªåŠ¨å»tsc, react-compiler, less, babel, uglifyjså…¨éƒ¨æŒ¨ä¸ªèµ°ä¸€é â€”&gt; js</p></blockquote><p>â†‘è¿™ä¸ªä¸œè¥¿å°±å«åš<strong>æ„å»ºå·¥å…·</strong></p><blockquote><p>æ‰“åŒ…: å°†æˆ‘ä»¬å†™çš„æµè§ˆå™¨ä¸è®¤è¯†çš„ä»£ç  äº¤ç»™æ„å»ºå·¥å…·è¿›è¡Œç¼–è¯‘å¤„ç†çš„è¿‡ç¨‹å°±å«åšæ‰“åŒ…, æ‰“åŒ…å®Œæˆä»¥åä¼šç»™æˆ‘ä»¬ä¸€ä¸ªæµè§ˆå™¨å¯ä»¥è®¤è¯†çš„æ–‡ä»¶</p></blockquote><h3 id="æ„å»ºå·¥å…·æ‰¿æ‹…çš„å·¥ä½œ"><a href="#æ„å»ºå·¥å…·æ‰¿æ‹…çš„å·¥ä½œ" class="headerlink" title="æ„å»ºå·¥å…·æ‰¿æ‹…çš„å·¥ä½œ"></a>æ„å»ºå·¥å…·æ‰¿æ‹…çš„å·¥ä½œ</h3><ol><li>æ¨¡å—åŒ–å¼€å‘æ”¯æŒ: æ”¯æŒç›´æ¥ä»node_modulesé‡Œå¼•å…¥ä»£ç  + å¤šç§æ¨¡å—åŒ–æ”¯æŒ</li><li>å¤„ç†ä»£ç å…¼å®¹æ€§: æ¯”å¦‚babelè¯­æ³•é™çº§, less,ts è¯­æ³•è½¬æ¢(<strong>ä¸æ˜¯æ„å»ºå·¥å…·åšçš„, æ„å»ºå·¥å…·å°†è¿™äº›è¯­æ³•å¯¹åº”çš„å¤„ç†å·¥å…·é›†æˆè¿›æ¥è‡ªåŠ¨åŒ–å¤„ç†</strong>)</li><li>æé«˜é¡¹ç›®æ€§èƒ½: å‹ç¼©æ–‡ä»¶, <strong>ä»£ç åˆ†å‰²</strong></li><li>ä¼˜åŒ–å¼€å‘ä½“éªŒ: <ul><li>æ„å»ºå·¥å…·ä¼šå¸®ä½ è‡ªåŠ¨ç›‘å¬æ–‡ä»¶çš„å˜åŒ–, å½“æ–‡ä»¶å˜åŒ–ä»¥åè‡ªåŠ¨å¸®ä½ è°ƒç”¨å¯¹åº”çš„é›†æˆå·¥å…·è¿›è¡Œé‡æ–°æ‰“åŒ…, ç„¶åå†æµè§ˆå™¨é‡æ–°è¿è¡Œï¼ˆæ•´ä¸ªè¿‡ç¨‹å«åšçƒ­æ›´æ–°, hot replacement</li><li>å¼€å‘æœåŠ¡å™¨: è·¨åŸŸçš„é—®é¢˜, ç”¨react-cli create-react-element vue-cli  è§£å†³è·¨åŸŸçš„é—®é¢˜, </li></ul></li></ol><p>æ¯æ¬¡æ”¹ä¸€ç‚¹ â€”&gt; è¿™ä¸ªé¡ºåºè¿˜ä¸èƒ½é”™ </p><h3 id="æ„å»ºå·¥å…·çš„ä½œç”¨"><a href="#æ„å»ºå·¥å…·çš„ä½œç”¨" class="headerlink" title="æ„å»ºå·¥å…·çš„ä½œç”¨"></a>æ„å»ºå·¥å…·çš„ä½œç”¨</h3><ol><li><p>æ„å»ºå·¥å…·è®©æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½å…³å¿ƒæˆ‘ä»¬çš„ä»£ç åœ¨æµè§ˆå™¨ä¸­å¦‚ä½•è¿è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦é¦–æ¬¡ç»™æ„å»ºå·¥å…·æä¾›ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆå¿…é¡»ï¼‰ï¼Œæœ‰äº†è¿™ä¸ªé›†æˆçš„é…ç½®æ–‡ä»¶ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸‹æ¬¡éœ€è¦æ›´æ–°çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡å¯¹åº”çš„å‘½ä»¤å°±å¥½äº†ã€‚</p></li><li><p>å¦‚æœæˆ‘ä»¬å†ç»“åˆçƒ­æ›´æ–°ï¼Œæˆ‘ä»¬å°±æ›´åŠ ä¸éœ€è¦ç®¡ä»»ä½•ä¸œè¥¿äº†ã€‚</p></li></ol><p>==å®ƒè®©æˆ‘ä»¬ä¸ç”¨å…³å¿ƒç”Ÿäº§çš„ä»£ç ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒä»£ç å¦‚ä½•åœ¨æµè§ˆå™¨è¿è¡Œï¼Œåªéœ€è¦å…³å¿ƒæˆ‘ä»¬å¼€å‘æ€ä¹ˆå†™å¾—çˆ½ã€‚==</p><h3 id="å¸‚é¢ä¸Šä¸»æµæ„å»ºå·¥å…·"><a href="#å¸‚é¢ä¸Šä¸»æµæ„å»ºå·¥å…·" class="headerlink" title="å¸‚é¢ä¸Šä¸»æµæ„å»ºå·¥å…·"></a>å¸‚é¢ä¸Šä¸»æµæ„å»ºå·¥å…·</h3><ul><li>webpack-å›½å†…ä¸»æµ</li><li>vite-å›½å†…ä¸»æµï¼Œæœ¬æ¬¡å­¦ä¹ </li><li>parcel</li><li>esbuild-å›½å†…ä¸»æµ</li><li>rollup</li><li>grunt</li><li>gulp</li></ul><h2 id="viteç›¸è¾ƒäºwebpackçš„ä¼˜åŠ¿"><a href="#viteç›¸è¾ƒäºwebpackçš„ä¼˜åŠ¿" class="headerlink" title="viteç›¸è¾ƒäºwebpackçš„ä¼˜åŠ¿"></a>viteç›¸è¾ƒäºwebpackçš„ä¼˜åŠ¿</h2><blockquote><p>ç„¶è€Œï¼Œå½“æˆ‘ä»¬å¼€å§‹æ„å»ºè¶Šæ¥è¶Šå¤§å‹çš„åº”ç”¨æ—¶ï¼Œéœ€è¦å¤„ç†çš„ JavaScript ä»£ç é‡ä¹Ÿå‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</p><p>åŒ…å«æ•°åƒä¸ªæ¨¡å—çš„å¤§å‹é¡¹ç›®ç›¸å½“æ™®éã€‚åŸºäº JavaScript å¼€å‘çš„å·¥å…·å°±ä¼šå¼€å§‹é‡åˆ°æ€§èƒ½ç“¶é¢ˆï¼šé€šå¸¸éœ€è¦å¾ˆé•¿æ—¶é—´ï¼ˆç”šè‡³æ˜¯å‡ åˆ†é’Ÿï¼ï¼‰æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå³ä½¿ä½¿ç”¨æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰ï¼Œæ–‡ä»¶ä¿®æ”¹åçš„æ•ˆæœä¹Ÿéœ€è¦å‡ ç§’é’Ÿæ‰èƒ½åœ¨æµè§ˆå™¨ä¸­åæ˜ å‡ºæ¥ã€‚å¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œè¿Ÿé’çš„åé¦ˆä¼šæå¤§åœ°å½±å“å¼€å‘è€…çš„å¼€å‘æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚</p><p>Vite æ—¨åœ¨åˆ©ç”¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ–°è¿›å±•è§£å†³ä¸Šè¿°é—®é¢˜ï¼šæµè§ˆå™¨å¼€å§‹åŸç”Ÿæ”¯æŒ ES æ¨¡å—ï¼Œä¸”è¶Šæ¥è¶Šå¤š JavaScript å·¥å…·ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨€ç¼–å†™ã€‚</p></blockquote><ul><li>==é‡‡å–å…ˆå¼€å¯å¼€å‘æœåŠ¡å™¨==</li><li>==ä¸ä¼šæŠŠæ‰€æœ‰ä¾èµ–éƒ½è§£æå®Œ==</li></ul><h3 id="æ„å»ºå·¥å…·å­˜åœ¨çš„é—®é¢˜"><a href="#æ„å»ºå·¥å…·å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="æ„å»ºå·¥å…·å­˜åœ¨çš„é—®é¢˜"></a>æ„å»ºå·¥å…·å­˜åœ¨çš„é—®é¢˜</h3><p>é¡¹ç›®è¶Šå¤§ï¼Œæ„å»ºå·¥å…·æ‰€éœ€è¦å¤„ç†çš„jsä»£ç å°±è¶Šå¤š=&gt;æ„å»ºå·¥å…·éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å¯åŠ¨å¼€å‘æœåŠ¡å™¨</p><h3 id="ä¸¾ä¸€ä¸ªwebpackæ —å­"><a href="#ä¸¾ä¸€ä¸ªwebpackæ —å­" class="headerlink" title="ä¸¾ä¸€ä¸ªwebpackæ —å­"></a>ä¸¾ä¸€ä¸ªwebpackæ —å­</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œ==webpackæ”¯æŒå¤šç§æ¨¡å—åŒ–==ï¼Œä½ çš„å·¥ç¨‹å¯èƒ½ä¸æ­¢æ³¡åœ¨æµè§ˆå™¨ç«¯ã€‚</p><p>é‚£webpackèƒ½ä¸èƒ½æ”¹ï¼Ÿä¸€æ—¦è¦æ”¹ï¼Œå°†ä¼šåŠ¨åˆ°å®ƒçš„å¤§åŠ¨è„‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> loadsh = <span class="built_in">require</span>(<span class="string">&quot;loadsh&quot;</span>)<span class="comment">//commonjsè§„èŒƒ</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span><span class="comment">//es6è§„èŒƒ</span></span><br><span class="line">|</span><br><span class="line">|ç»è¿‡ä¸€å®šè¿‡ç¨‹ï¼Œwebpackè½¬æ¢ï¼ˆæ„å»ºå·¥å…·æ˜¯è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ï¼‰</span><br><span class="line">â†“    </span><br><span class="line"><span class="keyword">const</span> loadsh = <span class="title function_">webpack_require</span>(<span class="string">&quot;loadsh&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="title function_">webpack_require</span>(<span class="string">&quot;vue&quot;</span>)</span><br><span class="line"></span><br><span class="line">å»¶ä¼¸åŸç†ï¼ˆä¸éœ€è¦çœ‹æ‡‚ï¼‰</span><br><span class="line">(<span class="keyword">function</span>(<span class="params">modules</span>)&#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">webpack_require</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    <span class="comment">//å…¥å£æ˜¯index.js</span></span><br><span class="line">    <span class="comment">//é€šè¿‡webpackçš„é…ç½®æ–‡ä»¶å¾—æ¥çš„ï¼šwebpack.config.js ./src/index.js</span></span><br><span class="line">    modules[entry](webpack_require);</span><br><span class="line">&#125;,(&#123;</span><br><span class="line">    <span class="string">&quot;./src/index.js&quot;</span>: <span class="function">(<span class="params">webpack_require</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> lodash = <span class="title function_">webpack_require</span>(<span class="string">&quot;lodash&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> <span class="title class_">Vue</span> = <span class="title function_">webpack_require</span>(<span class="string">&quot;vue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>å› ä¸ºwebpackæ”¯æŒå¤šç§æ¨¡å—åŒ–ï¼Œå®ƒä¸€æ—¦å¼€å§‹å¿…é¡»è¦ç»Ÿä¸€æ¨¡å—åŒ–ä»£ç ï¼Œæ„å‘³ç€å®ƒéœ€è¦å°†æ‰€æœ‰çš„ä¾èµ–å…¨éƒ¨è¯»ä¸€éã€‚</p><h3 id="Viteå‘¢ï¼Ÿ"><a href="#Viteå‘¢ï¼Ÿ" class="headerlink" title="Viteå‘¢ï¼Ÿ"></a>Viteå‘¢ï¼Ÿ</h3><p>å½“ç„¶ä¸ï¼</p><p>ä¸¤è€…ä¾§é‡ç‚¹ä¸ä¸€æ ·ã€‚ViteåŸºäºes moduleï¼Œæ›´å…³æ³¨æµè§ˆå™¨ç«¯çš„å¼€å‘ä½“éªŒï¼›è€Œwebpackæ›´å¤šå…³æ³¨å…¼å®¹æ€§ã€‚</p><h2 id="viteå’Œwebpackå¯åŠ¨å·¥ç¨‹æ¯”è¾ƒ"><a href="#viteå’Œwebpackå¯åŠ¨å·¥ç¨‹æ¯”è¾ƒ" class="headerlink" title="viteå’Œwebpackå¯åŠ¨å·¥ç¨‹æ¯”è¾ƒ"></a>viteå’Œwebpackå¯åŠ¨å·¥ç¨‹æ¯”è¾ƒ</h2><ol><li>æ˜¯é€šè¿‡ä½¿ç”¨vue-cliå»æ„å»ºä¸€ä¸ªåŸºäºwebpackçš„vueå·¥ç¨‹</li><li>ä½¿ç”¨viteå»æ„å»ºä¸€ä¸ªåŸºäºviteçš„vueå·¥ç¨‹</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="literal">-g</span> @vue/<span class="built_in">cli</span></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">yarn global add @vue/<span class="built_in">cli</span></span><br></pre></td></tr></table></figure><ul><li>å…¨å±€å®‰è£…: è¿™ä¸ªä¾èµ–ä¼šè¢«å®‰è£…åˆ°ä½ çš„ç”¨æˆ·ç›®å½•, æŸäº›ä¾èµ–è¿˜ä¼šè‡ªåŠ¨ç»™ä½ æ³¨å…¥ç¯å¢ƒå˜é‡ åˆ«åæ³¨å…¥ä¸€ä¸ªvue<ul><li>webpackå»æ‰¾å¯»ä¾èµ–çš„æ—¶å€™ä»–å¹¶ä¸ä¼šåªæ‰¾å¯»å½“å‰ç›®å½•çš„node_modules, ä»–ä¼šä¾æ¬¡å¾€ä¸Šæ‰¾ç›´åˆ°åœ¨æ ¹ç›®å½•éƒ½æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ä¾èµ–, ä»–æ‰ä¼šæŠ¥é”™</li><li>æ‰€ä»¥æˆ‘ä»¬å…¨å±€å®‰è£…çš„è¯æ— è®ºåœ¨å“ªä¸ªæ–‡ä»¶å¤¹ä¸‹é‡Œéƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªä¾èµ–</li></ul></li><li>éå…¨å±€å®‰è£…<ul><li>ç”Ÿäº§çŠ¶æ€: -S</li><li>å¼€å‘çŠ¶æ€: -D eslint </li></ul></li></ul><h2 id="æ­å»ºä¸€ä¸ªviteé¡¹ç›®"><a href="#æ­å»ºä¸€ä¸ªviteé¡¹ç›®" class="headerlink" title="æ­å»ºä¸€ä¸ªviteé¡¹ç›®"></a>æ­å»ºä¸€ä¸ªviteé¡¹ç›®</h2><h3 id="å¿…é¡»è¦ç†è§£çš„viteè„šæ‰‹æ¶å’Œvite"><a href="#å¿…é¡»è¦ç†è§£çš„viteè„šæ‰‹æ¶å’Œvite" class="headerlink" title="å¿…é¡»è¦ç†è§£çš„viteè„šæ‰‹æ¶å’Œvite"></a>å¿…é¡»è¦ç†è§£çš„viteè„šæ‰‹æ¶å’Œvite</h3><ol><li>å…¨å±€å®‰è£…create-vite â€”â€”viteè„šæ‰‹æ¶</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn create vite</span><br></pre></td></tr></table></figure><ol start="2"><li>ç›´æ¥è¿è¡Œcreate-vite binç›®å½•ä¸‹çš„ä¸€ä¸ªæ‰§è¡Œé…ç½®</li></ol><ul><li>â€‹    è¯¯åŒºï¼šè®¤ä¸ºå®˜ç½‘ä¸­ä½¿ç”¨å¯¹åº”yarn createæ„å»ºé¡¹ç›®çš„è¿‡ç¨‹ä¹Ÿæ˜¯viteåœ¨åšçš„äº‹æƒ…</li><li>â€‹    create-viteå’Œviteçš„å…³ç³»ï¼šå‰è€…å†…ç½®äº†åè€…</li></ul><h4 id="ä»€ä¹ˆæ˜¯ç²¾è£…ä¿®ï¼Ÿï¼ˆdogeï¼‰"><a href="#ä»€ä¹ˆæ˜¯ç²¾è£…ä¿®ï¼Ÿï¼ˆdogeï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯ç²¾è£…ä¿®ï¼Ÿï¼ˆdogeï¼‰"></a>ä»€ä¹ˆæ˜¯ç²¾è£…ä¿®ï¼Ÿï¼ˆdogeï¼‰</h4><blockquote><p>vue-cli/create-react-appï¼šæŠŠvue/reactéƒ½ä¸‹å¥½äº†ï¼ŒåŒæ—¶è¿˜å¸®å¿™æŠŠé…ç½®è°ƒæ•´åˆ°äº†æœ€ä½³å®è·µ</p><p>create-viteï¼š ç»™ä½ ä¸€å¥—é¢„è®¾ï¼Œä¸‹è½½äº†å„ç§ä¸œè¥¿ï¼Œå¹¶ä¸”åšå¥½äº†æœ€ä½³å®è·µçš„é…ç½®</p></blockquote><h4 id="åŒºåˆ†"><a href="#åŒºåˆ†" class="headerlink" title="åŒºåˆ†"></a>åŒºåˆ†</h4><ul><li>viteâ€“&gt;webpack</li><li>create-viteâ€“&gt;vue-cli</li></ul><h3 id="viteå¯åŠ¨é¡¹ç›®åˆä½“éªŒ"><a href="#viteå¯åŠ¨é¡¹ç›®åˆä½“éªŒ" class="headerlink" title="viteå¯åŠ¨é¡¹ç›®åˆä½“éªŒ"></a>viteå¯åŠ¨é¡¹ç›®åˆä½“éªŒ</h3><p>viteå¼€ç®±å³ç”¨ï¼ˆout of boxï¼‰ï¼šä½ ä¸éœ€è¦åšä»»ä½•é¢å¤–çš„é…ç½®å°±å¯ä»¥ä½¿ç”¨viteæ¥å¸®åŠ©ä½ å¤„ç†æ„å»ºå·¥ä½œã€‚</p><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œesmoduleå»å¯¼å…¥èµ„æºçš„æ—¶å€™ï¼Œè¦ä¹ˆæ˜¯ç»å¯¹è·¯å¾„ï¼Œè¦ä¹ˆæ˜¯ç›¸å¯¹ã€‚</p><p>æ—¢ç„¶æœ€ä½³å®è·µå°±æ˜¯node_modulesï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆeså®˜æ–¹åœ¨ç»™æˆ‘ä»¬å¯¼å…¥éç»å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„èµ„æºçš„é¥¿æ—¶å€™ä¸é»˜è®¤å¸®æˆ‘ä»¬æœå¯»node_moduleså‘¢ï¼Ÿï¼Ÿ</p><p>é€šè¿‡ç½‘ç»œè¯·æ±‚å»æ‰¾çš„ï¼Œå¤ªæ¶ˆè€—æ€§èƒ½äº†ã€‚</p><h3 id="viteçš„é¢„åŠ è½½"><a href="#viteçš„é¢„åŠ è½½" class="headerlink" title="viteçš„é¢„åŠ è½½"></a>viteçš„é¢„åŠ è½½</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&quot;lodash&quot;</span>; <span class="comment">// lodashå¯èƒ½ä¹Ÿimportäº†å…¶ä»–çš„ä¸œè¥¿</span></span><br></pre></td></tr></table></figure><p>åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­å¦‚æœè¯´çœ‹åˆ°äº†æœ‰éç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„çš„å¼•ç”¨, ä»–åˆ™ä¼šå°è¯•å¼€å¯è·¯å¾„è¡¥å…¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&quot;/node_modules/.vite/lodash&quot;</span>; <span class="comment">// lodashå¯èƒ½ä¹Ÿimportäº†å…¶ä»–çš„ä¸œè¥¿</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> __vite__cjsImport0_lodash <span class="keyword">from</span> <span class="string">&quot;/node_modules/.vite/deps/lodash.js?v=ebe57916&quot;</span>;</span><br></pre></td></tr></table></figure><p>æ‰¾å¯»ä¾èµ–çš„è¿‡ç¨‹æ˜¯è‡ªå½“å‰ç›®å½•ä¾æ¬¡å‘ä¸ŠæŸ¥æ‰¾çš„è¿‡ç¨‹, ç›´åˆ°æœå¯»åˆ°æ ¹ç›®å½•æˆ–è€…æœå¯»åˆ°å¯¹åº”ä¾èµ–ä¸ºæ­¢ /user/node_modules/lodash, ../</p><h4 id="ç”Ÿäº§å’Œå¼€å‘"><a href="#ç”Ÿäº§å’Œå¼€å‘" class="headerlink" title="ç”Ÿäº§å’Œå¼€å‘"></a>ç”Ÿäº§å’Œå¼€å‘</h4><p>yarn dev â€”&gt; å¼€å‘(æ¯æ¬¡ä¾èµ–é¢„æ„å»ºæ‰€é‡æ–°æ„å»ºçš„ç›¸å¯¹è·¯å¾„éƒ½æ˜¯æ­£ç¡®çš„)</p><p>viteä¼šå…¨æƒäº¤ç»™ä¸€ä¸ªå«åšrollupçš„åº“å»å®Œæˆç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…</p><p>ç¼“å­˜ â€”&gt; </p><p>å®é™…ä¸Šviteåœ¨è€ƒè™‘å¦å¤–ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™å°±é¡ºä¾¿æŠŠè¿™ä¸ªé—®é¢˜è§£å†³äº†</p><p>commonjs è§„èŒƒçš„å¯¼å‡º module.exports </p><p>æœ‰çš„åŒ…ä»–æ˜¯ä»¥commonjsè§„èŒƒçš„æ ¼å¼å¯¼å‡º axios </p><p><strong>ä¾èµ–é¢„æ„å»º</strong>: é¦–å…ˆviteä¼šæ‰¾åˆ°å¯¹åº”çš„ä¾èµ–, ç„¶åè°ƒç”¨esbuild(å¯¹jsè¯­æ³•è¿›è¡Œå¤„ç†çš„ä¸€ä¸ªåº“), å°†å…¶ä»–è§„èŒƒçš„ä»£ç è½¬æ¢æˆesmoduleè§„èŒƒ, ç„¶åæ”¾åˆ°å½“å‰ç›®å½•ä¸‹çš„node_modules/.vite/deps, åŒæ—¶å¯¹esmoduleè§„èŒƒçš„å„ä¸ªæ¨¡å—è¿›è¡Œç»Ÿä¸€é›†æˆ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> a  &#125; <span class="keyword">from</span> <span class="string">&quot;./a.js&quot;</span></span><br></pre></td></tr></table></figure><p>viteé‡å†™ä»¥å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure><p>ä»–è§£å†³äº†3ä¸ªé—®é¢˜: </p><ol><li>ä¸åŒçš„ç¬¬ä¸‰æ–¹åŒ…ä¼šæœ‰ä¸åŒçš„å¯¼å‡ºæ ¼å¼(è¿™ä¸ªæ˜¯viteæ²¡æ³•çº¦æŸäººå®¶çš„äº‹æƒ…)</li><li>å¯¹è·¯å¾„çš„å¤„ç†ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨.vite/deps, æ–¹ä¾¿è·¯å¾„é‡å†™</li><li>å«åšç½‘ç»œå¤šåŒ…ä¼ è¾“çš„æ€§èƒ½é—®é¢˜(ä¹Ÿæ˜¯åŸç”Ÿesmoduleè§„èŒƒä¸æ•¢æ”¯æŒnode_modulesçš„åŸå› ä¹‹ä¸€), æœ‰äº†ä¾èµ–é¢„æ„å»ºä»¥åæ— è®ºä»–æœ‰å¤šå°‘çš„é¢å¤–export å’Œimport, viteéƒ½ä¼šå°½å¯èƒ½çš„å°†ä»–ä»¬è¿›è¡Œé›†æˆæœ€ååªç”Ÿæˆä¸€ä¸ªæˆ–è€…å‡ ä¸ªæ¨¡å—</li></ol><p>vite.config.js === webpack.config.hs</p><h1 id="vite-é…ç½®æ–‡ä»¶å¤„ç†ç»†èŠ‚"><a href="#vite-é…ç½®æ–‡ä»¶å¤„ç†ç»†èŠ‚" class="headerlink" title="vite é…ç½®æ–‡ä»¶å¤„ç†ç»†èŠ‚"></a>vite é…ç½®æ–‡ä»¶å¤„ç†ç»†èŠ‚</h1><ol><li>viteé…ç½®æ–‡ä»¶çš„è¯­æ³•æç¤º<ol><li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯webstorm, é‚£ä½ å¯ä»¥å¾—åˆ°å¾ˆå¥½çš„è¯­æ³•è¡¥å…¨</li><li>å¦‚æœä½ ä½¿ç”¨æ˜¯vscodeæˆ–è€…å…¶ä»–çš„ç¼–è¾‘å™¨, åˆ™éœ€è¦åšä¸€äº›ç‰¹æ®Šå¤„ç†</li></ol></li><li>å…³äºç¯å¢ƒçš„å¤„ç†<br>è¿‡å»æˆ‘ä»¬ä½¿ç”¨webpackçš„æ—¶å€™, æˆ‘ä»¬è¦åŒºåˆ†é…ç½®æ–‡ä»¶çš„ä¸€ä¸ªç¯å¢ƒ<ul><li>webpack.dev.config</li><li>webpack.prod.config</li><li>webpack.base.config</li><li>webpackmerge</li></ul></li></ol><h1 id="viteå’Œtsçš„ç»“åˆ"><a href="#viteå’Œtsçš„ç»“åˆ" class="headerlink" title="viteå’Œtsçš„ç»“åˆ"></a>viteå’Œtsçš„ç»“åˆ</h1><blockquote><p>viteä»–å¤©ç”Ÿå°±å¯¹tsæ”¯æŒéå¸¸è‰¯å¥½, å› ä¸ºviteåœ¨å¼€å‘æ—¶æ€æ˜¯åŸºäºesbuild, è€Œesbuildæ˜¯å¤©ç”Ÿæ”¯æŒå¯¹tsæ–‡ä»¶çš„è½¬æ¢çš„</p></blockquote><p>é‚£ä¹ˆå¯¹tsçš„æ ¡éªŒå‘¢ï¼Ÿ</p><blockquote><p>viteåªå¯¹tsæ–‡ä»¶è¿›è¡Œè½¬æ¢, å¹¶ä¸ä¼šå¯¹tsæ–‡ä»¶è¿›è¡Œç±»å‹æ£€æŸ¥</p></blockquote><ol><li>å®‰è£…ä¸€ä¸ªæ’ä»¶: vite-plugin-eslint</li></ol><p>  æˆ‘ä»¬çš„è¿™ä¸ªæ’ä»¶åªä¼šåœ¨å¼€å‘æ—¶æ€å¸®åŠ©æˆ‘ä»¬æ ¡éªŒtsè¯­æ³•</p><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨vite.config.jsé‡Œå¯ä»¥ä½¿ç”¨esmodule: ä¸»è¦æ˜¯å› ä¸ºviteåœ¨è¯»å–é…ç½®æ–‡ä»¶å¹¶æ‰§è¡Œçš„å‰ä¸€åˆ»ä¼šè¿›è¡Œæ›¿æ¢</p><h1 id="viteç¯å¢ƒå˜é‡é…ç½®"><a href="#viteç¯å¢ƒå˜é‡é…ç½®" class="headerlink" title="viteç¯å¢ƒå˜é‡é…ç½®"></a>viteç¯å¢ƒå˜é‡é…ç½®</h1><blockquote><p>ç¯å¢ƒå˜é‡: ä¼šæ ¹æ®å½“å‰çš„ä»£ç ç¯å¢ƒäº§ç”Ÿå€¼çš„å˜åŒ–çš„å˜é‡å°±å«åšç¯å¢ƒå˜é‡</p></blockquote><p>ä»£ç ç¯å¢ƒ:</p><ol><li>å¼€å‘ç¯å¢ƒ</li><li>æµ‹è¯•ç¯å¢ƒ</li><li>é¢„å‘å¸ƒç¯å¢ƒ</li><li>ç°åº¦ç¯å¢ƒ</li><li>ç”Ÿäº§ç¯å¢ƒ</li></ol><p>ä¸¾ä¸ªä¾‹å­: ç™¾åº¦åœ°å›¾sdk, å°ç¨‹åºçš„sdk</p><p>APP_KEY: æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§è¿˜æœ‰å¼€å‘ç¯å¢ƒæ˜¯ä¸ä¸€æ ·çš„key </p><ul><li>å¼€å‘ç¯å¢ƒ: 110</li><li>ç”Ÿäº§ç¯å¢ƒ: 111</li><li>æµ‹è¯•ç¯å¢ƒ: 112</li></ul><p>æˆ‘ä»¬å»è¯·æ±‚ç¬¬ä¸‰æ–¹sdkæ¥å£çš„æ—¶å€™éœ€è¦å¸¦ä¸Šçš„ä¸€ä¸ªèº«ä»½ä¿¡æ¯</p><p>æˆ‘ä»¬åœ¨å’Œåç«¯åŒå­¦å¯¹æ¥çš„æ—¶å€™, å‰ç«¯åœ¨å¼€å‘ç¯å¢ƒä¸­è¯·æ±‚çš„åç«¯APIåœ°å€å’Œç”Ÿäº§ç¯å¢ƒçš„åç«¯APIåœ°å€æ˜¯ä¸€ä¸ªå—ï¼Ÿ è‚¯å®šä¸æ˜¯åŒä¸€ä¸ª</p><ul><li>å¼€å‘å’Œæµ‹è¯•: <a href="http://test.api/">http://test.api/</a></li><li>ç”Ÿäº§: <a href="https://api/">https://api/</a></li></ul><p>åœ¨viteä¸­çš„ç¯å¢ƒå˜é‡å¤„ç†:</p><p>viteå†…ç½®äº†dotenvè¿™ä¸ªç¬¬ä¸‰æ–¹åº“</p><p>dotenvä¼šè‡ªåŠ¨è¯»å–.envæ–‡ä»¶, å¹¶è§£æè¿™ä¸ªæ–‡ä»¶ä¸­çš„å¯¹åº”ç¯å¢ƒå˜é‡ å¹¶å°†å…¶æ³¨å…¥åˆ°processå¯¹è±¡ä¸‹(ä½†æ˜¯viteè€ƒè™‘åˆ°å’Œå…¶ä»–é…ç½®çš„ä¸€äº›å†²çªé—®é¢˜, ä»–ä¸ä¼šç›´æ¥æ³¨å…¥åˆ°processå¯¹è±¡ä¸‹)</p><p>æ¶‰åŠåˆ°vite.config.jsä¸­çš„ä¸€äº›é…ç½®:</p><ul><li>root</li><li>envDir: ç”¨æ¥é…ç½®å½“å‰ç¯å¢ƒå˜é‡çš„æ–‡ä»¶åœ°å€</li></ul><p>viteç»™æˆ‘ä»¬æä¾›äº†ä¸€äº›è¡¥å¿æªæ–½:æˆ‘ä»¬å¯ä»¥è°ƒç”¨viteçš„loadEnvæ¥æ‰‹åŠ¨ç¡®è®¤envæ–‡ä»¶</p><p>process.cwdæ–¹æ³•: è¿”å›å½“å‰nodeè¿›ç¨‹çš„å·¥ä½œç›®å½•</p><p>.env: æ‰€æœ‰ç¯å¢ƒéƒ½éœ€è¦ç”¨åˆ°çš„ç¯å¢ƒå˜é‡<br>.env.development: å¼€å‘ç¯å¢ƒéœ€è¦ç”¨åˆ°çš„ç¯å¢ƒå˜é‡(é»˜è®¤æƒ…å†µä¸‹viteå°†æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒå–åä¸ºdevelopment)<br>.env.production: ç”Ÿäº§ç¯å¢ƒéœ€è¦ç”¨åˆ°çš„ç¯å¢ƒå˜é‡(é»˜è®¤æƒ…å†µä¸‹viteå°†æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒå–åä¸ºproduction)</p><p>yarn dev â€“mode development ä¼šå°†modeè®¾ç½®ä¸ºdevelopmentä¼ é€’è¿›æ¥</p><p>å½“æˆ‘ä»¬è°ƒç”¨loadenvçš„æ—¶å€™, ä»–ä¼šåšå¦‚ä¸‹å‡ ä»¶äº‹:</p><ol><li>ç›´æ¥æ‰¾åˆ°.envæ–‡ä»¶ä¸è§£é‡Š å¹¶è§£æå…¶ä¸­çš„ç¯å¢ƒå˜é‡ å¹¶æ”¾è¿›ä¸€ä¸ªå¯¹è±¡é‡Œ</li><li>ä¼šå°†ä¼ è¿›æ¥çš„modeè¿™ä¸ªå˜é‡çš„å€¼è¿›è¡Œæ‹¼æ¥: <code>.env.development</code>,  å¹¶æ ¹æ®æˆ‘ä»¬æä¾›çš„ç›®å½•å»å–å¯¹åº”çš„é…ç½®æ–‡ä»¶å¹¶è¿›è¡Œè§£æ, å¹¶æ”¾è¿›ä¸€ä¸ªå¯¹è±¡</li><li>æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> baseEnvConfig = è¯»å–.<span class="property">env</span>çš„é…ç½®</span><br><span class="line"><span class="keyword">const</span> modeEnvConfig = è¯»å–envç›¸å…³é…ç½®</span><br><span class="line"><span class="keyword">const</span> lastEnvConfig = &#123; ...baseEnvConfig, ...modeEnvConfig &#125;</span><br></pre></td></tr></table></figure></li></ol><p>å¦‚æœæ˜¯å®¢æˆ·ç«¯, viteä¼šå°†å¯¹åº”çš„ç¯å¢ƒå˜é‡æ³¨å…¥åˆ°import.meta.envé‡Œå»</p><p>viteåšäº†ä¸€ä¸ªæ‹¦æˆª, ä»–ä¸ºäº†é˜²æ­¢æˆ‘ä»¬å°†éšç§æ€§çš„å˜é‡ç›´æ¥é€è¿›import.meta.envä¸­, æ‰€ä»¥ä»–åšäº†ä¸€å±‚æ‹¦æˆª, å¦‚æœä½ çš„ç¯å¢ƒå˜é‡ä¸æ˜¯ä»¥VITEå¼€å¤´çš„, ä»–å°±ä¸ä¼šå¸®ä½ æ³¨å…¥åˆ°å®¢æˆ·ç«¯ä¸­å», å¦‚æœæˆ‘ä»¬æƒ³è¦æ›´æ”¹è¿™ä¸ªå‰ç¼€, å¯ä»¥å»ä½¿ç”¨envPrefixé…ç½®</p><p>è¡¥å……ä¸€ä¸ªå°çŸ¥è¯†: ä¸ºä»€ä¹ˆvite.config.jså¯ä»¥ä¹¦å†™æˆesmoduleçš„å½¢å¼, è¿™æ˜¯å› ä¸ºviteä»–åœ¨è¯»å–è¿™ä¸ªvite.config.jsçš„æ—¶å€™ä¼šç‡å…ˆnodeå»è§£ææ–‡ä»¶è¯­æ³•, å¦‚æœå‘ç°ä½ æ˜¯esmoduleè§„èŒƒä¼šç›´æ¥å°†ä½ çš„esmoduleè§„èŒƒè¿›è¡Œæ›¿æ¢å˜æˆcommonjsè§„èŒƒ</p><h1 id="ã€åŸç†ç¯‡ã€‘viteæ˜¯æ€ä¹ˆè®©æµè§ˆå™¨å¯ä»¥è¯†åˆ«-vueæ–‡ä»¶çš„"><a href="#ã€åŸç†ç¯‡ã€‘viteæ˜¯æ€ä¹ˆè®©æµè§ˆå™¨å¯ä»¥è¯†åˆ«-vueæ–‡ä»¶çš„" class="headerlink" title="ã€åŸç†ç¯‡ã€‘viteæ˜¯æ€ä¹ˆè®©æµè§ˆå™¨å¯ä»¥è¯†åˆ«.vueæ–‡ä»¶çš„"></a>ã€åŸç†ç¯‡ã€‘viteæ˜¯æ€ä¹ˆè®©æµè§ˆå™¨å¯ä»¥è¯†åˆ«.vueæ–‡ä»¶çš„</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install vite</span><br></pre></td></tr></table></figure><p>yarn create å®é™…ä¸Šå°±ç­‰äºåœ¨å®‰è£…create-viteè„šæ‰‹æ¶ ç„¶åä½¿ç”¨è„šæ‰‹æ¶çš„æŒ‡ä»¤å»æ„å»ºé¡¹ç›®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn create vite my-vue-app --template vue</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥å®ç°ä¸€å¥—ç®€å•çš„viteçš„å¼€å‘æœåŠ¡å™¨</p><ol><li>è§£å†³æˆ‘ä»¬åˆšåˆšçš„è¿™ä¸ªé—®é¢˜</li><li>è®©å¤§å®¶å¯¹å¼€å‘æœåŠ¡å™¨çš„åŸç†å±‚é¢æœ‰ä¸€ä¸ªåŸºç¡€çš„ç®€å•çš„è®¤è¯†</li></ol><p>ä¼šæ¶‰åŠåˆ°nodeçš„ä¸€äº›çŸ¥è¯†</p><p>koa: nodeç«¯çš„ä¸€ä¸ªæ¡†æ¶</p><p>é‚£ä¹ˆæˆ‘ä»¬å¹³æ—¶å»è®¿é—®ä¸€ä¸ªç½‘é¡µçš„æ—¶å€™, æˆ‘ä»¬æ•²ä¸‹åŸŸå: baidu.com</p><h1 id="åœ¨viteä¸­å¤„ç†css"><a href="#åœ¨viteä¸­å¤„ç†css" class="headerlink" title="åœ¨viteä¸­å¤„ç†css"></a>åœ¨viteä¸­å¤„ç†css</h1><p>viteå¤©ç”Ÿå°±æ”¯æŒå¯¹cssæ–‡ä»¶çš„ç›´æ¥å¤„ç†</p><ol><li>viteåœ¨è¯»å–åˆ°main.jsä¸­å¼•ç”¨åˆ°äº†Index.css</li><li>ç›´æ¥å»ä½¿ç”¨fsæ¨¡å—å»è¯»å–index.cssä¸­æ–‡ä»¶å†…å®¹</li><li>ç›´æ¥åˆ›å»ºä¸€ä¸ªstyleæ ‡ç­¾, å°†index.cssä¸­æ–‡ä»¶å†…å®¹ç›´æ¥copyè¿›styleæ ‡ç­¾é‡Œ</li><li>å°†styleæ ‡ç­¾æ’å…¥åˆ°index.htmlçš„headä¸­</li><li>å°†è¯¥cssæ–‡ä»¶ä¸­çš„å†…å®¹ç›´æ¥æ›¿æ¢ä¸ºjsè„šæœ¬(æ–¹ä¾¿çƒ­æ›´æ–°æˆ–è€…cssæ¨¡å—åŒ–), åŒæ—¶è®¾ç½®Content-Typeä¸ºjs ä»è€Œè®©æµè§ˆå™¨ä»¥JSè„šæœ¬çš„å½¢å¼æ¥æ‰§è¡Œè¯¥cssåç¼€çš„æ–‡ä»¶</li></ol><p>åœºæ™¯:</p><ul><li>ä¸€ä¸ªç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ ç±»åä¸€èˆ¬å–å : wrapper</li><li>ä¸€ä¸ªç»„ä»¶æœ€åº•å±‚çš„å…ƒç´ é›·æ˜æ˜æˆ‘ä»¬ä¸€èˆ¬å–å: .footer</li></ul><p>ä½ å–äº†footerè¿™ä¸ªåå­—, åˆ«äººå› ä¸ºæ²¡æœ‰çœ‹è¿‡ä½ è¿™ä¸ªç»„ä»¶çš„æºä»£ç , ä¹Ÿå¯èƒ½å»å–åfooterè¿™ä¸ªç±»å</p><p>æœ€ç»ˆå¯èƒ½ä¼šå¯¼è‡´æ ·å¼è¢«è¦†ç›–ï¼ˆå› ä¸ºç±»åé‡å¤ï¼‰, è¿™å°±æ˜¯æˆ‘ä»¬åœ¨ååŒå¼€å‘çš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºç°çš„é—®é¢˜</p><p>cssmoduleå°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„</p><p>å¤§æ¦‚è¯´ä¸€ä¸‹åŸç†: </p><p>å…¨éƒ¨éƒ½æ˜¯åŸºäºnode</p><ol><li>module.css (moduleæ˜¯ä¸€ç§çº¦å®š, è¡¨ç¤ºéœ€è¦å¼€å¯cssæ¨¡å—åŒ–)</li><li>ä»–ä¼šå°†ä½ çš„æ‰€æœ‰ç±»åè¿›è¡Œä¸€å®šè§„åˆ™çš„æ›¿æ¢ï¼ˆå°†footer æ›¿æ¢æˆ _footer_i22st_1ï¼‰</li><li>åŒæ—¶åˆ›å»ºä¸€ä¸ªæ˜ å°„å¯¹è±¡{ footer: â€œ_footer_i22st_1â€ }</li><li>å°†æ›¿æ¢è¿‡åçš„å†…å®¹å¡è¿›styleæ ‡ç­¾é‡Œç„¶åæ”¾å…¥åˆ°headæ ‡ç­¾ä¸­ (èƒ½å¤Ÿè¯»åˆ°index.htmlçš„æ–‡ä»¶å†…å®¹)</li><li>å°†componentA.module.csså†…å®¹è¿›è¡Œå…¨éƒ¨æŠ¹é™¤, æ›¿æ¢æˆJSè„šæœ¬</li><li>å°†åˆ›å»ºçš„æ˜ å°„å¯¹è±¡åœ¨è„šæœ¬ä¸­è¿›è¡Œé»˜è®¤å¯¼å‡º</li></ol><p>less(é¢„å¤„ç†å™¨): lessç»™æˆ‘ä»¬æä¾›äº†ä¸€äº›æ–¹ä¾¿ä¸”éå¸¸å®ç”¨çš„æ–¹æ³•</p><h1 id="vite-config-jsä¸­cssé…ç½®ï¼ˆmodulesç¯‡ï¼‰"><a href="#vite-config-jsä¸­cssé…ç½®ï¼ˆmodulesç¯‡ï¼‰" class="headerlink" title="vite.config.jsä¸­cssé…ç½®ï¼ˆmodulesç¯‡ï¼‰"></a>vite.config.jsä¸­cssé…ç½®ï¼ˆmodulesç¯‡ï¼‰</h1><p>åœ¨vite.config.jsä¸­æˆ‘ä»¬é€šè¿‡csså±æ€§å»æ§åˆ¶çœŸä¸ªviteå¯¹äºcssçš„å¤„ç†è¡Œä¸º</p><ul><li>localConvention: ä¿®æ”¹ç”Ÿæˆçš„é…ç½®å¯¹è±¡çš„keyçš„å±•ç¤ºå½¢å¼(é©¼å³°è¿˜æ˜¯ä¸­åˆ’çº¿å½¢å¼)</li><li>scopeBehaviour: é…ç½®å½“å‰çš„æ¨¡å—åŒ–è¡Œä¸ºæ˜¯æ¨¡å—åŒ–è¿˜æ˜¯å…¨å±€åŒ– (æœ‰hashå°±æ˜¯å¼€å¯äº†æ¨¡å—åŒ–çš„ä¸€ä¸ªæ ‡å¿—, å› ä¸ºä»–å¯ä»¥ä¿è¯äº§ç”Ÿä¸åŒçš„hashå€¼æ¥æ§åˆ¶æˆ‘ä»¬çš„æ ·å¼ç±»åä¸è¢«è¦†ç›–)</li><li>generateScopedName: ç”Ÿæˆçš„ç±»åçš„è§„åˆ™(å¯ä»¥é…ç½®ä¸ºå‡½æ•°, ä¹Ÿå¯ä»¥é…ç½®æˆå­—ç¬¦ä¸²è§„åˆ™: <a href="https://github.com/webpack/loader-utils#interpolatename">https://github.com/webpack/loader-utils#interpolatename</a>)</li><li>hashPrefix: ç”Ÿæˆhashä¼šæ ¹æ®ä½ çš„ç±»å + ä¸€äº›å…¶ä»–çš„å­—ç¬¦ä¸²(æ–‡ä»¶å + ä»–å†…éƒ¨éšæœºç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²)å»è¿›è¡Œç”Ÿæˆ, å¦‚æœä½ æƒ³è¦ä½ ç”Ÿæˆhashæ›´åŠ çš„ç‹¬ç‰¹ä¸€ç‚¹, ä½ å¯ä»¥é…ç½®hashPrefix, ä½ é…ç½®çš„è¿™ä¸ªå­—ç¬¦ä¸²ä¼šå‚ä¸åˆ°æœ€ç»ˆçš„hashç”Ÿæˆ, ï¼ˆhash: åªè¦ä½ çš„å­—ç¬¦ä¸²æœ‰ä¸€ä¸ªå­—ä¸ä¸€æ ·, é‚£ä¹ˆç”Ÿæˆçš„hashå°±å®Œå…¨ä¸ä¸€æ ·, ä½†æ˜¯åªè¦ä½ çš„å­—ç¬¦ä¸²å®Œå…¨ä¸€æ ·, ç”Ÿæˆçš„hashå°±ä¼šä¸€æ ·ï¼‰</li><li>globalModulePaths: ä»£è¡¨ä½ ä¸æƒ³å‚ä¸åˆ°cssæ¨¡å—åŒ–çš„è·¯å¾„</li></ul><h1 id="viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹-preprocessorOptionsç¯‡"><a href="#viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹-preprocessorOptionsç¯‡" class="headerlink" title="viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹(preprocessorOptionsç¯‡)"></a>viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹(preprocessorOptionsç¯‡)</h1><p>ä¸»è¦æ˜¯ç”¨æ¥é…ç½®cssé¢„å¤„ç†çš„ä¸€äº›å…¨å±€å‚æ•°</p><p>å‡è®¾æ²¡æœ‰ä½¿ç”¨æ„å»ºå·¥å…·, æˆ‘ä»¬åˆæƒ³å»ç¼–è¯‘lessæ–‡ä»¶çš„è¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add less # lesscçš„ç¼–è¯‘å™¨</span><br></pre></td></tr></table></figure><p>ä½ åªè¦å®‰è£…äº†node, ä½ å°±å¯ä»¥ä½¿ç”¨node index.js</p><p>ä½ åªè¦å®‰è£…äº†less ä½ å°±å¯ä»¥ä½¿ç”¨lesscå»ç¼–è¯‘lessæ–‡ä»¶</p><p>lessæ˜¯å¯ä»¥å®šä¹‰å˜é‡çš„</p><h2 id="sourceMap"><a href="#sourceMap" class="headerlink" title="sourceMap"></a>sourceMap</h2><p>æ–‡ä»¶ä¹‹é—´çš„ç´¢å¼•: </p><p>å‡è®¾æˆ‘ä»¬çš„ä»£ç è¢«å‹ç¼©æˆ–è€…è¢«ç¼–è¯‘è¿‡äº†, è¿™ä¸ªæ—¶å€™å‡è®¾ç¨‹åºå‡ºé”™, ä»–å°†ä¸ä¼šäº§ç”Ÿæ­£ç¡®çš„é”™è¯¯ä½ç½®ä¿¡æ¯ å¦‚æœè®¾ç½®äº†sourceMap, ä»–å°±ä¼šæœ‰ä¸€ä¸ªç´¢å¼•æ–‡ä»¶map </p><p>sourceMapè§£å†³çš„é—®é¢˜æå…¶çš„å¾®å°, ä½†æ˜¯ä»–çš„å®ç°è¿‡ç¨‹éå¸¸çš„å¤æ‚</p><h1 id="postcss"><a href="#postcss" class="headerlink" title="postcss"></a>postcss</h1><p>viteå¤©ç”Ÿå¯¹postcssæœ‰éå¸¸è‰¯å¥½çš„æ”¯æŒ</p><p>å…¨å±‹å‡€æ°´ç³»ç»Ÿæœ‰ä¸€ä¸ªäº†è§£</p><p>æ°´é¾™å¤´é‡Œæ¥çš„æ°´æ˜¯è‡ªæ¥æ°´ </p><p>è‡ªæ¥æ°´ ä» ç®¡é“é‡Œ å…ˆåˆ°è¿™ä¸ªå…¨å±‹å‡€æ°´ç³»ç»Ÿ ç»™å…¨å±‹å‡€æ°´ç³»ç»Ÿåšä¸€äº›æ’æ§½ â€”&gt; å»é™¤ç ‚ç ¾ â€“&gt; å‡€åŒ–ç»†èŒå¾®ç”Ÿç‰© â€”&gt; â€¦ â€“&gt; è¾“é€åˆ°æ°´é¾™å¤´ â€“&gt; æˆ‘ä»¬å¯ä»¥å–çš„çº¯å‡€æ°´ ï¼ˆä¸ºäº†ä¿è¯åˆ°æˆ‘ä»¬å˜´é‡Œå–çš„æ°´æ˜¯ä¸‡æ— ä¸€å¤±ï¼‰</p><p>postcss ä»–çš„å·¥ä½œåŸºæœ¬å’Œå…¨å±‹å‡€æ°´ç³»ç»Ÿä¸€è‡´: ä¿è¯cssåœ¨æ‰§è¡Œèµ·æ¥æ˜¯ä¸‡æ— ä¸€å¤±çš„</p><p><strong>éƒ½å¯¹postcssæœ‰ä¸€ä¸ªè¯¯åŒº: ä»–ä»¬è®¤ä¸ºpostcsså’Œless sassæ˜¯å·®ä¸å¤šçº§åˆ«</strong></p><p>æˆ‘ä»¬å†™çš„cssä»£ç (æ€ä¹ˆçˆ½æ€ä¹ˆæ¥) â€“&gt; postcss â€”&gt; less â€“&gt; å†æ¬¡å¯¹æœªæ¥çš„é«˜çº§cssè¯­æ³•è¿›è¡Œé™çº§ â€“&gt; å‰ç¼€è¡¥å…¨ â€“&gt; æµè§ˆå™¨å®¢æˆ·ç«¯ </p><p>ç›®å‰æ¥è¯´ lesså’Œsassç­‰ä¸€ç³»åˆ—é¢„å¤„ç†å™¨çš„postcssæ’ä»¶å·²ç»åœæ­¢ç»´æŠ¤äº† lessæ’ä»¶ ä½ è‡ªå·±å»ç”¨lesså’Œsassç¼–è¯‘å®Œäº†, ç„¶åä½ æŠŠç¼–è¯‘ç»“æœç»™æˆ‘</p><p><strong>æ‰€ä»¥ä¸šå†…å°±äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„è¯´æ³•: postcssæ˜¯åå¤„ç†å™¨</strong> lessçš„postcssçš„æ’ä»¶å°±okäº† </p><p>æˆ‘ä»¬å†™çš„jsä»£ç (æ€ä¹ˆçˆ½æ€ä¹ˆæ¥) â€“&gt; babel â€“&gt; å°†æœ€æ–°çš„tsè¯­æ³•è¿›è¡Œè½¬æ¢jsè¯­æ³• â€“&gt; åšä¸€æ¬¡è¯­æ³•é™çº§  â€“&gt; æµè§ˆå™¨å®¢æˆ·ç«¯å»æ‰§è¡Œ</p><p>babel â€“&gt; å¸®åŠ©æˆ‘ä»¬è®©jsæ‰§è¡Œèµ·æ¥ä¸‡æ— ä¸€å¤± </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;&#125; <span class="comment">// es6çš„å†™æ³•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;&#125; <span class="comment">// es3çš„è¯­æ³•</span></span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨çš„å…¼å®¹æ€§ä½ èƒ½è€ƒè™‘åˆ°å—, é¢„å¤„ç†å™¨å¹¶ä¸èƒ½å¤Ÿè§£å†³è¿™äº›é—®é¢˜:</p><ol><li>å¯¹æœªæ¥csså±æ€§çš„ä¸€äº›ä½¿ç”¨é™çº§é—®é¢˜</li><li>å‰ç¼€è¡¥å…¨: Googleéå¸¸å· â€“webkit </li></ol><h2 id="ä½¿ç”¨postcss"><a href="#ä½¿ç”¨postcss" class="headerlink" title="ä½¿ç”¨postcss"></a>ä½¿ç”¨postcss</h2><ol><li><p>å®‰è£…ä¾èµ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add postcss-cli postcss -D</span><br></pre></td></tr></table></figure></li><li><p>ä¹¦å†™æè¿°æ–‡ä»¶</p></li></ol><p>postcssé…ç½®æ–‡ä»¶çš„æ ¼å¼</p><ul><li>postcss.config.js</li></ul><h1 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœåŠ¡ç«¯å¤„ç†è·¯å¾„çš„æ—¶å€™ä¸€å®šè¦ç”¨path"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœåŠ¡ç«¯å¤„ç†è·¯å¾„çš„æ—¶å€™ä¸€å®šè¦ç”¨path" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœåŠ¡ç«¯å¤„ç†è·¯å¾„çš„æ—¶å€™ä¸€å®šè¦ç”¨path"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨æœåŠ¡ç«¯å¤„ç†è·¯å¾„çš„æ—¶å€™ä¸€å®šè¦ç”¨path</h1><h1 id="viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹-postcssç¯‡"><a href="#viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹-postcssç¯‡" class="headerlink" title="viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹(postcssç¯‡)"></a>viteé…ç½®æ–‡ä»¶ä¸­cssé…ç½®æµç¨‹(postcssç¯‡)</h1><p>ç›´æ¥åœ¨css.postcssä¸­è¿›è¡Œé…ç½®, è¯¥å±æ€§ç›´æ¥é…ç½®çš„å°±æ˜¯postcssçš„é…ç½®</p><ul><li>postcss-preset-env: æ”¯æŒcsså˜é‡å’Œä¸€äº›æœªæ¥cssè¯­æ³• è‡ªåŠ¨è¡¥å…¨(autoprefixer)</li></ul><h1 id="viteåŠ è½½é™æ€èµ„æº"><a href="#viteåŠ è½½é™æ€èµ„æº" class="headerlink" title="viteåŠ è½½é™æ€èµ„æº"></a>viteåŠ è½½é™æ€èµ„æº</h1><p>ä»€ä¹ˆæ˜¯é™æ€èµ„æºï¼Ÿ </p><p>â€‹    å›¾ç‰‡, è§†é¢‘èµ„æº</p><p>é™¤äº†åŠ¨æ€APIä»¥å¤–, ç™¾åˆ†ä¹‹ä¹åä¹èµ„æºéƒ½è¢«è§†ä½œé™æ€èµ„æº API â€“&gt; æ¥äº†ä¸€ä¸ªè¯·æ±‚ /getUserName</p><p>viteå¯¹é™æ€èµ„æºåŸºæœ¬ä¸Šæ˜¯å¼€ç®±å³ç”¨çš„, é™¤äº†ä¸€äº›ç‰¹æ®Šæƒ…å†µ(svg)</p><h1 id="resolve-aliasçš„åŸç†"><a href="#resolve-aliasçš„åŸç†" class="headerlink" title="resolve.aliasçš„åŸç†"></a>resolve.aliasçš„åŸç†</h1><h1 id="viteä¸­å¤„ç†svgèµ„æº"><a href="#viteä¸­å¤„ç†svgèµ„æº" class="headerlink" title="viteä¸­å¤„ç†svgèµ„æº"></a>viteä¸­å¤„ç†svgèµ„æº</h1><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul><li><p>viteå¯¹svgæœ‰ç‰¹æ®Šå¤„ç† (âŒ)</p></li><li><p>viteå¯¹svgä¾æ—§æ˜¯å¼€ç®±å³ç”¨çš„</p></li><li><p>svg: scalable vector graphics å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ (æ–°çš„å›¾ç‰‡æ ¼å¼)</p></li><li><p>ä¼ ç»Ÿå›¾ç‰‡æ ¼å¼: jpg, jpegâ€¦</p></li></ul><h2 id="svgç‰¹ç‚¹"><a href="#svgç‰¹ç‚¹" class="headerlink" title="svgç‰¹ç‚¹"></a>svgç‰¹ç‚¹</h2><ol><li><p>svgæ˜¯ä¸ä¼šå¤±çœŸçš„ </p></li><li><p>å°ºå¯¸å°</p></li></ol><h2 id="SVGç¼ºç‚¹"><a href="#SVGç¼ºç‚¹" class="headerlink" title="SVGç¼ºç‚¹"></a>SVGç¼ºç‚¹</h2><p>â€‹    æ²¡æ³•å¾ˆå¥½çš„å»è¡¨ç¤ºå±‚æ¬¡ä¸°å¯Œçš„å›¾ç‰‡ä¿¡æ¯</p><blockquote><p> å‰ç«¯é¢†åŸŸé‡Œæ›´å¤šçš„æ˜¯ç”¨svg å»åšå›¾æ ‡</p></blockquote><h1 id="viteåœ¨ç”Ÿäº§ç¯å¢ƒå¯¹é™æ€èµ„æºçš„å¤„ç†"><a href="#viteåœ¨ç”Ÿäº§ç¯å¢ƒå¯¹é™æ€èµ„æºçš„å¤„ç†" class="headerlink" title="viteåœ¨ç”Ÿäº§ç¯å¢ƒå¯¹é™æ€èµ„æºçš„å¤„ç†"></a>viteåœ¨ç”Ÿäº§ç¯å¢ƒå¯¹é™æ€èµ„æºçš„å¤„ç†</h1><p>å½“æˆ‘ä»¬å°†å·¥ç¨‹è¿›è¡Œæ‰“åŒ…ä»¥å, ä¼šå‘ç°æ‰¾ä¸åˆ°åŸæ¥çš„èµ„æº</p><p>baseUrl: â€œ/â€œ</p><p>æ‰“åŒ…åçš„é™æ€èµ„æºä¸ºä»€ä¹ˆè¦æœ‰hash</p><p>æµè§ˆå™¨æ˜¯æœ‰ä¸€ä¸ªç¼“å­˜æœºåˆ¶ é™æ€èµ„æºåå­—åªè¦ä¸æ”¹, é‚£ä¹ˆä»–å°±ä¼šç›´æ¥ç”¨ç¼“å­˜çš„</p><p>åˆ·æ–°é¡µé¢: è¯·æ±‚çš„åå­—æ˜¯ä¸æ˜¯åŒä¸€ä¸ª è¯»å–ç¼“å­˜ </p><p>æ‰€ä»¥æˆ‘ä»¬è¦å°½é‡å»é¿å…åå­—ä¸€è‡´</p><p>hashç®—æ³•: å°†ä¸€ä¸²å­—ç¬¦ä¸²ç»è¿‡è¿ç®—å¾—åˆ°ä¸€ä¸ªæ–°çš„ä¹±ç å­—ç¬¦ä¸² å…¨ä¸–ç•Œç‹¬ä¸€æ— äºŒ(uuidæ‰æ˜¯ç‹¬ä¸€æ— äºŒçš„ )</p><p>åˆ©ç”¨å¥½hashç®—æ³• å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½çš„å»æ§åˆ¶æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶</p><p>base64å›¾ç‰‡ </p><h1 id="viteæ’ä»¶"><a href="#viteæ’ä»¶" class="headerlink" title="viteæ’ä»¶"></a>viteæ’ä»¶</h1><p>æ’ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>viteä¼šåœ¨ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µä¸­å»è°ƒç”¨ä¸åŒçš„æ’ä»¶ä»¥è¾¾åˆ°ä¸åŒçš„ç›®çš„</p></blockquote><ol><li><p>ç”Ÿå‘½å‘¨æœŸ: å…¶å®å°±å’Œæˆ‘ä»¬äººä¸€æ ·, viteä»å¼€å§‹æ‰§è¡Œåˆ°æ‰§è¡Œç»“æŸ, é‚£ä¹ˆç€æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯viteçš„ç”Ÿå‘½å‘¨æœŸ</p></li><li><p>webpack: è¾“å‡ºhtmlæ–‡ä»¶çš„ä¸€ä¸ªæ’ä»¶ æ¸…é™¤è¾“å‡ºç›®å½•: clean-webpack-plugin</p></li><li><p>ä¸­é—´ä»¶ , æ’ä»¶</p></li><li><p>reduxä¸­é—´ä»¶æ˜¯å¹²å˜›çš„: reduxä¼šåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µå»è°ƒç”¨ä¸åŒçš„ä¸­é—´ä»¶ä»¥è¾¾åˆ°ä¸åŒçš„ç›®çš„</p></li></ol><h1 id="vite-aliases"><a href="#vite-aliases" class="headerlink" title="vite-aliases"></a>vite-aliases</h1><p>æ’ä»¶å­¦ä¹ ç”±ç®€å…¥ç¹</p><p>vite-aliaseså¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆåˆ«å: æ£€æµ‹ä½ å½“å‰ç›®å½•ä¸‹åŒ…æ‹¬srcåœ¨å†…çš„æ‰€æœ‰æ–‡ä»¶å¤¹, å¹¶å¸®åŠ©æˆ‘ä»¬å»ç”Ÿæˆåˆ«å</p><p>{</p><p>  â€œ@â€: â€œ/**/srcâ€,</p><p>  â€œ@aseetsâ€: â€œ/**/src/assetsâ€,</p><p>  â€œ@componentsâ€: â€œ/**/src/componentsâ€,</p><p>}</p><p>nvm: nodeçš„ä¸€ä¸ªç‰ˆæœ¬ç®¡ç†å·¥å…·</p><h1 id="æ‰‹å†™vite-aliasæ’ä»¶"><a href="#æ‰‹å†™vite-aliasæ’ä»¶" class="headerlink" title="æ‰‹å†™vite-aliasæ’ä»¶"></a>æ‰‹å†™vite-aliasæ’ä»¶</h1><p>æ•´ä¸ªæ’ä»¶å°±æ˜¯åœ¨viteçš„ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µå»åšä¸åŒçš„äº‹æƒ… </p><p>æ¯”æ–¹è¯´vueå’Œreactä¼šç»™ä½ æä¾›ä¸€äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°:</p><ul><li><p>created</p></li><li><p>mounted</p></li></ul><p>ç”Ÿå‘½å‘¨æœŸé’©å­</p><p>æˆ‘ä»¬å»æ‰‹å†™Vite-aliaseså…¶å®å°±æ˜¯æŠ¢åœ¨viteæ‰§è¡Œé…ç½®æ–‡ä»¶ä¹‹å‰å»æ”¹å†™é…ç½®æ–‡ä»¶</p><p>é€šè¿‡vite.config.js è¿”å›å‡ºå»çš„é…ç½®å¯¹è±¡ä»¥åŠæˆ‘ä»¬åœ¨æ’ä»¶çš„configç”Ÿå‘½å‘¨æœŸä¸­è¿”å›çš„å¯¹è±¡éƒ½ä¸æ˜¯æœ€ç»ˆçš„ä¸€ä¸ªé…ç½®å¯¹è±¡</p><p>viteä¼šæŠŠè¿™å‡ ä¸ªé…ç½®å¯¹è±¡è¿›è¡Œä¸€ä¸ªmergeåˆå¹¶</p><p>{â€¦defaultConfig, â€¦specifyConfig}</p><h1 id="viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-html"><a href="#viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-html" class="headerlink" title="viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-html"></a>viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-html</h1><p>webpack â€“&gt; webpack-html-plugin / clean-webpack-plugin (clean: true)</p><p>å…¶å®å°±æ˜¯å› ä¸ºviteä»–å†…ç½®äº†éå¸¸å¤šçš„æ’ä»¶, ç„¶åæˆ‘ä»¬ä½œä¸ºæ™®é€šçš„å¼€å‘è€…ä¸éœ€è¦æ‰¿æ‹…è¿™ä¹ˆé«˜çš„å¿ƒæ™ºè´Ÿæ‹…</p><p>vue react </p><p>viteä¹Ÿé›†æˆäº†vueå›¢é˜Ÿä¸€è´¯çš„ä½œé£ å‡å°‘å¿ƒæ™ºè´Ÿæ‹… css-loader less-loader ts-loader</p><p>viteå°†å¾ˆå¤šæ ¸å¿ƒæ’ä»¶å…¨éƒ¨å†…ç½®äº†</p><p>å°±æ˜¯å¸®æˆ‘ä»¬åŠ¨æ€çš„å»æ§åˆ¶æ•´ä¸ªhtmlæ–‡ä»¶ä¸­å†…å®¹</p><p>ejsåœ¨æœåŠ¡ç«¯ä¼šç”¨çš„æ¯”è¾ƒé¢‘ç¹ å› ä¸ºæœåŠ¡ç«¯å¯èƒ½ç»å¸¸ä¼šåŠ¨æ€çš„å»ä¿®æ”¹index.htmlçš„å†…å®¹</p><h1 id="viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-mock"><a href="#viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-mock" class="headerlink" title="viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-mock"></a>viteå¸¸ç”¨æ’ä»¶ä¹‹vite-plugin-mock</h1><p>mockæ•°æ®: æ¨¡æ‹Ÿæ•°æ®</p><p>å‰åç«¯ä¸€èˆ¬æ˜¯å¹¶è¡Œå¼€å‘ ç”¨æˆ·åˆ—è¡¨ ( æ¥å£æ–‡æ¡£ )</p><p>mockæ•°æ® å»åšä½ å‰ç«¯çš„å·¥ä½œ </p><ol><li>ç®€å•æ–¹å¼: ç›´æ¥å»å†™æ­»ä¸€ä¸¤ä¸ªæ•°æ® æ–¹ä¾¿è°ƒè¯•</li></ol><ul><li><p>ç¼ºé™·ï¼š </p><ul><li>æ²¡æ³•åšæµ·é‡æ•°æ®æµ‹è¯•</li><li>æ²¡æ³•è·å¾—ä¸€äº›æ ‡å‡†æ•°æ® </li><li>æ²¡æ³•å»æ„ŸçŸ¥httpçš„å¼‚å¸¸</li></ul><p>axios: httpè¯·æ±‚åº“ </p></li></ul><ol start="2"><li>mockjs: æ¨¡æ‹Ÿæµ·é‡æ•°æ®çš„ï¼Œ vite-plugin-mockçš„ä¾èµ–é¡¹å°±æ˜¯mockjs</li></ol><p><a href="https://github.com/vbenjs/vite-plugin-mock">https://github.com/vbenjs/vite-plugin-mock</a></p><p># æ‰‹å†™vite-plugin-mock</p><p>- config </p><p>- configureSever</p><p>- transformIndexHtml</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ„å»ºå·¥å…· </tag>
            
            <tag> Vite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½é¢çš„ç³–ç‚’æ —å­</title>
      <link href="/post/cf5c.html"/>
      <url>/post/cf5c.html</url>
      
        <content type="html"><![CDATA[<p>å¥½é¢çš„ç³–ç‚’æ —å­ï¼åšæŒæ‰“åŸºç¡€ã€æç´ è´¨ï¼å¥½å¥½ç¬”è¯•é¢è¯•ï¼</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%8F%9C%E7%8B%97.gif" alt="èœç‹—"></p><h1 id="ğŸ’»æµè§ˆå™¨"><a href="#ğŸ’»æµè§ˆå™¨" class="headerlink" title="ğŸ’»æµè§ˆå™¨"></a>ğŸ’»æµè§ˆå™¨</h1><h2 id="âœ…ä»åœ¨åœ°å€æ è¾“å…¥urlåœ°å€åˆ°é¡µé¢æ¸²æŸ“çš„è¯¦ç»†è¿‡ç¨‹"><a href="#âœ…ä»åœ¨åœ°å€æ è¾“å…¥urlåœ°å€åˆ°é¡µé¢æ¸²æŸ“çš„è¯¦ç»†è¿‡ç¨‹" class="headerlink" title="âœ…ä»åœ¨åœ°å€æ è¾“å…¥urlåœ°å€åˆ°é¡µé¢æ¸²æŸ“çš„è¯¦ç»†è¿‡ç¨‹"></a>âœ…ä»åœ¨åœ°å€æ è¾“å…¥urlåœ°å€åˆ°é¡µé¢æ¸²æŸ“çš„è¯¦ç»†è¿‡ç¨‹</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work">MDNåŸæ–‡</a>  åŸæ–‡åµŒå¥—åŸæ–‡ï¼Œå»ºè®®å¤§å®¶å¥½å¥½çœ‹ä¸€ä¸‹ã€‚æˆ‘çˆ±MDN</p><p>è¿™ä¸€æ®µè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºäº”ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼šå¯¼èˆªã€å“åº”ã€è§£æã€æ¸²æŸ“ã€äº¤äº’</p><h3 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h3><p>é¦–å…ˆåœ¨æµè§ˆå™¨ä¸­è¾“å…¥URL</p><h4 id="æŸ¥æ‰¾ç¼“å­˜"><a href="#æŸ¥æ‰¾ç¼“å­˜" class="headerlink" title="æŸ¥æ‰¾ç¼“å­˜"></a>æŸ¥æ‰¾ç¼“å­˜</h4><p>æµè§ˆå™¨å…ˆæŸ¥çœ‹æµè§ˆå™¨ç¼“å­˜-ç³»ç»Ÿç¼“å­˜-è·¯ç”±ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥åœ°å€é¡µé¢ï¼Œå¦‚æœæœ‰åˆ™æ˜¾ç¤ºé¡µé¢å†…å®¹ã€‚å¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p><ul><li>  æµè§ˆå™¨ç¼“å­˜ï¼šæµè§ˆå™¨ä¼šè®°å½•DNSä¸€æ®µæ—¶é—´ï¼Œå› æ­¤ï¼Œåªæ˜¯ç¬¬ä¸€ä¸ªåœ°æ–¹è§£æDNSè¯·æ±‚ï¼›</li><li>  æ“ä½œç³»ç»Ÿç¼“å­˜:å¦‚æœåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­ä¸åŒ…å«è¿™ä¸ªè®°å½•ï¼Œåˆ™ä¼šä½¿ç³»ç»Ÿè°ƒç”¨æ“ä½œç³»ç»Ÿï¼Œ è·å–æ“ä½œç³»ç»Ÿçš„è®°å½•(ä¿å­˜æœ€è¿‘çš„DNSæŸ¥è¯¢ç¼“å­˜)ï¼›</li><li>  è·¯ç”±å™¨ç¼“å­˜ï¼šå¦‚æœä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤å‡ä¸èƒ½æˆåŠŸè·å–DNSè®°å½•ï¼Œç»§ç»­æœç´¢è·¯ç”±å™¨ç¼“å­˜ï¼›</li><li>  ISPç¼“å­˜ï¼šè‹¥ä¸Šè¿°å‡å¤±è´¥ï¼Œç»§ç»­å‘ISPæœç´¢ï¼ˆISPæœ¬èº«æ˜¯<strong>ä¸€ç§å®½å¸¦æ¥å…¥æä¾›å•†ç»™ç½‘é¡µæ‰¹é‡è®¿é—®åŠ é€Ÿçš„æŠ€æœ¯</strong>ã€‚ ISPä¼šå°†å½“å‰è®¿é—®é‡è¾ƒå¤§çš„ç½‘é¡µå†…å®¹æ”¾åˆ°ISPæœåŠ¡å™¨çš„ç¼“å­˜ä¸­ï¼Œå½“æœ‰æ–°çš„ç”¨æˆ·è¯·æ±‚ç›¸åŒå†…å®¹æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­å‘é€ç›¸å…³ä¿¡æ¯ï¼Œä¸å¿…æ¯æ¬¡éƒ½å»è®¿é—®çœŸæ­£çš„ç½‘ç«™ï¼Œä»è€ŒåŠ å¿«äº†ä¸åŒç”¨æˆ·å¯¹ç›¸åŒå†…å®¹çš„è®¿é—®é€Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿèƒ½èŠ‚çœç½‘é—´æµé‡ç»“ç®—æˆæœ¬ï¼‰ã€‚</li></ul><h4 id="DNSåŸŸåè§£æ"><a href="#DNSåŸŸåè§£æ" class="headerlink" title="DNSåŸŸåè§£æ"></a>DNSåŸŸåè§£æ</h4><p>æµè§ˆå™¨å‘<strong>DNSæœåŠ¡å™¨</strong>å‘èµ·è¯·æ±‚ï¼Œè§£æè¯¥URLä¸­çš„åŸŸåå¯¹åº”çš„<strong>IPåœ°å€</strong>ã€‚è¿™ä¸ªIPåœ°å€ä¼šåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­è®°å½•ä¸€æ®µæ—¶é—´â†‘</p><p><code>DNSæœåŠ¡å™¨æ˜¯åŸºäºUDPçš„ï¼Œå› æ­¤ä¼šç”¨åˆ°UDPåè®®</code>ã€‚</p><h4 id="å»ºç«‹TCPè¿æ¥"><a href="#å»ºç«‹TCPè¿æ¥" class="headerlink" title="å»ºç«‹TCPè¿æ¥"></a>å»ºç«‹TCPè¿æ¥</h4><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/ssl.jpg" alt="DNS æŸ¥è¯¢ã€TCP æ¡æ‰‹å’Œ TLS 5 æ­¥æ¡æ‰‹ï¼ˆåŒ…æ‹¬æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ clienthelloã€serverhello ä»¥åŠè¯ä¹¦ã€clientkey å’Œå®Œæˆæ¶ˆæ¯ï¼‰ã€‚" style="zoom:50%;" /><p>è§£æå‡ºIPåœ°å€åï¼Œæ ¹æ®IPåœ°å€å’Œé»˜è®¤80ç«¯å£ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥</p><h5 id="ä¸‰æ¬¡æ¡æ‰‹ï¼ˆTCP-Handshakeï¼‰"><a href="#ä¸‰æ¬¡æ¡æ‰‹ï¼ˆTCP-Handshakeï¼‰" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹ï¼ˆTCP Handshakeï¼‰"></a>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆTCP Handshakeï¼‰</h5><p>ä¸‰æ¬¡æ¡æ‰‹SYN-SYNACK-ACKï¼Œä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ã€‚</p><h6 id="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹"></a><a href="https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84">ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹</a></h6><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230713102159611.png" alt="image-20230713102159611" style="zoom:67%;" /><p>å›¾è§£é‡Šå¾—å·²ç»éå¸¸æ¸…é™¤äº†</p><h6 id="ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡ï¼Ÿ</h6><ul><li><p>é˜»æ­¢é‡å¤å†å²è¿æ¥çš„åˆå§‹åŒ–ï¼šæµ…æµ…åšäº†ä¸ªå›¾â†“(å‡è®¾ä¸¤æ¬¡æ¡æ‰‹)</p><ul><li>å®¢æˆ·ç«¯å‘é€SYNæŠ¥æ–‡ï¼Œç¬¬ä¸€æ¬¡æ‹¥å¡ç¬¬äºŒæ¬¡å‘å‡ºç¬¬ä¸€æ¬¡å…ˆåˆ°</li><li>æœåŠ¡å™¨æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªï¼Œå›å¤ACK-SYNæŠ¥æ–‡ï¼Œä¹‹åç›´æ¥å‘é€æ•°æ®</li><li>ç»“æœä¸æ˜¯ï¼Œç»ˆç«¯ï¼Œæ•°æ®ä½œåºŸ</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E5%9B%BE%E8%A7%A3.jpg" alt="å›¾è§£" style="zoom: 67%;" /></li><li><p>åŒæ­¥åŒæ–¹åˆå§‹åºåˆ—å·ï¼š<code>seqnum = client isn  acknum = seqnum + 1  seqnum = server isn  acknum = seqnum + 1</code></p></li><li><p>é¿å…æµªè´¹èµ„æºï¼š</p><ul><li>å¯åˆå¹¶â†’<code>seqnum = client isn  (acknum = seqnum + 1  seqnum = server isn)  acknum = seqnum + 1</code></li><li>é¿å…å†å²é“¾æ¥é‡å¤å»ºç«‹è€Œäº§ç”Ÿçš„å†—ä½™è¿æ¥</li></ul></li></ul><p>ä»¥ä¸Šä¸‰ç‚¹æ‰èƒ½å»ºç«‹ä¸€ä¸ªæ¯”è¾ƒå¯é çš„é“¾æ¥ã€‚</p><h6 id="ä¸ºä»€ä¹ˆæ¯æ¬¡å»ºç«‹TCPè¿æ¥çš„åˆå§‹åºåˆ—å·æ˜¯ä¸ä¸€æ ·çš„ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ¯æ¬¡å»ºç«‹TCPè¿æ¥çš„åˆå§‹åºåˆ—å·æ˜¯ä¸ä¸€æ ·çš„ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ¯æ¬¡å»ºç«‹TCPè¿æ¥çš„åˆå§‹åºåˆ—å·æ˜¯ä¸ä¸€æ ·çš„ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ¯æ¬¡å»ºç«‹TCPè¿æ¥çš„åˆå§‹åºåˆ—å·æ˜¯ä¸ä¸€æ ·çš„ï¼Ÿ</h6><p>ä¸€æ˜¯å¦‚æœå‡ºç°ï¼Œé‚£ä¸Šé¢è¿™ç§æƒ…å†µå°±è«å¾—è¡Œäº†ã€‚</p><h6 id="ISNæ˜¯å¦‚ä½•éšæœºç”Ÿæˆçš„ï¼Ÿ"><a href="#ISNæ˜¯å¦‚ä½•éšæœºç”Ÿæˆçš„ï¼Ÿ" class="headerlink" title="ISNæ˜¯å¦‚ä½•éšæœºç”Ÿæˆçš„ï¼Ÿ"></a>ISNæ˜¯å¦‚ä½•éšæœºç”Ÿæˆçš„ï¼Ÿ</h6><h6 id="å·²ç»æœ‰äº†IPçš„MTUåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡ŒTCPçš„MSSåˆ†ç‰‡ï¼Ÿ"><a href="#å·²ç»æœ‰äº†IPçš„MTUåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡ŒTCPçš„MSSåˆ†ç‰‡ï¼Ÿ" class="headerlink" title="å·²ç»æœ‰äº†IPçš„MTUåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡ŒTCPçš„MSSåˆ†ç‰‡ï¼Ÿ"></a>å·²ç»æœ‰äº†IPçš„MTUåˆ†ç‰‡ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡ŒTCPçš„MSSåˆ†ç‰‡ï¼Ÿ</h6><h6 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"></a>ç¬¬ä¸€æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h6><p>å®¢æˆ·ç«¯å¤„åœ¨<code>SYN_SENT</code>çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯è¿”å›<code>ACK</code>æŠ¥æ–‡ï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡æ¡æ‰‹æ¶ˆå¤±ï¼ŒæœåŠ¡ç«¯ä¸€ç›´å¤„åœ¨<code>CLOSE/LISTEN</code>çŠ¶æ€ï¼Œå®¢æˆ·ç«¯ä¹Ÿå› ä¸ºä¸€ç›´æ”¶ä¸åˆ°æœåŠ¡ç«¯å›å¤è€Œè¿›è¡Œè¶…æ—¶å‘é€ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§å‘é€æ¬¡æ•°<code>tcp_syn_retries</code>ï¼Œåœæ­¢å‘é€ï¼Œè¿”å›<code>CLOSE</code>çŠ¶æ€ã€‚</p><h6 id="ç¬¬äºŒæ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"></a>ç¬¬äºŒæ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h6><p>ç¬¬äºŒæ¬¡æ¡æ‰‹æ¶ˆå¤±ï¼Œæ­¤æ—¶ä¸ä»…å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°<code>ACK</code>æŠ¥æ–‡ï¼ŒæœåŠ¡å™¨å‘é€äº†<code>SYN-ACK</code>æŠ¥æ–‡ä¹Ÿä¸€ç›´å¤„åœ¨åŠè¿æ¥<code>SYN_RCVD</code>çŠ¶æ€ç­‰å¾…å®¢æˆ·ç«¯å‘<code>ACK</code>ã€‚å®¢æˆ·ç«¯ä»¥ä¸ºæœåŠ¡ç«¯æ²¡æ”¶åˆ°è‡ªå·±å‘å‡ºçš„<code>SYN</code>æŠ¥æ–‡ï¼Œäºæ˜¯è¶…æ—¶é‡ä¼ ï¼›æœåŠ¡ç«¯ä¹Ÿè®¤ä¸ºå®¢æˆ·ç«¯æ²¡æ”¶åˆ°<code>SYN-ACK</code>æŠ¥æ–‡ï¼Œäºæ˜¯è¶…æ—¶é‡ä¼ ã€‚ç›´åˆ°è¾¾åˆ°äº†æœ€å¤§å‘é€æ¬¡æ•°<code>tcp_syn_retries&amp;tcp_synack_retries</code>è€Œåœæ­¢å‘é€ï¼Œéƒ½è¿”å›<code>CLOSE</code>çŠ¶æ€ã€‚</p><h6 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"></a>ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¶ˆå¤±ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</h6><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¶ˆå¤±ï¼Œå®¢æˆ·ç«¯å·²ç„¶æ˜¯è¿æ¥çŠ¶æ€<code>ESTABLISHED</code>ï¼ŒæœåŠ¡ç«¯åˆ™ä¾ç„¶æ˜¯æ˜¯åœ¨ç­‰å¾…<code>ACK</code>æŠ¥æ–‡çš„åŠè¿æ¥çŠ¶æ€ã€‚è¿™ä¸ªæ—¶å€™æœåŠ¡å™¨ä¼šè®¤ä¸ºå®¢æˆ·ç«¯å¯èƒ½æ²¡æœ‰æ”¶åˆ°è‡ªå·±å‘çš„<code>SYN-ACK</code>ï¼Œäºæ˜¯è¶…æ—¶é‡ä¼ ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§å‘é€æ¬¡æ•°ï¼Œè¿”å›å…³é—­çŠ¶æ€ã€‚</p><h6 id="SYNæ”»å‡»æ˜¯å•¥ï¼Œå¦‚ä½•é¿å…ï¼Ÿ"><a href="#SYNæ”»å‡»æ˜¯å•¥ï¼Œå¦‚ä½•é¿å…ï¼Ÿ" class="headerlink" title="SYNæ”»å‡»æ˜¯å•¥ï¼Œå¦‚ä½•é¿å…ï¼Ÿ"></a>SYNæ”»å‡»æ˜¯å•¥ï¼Œå¦‚ä½•é¿å…ï¼Ÿ</h6><p><strong>SYNæ”»å‡»</strong>æ ¸å¿ƒæ”»å‡»æ–¹å¼å°±æ˜¯æ”»å‡»è€…ä»¿äº†å·¨é‡ä¸åŒçš„IPåœ°å€ç»™æŒ‡å®šæœåŠ¡å™¨å‘é€<code>SYN</code>æŠ¥æ–‡ï¼ŒæœåŠ¡ç«¯æ¯æ¬¡æ”¶åˆ°ä¸€æ¡<code>SYN</code>æŠ¥æ–‡éƒ½ä¼šè¿›å…¥åŠè¿æ¥çŠ¶æ€ï¼Œå¹¶ç»™IPåœ°å€å‘é€<code>SYN-ACK</code>æŠ¥æ–‡ã€‚ä½†æ˜¯ä¸å¦™çš„æ˜¯ï¼ŒæœåŠ¡å™¨æ˜¯æ²¡æœ‰æ”¶åˆ°è¿™äº›IPåœ°å€åº”ç­”çš„ï¼Œè¿™å¯¼è‡´æœåŠ¡å™¨<strong>åŠè¿æ¥é˜Ÿåˆ—</strong>(ä¹Ÿå°±æ˜¯SYNé˜Ÿåˆ—)é€æ¸å æ»¡ï¼Œä½¿å¾—æ­£å¸¸æ¥æœåŠ¡å™¨æ¡æ‰‹çš„å®¢æˆ·ç«¯è·å¾—ä¸åˆ°æœåŠ¡å™¨çš„æœåŠ¡ç©ºé—´ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717222012470.png" alt="image-20230717222012470" style="zoom:50%;" /><p><strong>é¿å…</strong></p><ul><li>è°ƒå¤§<code>netdev_max_backlog</code></li><li>å¢å¤§TCPåŠè¿æ¥é˜Ÿåˆ—</li><li>å¼€å¯<code>tcp_syncookies</code></li><li>å‡å°‘SYN+ACKé‡ä¼ æ¬¡æ•°</li></ul><h5 id="TLSåå•†ï¼ˆTLS-SSL-Handshake-SSLè¢«TLSå–ä»£äº†ï¼‰"><a href="#TLSåå•†ï¼ˆTLS-SSL-Handshake-SSLè¢«TLSå–ä»£äº†ï¼‰" class="headerlink" title="TLSåå•†ï¼ˆTLS/SSL Handshake SSLè¢«TLSå–ä»£äº†ï¼‰"></a>TLSåå•†ï¼ˆTLS/SSL Handshake SSLè¢«TLSå–ä»£äº†ï¼‰</h5><ul><li>æ—¶é—´ï¼šTLSä¼ è¾“å±‚å®‰å…¨åè®®ï¼Œè¯¥æ®µæ¡æ‰‹åœ¨ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ä¹‹åå‘ç”Ÿã€‚</li><li>å†…å®¹ï¼š<ul><li>æŒ‡å®šè¦ä½¿ç”¨çš„TLSç‰ˆæœ¬</li><li>å†³å®šå¯†ç å¥—ä»¶</li><li>é€šè¿‡æœåŠ¡å™¨å…¬é’¥å’ŒSSLè¯ä¹¦é¢å‘æœºæ„çš„æ•°å­—ç­¾åæ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½</li><li>ç”Ÿæˆå¯¹è¯å¯†é’¥ï¼Œä»¥åœ¨æ¡æ‰‹å®Œæˆåä½¿ç”¨å¯¹ç§°åŠ å¯†ã€‚</li></ul></li><li>æ­¥éª¤(ä»¥RSA å¯†é’¥ä¸ºä¾‹)ï¼š<ul><li>client helloï¼šå®¢æˆ·ç«¯å‘é€é—®å€™æ¶ˆæ¯ï¼Œå‘é€åŒ…å«å®¢æˆ·ç«¯æ”¯æŒçš„TLSç‰ˆæœ¬ã€æ”¯æŒçš„å¯†ç å¥—ä»¶ã€å®¢æˆ·ç«¯éšæœºæ•°client randomçš„æ¶ˆæ¯ã€‚</li><li>server helloï¼šæœåŠ¡å™¨å›å¤é—®å€™æ¶ˆæ¯ï¼Œå‘é€åŒ…å«SSLè¯ä¹¦ã€æœåŠ¡å™¨é€‰æ‹©çš„å¯†ç å¥—ä»¶ã€server randomçš„æ¶ˆæ¯ã€‚</li><li>èº«ä»½éªŒè¯ï¼šå®¢æˆ·ç«¯ä½¿ç”¨è¯ä¹¦é¢å‘æœºæ„éªŒè¯æœåŠ¡å™¨çš„SSLè¯ä¹¦ï¼Œä»¥ç¡®è®¤æœåŠ¡å™¨æ˜¯å…¶å£°ç§°çš„èº«ä»½ï¼Œä¸”å®¢æˆ·ç«¯æ­£åœ¨ä¸è¯¥åŸŸçš„å®é™…æ‰€æœ‰è€…è¿›è¡Œäº¤äº’ã€‚</li><li>é¢„ä¸»å¯†é’¥ï¼šå®¢æˆ·ç«¯å‘é€premaster secretï¼Œè¿™ä¸ªå¯†é’¥æ˜¯ä½¿ç”¨å…¬é’¥åŠ å¯†çš„ï¼Œåªèƒ½é€šè¿‡æœåŠ¡å™¨ç§é’¥è§£å¯†ã€‚</li><li>ç§é’¥è¢«ä½¿ç”¨ï¼šæœåŠ¡å™¨è§£å¯†é¢„ä¸»å¯†é’¥ã€‚</li><li>ç”Ÿæˆä¼šè¯å¯†é’¥ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å‡ä½¿ç”¨client random server random premaster secretç”Ÿæˆå…±åŒçš„ä¼šè¯å¯†é’¥ã€‚</li><li>å®¢æˆ·ç«¯å°±ç»ªï¼šå®¢æˆ·ç«¯å‘é€å·²å®Œæˆæ¶ˆæ¯ï¼ˆä¼šè¯å¯†é’¥åŠ å¯†ï¼‰ã€‚</li><li>æœåŠ¡å™¨å°±ç»ªï¼šæœåŠ¡å™¨å‘é€å·²å®Œæˆæ¶ˆæ¯ï¼ˆä¼šè¯å¯†é’¥åŠ å¯†ï¼‰ã€‚</li><li>å®ç°å®‰å…¨å¯¹ç§°åŠ å¯†ï¼šå®ç°åŒæ–¹ä¼šè¯å¯†é’¥åŠ å¯†é€šä¿¡ã€‚</li></ul></li><li>TLS1.3æ›´å¿«æ›´å®‰å…¨ï¼šå®¢æˆ·ç«¯é—®å€™-æœåŠ¡å™¨ç”Ÿæˆä¸»å¯†é’¥-æœåŠ¡å™¨é—®å€™å®Œæˆ-å®¢æˆ·ç«¯éªŒè¯ç”Ÿæˆä¸»å¯†é’¥å‘é€å®Œæˆ-å®ç°å®‰å…¨å¯¹ç§°åŠ å¯†ã€‚</li></ul><p>åœ¨å‘é€çœŸæ­£çš„è¯·æ±‚å†…å®¹ä¹‹å‰è¿˜éœ€è¦ä¸‰æ¬¡â†‘å¾€è¿”æœåŠ¡å™¨ã€‚</p><h4 id="å‘é€HTTPè¯·æ±‚"><a href="#å‘é€HTTPè¯·æ±‚" class="headerlink" title="å‘é€HTTPè¯·æ±‚"></a>å‘é€HTTPè¯·æ±‚</h4><p>æµè§ˆå™¨å‘èµ·è¯»å–æ–‡ä»¶çš„åˆå§‹HTTP GETè¯·æ±‚</p><h3 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h3><h4 id="æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœ"><a href="#æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœ" class="headerlink" title="æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœ"></a>æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœ</h4><p>æœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„htmlæ–‡ä»¶å‘é€ç»™æµè§ˆå™¨</p><h5 id="æ…¢å¯åŠ¨-14KBè§„åˆ™"><a href="#æ…¢å¯åŠ¨-14KBè§„åˆ™" class="headerlink" title="æ…¢å¯åŠ¨ / 14KBè§„åˆ™"></a>æ…¢å¯åŠ¨ / 14KBè§„åˆ™</h5><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/congestioncontrol.jpg" alt="TCP æ…¢å¯åŠ¨" style="zoom:50%;" /><p>æ…¢å¯åŠ¨æ˜¯ä¸€ç§è¡¡é‡ç½‘ç»œè¿æ¥é€Ÿåº¦çš„ç®—æ³•ï¼Œé€šè¿‡é€æ¸å¢åŠ å‘é€æ•°æ®çš„æ•°é‡æ¥è¾¾åˆ°ç½‘ç»œçš„æœ€å¤§å¸¦å®½ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230712215533543.png" alt="image-20230712215533543" style="zoom:67%;" /><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆå§‹åŒ…æ˜¯æ˜¯ä¸ªæ•°æ®åŒ…ï¼Œå¤§çº¦14Kï¼Œç¬¬äºŒæ¬¡28Kï¼Œç¬¬ä¸‰æ¬¡â€¦â€¦æˆå€é€’å¢ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§å¸¦å®½æˆ–è€…é‡åˆ°æ‹¥å¡ã€‚</p><h5 id="æ‹¥å¡æ§åˆ¶"><a href="#æ‹¥å¡æ§åˆ¶" class="headerlink" title="æ‹¥å¡æ§åˆ¶"></a>æ‹¥å¡æ§åˆ¶</h5><p><code>ssthresh - slow start threshold</code> æ…¢å¯åŠ¨é—¨é™  cwndæ‹¥å¡çª—å£ swndå‘é€çª—å£</p><ul><li><p>æ…¢å¯åŠ¨ï¼šå‘é€æ–¹æ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œæ‹¥å¡çª—å£cwndå¯¹åº”å¢åŠ ï¼Œä¸€èˆ¬æ˜¯æŒ‡æ•°å¢åŠ ã€‚å½“åˆ°è¾¾é—¨é™sst(æœ€å¤§å¸¦å®½)æ—¶ï¼Œå°±å¼€å§‹æ‹¥å¡é¿å…äº†ã€‚</p></li><li><p>æ‹¥å¡é¿å…ï¼šå‘é€æ–¹æ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œcwnd+1ï¼Œçº¿æ€§ã€‚</p></li><li><p>æ‹¥å¡å‘ç”Ÿï¼šç½‘ç»œå‡ºç°æ‹¥å¡äº†ï¼Œå‘ç”Ÿæ•°æ®åŒ…é‡ä¼ ã€‚è‹¥å‘ç”Ÿè¶…æ—¶é‡ä¼ </p><p>è¿™ä¸ªæ—¶å€™ <code>sst=cwnd/2  cwnd=1</code>ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/29.jpg" alt="æ‹¥å¡å‘é€ â€”â€” è¶…æ—¶é‡ä¼ " style="zoom: 50%;" /></li><li><p>å¿«é€Ÿæ¢å¤ï¼šå¿«é€Ÿæ¢å¤ä¸€èˆ¬å’Œå¿«é€Ÿé‡ä¼ æ­é…ä½¿ç”¨ã€‚ç›¸æ¯”èµ·è¶…æ—¶é‡ä¼ æ…¢å¼€å§‹ï¼Œå¿«é€Ÿé‡ä¼ è®¤ä¸ºå½“æ¥æ”¶æ–¹ä¸¢æ‰ä¸€ä¸ªä¸­é—´åŒ…æ—¶ï¼Œå‘é€ä¸‰æ¬¡å‰ä¸€ä¸ªåŒ…çš„ACKï¼Œå‘é€æ–¹ä¼šé‡æ–°å¿«é€Ÿé‡ä¼ ï¼Œä¸å¿…ç­‰å¾…è¶…æ—¶é‡ä¼ ã€‚</p><p>æ­¤æ—¶ <code>cwnd /= 2  sst = cwnd</code>ï¼Œéšåè¿›å…¥å¿«é€Ÿæ¢å¤ç®—æ³•ï¼Œ<code>cwnd = sst + 3</code>-é‡ä¼ ä¸¢å¤±åŒ…-è‹¥å†æ”¶åˆ°é‡å¤ACKï¼Œ<code>cwnd ++</code>-æ”¶åˆ°æ–°æ•°æ®æ—¶ï¼Œå¯ä»¥æ¥å—æ­£å¸¸æ•°æ®äº†ï¼Œæ¢å¤å›<code>cwnd = sst</code>-éšåŠè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E6%8B%A5%E5%A1%9E%E5%8F%91%E7%94%9F-%E5%BF%AB%E9%80%9F%E9%87%8D%E4%BC%A0.drawio.png" alt="å¿«é€Ÿé‡ä¼ å’Œå¿«é€Ÿæ¢å¤" style="zoom:50%;" /></li></ul><p>å…³äºé‡ä¼ ï¼Œæœ‰å¿«é€Ÿé‡ä¼ å’Œè¶…æ—¶é‡ä¼ ä¸¤ç§ï¼Œä¸¤è€…ä½¿ç”¨çš„æ‹¥å¡å‘ç”Ÿç®—æ³•æ˜¯ä¸ä¸€æ ·çš„â†‘</p><blockquote><p>å…¶ä»–ï¼šå…³äºé‡ä¼ </p><p>å¸¸è§çš„é‡ä¼ æœºåˆ¶ï¼šè¶…æ—¶é‡ä¼ ã€å¿«é€Ÿé‡ä¼ ã€SACKã€D-SACK</p><p>è¶…æ—¶é‡ä¼ ï¼šå‘é€æ•°æ®æ—¶è®¾è®¡ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¶…è¿‡æŒ‡å®šçš„æ—¶é—´åæ²¡æœ‰æ”¶åˆ°ACKæŠ¥æ–‡ï¼Œé‚£å°±å›é‡æ–°å‘é€æ•°æ®ã€‚</p><p>å¿«é€Ÿé‡ä¼ ï¼šå‘é€ç«¯å‘é€æ•°æ®è¿‡ç¨‹ä¸­æ„å¤–ä¸¢å¤±äº†ä¸€ä¸ªæ•°æ®åŒ…ï¼Œéšåï¼Œå‘é€ç«¯è¿ç»­æ¥æ”¶äº†ä¸‰æ¬¡ç›¸åŒACKæŠ¥æ–‡ï¼Œæ­¤æ—¶å¼€å¯å¿«é€Ÿé‡ä¼ ï¼Œéšåå¿«é€Ÿå›å¤ã€‚æœ‰ä¸ªé—®é¢˜ï¼šé‡å‘ä¸¢å¤±æ•°æ®åŒ…åæ¥ç€å“ªä¸ªåŒ…å‘é€ï¼Ÿå¦‚æœè¿ç»­ä¸¢å¤±äº†ä¿©ï¼Œå¦‚æœå·²ç»å‘äº†å¾ˆå¤šåç»­åŒ…â€¦â€¦</p><p>SACKï¼šSelective Acknowledgmentï¼Œé€‰æ‹©æ€§ç¡®è®¤ã€‚åœ¨TCPå¤´éƒ¨æ·»åŠ SACKå­—æ®µï¼Œç”¨æ¥è®°å½•å‘é€å·²ç»æ”¶åˆ°äº†å“ªäº›æ•°æ®ä¿¡æ¯ã€‚ä½¿å¾—å½“å‘ç”ŸåŒ…ä¸¢å¤±çš„æ—¶å€™ï¼Œåªé‡ä¼ ä¸¢å¤±çš„æ•°æ®ã€‚è¿™ä¸ªé‡ä¼ æœºåˆ¶éœ€è¦å‘é€æ¥æ”¶åŒæ–¹éƒ½æ”¯æŒæ‰å¯å“¦ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717094859472.png" alt="image-20230717094859472" style="zoom:67%;" /><p>D-SACKï¼šDuplicate SACKï¼Œé‡å¤ã€‚SACKå­˜æ”¾çš„æ˜¯æ¥å—é‡å¤çš„æ•°æ®ã€‚ä½¿å¾—å‘é€æ–¹å¯ä»¥æ¥æ”¶åˆ°åé¦ˆæ¥çš„å…·ä½“æƒ…å†µã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717102507759.png" alt="image-20230717102507759" style="zoom:67%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717212708861.png" alt="image-20230717212708861" style="zoom:67%;" /></blockquote><h4 id="å…³é—­TCPè¿æ¥"><a href="#å…³é—­TCPè¿æ¥" class="headerlink" title="å…³é—­TCPè¿æ¥"></a>å…³é—­TCPè¿æ¥</h4><h5 id="TCPå››æ¬¡æŒ¥æ‰‹"><a href="#TCPå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹"></a>TCPå››æ¬¡æŒ¥æ‰‹</h5><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720104908581.png" alt="image-20230720104908581" style="zoom:67%;" /><ul><li>ç¬¬ä¸€æ¬¡ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€TCPé¦–éƒ¨æ ‡å¿—<code>FIN=1</code>çš„æŠ¥æ–‡ï¼Œä¹‹åè¿›å…¥<code>FIN_WAIT_1</code>çŠ¶æ€</li><li>ç¬¬äºŒæ¬¡ï¼šæœåŠ¡ç«¯æ”¶åˆ°FINæŠ¥æ–‡ï¼Œå‘å®¢æˆ·ç«¯è¿”å›<code>ACK</code>æŠ¥æ–‡ï¼Œä¹‹åè¿›å…¥<code>CLOSED_WAIT</code>çŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°åå˜ä¸º<code>FIN_WAIT_2</code>çŠ¶æ€</li><li>ç¬¬ä¸‰æ¬¡ï¼šæœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€<code>FIN</code>æŠ¥æ–‡ï¼Œä¹‹åè¿›å…¥<code>LAST_ACK</code>çŠ¶æ€</li><li>ç¬¬å››æ¬¡ï¼šå®¢æˆ·ç«¯æ”¶åˆ°FINæŠ¥æ–‡ï¼Œå‘æœåŠ¡ç«¯å‘é€<code>ACK</code>æŠ¥æ–‡ï¼Œä¹‹åè¿›å…¥<code>TIME_WAIT</code>çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å<code>CLOSE</code>ï¼Œå®¢æˆ·ç«¯ä¸€æ®µæ—¶é—´(2MSL)åè‡ªåŠ¨è¿›å…¥<code>CLOSE</code>çŠ¶æ€ã€‚</li></ul><blockquote><p>MSLæ˜¯ç½‘ç»œä¸­æ•°æ®åŒ…æœ€é•¿çš„ç”Ÿå­˜æ—¶é—´ï¼Œå¤§æ¦‚ä¸¤åˆ†é’Ÿ</p><p>FINæŠ¥æ–‡ä¸ç®¡æ˜¯è¿›ç¨‹æ­£å¸¸é€€å‡ºä¹Ÿå¥½å¼‚å¸¸é€€å‡ºä¹Ÿå¥½ï¼ŒæœåŠ¡å™¨å†…æ ¸éƒ½ä¼šå‘é€FINæŠ¥æ–‡ï¼Œå®Œæˆå››æ¬¡æŒ¥æ‰‹</p></blockquote><h6 id="ç²—æš´å…³é—­-amp-ä¼˜é›…å…³é—­"><a href="#ç²—æš´å…³é—­-amp-ä¼˜é›…å…³é—­" class="headerlink" title="ç²—æš´å…³é—­&amp;ä¼˜é›…å…³é—­"></a>ç²—æš´å…³é—­&amp;ä¼˜é›…å…³é—­</h6><p>å…³é—­è¿æ¥å‡½æ•°ç›¸å…³ã€‚å…³é—­è¿æ¥çš„å‡½æ•°æœ‰ä¸¤ç§â†“</p><p><strong>closeå‡½æ•°</strong>ï¼šåŒæ—¶socketå…³é—­å‘é€æ–¹å’Œè¯»å–æ”¾ï¼Œè¿™ä¸ªæ–¹æ³•ä½¿å¾—ç›´æ¥å…³é—­å‘é€æ•°æ®å’Œæ¥æ”¶æ•°æ®çš„èƒ½åŠ›ã€‚å¦‚æœæœ‰å¤šè¿›ç¨‹/çº¿ç¨‹å…±äº«åŒä¸€ä¸ªsocketï¼Œå…¶ä¸­ä¸€ä¸ªè¿›ç¨‹è°ƒç”¨äº†closeï¼Œé‚£ä¹ˆsocketå¼•ç”¨è®¡æ•°å°†-1ï¼Œå½“è®¡æ•°å‡ä¸º0æ—¶ï¼Œæ‰ä¼šå‘é€FINæŠ¥æ–‡ã€‚</p><p><strong>shutdownå‡½æ•°</strong>ï¼šå¯æŒ‡å®šsocketåªå…³é—­å‘é€æ–¹å‘ï¼Œä¸å…³é—­è¯»å–æ–¹å‘ï¼Œæ•°æ®èƒ½æ”¶ä¸èƒ½å‘äº†ã€‚å¦‚æœæœ‰å¤šä¸ªè¿›ç¨‹/çº¿ç¨‹å…±äº«åŒä¸€ä¸ªsocketï¼Œç®¡ä½ å‡ ä¸ªï¼Œç›´æ¥å…³å…³å…³ï¼ç›´æ¥å‘FINï¼</p><p><strong>ç²—æš´å…³é—­</strong></p><p>å¦‚æœå®¢æˆ·ç«¯ç”¨â†‘<code>close</code>å‡½æ•°å…³é—­è¿æ¥ï¼Œé‚£ä¹ˆåœ¨å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯ä¸€æ—¦åˆæ”¶åˆ°äº†æœåŠ¡ç«¯å‘é€çš„æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¼šç›´æ¥è¿”å›ä¸€ä¸ªRSTæŠ¥æ–‡ç»™æœåŠ¡ç«¯ï¼Œè§£é‡Šè‡ªå·±å·²ç»æ²¡æœ‰æ”¶å‘æ•°æ®çš„èƒ½åŠ›äº†ï¼Œèµ¶ç´§å…³é—­å§ï¼Œç„¶åæœåŠ¡å™¨å†…æ ¸å°±ä¼šé‡Šæ”¾æ‰è¿æ¥ï¼Œç›´æ¥closeæ‰ã€‚</p><p>æ­¤å¤–ï¼Œè¿™ä¸ªcloseå‡½æ•°ä½¿å¾—FIN_WAIT_2çŠ¶æ€ç­‰å¾…æ—¶é—´æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è¿‡äº†ç­‰å¾…æ—¶é—´<code>tcp_fin_timeout</code>ï¼Œä¹Ÿå°±å…³æ‰äº†ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3b5f1897d2d74028aaf4d552fbce1a74.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="zoom: 50%;" /><p><strong>ä¼˜é›…å…³é—­</strong></p><p>å°±æ˜¯â†“è¿™æ ·å­çš„å››æ¬¡æŒ¥æ‰‹äº†ã€‚ç”¨çš„<code>shutdown</code>å‡½æ•°ï¼Œå®¢æˆ·ç«¯è¿˜èƒ½æ­£å¸¸è¯»ä¸€ä¸‹æ•°æ®ï¼Œç„¶åæ‰å…³å…³ã€‚è¿™é‡ŒFION_WAIT_2çŠ¶æ€ç­‰å¾…æ—¶é—´æ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œç­‰ä¸åˆ°æ­»ç­‰ã€‚</p><h6 id="ä¸ºå•¥æ˜¯å››æ¬¡ï¼Ÿ"><a href="#ä¸ºå•¥æ˜¯å››æ¬¡ï¼Ÿ" class="headerlink" title="ä¸ºå•¥æ˜¯å››æ¬¡ï¼Ÿ"></a>ä¸ºå•¥æ˜¯å››æ¬¡ï¼Ÿ</h6><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720112455802.png" alt="image-20230720112455802" style="zoom:67%;" /><ul><li>å…³é—­è¿æ¥çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€FINæŠ¥æ–‡çš„æ—¶å€™ï¼Œä»…ä»…ä»£è¡¨å®¢æˆ·ç«¯ä¸å†å‘é€æ•°æ®äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæ”¶åˆ°æ•°æ®çš„ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ°æŠ¥æ–‡ä¹‹åï¼Œå…ˆå›ç­”ä¸€ä¸ªACKï¼ŒéšåæœåŠ¡ç«¯å¯èƒ½(è¿˜æœ‰ä¸€äº›æœªå®Œå…¨å¤„ç†çš„æ•°æ®éœ€è¦å‘ç»™å®¢æˆ·ç«¯æˆ–è€…æ•°æ®è¿˜æ²¡ä¼ å®Œ)(ç­‰å¾…ä¸€æ®µæ—¶é—´ä½¿å¾—å®¢æˆ·ç«¯æœ‰ä¸€å®šæ—¶é—´è·å–åˆ°ACKæŠ¥æ–‡ï¼Œä¸€èˆ¬ä¹Ÿæ˜¯2MSL)ï¼Œè¿™å‡ ç§æƒ…å†µå®Œäº‹å„¿ä¹‹åï¼Œä¼šå†å‘ä¸€ä¸ªFINè¡¨ç¤ºæœåŠ¡å™¨ä¸ä¼šå†å‘å®¢æˆ·ç«¯å‘é€æ•°æ®äº†ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°FINæŠ¥æ–‡åå°±å¯ä»¥ç»™æœåŠ¡ç«¯å‘ä¸€ä¸ªå¯ä»¥å…³é—­äº†çš„æ¶ˆæ¯äº†ã€‚</li></ul><h6 id="å››æ¬¡æŒ¥æ‰‹å¯ä¸å¯ä»¥å˜æˆä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ"><a href="#å››æ¬¡æŒ¥æ‰‹å¯ä¸å¯ä»¥å˜æˆä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹å¯ä¸å¯ä»¥å˜æˆä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ"></a>å››æ¬¡æŒ¥æ‰‹å¯ä¸å¯ä»¥å˜æˆä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ</h6><p>å¯ä»¥ï¼ŒæŠ“åŒ…çš„æ—¶å€™ä¼šæœ‰æŠ“åˆ°è¿™ç§ä¸‰æ¬¡æŒ¥æ‰‹åŒ…çš„æƒ…å†µã€‚ä¹Ÿå°±æ˜¯ACKå’ŒFINåˆå¹¶æˆä¸€æ¡ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯ã€‚</p><p>é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šå‡ºç°ä¸‰æ¬¡æŒ¥æ‰‹å‘¢ï¼Ÿ</p><p><strong>æ²¡æœ‰æ•°æ®éœ€è¦å‘é€æˆ–è€…æ­£åœ¨å‘é€äº†+å¼€å¯äº†TCPå»¶è¿Ÿç¡®è®¤æœºåˆ¶ã€‚</strong></p><h6 id="å•¥åˆæ˜¯â€œTCPç¡®è®¤æœºåˆ¶â€œï¼Ÿ"><a href="#å•¥åˆæ˜¯â€œTCPç¡®è®¤æœºåˆ¶â€œï¼Ÿ" class="headerlink" title="å•¥åˆæ˜¯â€œTCPç¡®è®¤æœºåˆ¶â€œï¼Ÿ"></a>å•¥åˆæ˜¯â€œTCPç¡®è®¤æœºåˆ¶â€œï¼Ÿ</h6><p>å½“å‘é€æ²¡æœ‰æºå¸¦æ•°æ®çš„ACKæŠ¥æ–‡çš„æ—¶å€™ï¼Œå®ƒçš„ç½‘ç»œæ•ˆç‡æ˜¯å¾ˆä½çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¡ç”Ÿå‡ºæ¥äº†è¿™ä¸ªç¡®è®¤æœºåˆ¶ã€‚ç­–ç•¥å¦‚ä¸‹â†“</p><ul><li>å½“æœ‰å“åº”æ•°æ®å‘é€çš„æ—¶å€™ï¼ŒACKä¼šå¸¦ç€æ•°æ®éº»æºœå‘é€ç»™å¯¹æ–¹</li><li>å½“æ²¡æœ‰å“åº”æ•°æ®å‘é€çš„æ—¶å€™ï¼ŒACKä¼šå»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼Œç­‰å¾…æ˜¯å¦æœ‰å“åº”æ•°æ®ä¸€èµ·å‘é€ï¼Œå¦‚æœæ²¡æœ‰é‚£è¿˜æ˜¯è¦å‘çš„</li><li>å¦‚æœå»¶è¿Ÿç­‰å¾…å‘é€ACKæœŸé—´ï¼Œç¬¬äºŒä¸ªæ•°æ®æŠ¥æ–‡åˆåˆ°è¾¾äº†ï¼Œé‚£è¿˜æ˜¯èµ¶ç´§å‘è¿‡å»ACKæŠ¥æ–‡å§</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/33f3d2d54a924b0a80f565038327e0e4.png" alt="img" style="zoom:50%;" /><p>æ¯ä¸ªç³»ç»Ÿè¿™ä¸€å—åŸºæœ¬éƒ½æœ‰ä¸€ä¸ªæœ€å°å»¶è¿Ÿæ—¶é—´å’Œæœ€å¤§å»¶è¿Ÿæ—¶é—´ï¼Œå’Œç³»ç»Ÿçš„æ—¶é’Ÿé¢‘ç‡ç›¸å…³ã€‚HZ/25  HZ/5</p><p>å…³é—­TCPå»¶æ—¶ç¡®è®¤æœºåˆ¶ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1 è¡¨ç¤ºå¼€å¯ TCP_QUICKACKï¼Œå³å…³é—­ TCP å»¶è¿Ÿç¡®è®¤æœºåˆ¶</span></span><br><span class="line"><span class="type">int</span> value = <span class="number">1</span>;</span><br><span class="line">setsockopt(socketfd, IPPROTO_TCP, TCP_QUICKACK, (<span class="type">char</span>*)&amp; value, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="comment">// åŒç†ï¼Œå¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­è¯»åˆ°valueå€¼ä¸º0ï¼Œé‚£è¯´æ˜è¿™ä¸ªå»¶è¿Ÿç­–ç•¥æ˜¯å¼€å¯çš„ã€‚</span></span><br></pre></td></tr></table></figure><h6 id="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹æ— ä¼šå‘ç”Ÿå•¥"><a href="#ç¬¬ä¸€æ¬¡æŒ¥æ‰‹æ— ä¼šå‘ç”Ÿå•¥" class="headerlink" title="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹æ— ä¼šå‘ç”Ÿå•¥"></a>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹æ— ä¼šå‘ç”Ÿå•¥</h6><p>å®¢æˆ·ç«¯é‡ä¼ é‡ä¼ é‡ä¼ ï¼Œåˆ°é™äº†ï¼Œå…³äº†ï¼›æœåŠ¡å™¨ä¸€ç›´å¼€ç€ã€‚</p><h6 id="ç¬¬äºŒæ¬¡æ— "><a href="#ç¬¬äºŒæ¬¡æ— " class="headerlink" title="ç¬¬äºŒæ¬¡æ— "></a>ç¬¬äºŒæ¬¡æ— </h6><p>å®¢æˆ·ç«¯é‡ä¼ é‡ä¼ é‡ä¼ ï¼Œåˆ°é™äº†ï¼Œå…³äº†ï¼›æœåŠ¡å™¨ä¸€ç›´<code>CLOSE_WAIT</code>ã€‚</p><h6 id="ç¬¬ä¸‰æ¬¡æ— "><a href="#ç¬¬ä¸‰æ¬¡æ— " class="headerlink" title="ç¬¬ä¸‰æ¬¡æ— "></a>ç¬¬ä¸‰æ¬¡æ— </h6><p>æœåŠ¡ç«¯é‡ä¼ é‡ä¼ é‡ä¼ ï¼Œåˆ°é™(tcp_orpha_retrie)äº†ï¼Œä»<code>LAST_ACK</code>å˜ä¸ºå…³äº†ï¼›</p><p>å®¢æˆ·ç«¯ä¸€ç›´<code>CLOSE_WAIT_2</code>ï¼Œå€˜è‹¥å®¢æˆ·ç«¯è¿™è¾¹ä½¿ç”¨çš„æ˜¯closeå‡½æ•°ï¼Œé‚£ä¹ˆè¿‡ä¸€ä¼šå„¿å…³äº†ï¼Œå¦‚æœæ˜¯shutdownå‡½æ•°ï¼Œé‚£ä¹ˆæ­»ç­‰äº†ã€‚</p><h6 id="ç¬¬å››æ¬¡æ— "><a href="#ç¬¬å››æ¬¡æ— " class="headerlink" title="ç¬¬å››æ¬¡æ— "></a>ç¬¬å››æ¬¡æ— </h6><p>æœåŠ¡å™¨ä»¥ä¸ºæœåŠ¡ç«¯æ²¡æ”¶åˆ°ï¼Œé‡ä¼ é‡ä¼ é‡ä¼ ï¼Œåˆ°é™äº†ï¼Œå…³äº†ï¼›</p><p>å®¢æˆ·ç«¯æ¯æ¬¡æ”¶åˆ°æœåŠ¡å™¨FINéƒ½ä¼šé‡ç½®ä¸€æ¬¡2MSLå®šæ—¶å™¨ç„¶åå›å¤ACKï¼Œæ— å¥ˆACKä¸€ç›´åˆ°ä¸äº†ï¼Œæœ€åæœåŠ¡å™¨å·²ç»å…³äº†ï¼Œé‚£è¿™è¾¹ç­‰ç­‰ä¹Ÿå°±å…³äº†ã€‚</p><h6 id="ä¸ºå•¥TIME-WAITç­‰å¾…æ—¶é—´æ˜¯2MSLï¼Ÿï¼Ÿ"><a href="#ä¸ºå•¥TIME-WAITç­‰å¾…æ—¶é—´æ˜¯2MSLï¼Ÿï¼Ÿ" class="headerlink" title="ä¸ºå•¥TIME_WAITç­‰å¾…æ—¶é—´æ˜¯2MSLï¼Ÿï¼Ÿ"></a>ä¸ºå•¥TIME_WAITç­‰å¾…æ—¶é—´æ˜¯2MSLï¼Ÿï¼Ÿ</h6><p><code>MSL-maximum segment lifetime</code>æŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼Œå®ƒæ˜¯ä»»ä½•æŠ¥æ–‡åœ¨ç½‘ç»œä¸Šå­˜åœ¨çš„æœ€é•¿æ—¶é—´ï¼Œè¶…æ—¶è¿™ä¸ªæŠ¥æ–‡å°±ä¼šè¢«ä¸¢å¼ƒã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥TCPåè®®æ˜¯åŸºäºIPï¼Œåè®®çš„ï¼ŒIPå¤´ä¸­æœ‰TTLå­—æ®µï¼Œè¯¥å­—æ®µæ˜¯IPæ•°æ®æŠ¥å¯ä»¥ç»è¿‡çš„æœ€å¤§è·¯ç”±æ•°ï¼Œè·¯è¿‡ä¸€ä¸ªè·¯ç”±å™¨-1ï¼Œç›´åˆ°0ï¼Œæ•°æ®æŠ¥è¢«ä¸¢å¼ƒï¼ŒåŒæ—¶å‘é€ICMPæŠ¥æ–‡é€šçŸ¥æºä¸»æœºã€‚</p><p>MSL&gt;=TTLæ¶ˆè€—åˆ°0çš„æ—¶é—´</p><p>ä¹‹æ‰€ä»¥2MSLï¼Œæœ‰ä¸€ç§è§£é‡Šæ˜¯æ•°æ®æŠ¥å‘è¿‡å»è¿˜éœ€è¦ç­‰æ¥æ”¶æ–¹è¿”å›æ¥ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡ï¼Œä¸€æ¥ä¸€å›æ‰€ä»¥æ˜¯ä¸¤å€ã€‚</p><h6 id="ä¸ºå•¥æœ‰TIME-WAITè¿™ä¸ªçŠ¶æ€ç¯èŠ‚ï¼Ÿï¼Ÿ"><a href="#ä¸ºå•¥æœ‰TIME-WAITè¿™ä¸ªçŠ¶æ€ç¯èŠ‚ï¼Ÿï¼Ÿ" class="headerlink" title="ä¸ºå•¥æœ‰TIME_WAITè¿™ä¸ªçŠ¶æ€ç¯èŠ‚ï¼Ÿï¼Ÿ"></a>ä¸ºå•¥æœ‰TIME_WAITè¿™ä¸ªçŠ¶æ€ç¯èŠ‚ï¼Ÿï¼Ÿ</h6><ul><li>ä¸»åŠ¨å‘èµ·å…³é—­çš„ä¸€æ–¹æ‰ä¼šæœ‰è¿™ä¸ªçŠ¶æ€</li><li>é˜²æ­¢å†å²è¿æ¥ä¸­çš„æ•°æ®è¢«åé¢ç›¸åŒå››å…ƒç»„çš„è¿æ¥é”™è¯¯æ¥æ”¶</li><li>ä¿è¯è¢«åŠ¨æ¥æ”¶è¿æ¥çš„ä¸€æ–¹èƒ½å¤Ÿæ­£ç¡®å…³é—­</li></ul><h6 id="â†‘è¿‡å¤šä¼šæœ‰å•¥å±å®³ï¼Ÿ"><a href="#â†‘è¿‡å¤šä¼šæœ‰å•¥å±å®³ï¼Ÿ" class="headerlink" title="â†‘è¿‡å¤šä¼šæœ‰å•¥å±å®³ï¼Ÿ"></a>â†‘è¿‡å¤šä¼šæœ‰å•¥å±å®³ï¼Ÿ</h6><ul><li>å®¢æˆ·ç«¯ï¼šå¦‚æœçŠ¶æ€è¿‡å¤šï¼Œå®¢æˆ·ç«¯å æ»¡äº†æ‰€æœ‰çš„ç«¯å£èµ„æºï¼Œé‚£ä¹ˆå°±æ— æ³•å¯¹ç›®çš„IP&amp;PORTç›¸åŒçš„æœåŠ¡ç«¯å‘é€è¿æ¥äº†ã€‚å½“ç„¶è¢«ä½¿ç”¨çš„ç«¯å£è¿˜æ˜¯å¯ä»¥å‘å…¶ä»–ä¸åŒçš„æœåŠ¡ç«¯å‘é€è¿æ¥çš„ã€‚å®¢æˆ·ç«¯çš„ç«¯å£æ˜¯å¯ä»¥å¤ç”¨çš„ã€‚</li><li>æœåŠ¡ç«¯ï¼šç”±äºæœåŠ¡ç«¯åªç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œä¸”ä¸€ä¸ªå››å…ƒç»„å”¯ä¸€ç¡®å®šä¸€ä¸ªTCPè¿æ¥ï¼Œæ‰€ä»¥æœåŠ¡ç«¯å¯ä»¥å»ºç«‹å¾ˆå¤šè¿æ¥ã€‚ä½†æ˜¯çŠ¶æ€è¿‡å¤šï¼ŒTCPè¿æ¥è¿‡å¤šçš„è¯ï¼Œä¼šå ç”¨ç³»ç»Ÿèµ„æºã€‚</li></ul><h6 id="â†‘å¦‚ä½•ä¼˜åŒ–å®ƒï¼Ÿ"><a href="#â†‘å¦‚ä½•ä¼˜åŒ–å®ƒï¼Ÿ" class="headerlink" title="â†‘å¦‚ä½•ä¼˜åŒ–å®ƒï¼Ÿ"></a>â†‘å¦‚ä½•ä¼˜åŒ–å®ƒï¼Ÿ</h6><h6 id="â†‘æœåŠ¡å™¨å¤§é‡å‡ºç°å®ƒçš„åŸå› ï¼Ÿ"><a href="#â†‘æœåŠ¡å™¨å¤§é‡å‡ºç°å®ƒçš„åŸå› ï¼Ÿ" class="headerlink" title="â†‘æœåŠ¡å™¨å¤§é‡å‡ºç°å®ƒçš„åŸå› ï¼Ÿ"></a>â†‘æœåŠ¡å™¨å¤§é‡å‡ºç°å®ƒçš„åŸå› ï¼Ÿ</h6><p>äº†è§£å®ƒéœ€è¦äº†è§£ä½•æ—¶æœåŠ¡å™¨æ‰ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ã€‚</p><ul><li><strong>HTTPæ²¡æœ‰ä½¿ç”¨é•¿è¿æ¥</strong>(ä¸¤æ–¹è¯·æ±‚å¤´å‡æœ‰Connction: Keep-Aliveï¼Œæœ‰ä¸€ä¸ªæ˜¯closeå°±å®Œè›‹)ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦å»ºç«‹TCP-è¯·æ±‚èµ„æº-å“åº”èµ„æº-é‡Šæ”¾è¿æ¥ã€‚é‚£ä¹ˆåœ¨é¢‘ç¹å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ä¸­ï¼Œå°±ä¼šæœ‰TIME_WAITã€‚</li><li><strong>HTTPé•¿è¿æ¥è¶…æ—¶</strong>(é•¿è¿æ¥æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ä¸€æ–¹æå‡ºæ–­å¼€ï¼Œé‚£ä¹ˆè¿æ¥ä¸€ç›´å­˜åœ¨)ï¼ŒæœåŠ¡ç«¯é€šå¸¸ç»™é•¿è¿æ¥è®¾ç½®<code>keepalive_timeout</code>å‚æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è¿æ¥ä¸­å¤„ç†å¥½ä¸€æ¬¡è¯·æ±‚åï¼Œè‹¥è¿™æ®µæ—¶é—´å†…æ²¡æœ‰å†æ¬¡å‘èµ·æ–°è¯·æ±‚ï¼Œé‚£ä¹ˆå‡ºå‘å›è°ƒå‡½æ•°æ¥å…³é—­è¿æ¥ï¼Œè¿™æ—¶å€™æœåŠ¡ç«¯å°±ä¼šå‡ºç°è¿™ä¸ªçŠ¶æ€ã€‚</li><li><strong>HTTPé•¿è¿æ¥çš„è¯·æ±‚æ•°é‡è¾¾åˆ°ä¸Šé™</strong>ï¼ŒæœåŠ¡ç«¯é€šå¸¸ç»™ä¸€æ¡HTTPé•¿è¿æ¥è®¾ç½®ä¸€ä¸ªæœ€å¤§èƒ½å¤„ç†è¯·æ±‚çš„æ•°é‡<code>keepalive_requests</code>ï¼Œå½“æ•°é‡è¾¾åˆ°æ—¶ï¼Œä¼šä¸»åŠ¨å…³é—­è¿æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯ä¹Ÿä¼šå‡ºç°è¿™ä¸ªçŠ¶æ€ã€‚</li></ul><h6 id="æœåŠ¡å™¨å¤§é‡å‡ºç°CLOSE-WAITçŠ¶æ€åŸå› ï¼Ÿ"><a href="#æœåŠ¡å™¨å¤§é‡å‡ºç°CLOSE-WAITçŠ¶æ€åŸå› ï¼Ÿ" class="headerlink" title="æœåŠ¡å™¨å¤§é‡å‡ºç°CLOSE_WAITçŠ¶æ€åŸå› ï¼Ÿ"></a>æœåŠ¡å™¨å¤§é‡å‡ºç°CLOSE_WAITçŠ¶æ€åŸå› ï¼Ÿ</h6><ul><li>è¢«åŠ¨å…³é—­æ–¹æ‰ä¼šæœ‰çš„çŠ¶æ€ã€‚å¦‚æœè¢«åŠ¨æ–¹æ²¡æœ‰è°ƒç”¨closeå‡½æ•°å…³é—­è¿æ¥ï¼Œé‚£ä¹ˆå°†æ— æ³•FINæŠ¥æ–‡å‘å‡ºï¼Œé‚£ä¹ˆå°±ä¸ä¼šå˜ä¸ºLAST_ACKçŠ¶æ€ã€‚åè¿‡æ¥ï¼Œå¦‚æœæœåŠ¡å™¨å‡ºç°å¤§é‡è¯¥çŠ¶æ€ï¼Œè¯´æ˜æœåŠ¡å™¨æ²¡æœ‰è°ƒç”¨closeå‡½æ•°å…³é—­è¿æ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æä»€ä¹ˆæƒ…å†µä¸ä¼šè°ƒç”¨closeå‡½æ•°â†“</li><li>å…·ä½“åŸå› å‚ç…§æœåŠ¡ç«¯TCPæµç¨‹</li></ul><h6 id="å¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ä½†æ˜¯å®¢æˆ·ç«¯çªç„¶æ•…éšœå’‹åŠï¼Ÿ"><a href="#å¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ä½†æ˜¯å®¢æˆ·ç«¯çªç„¶æ•…éšœå’‹åŠï¼Ÿ" class="headerlink" title="å¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ä½†æ˜¯å®¢æˆ·ç«¯çªç„¶æ•…éšœå’‹åŠï¼Ÿ"></a>å¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ä½†æ˜¯å®¢æˆ·ç«¯çªç„¶æ•…éšœå’‹åŠï¼Ÿ</h6><p>å¦‚æœè¿æ¥æˆåŠŸäº†ï¼Œå®¢æˆ·ç«¯çªç„¶å› ä¸ºä¸€äº›åŸå› æ•…éšœäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™è¦æ˜¯æœåŠ¡ç«¯ä¸€ç›´ä¸å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨æ˜¯æ— æ³•æ„ŸçŸ¥å®¢æˆ·ç«¯æ•…éšœçš„ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒTCPå»ºç«‹äº†ä¸€ç§ä¿æ´»æœºåˆ¶â†“</p><p>å®šä¹‰ä¸€ä¸ªæ—¶é—´æ®µï¼Œåœ¨è¯¥æ—¶é—´æ®µå†…ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•è¿æ¥ç›¸å…³çš„æ´»åŠ¨ï¼Œé‚£ä¹ˆä¿æ´»æœºåˆ¶å¼€å§‹ä½œç”¨ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å‘é€ä¸€ä¸ªæ¢æµ‹æŠ¥æ–‡(æ•°æ®é‡å¾ˆå°‘)ï¼Œå¦‚æœè¿ç»­å‡ ä¸ªæ¢æµ‹æŠ¥æ–‡éƒ½æ²¡æœ‰å¾—åˆ°å›åº”ï¼Œé‚£ä¹ˆåˆ¤å®šå½“å‰TCPè¿æ¥æ­»äº¡ï¼Œç³»ç»Ÿå†…æ ¸å‘ä¸Šå±‚åº”ç”¨ç¨‹åºå‘é€é”™è¯¯é€šçŸ¥ä¿¡æ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¿æ´»æ—¶é—´net.<span class="property">ipv4</span>.<span class="property">tcp_keepalive_time</span></span><br><span class="line">ä¿æ´»æ¢æµ‹æ¬¡æ•°...intvl</span><br><span class="line">ä¿æ´»æ¢æµ‹æ—¶é—´é—´éš”...probes</span><br></pre></td></tr></table></figure><p>å¼€å¯ä¿æ´»æœºåˆ¶æ— éä¸‰ç§æƒ…å†µï¼š</p><ul><li>å¯¹ç«¯æ­£å¸¸ï¼Œæ¢æµ‹æŠ¥æ–‡èƒ½è¢«æ­£å¸¸å“åº”ï¼Œæ­¤æ—¶TCPä¿æ´»æ—¶é—´ä¼šè¢«é‡ç½®</li><li>å¯¹ç«¯å®•æœºç„¶åé‡å¯äº†ï¼Œèµ¶ä¸Šäº†æ¢æµ‹æŠ¥æ–‡çš„å‘é€ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™å¯¹ç«¯æ˜¯æ²¡æœ‰ä»€ä¹ˆè¿æ¥ä¿¡æ¯çš„ï¼Œæ‰€ä»¥ç»™æœåŠ¡ç«¯è¿”å›äº†RSTæŠ¥æ–‡ã€‚æ­¤æ—¶TCPè¿æ¥è¢«å‘ç°é‡ç½®</li><li>å¯¹ç«¯å®•æœºäº†ï¼ŒTCPä¿æ´»æ¢æµ‹ä¿¡æ¯æ— æ³•æŠµè¾¾ï¼Œæ²¡æœ‰ä»»ä½•å“åº”ï¼Œé‚£ä¹ˆè¾¾åˆ°æœ€å¤§ä¿æ´»æ¢æµ‹æ¬¡æ•°åï¼Œç¡®è®¤TCPè¿æ¥æ­»äº¡ï¼Œå¹¶ä¸ŠæŠ¥ã€‚</li></ul><p>çœŸçš„å¥½å¼ºï¼Œå¥½å¤šçŸ¥è¯†ç‚¹å•Šï¼ç”±äºä¿æ´»æ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥åœ¨åº”ç”¨å±‚è‡ªè¡Œå®ç°ä¸€ä¸ªå¿ƒè·³æœºåˆ¶ã€‚ä¸€èˆ¬æœåŠ¡å™¨è½¯ä»¶éƒ½ä¼šæä¾›keepalive_timeoutå‚æ•°æ¥ç¡®å®šHTTPé•¿è¿æ¥æ—¶é—´ï¼Œæ—¶é—´ä¸€è¶…ï¼Œå°±å¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨æ—¶é—´ä¸€åˆ°ï¼Œç›´æ¥è§¦å‘å›è°ƒæ¥é‡Šæ”¾è¿æ¥ã€‚</p><h6 id="â†‘æœåŠ¡å™¨çªç„¶æ•…éšœå’‹åŠï¼Ÿ"><a href="#â†‘æœåŠ¡å™¨çªç„¶æ•…éšœå’‹åŠï¼Ÿ" class="headerlink" title="â†‘æœåŠ¡å™¨çªç„¶æ•…éšœå’‹åŠï¼Ÿ"></a>â†‘æœåŠ¡å™¨çªç„¶æ•…éšœå’‹åŠï¼Ÿ</h6><p>ä¹‹å‰æœ‰æåˆ°è¿‡ï¼Œæ— è®ºæœåŠ¡å™¨æ­£å¸¸æ–­å¼€è¿æ¥è¿˜æ˜¯éæ­£å¸¸æ–­å¼€è¿æ¥ï¼Œéƒ½ä¸ä¼šå½±å“å†…æ ¸å‘é€FINæŒ¥æ‰‹ä»¥åŠåç»­æŒ¥æ‰‹è¿‡ç¨‹çš„æ­£å¸¸è¿›è¡Œã€‚</p><h3 id="è§£ææ¸²æŸ“-æµè§ˆå™¨æ¸²æŸ“"><a href="#è§£ææ¸²æŸ“-æµè§ˆå™¨æ¸²æŸ“" class="headerlink" title="è§£ææ¸²æŸ“-æµè§ˆå™¨æ¸²æŸ“"></a>è§£ææ¸²æŸ“-æµè§ˆå™¨æ¸²æŸ“</h3><p>å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è§£æHTMLå†…å®¹å¹¶æ¸²æŸ“å‡ºæ¥ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°æ•°æ®åŒ…åçš„è§£ææµç¨‹ä¸ºï¼š</p><ul><li>  æ„å»ºDOMæ ‘ï¼šè¯æ³•åˆ†æç„¶åè§£ææˆDOMæ ‘ï¼ˆdom treeï¼‰ï¼Œæ˜¯ç”±domå…ƒç´ åŠå±æ€§èŠ‚ç‚¹ç»„æˆï¼Œæ ‘çš„æ ¹æ˜¯documentå¯¹è±¡</li><li>  æ„å»ºCSSè§„åˆ™æ ‘ï¼šç”ŸæˆCSSè§„åˆ™æ ‘ï¼ˆCSS Rule Treeï¼‰</li><li>  æ„å»ºrenderæ ‘ï¼šWebæµè§ˆå™¨å°†DOMå’ŒCSSOMç»“åˆï¼Œå¹¶æ„å»ºå‡ºæ¸²æŸ“æ ‘ï¼ˆrender treeï¼‰</li><li>  å¸ƒå±€ï¼ˆLayoutï¼‰ï¼šè®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®</li><li>  ç»˜åˆ¶ï¼ˆPaintingï¼‰ï¼šå³éå†renderæ ‘ï¼Œå¹¶ä½¿ç”¨UIåç«¯å±‚ç»˜åˆ¶æ¯ä¸ªèŠ‚ç‚¹ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a90660027f0d4c559732519bad4c6323~tplv-k3u1fbpfcp-zoom-1.image" alt="æµè§ˆå™¨æ¸²æŸ“æµç¨‹å›¾"></p><h4 id="CRF"><a href="#CRF" class="headerlink" title="CRF"></a>CRF</h4><p>å…³é”®æ¸²æŸ“è·¯å¾„CRF(Critical Rendering Path)ï¼ŒæŒ‡æµè§ˆå™¨æ¸²æŸ“ç½‘é¡µæ—¶æ‰€æ‰§è¡Œçš„ä¸€ç³»åˆ—å…³é”®æ­¥éª¤ã€‚åŒ…æ‹¬æœåŠ¡å™¨è¯·æ±‚å“åº”ã€åŠ è½½ã€æ‰§è¡Œè„šæœ¬ã€æ¸²æŸ“ã€å¸ƒå±€ã€ç»˜åˆ¶æ¯ä¸ªåƒç´ åˆ°æ˜¾ç¤ºå±ç­‰ã€‚ï¼ˆæµè§ˆå™¨éƒ¨åˆ†æ€§èƒ½ä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è¿™äº›æ–¹é¢ä¼˜åŒ–ï¼‰</p><h4 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h4><p>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚å®ƒæ˜¯å¢é‡çš„ï¼ŒåŒ…å«é¡µé¢æ‰€æœ‰å…ƒç´ ã€‚HTMLæ–‡ä»¶å“åº”å˜æˆä»¤ç‰Œtokenï¼Œä»¤ç‰Œç¼–ç¨‹èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹ç¼–ç¨‹DOMæ ‘ã€‚</p><p>å•ä¸ªèŠ‚ç‚¹ä»startTagä»¤ç‰Œå¼€å§‹åˆ°endTagä»¤ç‰Œç»“æŸï¼ŒèŠ‚ç‚¹åŒ…å«HTMLå…ƒç´ çš„æ‰€æœ‰ä¿¡æ¯ã€‚èŠ‚ç‚¹æ ¹æ®ä»¤ç‰Œå±‚æ¬¡ç»“æ„è¿æ¥åˆ°DOMæ ‘ä¸­ã€‚èŠ‚ç‚¹æ•°è¶Šå¤šï¼Œå…³é”®è·¯å¾„åç»­äº‹ä»¶çš„èŠ±è´¹å°±è¶Šé•¿ã€‚</p><h4 id="CSSOM"><a href="#CSSOM" class="headerlink" title="CSSOM"></a>CSSOM</h4><p>æ ·å¼å¯¹è±¡æ¨¡å‹ã€‚å®ƒä¸æ˜¯å¢é‡çš„ï¼Œå®ƒæ˜¯çº§è”çš„ï¼ŒåŒ…å«é¡µé¢æ‰€æœ‰æ ·å¼ã€‚è§£æCSSè¿‡ç¨‹ä¸­æ ¹æ®æ ·å¼è§„åˆ™å’Œé€‰æ‹©å™¨ï¼Œå°†å¯¹åº”çš„æ ·å¼å±æ€§æ·»åŠ åˆ°CSSOMä¸­ã€‚</p><p>CSSOMä½¿å¾—JSå¯ä»¥é€šè¿‡DOMæ¥å£æ¥ä¿®æ”¹é¡µé¢æ ·å¼ã€‚CSSæ˜¯æ¸²æŸ“é˜»å¡çš„ï¼Œæµè§ˆå™¨ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ç›´åˆ°æ¥æ”¶æ‰§è¡Œäº†æ‰€æœ‰CSSå®ŒæˆCSSOMæ‰ä¼šæ¸²æŸ“å†…å®¹ã€‚CSSä¹‹æ‰€ä»¥æ˜¯é˜»å¡æ¸²æŸ“çš„æ˜¯å› ä¸ºè§„åˆ™å¯ä»¥è¢«è¦†ç›–ã€‚CSSOMéšç€CSSè§£æé€æ¸æ„å»ºï¼Œç›´åˆ°å®Œæˆéƒ½ä¸èƒ½è¢«ç”¨æ¥æ„å»ºæ¸²æŸ“æ ‘ï¼Œå› ä¸ºæ ·å¼å°†ä¼šè¢«ä¹‹åçš„è§£ææ‰€è¦†ç›–ï¼Œè€Œä¸æ˜¯æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚æ¢å¥è¯ï¼ŒCSSOMæ²¡æœ‰æ„å»ºå®Œæˆï¼ŒRenderTreeä¸ä¼šå¼€å§‹æ„å»ºã€‚</p><h4 id="RenderTree"><a href="#RenderTree" class="headerlink" title="RenderTree"></a>RenderTree</h4><p>æ¸²æŸ“æ ‘ã€‚æµè§ˆå™¨ä»DOMæ ¹èŠ‚ç‚¹å¼€å§‹æ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹ï¼Œå†³å®šå“ªäº›CSSè§„åˆ™è¢«æ·»åŠ ï¼Œæœ€åå½¢æˆä¸€ä¸ªDOMå’ŒCSSOMçš„ç»“åˆä½“ã€‚</p><p>æ¸²æŸ“æ ‘åªåŒ…å«å¯è§å†…å®¹ï¼Œä¾‹å¦‚å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ çš„display: noneï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ ä»¥åŠå…¶åä»£å‡ä¸ä¼šå‡ºç°åœ¨æ¸²æŸ“æ ‘ä¸­ã€‚</p><h4 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h4><p>é¡µé¢å¸ƒå±€ã€‚å¸ƒå±€å†³å®šäº†å¦‚ä½•åœ¨é¡µé¢ä¸­æ”¾ç½®å…ƒç´ ï¼Œä»¥åŠè¿™äº›å…ƒç´ çš„å®½é«˜å’Œå…ƒç´ é—´çš„ç›¸å…³æ€§ã€‚</p><p>å¸ƒå±€å–å†³äºå±å¹•å°ºå¯¸ï¼Œå¸ƒå±€æ€§èƒ½å—DOMå½±å“ï¼ŒèŠ‚ç‚¹è¶Šå¤šï¼Œå¸ƒå±€èŠ±è´¹æ—¶é—´æ›´é•¿ã€‚å› æ­¤ï¼Œä¸ºäº†è€Œå‡å°‘å¸ƒå±€äº‹ä»¶çš„é¢‘ç‡å’Œæ—¶é•¿ï¼Œåº”å°½é‡é¿å…æ”¹åŠ¨ç›’æ¨¡å‹ï¼Œæˆ–è€…æ‰¹é‡æ›´æ–°ã€‚</p><h4 id="ç»˜åˆ¶"><a href="#ç»˜åˆ¶" class="headerlink" title="ç»˜åˆ¶"></a>ç»˜åˆ¶</h4><p>ä¸€æ—¦å¸ƒå±€å®Œæˆï¼Œåƒç´ å°±å¯ä»¥è¢«ç»˜åˆ¶åœ¨å±å¹•ä¸Šã€‚è‹¥æœ‰æ”¹åŠ¨å°†è¿›è¡Œé‡ç»˜ç­‰æ“ä½œã€‚</p><p>æµè§ˆå™¨è¢«ä¼˜åŒ–ä¸ºåªé‡ç»˜éœ€è¦é‡ç»˜çš„æœ€å°åŒºåŸŸã€‚è®¡ç®—å¸ƒå±€+é‡ç»˜è¿™ä¸¤ä¸ªæ˜¯ç»˜åˆ¶ç¯èŠ‚ä¼˜åŒ–çš„é‡è¦æ–¹é¢ï¼Œè€Œä¸æ˜¯å…³æ³¨æ ·å¼å±æ€§çš„å¢åŠ å’Œç§»é™¤ã€‚å› ä¸ºå‰è€…è®¡ç®—å¸ƒå±€å¹¶ç»˜åˆ¶èŠ±è´¹æ—¶é—´æ¯”å•çº¯ç§»é™¤ä¸€ä¸ªæ ·å¼å±æ€§èŠ±è´¹æ—¶é—´è¦æ›´åŠ æ˜æ˜¾ã€‚è¿›è¡Œæ€§èƒ½ä¼˜åŒ–çš„æ—¶å€™è¦å…ˆæµ‹é‡ç¡®å®šå¸ƒå±€é‡ç»˜çš„æ—¶é—´å¼€é”€ï¼Œç¡®å®šå¥½æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ã€‚</p><h3 id="æ‹“å±•ï¼šCRFä¼˜åŒ–"><a href="#æ‹“å±•ï¼šCRFä¼˜åŒ–" class="headerlink" title="æ‹“å±•ï¼šCRFä¼˜åŒ–"></a>æ‹“å±•ï¼šCRFä¼˜åŒ–</h3><ul><li>å¼‚æ­¥ã€å»¶è¿ŸåŠ è½½ã€æ¶ˆé™¤éå…³é”®èµ„æºçš„è¯·æ±‚æ•°é‡</li><li>ä¼˜åŒ–å¿…é¡»çš„è¯·æ±‚æ•°é‡å’Œæ¯ä¸ªè¯·æ±‚æ–‡ä»¶çš„ä½“ç§¯</li><li>åŒºåˆ†å…³é”®èµ„æºçš„ä¼˜å…ˆçº§æ¥ä¼˜åŒ–è¢«åŠ è½½èµ„æºçš„é¡ºåºï¼Œç¼©çŸ­å…³é”®è·¯å¾„çš„é•¿åº¦</li></ul><h3 id="å›é¡¾ï¼šCSSæ ¹æ®ä»€ä¹ˆæ ·çš„è§„åˆ™ç”Ÿæˆ"><a href="#å›é¡¾ï¼šCSSæ ¹æ®ä»€ä¹ˆæ ·çš„è§„åˆ™ç”Ÿæˆ" class="headerlink" title="å›é¡¾ï¼šCSSæ ¹æ®ä»€ä¹ˆæ ·çš„è§„åˆ™ç”Ÿæˆ"></a>å›é¡¾ï¼šCSSæ ¹æ®ä»€ä¹ˆæ ·çš„è§„åˆ™ç”Ÿæˆ</h3><ul><li>è§„åˆ™é›†RuleSetï¼šç”±é€‰æ‹©å™¨å’Œä¸€ç»„æ ·å¼ç»„æˆ</li><li>æ ·å¼è§„åˆ™çš„ç»„ç»‡ï¼šCSSOMæ ·å¼è§„åˆ™ç±»ä¼¼æ ‘çŠ¶ç»“æ„ï¼Œæ ¹èŠ‚ç‚¹æ˜¯æ–‡æ¡£æ ¹èŠ‚ç‚¹ï¼Œå…¶ä»–è§„åˆ™é›†æˆä¸ºå„å­èŠ‚ç‚¹</li><li>åµŒå¥—è§„åˆ™ï¼šä¸€ä¸ªè§„åˆ™é›†åŒ…å«å¦ä¸€ä¸ªè§„åˆ™é›†</li><li>æ ·å¼å±æ€§ï¼šæœ‰äº›æ ·å¼æ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼Œæœ‰äº›ä¸èƒ½è¢«ç»§æ‰¿</li><li>é€‰æ‹©å™¨æƒé‡ï¼šæƒé‡è¶Šé«˜ä¼˜å…ˆçº§è¶Šé«˜ï¼Œç›¸åŒæƒé‡çœ‹åä¸€ä¸ª<ul><li>!important</li><li>1000  å†…è”æ ·å¼ï¼šåœ¨å…ƒç´ çš„styleä¸­å®šä¹‰</li><li>0100  IDé€‰æ‹©å™¨ï¼šé€šè¿‡å…ƒç´ idå±æ€§å®šä¹‰</li><li>0010  ç±»é€‰æ‹©å™¨/å±æ€§é€‰æ‹©å™¨/ä¼ªç±»é€‰æ‹©å™¨ï¼šclass/[type=1]/:hover</li><li>0001  å…ƒç´ é€‰æ‹©å™¨/ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼šp,div/::before,::after</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: white&quot;</span>&gt;</span>å•Šå•Šå•Šå•Šå•Š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">!important&gt;å†…è”æ ·å¼&gt;idé€‰æ‹©å™¨&gt;ç±»é€‰æ‹©å™¨&gt;å…ƒç´ é€‰æ‹©å™¨</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background-color</span>:blue <span class="meta">!important</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726162808919.png" alt="image-20230726162808919"></p><h2 id="JSå¼•æ“è§£æè¿‡ç¨‹"><a href="#JSå¼•æ“è§£æè¿‡ç¨‹" class="headerlink" title="JSå¼•æ“è§£æè¿‡ç¨‹"></a>JSå¼•æ“è§£æè¿‡ç¨‹</h2><p>è°ƒç”¨JSå¼•æ“æ‰§è¡ŒJSä»£ç ï¼ˆJSçš„è§£é‡Šé˜¶æ®µï¼Œé¢„å¤„ç†é˜¶æ®µï¼Œæ‰§è¡Œé˜¶æ®µç”Ÿæˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒVOï¼Œä½œç”¨åŸŸé“¾ã€å›æ”¶æœºåˆ¶ç­‰ç­‰ï¼‰</p><ul><li>  åˆ›å»ºwindowå¯¹è±¡ï¼šå…¨å±€æ‰§è¡Œç¯å¢ƒåœ¨é¡µé¢äº§ç”Ÿæ—¶å°±è¢«åˆ›å»ºï¼Œæ‰€æœ‰çš„å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½å±äºwindowçš„å±æ€§å’Œæ–¹æ³•ï¼Œè€ŒDOM Treeä¹Ÿä¼šæ˜ å°„åœ¨windowçš„doucmentå¯¹è±¡ä¸Šã€‚å½“å…³é—­ç½‘é¡µæˆ–è€…å…³é—­æµè§ˆå™¨æ—¶ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒä¼šè¢«é”€æ¯ã€‚</li><li>  åŠ è½½æ–‡ä»¶ï¼šå®Œæˆjså¼•æ“åˆ†æå®ƒçš„è¯­æ³•ä¸è¯æ³•æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•è¿›å…¥é¢„ç¼–è¯‘</li><li>  é¢„ç¼–è¯‘ï¼šåœ¨é¢„ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šå¯»æ‰¾å…¨å±€å˜é‡å£°æ˜ï¼ŒæŠŠå®ƒä½œä¸ºwindowçš„å±æ€§åŠ å…¥åˆ°windowå¯¹è±¡ä¸­ï¼Œå¹¶ç»™å˜é‡èµ‹å€¼ä¸ºâ€™undefinedâ€™ï¼›å¯»æ‰¾å…¨å±€å‡½æ•°å£°æ˜ï¼ŒæŠŠå®ƒä½œä¸ºwindowçš„æ–¹æ³•åŠ å…¥åˆ°windowå¯¹è±¡ä¸­ï¼Œå¹¶å°†å‡½æ•°ä½“èµ‹å€¼ç»™ä»–ï¼ˆåŒ¿åå‡½æ•°æ˜¯ä¸å‚ä¸é¢„ç¼–è¯‘çš„ï¼Œå› ä¸ºå®ƒæ˜¯å˜é‡ï¼‰ã€‚è€Œå˜é‡æå‡ä½œä¸ºä¸åˆç†çš„åœ°æ–¹åœ¨ES6ä¸­å·²ç»è§£å†³äº†ï¼Œå‡½æ•°æå‡è¿˜å­˜åœ¨ã€‚</li><li>  è§£é‡Šæ‰§è¡Œï¼šæ‰§è¡Œåˆ°å˜é‡å°±èµ‹å€¼ï¼Œå¦‚æœå˜é‡æ²¡æœ‰è¢«å®šä¹‰ï¼Œä¹Ÿå°±æ²¡æœ‰è¢«é¢„ç¼–è¯‘ç›´æ¥èµ‹å€¼ï¼Œåœ¨ES5éä¸¥æ ¼æ¨¡å¼ä¸‹è¿™ä¸ªå˜é‡ä¼šæˆä¸ºwindowçš„ä¸€ä¸ªå±æ€§ï¼Œä¹Ÿå°±æ˜¯æˆä¸ºå…¨å±€å˜é‡ã€‚stringã€intè¿™æ ·çš„å€¼å°±æ˜¯ç›´æ¥æŠŠå€¼æ”¾åœ¨å˜é‡çš„å­˜å‚¨ç©ºé—´é‡Œï¼Œobjectå¯¹è±¡å°±æ˜¯æŠŠæŒ‡é’ˆæŒ‡å‘å˜é‡çš„å­˜å‚¨ç©ºé—´ã€‚å‡½æ•°æ‰§è¡Œï¼Œå°±å°†å‡½æ•°çš„ç¯å¢ƒæ¨å…¥ä¸€ä¸ªç¯å¢ƒçš„æ ˆä¸­ï¼Œæ‰§è¡Œå®Œæˆåå†å¼¹å‡ºï¼Œæ§åˆ¶æƒäº¤è¿˜ç»™ä¹‹å‰çš„ç¯å¢ƒã€‚JSä½œç”¨åŸŸå…¶å®å°±æ˜¯è¿™æ ·çš„æ‰§è¡Œæµæœºåˆ¶å®ç°çš„ã€‚</li></ul><h2 id="âœ…æµè§ˆå™¨ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜"><a href="#âœ…æµè§ˆå™¨ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜" class="headerlink" title="âœ…æµè§ˆå™¨ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜"></a>âœ…æµè§ˆå™¨ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜</h2><h4 id="ç¼“å­˜æœºåˆ¶"><a href="#ç¼“å­˜æœºåˆ¶" class="headerlink" title="ç¼“å­˜æœºåˆ¶"></a>ç¼“å­˜æœºåˆ¶</h4><p><strong>æ˜¯ä»€ä¹ˆ</strong></p><p>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶æ˜¯æµè§ˆå™¨åœ¨è®¿é—®ç½‘é¡µæ—¶ï¼Œ<strong>å°†ä¸€äº›æ•°æ®ä¿å­˜è‡³æœ¬åœ°çš„ä¸€ç§æŠ€æœ¯</strong>ã€‚</p><p><strong>ä¸ºä»€ä¹ˆ</strong></p><p>æˆ‘ä»¬éƒ½çŸ¥é“æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ˜¯åŸºäºä¸¤è€…å»ºç«‹è¿æ¥çš„ã€‚ä¸¤è€…å»ºç«‹è¿æ¥é€šå¸¸ä¼šè€—è´¹ä¸€å®šæ—¶é—´ã€‚å¾ˆå¤šå“åº”æ˜¯éœ€è¦æµè§ˆå™¨ä¸æœåŠ¡å™¨å¤šæ¬¡å¾€è¿”é€šä¿¡æ‰èƒ½å½¢æˆä¸€ä¸ªå®Œæ•´çš„å“åº”ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å¾ˆæœ‰å¯èƒ½ä¼šå¢åŠ è®¿é—®æœåŠ¡å™¨çš„èµ„æºæˆæœ¬ã€‚å› æ­¤æµè§ˆå™¨åˆ©ç”¨ç¼“å­˜æœºåˆ¶ï¼Œè®©æµè§ˆå™¨å¯ä»¥<strong>é‡ç”¨ä¸€äº›å“åº”æ•°æ®ï¼Œä»è€Œå‡å°‘å¤šæ¬¡äº¤äº’å¸¦æ¥çš„èµ„æºå ç”¨</strong>ã€‚</p><p><strong>å…·ä½“è§£é‡Š</strong></p><p>æµè§ˆå™¨ç¼“å­˜çš„ä¸»è¦æ­¥éª¤ï¼š</p><ul><li>åœ¨æµè§ˆå™¨å‘å‡ºè¯·æ±‚å‰ï¼Œä¼šå…ˆå»åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­æŸ¥çœ‹æ˜¯å¦æœ‰å¯¹åº”çš„ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¦‚æœæœ‰ï¼Œå¾ˆå¥½ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚</li><li>æœåŠ¡å™¨å°†ç›¸åº”ç»“æœå’Œç¼“å­˜æ ‡è¯†è¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ ¹æ®å“åº”å¤´ä¸­çš„ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦å°†ç»“æœå’Œæ ‡è¯†å­˜å…¥ç¼“å­˜ã€‚</li></ul><p>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶åˆ†ä¸ºå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œä¸¤è€…ç›¸äº’é…åˆå®Œæˆä»»åŠ¡ï¼š</p><ul><li><p><strong>å¼ºåˆ¶ç¼“å­˜</strong>ï¼šæµè§ˆå™¨å‘æµè§ˆå™¨ç¼“å­˜ä¸­æŸ¥è¯¢è¯·æ±‚ç»“æœï¼Œå¹¶æ ¹æ®ç¼“å­˜è§„åˆ™å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœã€‚</p><p>æ§åˆ¶å¼ºåˆ¶ç¼“å­˜çš„å­—æ®µï¼šCache-Control &gt; Expires(åºŸå¼ƒ)</p><p><code>Cache-Control: max-age=100,s-maxage=200,public</code></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230802163623701.png" alt="image-20230802163623701"></p><ul><li>ä¸å­˜åœ¨ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼šå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‘å‡ºè¯·æ±‚</li><li>å­˜åœ¨ä½†ç¼“å­˜ç»“æœå¤±æ•ˆï¼šå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œä½¿ç”¨åå•†ç¼“å­˜</li><li>å­˜åœ¨ä¸”æœ‰æ•ˆï¼šå¼ºåˆ¶ç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›ç»“æœ</li></ul></li><li><p><strong>åå•†ç¼“å­˜</strong>ï¼šæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€æºå¸¦ç¼“å­˜æ ‡è¯†çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ã€‚</p><p>æ§åˆ¶åå•†ç¼“å­˜çš„å­—æ®µï¼šEtag / If-None-Match &gt; Last-Modified / If-Modified-Since </p><p>a. åœ¨æœåŠ¡å™¨ç«¯è¯»å‡ºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼Œå°†è¯»å‡ºçš„ä¿®æ”¹æ—¶é—´èµ‹ç»™lastmodifiedï¼Œcachecontrolè®¾ç½®nocacheã€‚æ¬¡è®¿é—®æ—¶ï¼Œä¼šæœ‰ifmodifiedsinceï¼Œå€¼ä¸ºæ¬¡ä¿®æ”¹æ—¶æœåŠ¡å™¨ç»™å®ƒçš„æ—¶é—´ã€‚</p><p>b. Etagæ¯”è¾ƒæ–‡ä»¶æŒ‡çº¹ã€‚é¦–æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°†è¯»å–ç›®æ ‡æ–‡ä»¶è®¡ç®—å‡ºçš„æ–‡ä»¶æŒ‡çº¹æ”¾å“åº”å¤´etagå­—æ®µã€‚äºŒæ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯è¯»å–Etagï¼Œèµ‹ç»™ifnonematchå­—æ®µï¼Œè®©ä¸Šæ¬¡æ–‡ä»¶æŒ‡çº¹è·Ÿéšè¯·æ±‚ä¸€èµ·å»åˆ°æœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯æ‹¿åˆ°idnonematchå­—æ®µåå†æ¬¡è¯»å–ç›®æ ‡èµ„æºå¹¶ç”Ÿæˆæ–‡ä»¶æŒ‡çº¹ï¼Œä¿©æŒ‡çº¹åšå¯¹æ¯”ï¼Œå¦‚æœå®Œå…¨ä¸€è‡´ï¼Œè¿”å›304ï¼Œå¦‚æœä¸åŒï¼Œè¿”å›æ–°çš„Etagã€‚</p><p>c. ç¬¬äºŒç§æ–¹å¼ä¼˜ç‚¹()ç¼ºç‚¹(è®¡ç®—å¼€é”€ã€æœåŠ¡å™¨æ€§èƒ½ã€å¼±éªŒæ€§-æå–æ–‡ä»¶éƒ¨åˆ†å±æ€§ç”Ÿæˆå“ˆå¸Œå€¼-å¿«ä½†å‡†ç¡®ç‡ä¸é«˜-é™ä½åå•†ç¼“å­˜æœ‰æ•ˆæ€§)</p><ul><li>åå•†ç¼“å­˜ç”Ÿæ•ˆï¼šè¿”å›304</li><li>åå•†ç¼“å­˜å¤±æ•ˆï¼šè¿”å›200+è¯·æ±‚ç»“æœ</li></ul></li></ul><h4 id="å“ªäº›æ˜¯å¼ºç¼“å­˜å“ªäº›æ˜¯åå•†ç¼“å­˜"><a href="#å“ªäº›æ˜¯å¼ºç¼“å­˜å“ªäº›æ˜¯åå•†ç¼“å­˜" class="headerlink" title="å“ªäº›æ˜¯å¼ºç¼“å­˜å“ªäº›æ˜¯åå•†ç¼“å­˜"></a>å“ªäº›æ˜¯å¼ºç¼“å­˜å“ªäº›æ˜¯åå•†ç¼“å­˜</h4><p>æ‰€æœ‰å¸¦304çš„èµ„æºéƒ½æ˜¯åå•†ç¼“å­˜ï¼Œæ‰€æœ‰æ ‡æ³¨ï¼ˆä»å†…å­˜è¯»å–/ä»ç£ç›˜è¯»å–ï¼‰çš„èµ„æºéƒ½æ˜¯å¼ºç¼“å­˜ã€‚</p><h2 id="âœ…å‰ç«¯å¦‚ä½•å®ç°ç¼“å­˜èµ„æº"><a href="#âœ…å‰ç«¯å¦‚ä½•å®ç°ç¼“å­˜èµ„æº" class="headerlink" title="âœ…å‰ç«¯å¦‚ä½•å®ç°ç¼“å­˜èµ„æº"></a>âœ…å‰ç«¯å¦‚ä½•å®ç°ç¼“å­˜èµ„æº</h2><p>å‰ç«¯ä¹‹æ‰€ä»¥ç¼“å­˜æ˜¯ä¸ºäº†å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œä¼ è¾“ï¼ŒåŠ é€Ÿé¡µé¢åŠ è½½ï¼Œå‡å°‘æœåŠ¡å™¨è´Ÿè½½ã€‚</p><p>å‰ç«¯ç¼“å­˜ä¸»è¦åˆ†ä¸ºæµè§ˆå™¨ç¼“å­˜å’Œhttpç¼“å­˜ã€‚</p><h4 id="1-httpç¼“å­˜"><a href="#1-httpç¼“å­˜" class="headerlink" title="1.httpç¼“å­˜"></a>1.httpç¼“å­˜</h4><p>httpç¼“å­˜æ˜¯webå‰ç«¯ç¼“å­˜çš„æ ¸å¿ƒã€‚â†‘</p><h4 id="2-æµè§ˆå™¨ç¼“å­˜"><a href="#2-æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="2.æµè§ˆå™¨ç¼“å­˜"></a>2.æµè§ˆå™¨ç¼“å­˜</h4><table><thead><tr><th>æ¯”è¾ƒ</th><th>Cookie</th><th>localstorage</th><th>sessionstorage</th><th>Indexed_db</th></tr></thead><tbody><tr><td>å®šä¹‰</td><td>ä¸€ç§å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å°å‹æ–‡æœ¬æ–‡ä»¶ã€‚</td><td>H5æä¾›çš„ä¸€ç§åœ¨æµè§ˆå™¨ç«¯æœ¬åœ°å­˜å‚¨æ•°æ®çš„æœºåˆ¶ã€‚</td><td>H5æä¾›çš„ä¸€ç§åœ¨æµè§ˆå™¨ç«¯å­˜å‚¨ä¼šè¯æ•°æ®çš„æœºåˆ¶ã€‚</td><td>æµè§ˆå™¨æä¾›çš„JSAPIï¼Œç”¨äºåœ¨æµè§ˆå™¨å­˜å‚¨å’ŒæŸ¥è¯¢ç»“æ„åŒ–çš„æ•°æ®ã€‚å¼‚æ­¥ã€å¯¹è±¡å­˜å‚¨ã€å¦¥å¦¥çš„æ•°æ®åº“</td></tr><tr><td>å­˜å‚¨ä½ç½®</td><td>document.cookie(æµè§ˆå™¨çš„cookieæ–‡ä»¶å¤¹)</td><td>localStorage</td><td>sessionStorage</td><td>indexedDB.open()<br />db.createObjectStore()<br />add()æˆ– put()<br />get()æˆ– getAll()<br />close()</td></tr><tr><td>å¤§å°</td><td>4KB</td><td>&gt;=5MB</td><td>&gt;=5MB</td><td>å¤§å¾—å¤š</td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>é»˜è®¤ä¼šè¯ï¼Œå¯è®¾ç½®</td><td>æ°¸ä¹…ï¼Œé™¤éæ‰‹åŠ¨æ¸…é™¤æˆ–è¿‡æœŸ</td><td>ä¼šè¯</td><td>æ°¸ä¹…ï¼Œé™¤éæ“ä½œåˆ é™¤</td></tr><tr><td>åœºæ™¯</td><td>èº«ä»½éªŒè¯å’Œä¼šè¯ç®¡ç†ã€ç”¨æˆ·åå¥½ã€è·Ÿè¸ªç”¨æˆ·è¡Œä¸º</td><td>ç”¨æˆ·é¦–é€‰é¡¹ã€ä¼šè¯çŠ¶æ€ã€æœ¬åœ°ç¼“å­˜ã€åº”ç”¨ç¨‹åºé…ç½®ã€è®¡æ•°å™¨å’Œæ ‡è®°</td><td>è¡¨å•æ•°æ®ä¸´æ—¶å­˜å‚¨ã€ä¼šè¯çŠ¶æ€ã€ä¸´æ—¶ç¼“å­˜</td><td>å¤§é‡ç»“æ„åŒ–æ•°æ®ã€ç¦»çº¿åº”ç”¨ã€å¤æ‚çš„æ•°æ®æŸ¥è¯¢ã€æ•°æ®ç´¢å¼•ã€æ—¥å¿—è®°å½•</td></tr></tbody></table><h5 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h5><p>å°‘é‡ç¼“å­˜ã€‚å®ƒç”±æœåŠ¡å™¨åœ¨httpå“åº”ä¸­è®¾ç½®ï¼Œä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚åŒä¸€ä¸ªæœåŠ¡å™¨çš„æ—¶å€™ï¼Œå°†Cookieå‘é€å›æœåŠ¡å™¨ã€‚</p><p>åœ¨PaperTODOä¸­æˆ‘ä»¬æœ‰ç”¨åˆ°NextAuthï¼Œå…¶ä¸­ç”¨æˆ·ç™»å½•åæ‹¿åˆ°çš„tokenå°±æ˜¯å­˜åœ¨cookieä¸­çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®ä¸€ä¸ª Cookie</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=John Doe; expires=Thu, 02 Aug 2023 12:00:00 UTC; path=/&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–ä¸€ä¸ª Cookie</span></span><br><span class="line"><span class="keyword">const</span> cookieValue = <span class="variable language_">document</span>.<span class="property">cookie</span>;</span><br></pre></td></tr></table></figure><h5 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h5><p>ä¸€ç§æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆã€‚å°‘é‡ç¼“å­˜</p><p>å°†ä¸€äº›æ•°æ®å­˜å‚¨åˆ°æœ¬åœ°å­˜å‚¨ä¸­ï¼Œç›¸å½“äºåœ¨æœ¬åœ°ç¼“å­˜äº†ä¸€äº›æ•°æ®ï¼Œä½¿å¾—åœ¨ä¸‹ä¸€æ¬¡æ‰“å¼€ç½‘é¡µæ—¶çš„å¿«é€Ÿè®¿é—®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value) <span class="comment">// +</span></span><br><span class="line"><span class="keyword">let</span> cachedVal = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key) <span class="comment">// æŸ¥è¯¢</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(key) <span class="comment">// -</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>() <span class="comment">// ---</span></span><br></pre></td></tr></table></figure><h5 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h5><p>ä¸€ç§æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆã€‚å°‘é‡ç¼“å­˜</p><p>å°†ä¸€äº›æ•°æ®å­˜å‚¨åˆ°ä¼šè¯å­˜å‚¨ä¸­ï¼Œç›¸å½“äºåœ¨ä¼šè¯èŒƒå›´å†…å­˜å‚¨ä¸€äº›æ•°æ®ï¼Œæ–¹ä¾¿åœ¨ä¼šè¯å†…å¿«é€Ÿè®¿é—®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">setItem</span>(key, value)</span><br><span class="line"><span class="keyword">let</span> cachedVal = sessionStorage.<span class="title function_">getItem</span>(key)</span><br><span class="line">sessionStorage.<span class="title function_">removeItem</span>(key)</span><br><span class="line">sessionStorage.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure><h4 id="3-ServiceWorker"><a href="#3-ServiceWorker" class="headerlink" title="3.ServiceWorker"></a>3.ServiceWorker</h4><p>æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æµè§ˆå™¨ç‰¹æ€§ï¼Œç”¨äºå®ç°ä¸€ç§æµè§ˆå™¨å’Œç½‘ç»œä»£ç†ä¹‹é—´çš„ä»£ç†å±‚ã€‚å®ƒå…è®¸å¼€å‘è€…æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œä»è€Œå®ç°ç¦»çº¿ç¼“å­˜ã€æ¨é€é€šçŸ¥ã€æ‹¦æˆªè¯·æ±‚å¹¶è¿”å›è‡ªå®šä¹‰å“åº”çš„åŠŸèƒ½ã€‚</p><p>ç‰¹ç‚¹</p><ul><li>å®ƒæ˜¯ä¸€ä¸ªJSçº¿ç¨‹ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨åå°ï¼Œç‹¬ç«‹äºé¡µé¢</li><li>å……å½“ç½‘ç»œä»£ç†ï¼Œå¯ä»¥æ‹¦æˆªå’Œæ§åˆ¶è¯·æ±‚å’Œå“åº”</li><li>åªåœ¨HTTPSç½‘ç«™ä¸Šå·¥ä½œï¼Œé¿å…æ¶æ„æ³¨å…¥å’Œæ‹¦æˆªæ•æ„Ÿæ•°æ®</li><li>ç¦»çº¿ç¼“å­˜ã€æ•°æ®é¢„å–ã€æ¶ˆæ¯æ¨é€</li></ul><p>åœºæ™¯</p><ul><li>ç¦»çº¿ç¼“å­˜</li><li>æ•°æ®é¢„å–/é¢„åŠ è½½</li><li>å“åº”æ‹¦æˆªå’Œä¿®æ”¹</li><li>æ¨é€é€šçŸ¥</li></ul><p>æµè§ˆå™¨åå°è„šæœ¬ï¼Œå¯ä»¥æ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶è¿›è¡Œç¼“å­˜ç®¡ç†ï¼Œé€šè¿‡ä½¿ç”¨å®ƒï¼Œå¯ä»¥å®ç°æ›´åŠ çµæ´»çš„ç¼“å­˜ç­–ç•¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨Service Workerè„šæœ¬ä¸­å®ç°ç¼“å­˜</span></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(</span><br><span class="line">    caches.<span class="title function_">match</span>(event.<span class="property">request</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœç¼“å­˜ä¸­æœ‰åŒ¹é…çš„èµ„æºï¼Œç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœ</span></span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å¦åˆ™å‘èµ·ç½‘ç»œè¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚ç»“æœç¼“å­˜åˆ°æœ¬åœ°</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">fetch</span>(event.<span class="property">request</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> caches.<span class="title function_">open</span>(<span class="string">&#x27;my-cache&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">          cache.<span class="title function_">put</span>(event.<span class="property">request</span>, response.<span class="title function_">clone</span>());</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="âœ…ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Œå“ªäº›æƒ…å†µä¼šé€ æˆ-å¦‚ä½•æŸ¥çœ‹æ³„éœ²æƒ…å†µï¼Ÿ"><a href="#âœ…ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Œå“ªäº›æƒ…å†µä¼šé€ æˆ-å¦‚ä½•æŸ¥çœ‹æ³„éœ²æƒ…å†µï¼Ÿ" class="headerlink" title="âœ…ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Œå“ªäº›æƒ…å†µä¼šé€ æˆ/å¦‚ä½•æŸ¥çœ‹æ³„éœ²æƒ…å†µï¼Ÿ"></a>âœ…ä»€ä¹ˆæ˜¯å†…å­˜æ³„éœ²ï¼Œå“ªäº›æƒ…å†µä¼šé€ æˆ/å¦‚ä½•æŸ¥çœ‹æ³„éœ²æƒ…å†µï¼Ÿ</h2><p>å†…å­˜æ³„éœ²æŒ‡ç¨‹åºä¸­å†…å­˜èµ„æºè¢«æ— æ³•è®¿é—®çš„å¯¹è±¡å ç”¨ï¼Œå¯¼è‡´è¿™äº›å†…å­˜èµ„æºä¸èƒ½è¢«åƒåœ¾å›æ”¶ï¼Œæœ€ç»ˆå¯¼è‡´ç¨‹åºå ç”¨çš„å†…å­˜ä¸æ–­å¢åŠ ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºæ€§èƒ½ä¸‹é™å´©æºƒã€‚</p><p>å†…å­˜æ³„æ¼å¾€å¾€ç”±ç¨‹åºä¸­ä¸€äº›é”™è¯¯å’Œä¸è‰¯ç¼–ç¨‹å®è·µå¯¼è‡´ã€‚</p><ul><li>æœªé‡Šæ”¾å¯¹è±¡å¼•ç”¨</li><li>æœªå…³é—­èµ„æº</li><li>äº‹ä»¶ç›‘å¬å™¨æœªç§»é™¤</li><li>å¤§é‡ç¼“å­˜æ•°æ®</li><li>å¾ªç¯æ•°æ®ç»“æ„</li></ul><p>æŸ¥çœ‹æ³„éœ²æƒ…å†µï¼ˆè¯´å®è¯æˆ‘ä¸å¤§ä¼šè¿™ä¸ªï¼‰ã€‚</p><ul><li>æµè§ˆå™¨å¼€å‘è€…å·¥å…·</li><li>å†…å­˜åˆ†æå·¥å…·</li><li>ä»£ç å®¡æŸ¥</li><li>ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·</li></ul><h2 id="âœ…JSåƒåœ¾å›æ”¶-Garbage-collection-æœºåˆ¶"><a href="#âœ…JSåƒåœ¾å›æ”¶-Garbage-collection-æœºåˆ¶" class="headerlink" title="âœ…JSåƒåœ¾å›æ”¶(Garbage collection)æœºåˆ¶"></a>âœ…JSåƒåœ¾å›æ”¶(Garbage collection)æœºåˆ¶</h2><p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼ŒæŸ¥æ‰¾åˆ é™¤ä¸€äº›ä¸è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡å¤„ç†è¿‡ç¨‹ã€‚</p><ol><li><p>é¡¹ç›®ä¸­ï¼Œå¦‚æœå­˜åœ¨å¤§é‡ä¸è¢«é‡Šæ”¾çš„å†…å­˜ï¼ˆå †/æ ˆ/ä¸Šä¸‹æ–‡ï¼‰ï¼Œé¡µé¢æ€§èƒ½ä¼šå˜å¾—å¾ˆæ…¢ã€‚å½“æŸäº›ä»£ç æ“ä½œä¸èƒ½è¢«åˆç†é‡Šæ”¾ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚æˆ‘ä»¬å°½å¯èƒ½å‡å°‘ä½¿ç”¨é—­åŒ…ï¼Œå› ä¸ºå®ƒä¼šæ¶ˆè€—å†…å­˜ã€‚</p></li><li><p>æµè§ˆå™¨åƒåœ¾å›æ”¶æœºåˆ¶/å†…å­˜å›æ”¶æœºåˆ¶:</p><blockquote><p>æµè§ˆå™¨çš„<code>Javascript</code>å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶(<code>GC:Garbage Collecation</code>)ï¼Œåƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜ã€‚</p></blockquote><p><strong>æ ‡è®°æ¸…é™¤</strong>:åœ¨<code>js</code>ä¸­ï¼Œæœ€å¸¸ç”¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æ ‡è®°æ¸…é™¤ï¼šå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œè¢«æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œä¼šè¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚åƒåœ¾å›æ”¶å™¨ä¼šé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p><p><strong>è°·æ­Œæµè§ˆå™¨</strong>ï¼šâ€œæŸ¥æ‰¾å¼•ç”¨â€ï¼Œæµè§ˆå™¨ä¸å®šæ—¶å»æŸ¥æ‰¾å½“å‰å†…å­˜çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«å ç”¨äº†ï¼Œæµè§ˆå™¨ä¼šå›æ”¶å®ƒï¼›å¦‚æœè¢«å ç”¨ï¼Œå°±ä¸èƒ½å›æ”¶ã€‚</p><p><strong>IEæµè§ˆå™¨</strong>ï¼šâ€œå¼•ç”¨è®¡æ•°æ³•â€ï¼Œå½“å‰å†…å­˜è¢«å ç”¨ä¸€æ¬¡ï¼Œè®¡æ•°ç´¯åŠ 1æ¬¡ï¼Œç§»é™¤å ç”¨å°±å‡1ï¼Œå‡åˆ°0æ—¶ï¼Œæµè§ˆå™¨å°±å›æ”¶å®ƒã€‚</p></li><li><p>ä¼˜åŒ–æ‰‹æ®µï¼š</p><ul><li><p>å†…å­˜ä¼˜åŒ–ï¼Œé¿å…è¿‡å¤šå…¨å±€å˜é‡ ï¼›</p></li><li><p>æ‰‹åŠ¨é‡Šæ”¾å¼•ç”¨ï¼Œç”¨ä¸åˆ°çš„æ‰‹åŠ¨è®¾ç½®ä¸ºnullç­‰ï¼›</p></li><li><p>åˆç†ä½¿ç”¨é—­åŒ…ï¼Œå°‘ä¸€ç‚¹é—­åŒ…ï¼Œå¤šä¸€ç‚¹å†…é‡Šæ”¾ï¼›</p></li><li><p>é¿å…å¾ªç¯å¼•ç”¨ï¼Œå¾ªç¯å¼•ç”¨æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œè¿™å¯¼è‡´æ— æ³•è¢«è®¿é—®ï¼Œæ— æ³•è¢«åƒåœ¾å›æ”¶ï¼›</p></li><li><p>ä½¿ç”¨å¯¹è±¡æ± ï¼Œé¢„å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯ä»¥è¢«å¤ç”¨ï¼Œåœ¨éœ€è¦åˆ›å»ºå¤§é‡ä¸´æ—¶å¯¹è±¡æ—¶å¯å‡å°‘å›æ”¶è´Ÿæ‹…ï¼›</p></li><li><p>æ€§èƒ½ä¼˜åŒ–å¾ªç¯ï¼Œé¿å…åœ¨å¤§å‹å¾ªç¯ä¸­åˆ›å»ºæ–°å¯¹è±¡ï¼Œå°½é‡è¿˜æ˜¯å¤ç”¨å¯¹è±¡ï¼Œå‡å°‘å†…å­˜åˆ†é…å’Œåƒåœ¾å›æ”¶æ¬¡æ•°ï¼›</p></li><li><p>ä½¿ç”¨RAFï¼Œä»£æ›¿å»¶æ—¶å™¨å®šæ—¶å™¨ï¼Œæ›´å¥½ä¿ƒè¿›æµè§ˆå™¨æ¸²æŸ“å¼•æ“çš„ååŒå·¥ä½œï¼Œä½¿å¾—åŠ¨ç”»æ›´åŠ ä¸æ»‘ï¼›</p></li><li><p>ä½¿ç”¨ç°ä»£JSç‰¹æ€§ï¼Œå°½é‡ä½¿ç”¨ä¼˜åŒ–è¿­ä»£åçš„æ–°ç‰¹æ€§ï¼Œè€Œä¸æ˜¯var/eval/withè¿™ç±»ï¼›</p></li><li><p>ä½¿ç”¨WebWorkerï¼Œå°†å¤§å‹è®¡ç®—ç­‰ä»»åŠ¡ä»ä¸»çº¿ç¨‹ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå‡å°‘ä¸»çº¿ç¨‹åƒåœ¾å›æ”¶å¯¹æ€§èƒ½çš„å½±å“ï¼›</p></li><li><p>ç›‘æ§å’Œä¼˜åŒ–å†…å­˜åº”ç”¨ï¼Œä½¿ç”¨F12å†…å­˜å·¥å…·ç›‘æ§é¡µé¢å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¹¶è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ï¼ŒåŠæ—¶ä¼˜åŒ–ã€‚</p></li></ul></li><li><p>å¸¸è§çš„å†…å­˜æ³„æ¼</p><ul><li>ä¸»è¦ï¼šå…¨å±€å˜é‡ã€é—­åŒ…ã€å®šæ—¶å™¨ã€DOMå…ƒç´ çš„å¼•ç”¨</li><li>å…¶ä»–ï¼šæœªè§£é™¤äº‹ä»¶ç›‘å¬ã€å¾ªç¯å¼•ç”¨ã€æœªé‡Šæ”¾çš„èµ„æº(è¯·æ±‚ç­‰)ã€ä½¿ç”¨ç¼“å­˜ä¸å½“ã€å¤§å¯¹è±¡çš„åå¤é‡ç”¨</li></ul></li></ol><h2 id="âœ…æµè§ˆå™¨å­˜å‚¨"><a href="#âœ…æµè§ˆå™¨å­˜å‚¨" class="headerlink" title="âœ…æµè§ˆå™¨å­˜å‚¨"></a>âœ…æµè§ˆå™¨å­˜å‚¨</h2><p>WebStorageã€Cookieã€indexedDB</p><p>å…·ä½“è§ä¸Šæ–¹æµè§ˆå™¨ç¼“å­˜ã€‚</p><h2 id="âœ…å­˜å‚¨-cookieçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#âœ…å­˜å‚¨-cookieçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="âœ…å­˜å‚¨ cookieçš„ç”Ÿå‘½å‘¨æœŸ"></a>âœ…å­˜å‚¨ cookieçš„ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><p>æœåŠ¡å™¨é€šè¿‡HTTPå“åº”å¤´â†“å°†ä¸€ä¸ªæ–°çš„Cookieå‘é€ç»™å®¢æˆ·ç«¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>-<span class="title class_">Cookie</span>: username=<span class="title class_">JohnDoe</span>; expires=<span class="title class_">Wed</span>, <span class="number">02</span> <span class="title class_">Aug</span> <span class="number">2023</span> <span class="number">12</span>:<span class="number">00</span>:<span class="number">00</span> <span class="variable constant_">UTC</span>; path=/</span><br></pre></td></tr></table></figure><h3 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h3><p>æµè§ˆå™¨æ”¶åˆ°cookieåå°†å…¶å­˜å…¥ç‰¹å®šçš„æ–‡ä»¶å¤¹ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cookie = <span class="variable language_">document</span>.<span class="property">cookie</span></span><br></pre></td></tr></table></figure><h3 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h3><p>å½“å®¢æˆ·ç«¯å‘åŒä¸€ä¸ªæœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šæ£€æŸ¥è¯¥æœåŠ¡å™¨çš„cookieï¼Œå¹¶å°†åŒ¹é…çš„cookieæ·»åŠ åˆ°HTTPæŠ¥æ–‡å¤´ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥é€šè¿‡è¯»å–è¯·æ±‚çš„cookieæ¥è·å–å®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&#x27;....&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">WriteCookie</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">   now.<span class="title function_">setMonth</span>( now.<span class="title function_">getMonth</span>() - <span class="number">1</span> );</span><br><span class="line">   cookievalue = <span class="built_in">escape</span>(<span class="variable language_">document</span>.<span class="property">myform</span>.<span class="property">customer</span>.<span class="property">value</span>) + <span class="string">&quot;;&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;name=&quot;</span> + cookievalue;</span><br><span class="line">   <span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;expires=&quot;</span> + now.<span class="title function_">toUTCString</span>() + <span class="string">&quot;;&quot;</span></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;Setting Cookies : &quot;</span> + <span class="string">&quot;name=&quot;</span> + cookievalue );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿‡æœŸ"><a href="#è¿‡æœŸ" class="headerlink" title="è¿‡æœŸ"></a>è¿‡æœŸ</h3><p>è®¾ç½®è¿‡æœŸæ—¶é—´çš„cookieä¼šåœ¨è¿‡æœŸæ—¶é—´åè¿‡æœŸï¼Œè¿‡æœŸæ—¶é—´é€šè¿‡max-age/expires(åºŸå¼ƒ)è®¾ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>-<span class="title class_">Cookie</span>: username=<span class="title class_">JohnDoe</span>; max-age=<span class="number">3600</span>; path=/</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><p>è¿‡æœŸæ—¶é—´åˆ°è¾¾æˆ–è€…é€šè¿‡è®¾ç½®è¿‡æœŸæ—¶é—´ä¸ºè¿‡å»çš„æ—¶é—´ï¼Œå¯ä»¥ä½¿å¾—cookieè¢«åˆ é™¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="âœ…cookieå®‰å…¨"><a href="#âœ…cookieå®‰å…¨" class="headerlink" title="âœ…cookieå®‰å…¨"></a>âœ…cookieå®‰å…¨</h2><ul><li>cookieå¯èƒ½è¢«ç¦ç”¨</li><li>cookieæ˜¯ä¸æµè§ˆå™¨ç›¸å…³çš„ï¼Œä¸åŒæµè§ˆå™¨å­˜å‚¨çš„cookieæ˜¯ä¸åŒçš„</li><li>cookieå¯èƒ½è¢«åˆ é™¤</li><li>cookieå®‰å…¨æ€§ä¸å¤Ÿé«˜ï¼Œæ‰€æœ‰cookieéƒ½æ˜¯ä»¥çº¯æ–‡æœ¬çš„å½¢å¼è®°å½•åœ¨æ–‡ä»¶ä¸­çš„ï¼Œå› æ­¤è¦é€‚æ—¶è¿›è¡Œä¿¡æ¯åŠ å¯†</li></ul><h2 id="âœ…cookie-æœ‰å“ªäº›å±æ€§å­—æ®µå‘¢"><a href="#âœ…cookie-æœ‰å“ªäº›å±æ€§å­—æ®µå‘¢" class="headerlink" title="âœ…cookie æœ‰å“ªäº›å±æ€§å­—æ®µå‘¢"></a>âœ…cookie æœ‰å“ªäº›å±æ€§å­—æ®µå‘¢</h2><p><code>name=value;</code>é”®å€¼å¯¹ï¼šæ¯ä¸ªç½‘é¡µæœ€å¤šä¸€ä¸ªcookieï¼Œæ¯ä¸ªcookieæœ€å¤š20ä¸ªé”®å€¼å¯¹ï¼Œvalueé•¿åº¦ä¸èƒ½è¶…è¿‡4Kã€‚</p><p><code>domain=http://qvq.com;</code>DomainåŸŸåï¼šé»˜è®¤æƒ…å†µä¸‹ç”¨æˆ·è®¿é—®ç½‘é¡µçš„åŸŸåä¼šå­˜æ”¾åœ¨cookieï¼Œå¦‚æœè®¾ç½®è¯¥å€¼ï¼Œä»£è¡¨åŸŸåä¸Šæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¯ä»¥è®¿é—®è¯¥cookieï¼Œé€šå¸¸ä¸èƒ½è¿™æ ·æã€‚</p><p><code>path=/login;</code>ç›®å½•è·¯å¾„ï¼šæŒ‡å®šå“ªä¸ªç›®å½•çš„ç½‘é¡µå¯ä»¥è®¿é—®cookieã€‚</p><p><code>expires=date.toGMTString();</code>å­˜æ´»æ—¶é—´ï¼šé»˜è®¤æƒ…å†µä¸‹ç”¨æˆ·å…³é—­æµè§ˆå™¨cookieè‡ªåŠ¨æ¸…é™¤ï¼Œè‹¥é…ç½®è¯¥å€¼ï¼Œè®¾ç½®GMTæ ¼å¼æ—¶é—´ï¼Œcookieå°†åœ¨æ—¶é—´åˆ°æœŸåè¿‡æœŸã€‚</p><p><code>secure=true/false;</code>httpså‘é€cookieï¼štrueå¿…é¡»é€šè¿‡httpså‘é€cookieã€‚</p><h2 id="âœ…æ€ä¹ˆä¸è®©å‰ç«¯å»ä¿®æ”¹cookieï¼Ÿ"><a href="#âœ…æ€ä¹ˆä¸è®©å‰ç«¯å»ä¿®æ”¹cookieï¼Ÿ" class="headerlink" title="âœ…æ€ä¹ˆä¸è®©å‰ç«¯å»ä¿®æ”¹cookieï¼Ÿ"></a>âœ…æ€ä¹ˆä¸è®©å‰ç«¯å»ä¿®æ”¹cookieï¼Ÿ</h2><ul><li>http-onlyï¼š<code>http-only=true;</code> é™åˆ¶cookieä»…é€šè¿‡http/httpsè¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œæ— æ³•é€šè¿‡JS<code>document.cookie</code>è®¿é—®ï¼Œé˜²æ­¢å¤§éƒ¨åˆ†çš„XSS</li><li>same-site ï¼š<code>same-site=strict/lax;</code>é™åˆ¶cookieä»…åœ¨åŒä¸€ç«™ç‚¹çš„è¯·æ±‚ä¸­å‘é€ï¼Œé˜²æ­¢è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ æ”»å‡»CSRF</li><li>secure ï¼š<code>secure=true;</code>ä½¿å¾—åªèƒ½é€šè¿‡httpsä¼ è¾“ï¼Œé˜²æ­¢åœ¨éåŠ å¯†è¿æ¥ä¸Šçªƒå–cookie</li><li>å¯¹cookieå€¼è¿›è¡Œç­¾åï¼šè®¾ç½®cookieæ—¶å°†cookieå€¼ä¸æœåŠ¡å™¨ç”Ÿæˆçš„ç­¾åè¿›è¡Œç»“åˆï¼Œå¹¶å­˜å‚¨åœ¨cookieä¸­ï¼ŒæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°cookieçš„æ—¶å€™å…ˆéªŒè¯ç­¾åçš„æœ‰æ•ˆæ€§ï¼Œé˜²æ­¢cookieä¼ªé€ </li></ul><h2 id="âœ…åŒæºç­–ç•¥"><a href="#âœ…åŒæºç­–ç•¥" class="headerlink" title="âœ…åŒæºç­–ç•¥"></a>âœ…åŒæºç­–ç•¥</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>â€œåŒæºâ€æŒ‡çš„æ˜¯==åè®®ã€ä¸»æœºã€ç«¯å£==ç›¸åŒçš„æ–‡æ¡£æºã€‚ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œå°±ä¸æ˜¯åŒæºã€‚</p><p>åŒæºç­–ç•¥é™åˆ¶ä¸åŒæºä¹‹é—´çš„èµ„æºäº¤äº’ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯éš”ç¦»å¼€æ½œåœ¨æ¶æ„æ–‡ä»¶ï¼Œä»è€Œæå‡èµ„æºäº¤äº’çš„å®‰å…¨æ€§ã€‚</p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>é¡µé¢ä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½ç»§æ‰¿å…¶æ‰€å±æ–‡æ¡£æºã€‚</p><h3 id="æ–‡ä»¶æº"><a href="#æ–‡ä»¶æº" class="headerlink" title="æ–‡ä»¶æº"></a>æ–‡ä»¶æº</h3><p>ä½¿ç”¨<code>file:///</code>åè®®åŠ è½½çš„æ–‡ä»¶è¢«è§†ä¸ºä¸é€æ˜æ¥æºï¼Œå³ å°†æœ¬åœ°æ–‡ä»¶è§†ä¸ºæ¥è‡ªä¸€ä¸ªç‰¹æ®Šä¸å®‰å…¨çš„æ–‡ä»¶æºã€‚</p><p>å¤„äºå®‰å…¨è€ƒè™‘ï¼Œè‹¥ä¸€ä¸ªæ–‡ä»¶åŒ…æ‹¬æ¥è‡ªåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„å…¶ä»–æ–‡ä»¶ï¼Œä¸¤è€…è¢«è®¤ä¸ºä¸æ¥è‡ªåŒä¸€ä¸ªæºï¼ŒCORSé”™è¯¯ã€‚</p><p>æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜å¯ä»¥åœ¨æœ¬åœ°å¼€ä¸€ä¸ªæœåŠ¡å™¨ï¼Œä½¿ç”¨<a href="http://localhoostç­‰è‡ªå®šä¹‰åŸŸåè¿›è¡Œæ–‡ä»¶åŠ è½½,é¿å…corsé—®é¢˜./">http://localhoostç­‰è‡ªå®šä¹‰åŸŸåè¿›è¡Œæ–‡ä»¶åŠ è½½ï¼Œé¿å…CORSé—®é¢˜ã€‚</a></p><h3 id="æ›´æ”¹"><a href="#æ›´æ”¹" class="headerlink" title="æ›´æ”¹"></a>æ›´æ”¹</h3><p>åœ¨é™å®šæ¡ä»¶ä¸‹ï¼Œé¡µé¢å¯ä»¥ä¿®æ”¹æºâ†“</p><h3 id="è·¨åŸŸæ•°æ®å­˜å‚¨å’Œè®¿é—®"><a href="#è·¨åŸŸæ•°æ®å­˜å‚¨å’Œè®¿é—®" class="headerlink" title="è·¨åŸŸæ•°æ®å­˜å‚¨å’Œè®¿é—®"></a>è·¨åŸŸæ•°æ®å­˜å‚¨å’Œè®¿é—®</h3><p>æ¯ä¸€ä¸ªæºéƒ½æœ‰è‡ªå·±å•ç‹¬çš„å­˜å‚¨ç©ºé—´ã€‚WebStorageå’ŒIndexedDBéƒ½æ˜¯ä»¥æºåˆ’åˆ†å­˜å‚¨çš„ã€‚</p><p>Cookieä½¿ç”¨ä¸åŒçš„æºå®šä¹‰æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸æ¯”èµ·cookieå—åŒæºç­–ç•¥é™åˆ¶çš„ã€‚</p><h2 id="âœ…æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ"><a href="#âœ…æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ" class="headerlink" title="âœ…æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ"></a>âœ…æ€ä¹ˆè§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ</h2><h3 id="CORSè·¨åŸŸå…±äº«-ä¼˜å…ˆ-ä¸»è¦æ–¹æ¡ˆ-åŒå‘-æ ‡å‡†"><a href="#CORSè·¨åŸŸå…±äº«-ä¼˜å…ˆ-ä¸»è¦æ–¹æ¡ˆ-åŒå‘-æ ‡å‡†" class="headerlink" title="CORSè·¨åŸŸå…±äº«-ä¼˜å…ˆ-ä¸»è¦æ–¹æ¡ˆ-åŒå‘-æ ‡å‡†"></a>CORSè·¨åŸŸå…±äº«-ä¼˜å…ˆ-ä¸»è¦æ–¹æ¡ˆ-åŒå‘-æ ‡å‡†</h3><p>é€šè¿‡æœåŠ¡å™¨è®¾ç½®å“åº”å¤´éƒ¨ä¸­CORSè§„åˆ™ï¼Œå…è®¸å…¶ä»–åŸŸåçš„ç½‘é¡µè®¿é—®è¯¥æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼ŒåŒ…æ‹¬cookieï¼ˆè®¾ç½®ä¸€ä¸ªç™½åå•ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Origin</span>: <span class="attr">https</span>:<span class="comment">//www.example.com</span></span><br><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Methods</span>: <span class="variable constant_">GET</span>, <span class="variable constant_">POST</span>, <span class="variable constant_">PUT</span>, <span class="variable constant_">DELETE</span></span><br><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Headers</span>: <span class="title class_">Content</span>-<span class="title class_">Type</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…è®¸æ‰€æœ‰æ¥æºçš„è·¨åŸŸè¯·æ±‚</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type&#x27;</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è¿™é‡Œå¤„ç†ä½ çš„è·¯ç”±å’Œé€»è¾‘...</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Server started on port 3000&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p>è¯¥æ–¹æ³•æ˜¯å°†ä»£ç†æœåŠ¡å™¨ä½œä¸ºæµè§ˆå™¨å’Œç›®æ ‡æœåŠ¡å™¨çš„ä¸­é—´å±‚ï¼Œå……å½“ä¸€ä¸ªè½¬å‘è¯·æ±‚çš„è§’è‰²ã€‚</p><p>vueè„šæ‰‹æ¶ã€viteæ¡†æ¶éƒ½ä¼šæä¾›ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥æ ¹æ®æƒ…å†µè¿›è¡Œé…ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://api.example.com&#x27;</span>, <span class="comment">// ç›®æ ‡æœåŠ¡å™¨çš„URL</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// è®¾ç½®ä¸ºtrueï¼Œä»¥ä¾¿æ­£ç¡®å¤„ç†è·¨åŸŸè¯·æ±‚</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// å°†/apiè·¯å¾„é‡å†™ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä»¥ä¾¿æ­£ç¡®åŒ¹é…ç›®æ ‡æœåŠ¡å™¨çš„è¯·æ±‚</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my-react-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://api.example.com&quot;</span> <span class="comment">// è®¾ç½®ä»£ç†æœåŠ¡å™¨çš„ç›®æ ‡URL</span></span><br><span class="line">  <span class="comment">// å…¶ä»–é…ç½®é¡¹...</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="postMessage-å®‰å…¨-ä¸åŒçª—å£-åŠ éªŒè¯"><a href="#postMessage-å®‰å…¨-ä¸åŒçª—å£-åŠ éªŒè¯" class="headerlink" title="postMessage-å®‰å…¨-ä¸åŒçª—å£-åŠ éªŒè¯"></a>postMessage-å®‰å…¨-ä¸åŒçª—å£-åŠ éªŒè¯</h3><p>åœ¨ä¸åŒçª—å£æˆ–iframeä¹‹é—´ï¼Œä½¿ç”¨å“ªä¸ªè¯¥APIè¿›è¡Œè·¨åŸŸé€šä¿¡ã€‚è¯¥æ–¹å¼å…è®¸çª—å£é—´ä»¥å®‰å…¨çš„æ–¹å¼ä¼ é€’æ•°æ®ï¼Œè·¨æºæ•°æ®å­˜å‚¨ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>http://example.com<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Parent Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;sendMessage()&quot;</span>&gt;</span>Send Message to Iframe<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> targetDomain = <span class="string">&#x27;http://subdomain.example.com&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> iframeWindow = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myIframe&#x27;</span>).<span class="property">contentWindow</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = <span class="string">&#x27;Hello from Parent Page!&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            iframeWindow.<span class="title function_">postMessage</span>(message, targetDomain);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;myIframe&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://subdomain.example.com/iframe.html&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>http://subdomain.example.com/iframe.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Iframe Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ç›‘å¬messageäº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, receiveMessage, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">receiveMessage</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// event.originæ˜¯å‘é€æ¶ˆæ¯çš„çª—å£çš„æº</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (event.<span class="property">origin</span> === <span class="string">&#x27;http://example.com&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> message = event.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">`Received Message: <span class="subst">$&#123;message&#125;</span>`</span>); <span class="comment">// &#x27;Hello from Parent Page!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><p>ä½¿ç”¨scriptæ ‡ç­¾åŠ è½½è·¨åŸŸèµ„æºï¼Œå…ˆåˆ›å»ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå°†å›è°ƒå‡½æ•°åç»‘å®šåœ¨srcé‡Œcallbackä¸Šï¼Œä»è€Œä½¿å¾—èƒ½åœ¨å‰ç«¯è°ƒç”¨è¯¥å‡½æ•°ã€‚å‡½æ•°ä¸­å¸¦æœ‰è·å–åˆ°çš„æ•°æ®ä½œä¸ºå…¥å‚ï¼Œå³å¯å¯¹å‚æ•°åšä¸€äº›å¤„ç†ã€‚å¯èƒ½ä¼šæœ‰XSSæ¼æ´ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">handleResponse</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://api.example.com/data?callback=handleResponse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="document-domainï¼ˆå¼ƒç”¨ï¼‰"><a href="#document-domainï¼ˆå¼ƒç”¨ï¼‰" class="headerlink" title="document.domainï¼ˆå¼ƒç”¨ï¼‰"></a>document.domainï¼ˆå¼ƒç”¨ï¼‰</h3><p>å°†è¯¥å€¼è®¾ç½®ä¸º<strong>å½“å‰åŸŸæˆ–çˆ¶åŸŸ</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">domain</span> = <span class="string">&quot;qvq.com&quot;</span></span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼š</p><ul><li>ä»…é€‚ç”¨äºå­åŸŸåä¹‹é—´çš„è·¨åŸŸ</li><li>æ— æ³•å¤„ç†ä¸åŒç«¯å£å·é—´çš„è·¨åŸŸ</li><li>å°†å…¶è®¾ç½®ä¸ºé¡¶çº§åŸŸåï¼Œå½±å“å­åŸŸå®‰å…¨æ€§ï¼Œå¾ˆæœ‰å¯èƒ½æ”¶åˆ°XSSå’ŒCSRFæ”»å‡»</li><li>ç”¨è¯¥æ–¹å¼è§£å†³è·¨åŸŸè¦æ±‚åŒæ–¹éƒ½è¦æ›´æ”¹document.domain</li></ul><h2 id="âœ…scriptæ ‡ç­¾deferï¼Œasyncå’Œæ²¡æœ‰æ ‡è¯†çš„åŒºåˆ«ï¼ŒåŠ è½½æƒ…å†µï¼Œæ‰§è¡Œæƒ…å†µï¼Œå¯¹é¡µé¢çš„é˜»å¡æƒ…å†µ"><a href="#âœ…scriptæ ‡ç­¾deferï¼Œasyncå’Œæ²¡æœ‰æ ‡è¯†çš„åŒºåˆ«ï¼ŒåŠ è½½æƒ…å†µï¼Œæ‰§è¡Œæƒ…å†µï¼Œå¯¹é¡µé¢çš„é˜»å¡æƒ…å†µ" class="headerlink" title="âœ…scriptæ ‡ç­¾deferï¼Œasyncå’Œæ²¡æœ‰æ ‡è¯†çš„åŒºåˆ«ï¼ŒåŠ è½½æƒ…å†µï¼Œæ‰§è¡Œæƒ…å†µï¼Œå¯¹é¡µé¢çš„é˜»å¡æƒ…å†µ"></a>âœ…<code>script</code>æ ‡ç­¾deferï¼Œasyncå’Œæ²¡æœ‰æ ‡è¯†çš„åŒºåˆ«ï¼ŒåŠ è½½æƒ…å†µï¼Œæ‰§è¡Œæƒ…å†µï¼Œå¯¹é¡µé¢çš„é˜»å¡æƒ…å†µ</h2><ol><li><strong>æ²¡æœ‰æ ‡è¯†çš„æƒ…å†µ</strong>ï¼š<ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸æŒ‡å®š <code>defer</code> æˆ– <code>async</code> å±æ€§ï¼Œæµè§ˆå™¨ä¼šæŒ‰ç…§ <code>&lt;script&gt;</code> æ ‡ç­¾åœ¨é¡µé¢ä¸­çš„é¡ºåºæ¥åŠ è½½å’Œæ‰§è¡Œè„šæœ¬ã€‚</li><li>è¿™ä¼šå¯¼è‡´æµè§ˆå™¨åœ¨é‡åˆ°è„šæœ¬æ ‡ç­¾æ—¶ç«‹å³åœæ­¢æ¸²æŸ“é¡µé¢ï¼Œå¼€å§‹ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬ï¼Œç„¶åå†ç»§ç»­æ¸²æŸ“ã€‚</li><li>é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­ï¼Œè„šæœ¬çš„æ‰§è¡Œä¼šé˜»å¡åç»­ DOM è§£æå’Œæ¸²æŸ“ï¼Œç›´åˆ°è„šæœ¬æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li><li><strong><code>defer</code> å±æ€§</strong>ï¼š<ul><li>ä½¿ç”¨ <code>defer</code> å±æ€§çš„è„šæœ¬ä¼šåœ¨ HTML è§£æå®Œæ¯•åã€DOMContentLoaded äº‹ä»¶ä¹‹å‰åŠ è½½å’Œæ‰§è¡Œã€‚</li><li>å¤šä¸ªå¸¦æœ‰ <code>defer</code> å±æ€§çš„è„šæœ¬ä¼šæŒ‰ç…§å®ƒä»¬åœ¨é¡µé¢ä¸­çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</li><li><code>defer</code> è„šæœ¬ä¸ä¼šé˜»å¡é¡µé¢çš„è§£æå’Œæ¸²æŸ“ï¼Œå› æ­¤é¡µé¢å¯ä»¥ç»§ç»­æ¸²æŸ“ã€‚</li></ul></li><li><strong><code>async</code> å±æ€§</strong>ï¼š<ul><li>ä½¿ç”¨ <code>async</code> å±æ€§çš„è„šæœ¬ä¼šåœ¨ä¸‹è½½å®Œæˆåç«‹å³æ‰§è¡Œï¼Œè€Œä¸ä¼šé˜»å¡ HTML è§£æã€‚</li><li>å¤šä¸ªå¸¦æœ‰ <code>async</code> å±æ€§çš„è„šæœ¬ä¹Ÿä¼šå¹¶è¡Œä¸‹è½½ï¼Œä½†ä¸ä¿è¯æ‰§è¡Œé¡ºåºã€‚</li><li>ç”±äºè„šæœ¬çš„æ‰§è¡Œæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯èƒ½ä¼šåœ¨é¡µé¢çš„ DOMContentLoaded äº‹ä»¶ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œã€‚</li></ul></li></ol><h2 id="âœ…æµè§ˆå™¨å†…æ ¸"><a href="#âœ…æµè§ˆå™¨å†…æ ¸" class="headerlink" title="âœ…æµè§ˆå™¨å†…æ ¸"></a>âœ…æµè§ˆå™¨å†…æ ¸</h2><p>æµè§ˆå™¨å†…æ ¸æ˜¯æµè§ˆå™¨çš„æ ¸å¿ƒç»„ä»¶ï¼Œä¸»è¦è´Ÿè´£è§£æå’Œæ¸²æŸ“ç½‘é¡µå†…å®¹ã€‚</p><p>æµè§ˆå™¨å†…æ ¸é€šå¸¸åŒ…æ‹¬ä¸¤ä¸ªä¸»è¦ç»„ä»¶ï¼š</p><ol><li>æ¸²æŸ“å¼•æ“<ol><li>è´Ÿè´£è§£æä¸‰ä»¶ï¼Œç„¶åè½¬æ¢æˆç½‘é¡µå†…å®¹</li><li>DOM CSSOM â†’ RenderTree â†’ åƒç´ </li></ol></li><li>JSå¼•æ“<ol><li>è§£æå’Œæ‰§è¡Œç½‘é¡µä¸Šçš„JSä»£ç </li><li>äº¤äº’</li></ol></li></ol><p>æµè§ˆå™¨å†…æ ¸çš„å·¥ä½œæ–¹å¼æ˜¯å¤šçº¿ç¨‹çš„ã€‚ä¸»çº¿ç¨‹ç”¨äºå¤„ç†ç•Œé¢å’Œæ¸²æŸ“ï¼Œå…¶ä»–çº¿ç¨‹ç”¨äºç½‘ç»œè¯·æ±‚ã€JSæ‰§è¡Œã€å…¶ä»–åå°æœåŠ¡(åƒåœ¾å›æ”¶ã€å¤„ç†æ–‡ä»¶ã€ç®¡ç†å­˜å‚¨ç­‰)ã€‚</p><h1 id="ğŸ–¥ï¸è®¡ç½‘"><a href="#ğŸ–¥ï¸è®¡ç½‘" class="headerlink" title="ğŸ–¥ï¸è®¡ç½‘"></a>ğŸ–¥ï¸è®¡ç½‘</h1><h2 id="äº”å±‚æ¨¡å‹"><a href="#äº”å±‚æ¨¡å‹" class="headerlink" title="äº”å±‚æ¨¡å‹"></a>äº”å±‚æ¨¡å‹</h2><ul><li>åº”ç”¨å±‚ï¼šHTTP SMTPâ€¦â€¦</li><li>ä¼ è¾“å±‚ï¼šTCP UDP DNS TLS</li><li>ç½‘ç»œå±‚ï¼šIP</li><li>æ•°æ®é“¾è·¯å±‚</li><li>ç‰©ç†å±‚</li></ul><h2 id="TCP-IPç½‘ç»œæ¨¡å‹"><a href="#TCP-IPç½‘ç»œæ¨¡å‹" class="headerlink" title="TCP/IPç½‘ç»œæ¨¡å‹"></a>TCP/IPç½‘ç»œæ¨¡å‹</h2><table><thead><tr><th>å„å±‚</th><th>åº”ç”¨å±‚</th><th>ä¼ è¾“å±‚</th><th>ç½‘ç»œå±‚</th><th>ç½‘ç»œæ¥å£å±‚</th></tr></thead><tbody><tr><td>ä½œç”¨</td><td>ç”¨æˆ·æ‰€ä½¿ç”¨çš„å„ç§åº”ç”¨è½¯ä»¶</td><td>ä¼ è¾“ç»™å¯¹æ–¹æ•°æ•°æ®åŒ…ï¼Œåˆ†å—TCPæ®µ</td><td>ä¼ è¾“IPæŠ¥æ–‡ï¼Œåˆ†ç‰‡</td><td>å°è£…æ•°æ®å¸§</td></tr><tr><td>å°è£…æ ¼å¼</td><td>åº”ç”¨æ•°æ®</td><td>TCPå¤´-åº”ç”¨æ•°æ®</td><td>IPå¤´-TCPå¤´-åº”ç”¨æ•°æ®</td><td>å¸§å¤´-IPå¤´-TCPå¤´-åº”ç”¨æ•°æ®-å¸§å°¾</td></tr><tr><td>åè®®</td><td>HTTP/FTP/SMTP/DNSâ€¦</td><td>TCP/UDP</td><td>IP</td><td></td></tr></tbody></table><h2 id="DNSè§£æåŸŸåçš„å…·ä½“è¿‡ç¨‹"><a href="#DNSè§£æåŸŸåçš„å…·ä½“è¿‡ç¨‹" class="headerlink" title="DNSè§£æåŸŸåçš„å…·ä½“è¿‡ç¨‹"></a>DNSè§£æåŸŸåçš„å…·ä½“è¿‡ç¨‹</h2><p>è¿­ä»£ï¼Ÿé€’å½’ï¼Ÿ</p><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[HTTP] --&gt; B[åŸºæœ¬æ¦‚å¿µ]</span><br><span class="line">A --&gt; C[GET&amp;POST]</span><br><span class="line">A --&gt; D[ç‰¹æ€§]</span><br><span class="line">A --&gt; E[ç¼“å­˜æŠ€æœ¯]</span><br><span class="line">A --&gt; F[HTTP&amp;HTTPS]</span><br><span class="line">A --&gt; G[ç‰ˆæœ¬æ¼”åŒ–]</span><br><span class="line">B --&gt; H[æ˜¯ä»€ä¹ˆ]</span><br><span class="line">B --&gt; I[å¸¸è§å­—æ®µ]</span><br><span class="line">B --&gt; J[å¸¸è§çŠ¶æ€ç ]</span><br><span class="line">C --&gt; K[åŒºåˆ«]</span><br><span class="line">C --&gt; L[å®‰å…¨å¹‚ç­‰å—]</span><br></pre></td></tr></table></figure><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®HyperTextTransferProtocolã€‚</p><p>å®ƒæ˜¯åœ¨<strong>å®¢æˆ·ç«¯-æœåŠ¡ç«¯</strong>æˆ–<strong>æœåŠ¡ç«¯-æœåŠ¡ç«¯</strong>ä¹‹é—´ä¼ è¾“æ•°æ®çš„çº¦å®šå’Œè§„èŒƒã€‚</p><p>ç¬¬äºŒç§ä¹‹é—´çš„ä¼ è¾“é€šä¿¡ä¸»è¦åœºæ™¯ï¼š</p><ul><li>è´Ÿè½½å‡è¡¡ï¼šé€šè¿‡HTTPè¯·æ±‚å°†è¯·æ±‚å‘å¾€ä¸åŒçš„æœåŠ¡å™¨ï¼Œæé«˜æ€§èƒ½å’Œå¯é æ€§</li><li>åˆ†å¸ƒå¼ç³»ç»Ÿï¼šåˆ†å¸ƒå¼ç³»ç»Ÿéœ€è¦å„æœåŠ¡å™¨é—´åè°ƒå·¥ä½œã€å…±äº«æ•°æ®ã€æ‰§è¡Œåˆ†å¸ƒå¼ä»»åŠ¡ï¼ŒHTTPåœ¨æ­¤å……å½“ä¸€ç§é€šä¿¡æ‰‹æ®µ</li><li>æ•°æ®åŒæ­¥ï¼šå¦‚æœå¤šä¸ªæœåŠ¡å™¨å­˜å‚¨ç€ç›¸åŒ/ç›¸å…³çš„æ•°æ®ï¼Œå¯é€šè¿‡HTTPè¯·æ±‚å°†æ•°æ®åŒæ­¥åˆ°å…¶ä»–æœåŠ¡å™¨ï¼Œä¿æŒæ•°æ®ä¸€è‡´</li><li>å¾®æœåŠ¡æ¶æ„ï¼šå¾®æ¶æ„ä¸­ä¸åŒçš„å¾®æœåŠ¡å¯èƒ½è¿è¡Œåœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡HTTPé€šä¿¡æ¥å®ŒæˆæœåŠ¡ä¹‹é—´äº¤äº’</li></ul><h3 id="å¸¸è§å­—æ®µ"><a href="#å¸¸è§å­—æ®µ" class="headerlink" title="å¸¸è§å­—æ®µ"></a>å¸¸è§å­—æ®µ</h3><p>Hostâ†’æœåŠ¡å™¨åŸŸå</p><p>Content-Lengthâ†æ•°æ®é•¿åº¦</p><p>Connection: Keep-Alive/close    é•¿é“¾æ¥æœºåˆ¶ï¼Œåªè¦ä»»æ„ä¸€æ®µä¸æ˜ç¡®æå‡ºæ–­å¼€è¿æ¥ï¼Œåˆ™ä¿æŒTCPçš„è¿æ¥çŠ¶æ€ã€‚</p><blockquote><p>HTTPå’ŒTCPçš„keepaliveä¸æ˜¯ä¸€ä¸ªç™»è¥¿ï¼</p><p>å‰è€…ç”±åº”ç”¨å±‚å®ç°ï¼Œå«HTTPé•¿è¿æ¥</p><p>åè€…åœ¨TCPå±‚ï¼Œå«TCPä¿æ´»</p><p>å‰è€…æ˜¯è§£å†³HTTPé¢‘ç¹çŸ­è¿æ¥ï¼ˆå»ºç«‹TCPè¿æ¥-è¯·æ±‚èµ„æº-å“åº”èµ„æº-é‡Šæ”¾è¿æ¥ï¼‰è€Œå¢åŠ è¿æ¥å¼€é”€çš„é—®é¢˜ï¼Œä¸”ä¸ºHTTPæµæ°´çº¿(ä½†æ˜¯éœ€è¦kepalive_timeouté™åˆ¶ä¸€ä¸‹é˜²æ­¢é˜Ÿå¤´æ‹¥å¡)æä¾›å¯èƒ½ã€‚</p><p>åè€…æ˜¯æ˜¯ä¸€ç§TCPä¿æ´»æœºåˆ¶ï¼Œå¦‚æœä¸¤ç«¯TCPè¿æ¥ä¸€ç›´æ²¡æœ‰æ•°æ®äº¤äº’ï¼Œé‚£ä¹ˆå°±è§¦å‘äº†TCPä¿æ´»æœºåˆ¶çš„æ¡ä»¶ï¼Œè¿™æ—¶å†…æ ¸ä¼šå‘é€æ¢æµ‹æŠ¥æ–‡ã€‚å¦‚æœå¯¹ç«¯æ­£å¸¸å“åº”ï¼Œæ— äº‹ï¼›å¦‚æœå¯¹ç«¯å®•æœºï¼ŒTCPä¼šæŠ¥å‘ŠTCPè¿æ¥æ­»äº¡ã€‚socketæ¥å£è®¾ç½®SO_KEEPALIVEé€‰é¡¹ã€‚</p></blockquote><p>Acceptâ†’å‘ŠçŸ¥è‡ªå·±å¯æ¥å—å“ªäº›æ•°æ®æ ¼å¼ e.g.<code>Accept: */*</code></p><p>Content-Typeâ†å‘ŠçŸ¥æ•°æ®æ ¼å¼ e.g.<code>Content-Type: text/html; Charset=utf-8</code></p><p>Accept-Encodingâ†’å‘ŠçŸ¥èƒ½æ¥å—å“ªäº›æ•°æ®å‹ç¼©æ–¹æ³• e.g.<code>Accept-Encoding: gzip deflate</code></p><p>Content-Encodingâ†è¯´æ˜æ•°æ®å‹ç¼©æ–¹æ³• e.g.<code>Content-Encoding: gzip</code></p><h3 id="ğŸˆ¯å¸¸è§çŠ¶æ€ç "><a href="#ğŸˆ¯å¸¸è§çŠ¶æ€ç " class="headerlink" title="ğŸˆ¯å¸¸è§çŠ¶æ€ç "></a>ğŸˆ¯å¸¸è§çŠ¶æ€ç </h3><h3 id="GET-amp-POST"><a href="#GET-amp-POST" class="headerlink" title="GET&amp;POST"></a>GET&amp;POST</h3><h4 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h4><table><thead><tr><th>åŒºåˆ«</th><th>GET</th><th>POST</th></tr></thead><tbody><tr><td>è¯­ä¹‰</td><td>ä»æœåŠ¡å™¨è·å–æŒ‡å®šèµ„æº</td><td>æ ¹æ®è¯·æ±‚è´Ÿè·(body)å¯¹æŒ‡å®šèµ„æºåšå‡ºå¤„ç†</td></tr><tr><td>å‚æ•°ä½ç½®</td><td>URL</td><td>body</td></tr><tr><td>é™åˆ¶</td><td>è¯·æ±‚å‚æ•°ï¼šASCII<br />æµè§ˆå™¨å¯¹å…¶URLé•¿åº¦æœ‰é™åˆ¶</td><td>ä»»æ„æ ¼å¼ï¼Œä¸¤æ–¹åå•†å¥½å³å¯<br />æµè§ˆå™¨å¯¹å…¶è«å¾—å¤§å°é™åˆ¶</td></tr><tr><td>RFCå®‰å…¨</td><td>âˆš åªè¯»æ“ä½œï¼Œä¸ä¼šä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„æ•°æ®</td><td>Ã— ä¼šä¿®æ”¹æœåŠ¡å™¨èµ„æº</td></tr><tr><td>RFCå¹‚ç­‰</td><td>âˆš åªè¯»æ“ä½œï¼ŒæœåŠ¡å™¨ä¸Šæ•°æ®å®‰å…¨ï¼Œç»“æœåŒ</td><td>Ã— å¤šæ¬¡æäº¤æ•°æ®ä¼šåˆ›å»ºå¤šä¸ªèµ„æº</td></tr><tr><td>å¯ç¼“å­˜</td><td>âˆš å¯ä»¥å¯¹GETè¯·æ±‚çš„æ•°æ®åšç¼“å­˜(æµè§ˆå™¨/ä»£ç†)</td><td>Ã— æµè§ˆå™¨ä¸€èˆ¬ä¸ä¼šç¼“å­˜POSTè¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå°†è¯·æ±‚ä¿å­˜ä¸ºä¹¦ç­¾</td></tr></tbody></table><h4 id="ä¸¤è€…éƒ½æ˜¯å®‰å…¨å’Œå¹‚ç­‰çš„å—ï¼Ÿâ†‘"><a href="#ä¸¤è€…éƒ½æ˜¯å®‰å…¨å’Œå¹‚ç­‰çš„å—ï¼Ÿâ†‘" class="headerlink" title="ä¸¤è€…éƒ½æ˜¯å®‰å…¨å’Œå¹‚ç­‰çš„å—ï¼Ÿâ†‘"></a>ä¸¤è€…éƒ½æ˜¯å®‰å…¨å’Œå¹‚ç­‰çš„å—ï¼Ÿâ†‘</h4><p>æ ¹æ®RFCè§„èŒƒå®šä¹‰çš„ä¸¤ç§æ–¹æ³•çœ‹ï¼š</p><p>å®‰å…¨ï¼šè¯·æ±‚æ–¹æ³•ä¸å…¨ä¸ä¼šç ´åæœåŠ¡å™¨ä¸Šçš„èµ„æº</p><p>å¹‚ç­‰ï¼šå¤šæ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœæ˜¯ç›¸åŒçš„</p><p>ä½†æ˜¯å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¯èƒ½ä¸ä¼šéµå¾ªä»¥ä¸Šè§„èŒƒï¼Œgetä¹Ÿèƒ½postï¼Œpostä¹Ÿèƒ½getï¼Œbodyè°éƒ½å¯ä»¥ç”¨ï¼Œç„¶è€Œè¿™æ ·ä¸å¥½â€¦â€¦</p><h3 id="ç¼“å­˜æŠ€æœ¯"><a href="#ç¼“å­˜æŠ€æœ¯" class="headerlink" title="ç¼“å­˜æŠ€æœ¯"></a>ç¼“å­˜æŠ€æœ¯</h3><p>è·³è½¬ï¼š<a href="#%E2%9C%85%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6-%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98">å¼ºåˆ¶ç¼“å­˜/åå•†ç¼“å­˜</a></p><h3 id="HTTPç‰¹æ€§"><a href="#HTTPç‰¹æ€§" class="headerlink" title="HTTPç‰¹æ€§"></a>HTTPç‰¹æ€§</h3><h4 id="HTTP-1-1ä¼˜ç‚¹"><a href="#HTTP-1-1ä¼˜ç‚¹" class="headerlink" title="HTTP/1.1ä¼˜ç‚¹"></a>HTTP/1.1ä¼˜ç‚¹</h4><p>ç®€å•çµæ´»æ˜“äºæ‰©å±•åº”ç”¨å¹¿æ³›è·¨å¹³å°</p><ul><li>ç®€å•ï¼šHeader+Bodyï¼ŒHeaderï¼škey-value</li><li>çµæ´»ç›Šäºæ‰©å±•ï¼šæä¾›å„ç±»è¯·æ±‚æ–¹æ³•ã€URL/URIã€çŠ¶æ€ç ã€å¤´å­—æ®µç­‰ï¼Œå…è®¸è‡ªå®šä¹‰æ‰©å……</li><li>åº”ç”¨å¹¿æ³›è·¨å¹³å°ï¼šé˜¿å·´é˜¿å·´</li></ul><h4 id="HTTP-1-1ç¼ºç‚¹"><a href="#HTTP-1-1ç¼ºç‚¹" class="headerlink" title="HTTP/1.1ç¼ºç‚¹"></a>HTTP/1.1ç¼ºç‚¹</h4><p>æ— çŠ¶æ€æ˜æ–‡ä¼ è¾“ä¸å®‰å…¨</p><ul><li>æ— çŠ¶æ€ï¼šè™½ç„¶æœåŠ¡å™¨ä¸ä¼šè®°å¿†HTTPçŠ¶æ€ï¼Œä¸éœ€è¦é¢å¤–èµ„æºè®°å½•çŠ¶æ€ä¿¡æ¯ï¼Œå‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼›ä½†æ˜¯ä¸€æ—¦æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œå®Œæˆæœ‰å…³è”æ€§æ“ä½œæ—¶ä¼šæœ‰äº›éº»çƒ¦ã€‚æ€ä¹ˆè§£å†³ï¼ŸCookieï¼</li><li>æ˜æ–‡ä¼ è¾“ï¼šè™½ç„¶æ–¹ä¾¿é˜…è¯»ï¼Œå¸¦æ¥æå¤§ä¾¿åˆ©ï¼›ä½†ä¿¡æ¯è£¸å¥”</li><li>ä¸å®‰å…¨ï¼š<ul><li>ä½¿ç”¨æ˜æ–‡ä¼ è¾“ï¼šä¸åŠ å¯†ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬</li><li>ä¸éªŒè¯é€šè¿‡å¯¹æ–¹èº«ä»½ï¼šå¯èƒ½é­é‡ä¼ªè£…</li><li>æ— æ³•è¯æ˜æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼šå¯èƒ½è¢«ç¯¡æ”¹</li></ul></li></ul><p>æ€ä¹ˆåŠï¼ŸHTTPS</p><h4 id="HTTP-1-1æ€§èƒ½"><a href="#HTTP-1-1æ€§èƒ½" class="headerlink" title="HTTP/1.1æ€§èƒ½"></a>HTTP/1.1æ€§èƒ½</h4><p>ä¸€èˆ¬èˆ¬ï¼Œé•¿é“¾æ¥ç®¡é“ç½‘ç»œä¼ è¾“é˜Ÿå¤´é˜»å¡</p><ul><li>é•¿é“¾æ¥ï¼šç›¸æ¯”1.0ï¼Œ1.1æœ‰äº†é•¿é“¾æ¥ã€‚</li><li>ç®¡é“ç½‘ç»œä¼ è¾“ï¼šåœ¨åŒä¸€ä¸ªTCPè¿æ¥ä¸­å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œæµæ°´çº¿å¼å‘é€ï¼Œå‡å°‘æ•´ä½“å“åº”æ—¶é—´ã€‚</li><li>é˜Ÿå¤´é˜»å¡ï¼š<ul><li>âˆš è¯·æ±‚çš„é˜Ÿå¤´é˜»å¡ï¼šæœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶è€—æ—¶è¾ƒé•¿ï¼Œåç»­è¯·æ±‚ä¼šè¢«é˜»å¡</li><li>Ã— å“åº”é˜Ÿå¤´é˜»å¡</li></ul></li></ul><h3 id="HTTP-amp-HTTPS"><a href="#HTTP-amp-HTTPS" class="headerlink" title="HTTP&amp;HTTPS"></a>HTTP&amp;HTTPS</h3><h4 id="åŒºåˆ«ï¼Ÿ"><a href="#åŒºåˆ«ï¼Ÿ" class="headerlink" title="åŒºåˆ«ï¼Ÿ"></a>åŒºåˆ«ï¼Ÿ</h4><ul><li>å‰è€…æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œåè€…æ˜¯åŠ å¯†ä¼ è¾“</li><li>å‰è€…è¿æ¥ç›¸å¯¹ç®€å•ï¼Œåè€…è¿˜éœ€SSL/TLSæ¡æ‰‹ï¼ˆSecure Sockets Layer / Transport Layer Securityï¼‰</li><li>å‰è€…é»˜è®¤ç«¯å£80ï¼Œåè€…433</li><li>å‰è€…å…è´¹ï¼Œåè€…éœ€è¦CAç”³è¯·æ•´æ•°</li></ul><h4 id="HTTPSè§£å†³äº†HTTPå“ªäº›é—®é¢˜ï¼Ÿ"><a href="#HTTPSè§£å†³äº†HTTPå“ªäº›é—®é¢˜ï¼Ÿ" class="headerlink" title="HTTPSè§£å†³äº†HTTPå“ªäº›é—®é¢˜ï¼Ÿ"></a>HTTPSè§£å†³äº†HTTPå“ªäº›é—®é¢˜ï¼Ÿ</h4><p>ä¸å†æ˜æ–‡ä¼ è¾“ï¼Œè€Œåœ¨HTTPå’ŒTCPå±‚ä¹‹é—´åŠ å…¥äº†SSL/TLSåè®®ã€‚ä¿¡æ¯ä¸å®¹æ˜“è¢«çªƒå–ï¼Œç½‘ç«™æœ‰èº«ä»½éªŒè¯ï¼Œå†…å®¹æœ‰æ ¡éªŒæœºåˆ¶â†“</p><ul><li>æ··åˆåŠ å¯†ä¿è¯æœºå¯†æ€§ï¼Œè§£å†³çªƒå¬ï¼ˆå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†æ··åˆï¼‰<ul><li>é€šä¿¡å»ºç«‹å‰ï¼Œä½¿ç”¨<strong>éå¯¹ç§°åŠ å¯†</strong>æ–¹å¼äº¤æ¢ä¼šè¯å¯†é’¥ã€‚éå¯¹ç§°éœ€è¦<strong>å…¬é’¥å’Œç§é’¥</strong>ï¼Œå…¬é’¥ä»»æ„åˆ†å‘ï¼Œç§é’¥ä¿å¯†ã€‚äº¤æ¢é€Ÿåº¦è¾ƒæ…¢â†“</li><li>é€šä¿¡è¿‡ç¨‹ä¸­å…¨éƒ¨ä½¿ç”¨<strong>å¯¹ç§°åŠ å¯†</strong>çš„ä¼šè¯å¯†é’¥æ–¹å¼åŠ å¯†æ˜æ–‡ã€‚<strong>åªéœ€ä¸€ä¸ª</strong>ä¿å¯†å¯†é’¥ï¼Œè¿ç®—é€Ÿåº¦å¿«ä½†ä¸å¤ªå®‰å…¨â†‘</li></ul></li><li>æ‘˜è¦ç®—æ³•+æ•°å­—ç­¾åä¿è¯å®Œæ•´æ€§ï¼Œè§£å†³ç¯¡æ”¹ï¼ˆæºå¸¦æŒ‡çº¹ä¼ è¾“ï¼‰<ul><li>å…ˆå¯¹å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªæŒ‡çº¹ï¼Œéšå†…å®¹ä¸€èµ·ä¼ è¾“ç»™å¯¹ç«¯</li><li>å¯¹ç«¯æ‹¿åˆ°åä¹Ÿå¯¹å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªæŒ‡çº¹ï¼Œå¯¹æ¯”ä¸¤ä¸ªæŒ‡çº¹æ˜¯å¦ä¸€è‡´ï¼Œå¦åˆ™å¯èƒ½è¢«ç¯¡æ”¹è¿‡</li><li>ï¼å“ˆå¸Œç®—æ³•è™½å¯ç¡®ä¿å†…å®¹ä¸è¢«ç¯¡æ”¹ï¼Œä½†ä¸èƒ½ä¿è¯ä¸è¢«ä¸­é—´äººæ›¿æ¢ã€‚å› ä¸ºç¼ºå°‘å¯¹å®¢æˆ·ç«¯æ”¶åˆ°çš„æ¶ˆæ¯æ˜¯å¦æ¥æºäºæœåŠ¡ç«¯çš„è¯æ˜ã€‚ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œå¯ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•æä¾›çš„å…¬ç§é’¥è§£å†³ï¼Œç›¸äº’åŠ è§£å¯†ã€‚<ul><li><strong>å…¬é’¥åŠ å¯†ç§é’¥è§£å¯†ï¼šä¿è¯å†…å®¹ä¼ è¾“å®‰å…¨</strong>ï¼Œåªæœ‰æŒæœ‰ç§é’¥çš„æ‰èƒ½è§£å¯†ï¼ˆæ‘˜ï¼‰</li><li><strong>ç§é’¥åŠ å¯†å…¬é’¥è§£å¯†ï¼šä¿è¯æ¶ˆæ¯ä¸è¢«å†’å……</strong>ï¼Œè‹¥å…¬æ­£å¸¸è§£å¯†å‡ºæ¥ï¼Œè¯´æ˜æ˜¯å¯¹åº”ç«¯å‘æ¥çš„ï¼ˆæ•°ï¼‰</li></ul></li></ul></li><li>æœåŠ¡å™¨å…¬é’¥æ”¾å…¥æ•°å­—è¯ä¹¦ä¸­ï¼Œé˜²æ­¢å†’å……ï¼ˆCAé¢å¸ƒæ•°å­—è¯ä¹¦åŒ…è£¹å…¬é’¥ï¼Œèº«ä»½éªŒè¯ï¼Œé˜²æ­¢æ›¿æ¢ï¼‰<ul><li>æœåŠ¡å™¨å°†è‡ªå·±çš„å…¬é’¥æ³¨å†Œåˆ°CA</li><li>CAç”¨è‡ªå·±çš„å¯†é’¥å¯¹è¯¥å…¬é’¥è¿›è¡Œç­¾åï¼Œé¢å‘æ•°å­—è¯ä¹¦</li><li>å®¢æˆ·ç«¯æ‹¿åˆ°æ•°å­—è¯ä¹¦åç”¨CAå…¬é’¥è¿›è¡Œç¡®è®¤</li><li>ä»è¯ä¹¦ä¸­è·å–å…¬é’¥åå¯¹æŠ¥æ–‡è¿›è¡ŒåŠ å¯†</li><li>æœåŠ¡å™¨æ‹¿åˆ°æŠ¥æ–‡åç”¨ç§é’¥è§£å¯†</li></ul></li></ul><h4 id="HTTPSæ˜¯å¦‚ä½•è€Œå»ºç«‹è¿æ¥çš„ï¼ŸæœŸé—´äº¤äº’äº†å•¥ï¼Ÿ"><a href="#HTTPSæ˜¯å¦‚ä½•è€Œå»ºç«‹è¿æ¥çš„ï¼ŸæœŸé—´äº¤äº’äº†å•¥ï¼Ÿ" class="headerlink" title="HTTPSæ˜¯å¦‚ä½•è€Œå»ºç«‹è¿æ¥çš„ï¼ŸæœŸé—´äº¤äº’äº†å•¥ï¼Ÿ"></a>HTTPSæ˜¯å¦‚ä½•è€Œå»ºç«‹è¿æ¥çš„ï¼ŸæœŸé—´äº¤äº’äº†å•¥ï¼Ÿ</h4><p><a href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E6%98%AF%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84-%E5%85%B6%E9%97%B4%E4%BA%A4%E4%BA%92%E4%BA%86%E4%BB%80%E4%B9%88">åŸæ–‡</a></p><ul><li>ClientHelloâ†’æ”¯æŒçš„TLSç‰ˆæœ¬ï¼Œæ”¯æŒçš„åŠ å¯†ç®—æ³•ï¼ŒClient Randoméšæœºæ•°</li><li>ServerHelloâ†ç¡®è®¤çš„TLSç‰ˆæœ¬ï¼Œç¡®è®¤çš„åŠ å¯†ç®—æ³•ï¼ŒServer Randoméšæœºæ•°ï¼Œæ•°å­—è¯ä¹¦</li><li>ClientResponseâ†’æ ¹æ®CAå…¬é’¥éªŒè¯è¯ä¹¦ï¼Œæ‹¿åˆ°å…¬é’¥ï¼Œç”Ÿæˆpre-master keyï¼Œå…¬é’¥åŠ å¯†ï¼ŒåŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜é€šçŸ¥ï¼Œæ¡æ‰‹ç»“æŸé€šçŸ¥</li><li>ServerResponseâ†è®¡ç®—å‡ºä¼šè¯å¯†é’¥ï¼ŒåŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜é€šçŸ¥ï¼Œæ¡æ‰‹ç»“æŸé€šçŸ¥</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/23-HTTPS%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.jpeg" alt="HTTPS è¿æ¥å»ºç«‹è¿‡ç¨‹"></p><p>CAè¯ä¹¦é¢å‘è¿‡ç¨‹ï¼š</p><ul><li>CAå°†æŒæœ‰è€…çš„å…¬é’¥ã€ç”¨é€”ã€é¢å‘è€…ã€æœ‰æ•ˆæ—¶é—´ç­‰ä¿¡æ¯æ‰“åŒ…</li><li>Hashç®—æ³•è®¡ç®—å¾—åˆ°ä¸€ä¸ªå€¼</li><li>ç”¨ç§é’¥åŠ å¯†è¯¥å€¼ï¼Œç”ŸæˆCertificate Signatureï¼ˆç­¾åï¼‰</li><li>å°†ç­¾åæ·»åŠ åˆ°æ–‡ä»¶è¯ä¹¦ä¸Šï¼Œå½¢æˆæ•°å­—è¯ä¹¦</li></ul><p>æ ¡éªŒè¿‡ç¨‹ï¼š</p><ul><li>ä½¿ç”¨åŒæ ·çš„Hashç®—æ³•è·å–è¯ä¹¦ï¼Œå¾—åˆ°å€¼</li><li>ä½¿ç”¨æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿç»§æ‰¿çš„CAå…¬é’¥ä¿¡æ¯å»è§£å¯†è¯ä¹¦ï¼Œå¾—åˆ°å€¼</li><li>ä¸¤å€¼æ¯”è¾ƒï¼Œè‹¥å€¼ç›¸åŒï¼Œå¯ä¿¡èµ–ï¼›åä¹‹ä¸å¯ä¿¡</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AF%81%E4%B9%A6%E7%9A%84%E6%A0%A1%E9%AA%8C.png" alt="img"></p><p>è¯ä¹¦å±‚çº§ï¼š</p><ul><li>å®¢æˆ·ç«¯æ”¶åˆ°è¯ä¹¦åå‘ç°è¯¥å¸§æ•°çš„ç­¾å‘è€…ä¸æ˜¯æ ¹è¯ä¹¦ï¼Œé‚£ä¹ˆæ— æ³•æ ¹æ®æœ¬åœ°çš„å…¬é’¥å»éªŒè¯ã€‚äºæ˜¯æ ¹æ®ç­¾å‘è€…æ‰¾åˆ°è¯ä¹¦é¢å‘æœºæ„ï¼Œè¯·æ±‚ä¸­é—´è¯ä¹¦</li><li>æ‹¿åˆ°è¯ä¹¦åå‘ç°è¿™ä¸ªè¯ä¹¦æ²¡æœ‰ä¸Šçº§ç­¾å‘æœºæ„äº†ï¼Œè¯´æ˜è¿™ä¸ªå°±æ˜¯æ ¹è¯ä¹¦ï¼Œç„¶åå»éªŒè¯ã€‚</li><li>è¿™ä¸ªå¯ä¿¡çš„è¯ï¼Œæ‹¿åˆ°äº†ä¸‹å±‚è¯ä¹¦çš„å…¬é’¥ï¼Œç„¶åéªŒè¯ã€‚</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E7%94%A8%E6%88%B7%E4%BF%A1%E4%BB%BB.png" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AF%81%E4%B9%A6%E9%93%BE.png" alt="img"></p><p>ä¸ºä½•è¦å½¢æˆä¸€ä¸ªè¯ä¹¦é“¾ï¼Ÿâ€”â€”ä¿è¯æ ¹è¯ä¹¦çš„ç»å¯¹å®‰å…¨æ€§ã€‚</p><h4 id="HTTPSåº”ç”¨æ•°æ®æ˜¯å¦‚ä½•ä¿è¯å®Œæ•´æ€§çš„ï¼Ÿ"><a href="#HTTPSåº”ç”¨æ•°æ®æ˜¯å¦‚ä½•ä¿è¯å®Œæ•´æ€§çš„ï¼Ÿ" class="headerlink" title="HTTPSåº”ç”¨æ•°æ®æ˜¯å¦‚ä½•ä¿è¯å®Œæ•´æ€§çš„ï¼Ÿ"></a>HTTPSåº”ç”¨æ•°æ®æ˜¯å¦‚ä½•ä¿è¯å®Œæ•´æ€§çš„ï¼Ÿ</h4><p>TLSåˆ†ä¸ºæ¡æ‰‹åè®®å’Œè®°å½•åè®®ä¸¤å±‚ã€‚</p><ul><li>æ¡æ‰‹åè®®ï¼šå››æ¬¡æ¡æ‰‹æœŸé—´ï¼Œåå•†åŠ å¯†ç®—æ³•ï¼Œç”Ÿæˆå¯¹ç§°å¯†é’¥ï¼Œä¿æŠ¤HTTPæ•°æ®</li><li>è®°å½•åè®®ï¼šæ•°æ®äº¤äº’æœŸé—´ï¼Œä¿æŠ¤åº”ç”¨ç¨‹åºæ•°æ®å¹¶è¿”å›å®Œæ•´æ€§å’Œæ¥æº</li></ul><p>TLSè®°å½•åè®®æ¶ˆæ¯å‹ç¼©ã€åŠ å¯†ã€è®¤è¯çš„è¿‡ç¨‹</p><ul><li>å°†æ¶ˆæ¯åˆ†æ®µ</li><li>å‹ç¼©ç‰‡æ®µ</li><li>åŠ å…¥é€šè¿‡å“ˆå¸Œç®—æ³•è®¡ç®—å‡ºçš„æ¶ˆæ¯è®¤è¯ç â€”â€”Macå€¼</li><li>å¯¹ç§°åŠ å¯†è¿™æ®µ</li><li>åŠ ä¸Šæ•°æ®çš„ç±»å‹ã€ç‰ˆæœ¬ã€é•¿åº¦</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AE%B0%E5%BD%95%E5%8D%8F%E8%AE%AE.png" alt="img"></p><h4 id="åœºæ™¯-HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ"><a href="#åœºæ™¯-HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ" class="headerlink" title="åœºæ™¯-HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ"></a>åœºæ™¯-HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ</h4><h5 id="åœºæ™¯æè¿°1"><a href="#åœºæ™¯æè¿°1" class="headerlink" title="åœºæ™¯æè¿°1"></a>åœºæ™¯æè¿°1</h5><p>å®¢æˆ·ç«¯é€šè¿‡æµè§ˆå™¨å‘è¯·æ±‚çš„æ—¶å€™ï¼Œè¢«å‡åŸºç«™è½¬å‘åˆ°ä¸€ä¸ªä¸­é—´äººæœåŠ¡å™¨ï¼Œå’Œä¸­é—´äººæœåŠ¡å™¨å®Œæˆäº†TLSæ¡æ‰‹ï¼Œç„¶åä¸­é—´äººæœåŠ¡å™¨å’Œç›®æ ‡æœåŠ¡å™¨å®Œæˆäº†çœŸæ­£çš„TLSæ¡æ‰‹ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote><p>â€œå‡åŸºç«™â€</p><p>æ˜¯æŒ‡ä¸€ä¸ªæ¶æ„çš„è®¾å¤‡æˆ–ç³»ç»Ÿï¼Œå®ƒä¼ªè£…æˆåˆæ³•çš„ç§»åŠ¨é€šä¿¡åŸºç«™ï¼Œä¸ç§»åŠ¨è®¾å¤‡å»ºç«‹è¿æ¥ï¼Œä»¥ä¾¿æ‹¦æˆªã€ç›‘å¬æˆ–å¹²æ‰°é€šä¿¡æµé‡ã€‚å‡åŸºç«™å¯ä»¥ç”¨æ¥è¿›è¡Œä¸­é—´äººæ”»å‡»ï¼Œå³åœ¨é€šä¿¡åŒæ–¹ä¹‹é—´æ’å…¥è‡ªå·±ï¼Œä»¥ä¾¿ç›‘è§†æˆ–ç¯¡æ”¹é€šä¿¡ã€‚</p></blockquote><ul><li>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€HTTPSè¯·æ±‚æ—¶ï¼Œè¢«å‡åŸºç«™è½¬å‘åˆ°äº†ä¸€ä¸ªä¸­é—´ç«™æœåŠ¡å™¨ï¼Œæ¥ç€ï¼Œä¸­é—´ç«™æœåŠ¡å™¨å‘è¿™ä¸ªè¯·æ±‚æ‰€æŒ‡æ˜çš„æœåŠ¡ç«¯å‘é€HTTPSè¯·æ±‚ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ä¸ä¸­é—´äººæœåŠ¡å™¨è¿›è¡ŒTLSæ¡æ‰‹ï¼Œä¸­é—´äººæœåŠ¡å™¨ä¸çœŸæ­£çš„æœåŠ¡å™¨è¿›è¡ŒTLSæ¡æ‰‹ã€‚</li><li>å®¢æˆ·ç«¯å’Œä¸­é—´æœåŠ¡å™¨è¿›è¡Œæ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œä¸­é—´æœåŠ¡å™¨å‘é€è‡ªå·±çš„å…¬é’¥è¯ä¹¦ç»™å®¢æˆ·ç«¯ï¼ˆ<strong>è¿™ä¸å°±éœ²é¦…äº†ï¼Ÿï¼Ÿ</strong>ï¼‰ï¼Œå®¢æˆ·ç«¯éªŒè¯è¯ä¹¦çœŸä¼ªï¼Œæ‹¿åˆ°è¯ä¹¦å…¬é’¥ï¼Œç”Ÿæˆéšæœºæ•°åæ‹¿å…¬é’¥åŠ å¯†ï¼Œå‘é€ç»™ä¸­é—´æœåŠ¡å™¨ã€‚ä¸­é—´æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†å¾—åˆ°éšæœºæ•°ã€‚éšåä¸¤è€…å¼€å¯å¯¹ç§°åŠ å¯†é€šä¿¡ã€‚</li><li>ä¸­é—´æœåŠ¡å™¨å’ŒæœåŠ¡ç«¯è¿›è¡Œæ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ˜¯ä¸Šè¿°ç±»ä¼¼æ“ä½œï¼Œéšåè¿›å…¥å¯¹ç§°åŠ å¯†é€šä¿¡é˜¶æ®µã€‚</li><li>åœ¨åç»­çš„é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œä¸­é—´æœåŠ¡å™¨ä½¿ç”¨å¯¹ç§°åŠ å¯†å¯†é’¥Aè§£å¯†å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚ï¼Œç„¶åé€šè¿‡BåŠ å¯†ä¿¡æ¯è½¬å‘ç»™æœåŠ¡å™¨ï¼ŒéšåBè§£å¯†æœåŠ¡å™¨ä¼ å›çš„ä¿¡æ¯ï¼ŒAåŠ å¯†ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li></ul><p>ä»å®¢æˆ·ç«¯è§’åº¦çœ‹ï¼Œå®ƒæ˜¯çœ‹æ”¶ä¸åˆ°æœ‰ä¸ªä¸­é—´æœåŠ¡å™¨ç»™è½¬å‘è¯·æ±‚çš„å“åº”çš„ã€‚ä¹Ÿå°±è¯´è¿™ä¸ªä¸­é—´æœåŠ¡å™¨å¯ä»¥å·çœ‹ä¿¡æ¯äº¤äº’å†…å®¹ï¼ï¼</p><h5 id="ä½†æ˜¯è¿™ç§åœºæ™¯çš„å‘ç”Ÿæ˜¯æœ‰å‰æçš„"><a href="#ä½†æ˜¯è¿™ç§åœºæ™¯çš„å‘ç”Ÿæ˜¯æœ‰å‰æçš„" class="headerlink" title="ä½†æ˜¯è¿™ç§åœºæ™¯çš„å‘ç”Ÿæ˜¯æœ‰å‰æçš„"></a>ä½†æ˜¯è¿™ç§åœºæ™¯çš„å‘ç”Ÿæ˜¯æœ‰å‰æçš„</h5><ul><li>å®¢æˆ·å•ç‚¹å‡»æ¥å—äº†ä¸­é—´äººæœåŠ¡å™¨è¯ä¹¦ã€‚æ¢å¥è¯è¯´ï¼Œç¡®å®éœ²é¦…ï¼Œå®¢æˆ·ç«¯åœ¨éªŒè¯æœåŠ¡ç«¯è¯ä¹¦çš„æ—¶å€™å½“ç„¶èƒ½ç¡®å®šè¿™ä¸ªä¸­é—´æœåŠ¡å™¨æ˜¯éæ³•çš„ï¼Œæµè§ˆå™¨ä¼šç»™æç¤ºçš„ã€‚ä½†æ˜¯åŒæ„çš„è¯ï¼Œé‚£æ²¡è·‘äº†ã€‚ï¼ˆè®²çœŸå¥½å‡ å¹´å‰çœŸçš„è§è¿‡å¾ˆå¤šæ¬¡è¿™ç§æƒ…å†µï¼Œå¤§å¤šæ•°éƒ½è¢«æˆ‘åŒæ„äº†ï¼Œå› ä¸ºæ˜¯æŸ¥ä½œä¸šé¢˜â€¦â€¦å®³æ€•ï¼‰</li><li>ç”µè„‘ç—…æ¯’ï¼Œè¢«æ¶æ„æ³¨å…¥äº†ä¸å®‰å…¨çš„æ ¹è¯ä¹¦</li></ul><h5 id="å¦‚ä½•é¿å…ï¼Ÿ"><a href="#å¦‚ä½•é¿å…ï¼Ÿ" class="headerlink" title="å¦‚ä½•é¿å…ï¼Ÿ"></a>å¦‚ä½•é¿å…ï¼Ÿ</h5><ol><li><p>ä»¥ä¸Šä¸¤ç‚¹åšå¥½é˜²æŠ¤</p></li><li><p>HTTPSåŒå‘è®¤è¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿéœ€è®¤è¯å®¢æˆ·ç«¯èº«ä»½</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81.png" alt="img"></p></li></ol><h5 id="æ‰€ä»¥HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ"><a href="#æ‰€ä»¥HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ" class="headerlink" title="æ‰€ä»¥HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ"></a>æ‰€ä»¥HTTPSä¸€å®šå®‰å…¨å¯é å—ï¼Ÿ</h5><p>é€šè¿‡åˆ†æä¸Šè¿°è¿™ä¸ªé—®é¢˜ï¼Œé—®é¢˜æ‰€è¾¾åˆ°çš„å‰æå…¶å®æ˜¯å’ŒHTTPSæ— å…³çš„ã€‚</p><p>HTTPSåè®®æœ¬èº«ç›®å‰ä¸ºæ­¢æ˜¯æ²¡æœ‰æ¼æ´çš„â€¦â€¦</p><h5 id="åœºæ™¯æè¿°2"><a href="#åœºæ™¯æè¿°2" class="headerlink" title="åœºæ™¯æè¿°2"></a>åœºæ™¯æè¿°2</h5><p>æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºå•¥æŠ“åŒ…èƒ½æŠ“åˆ°HTTPSæ•°æ®ï¼Ÿ</p><p>å¯¹äºHTTPSæ¥è¯´ï¼Œä¸­é—´äººèƒ½å¤Ÿçœ‹åˆ°æ˜æ–‡æ•°æ®ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li>æœåŠ¡ç«¯ä¸ä¼šæ ¡éªŒå®¢æˆ·ç«¯èº«ä»½âˆš</li><li>å®¢æˆ·ç«¯ä¿¡ä»»æœåŠ¡ç«¯â€”â€”æœåŠ¡ç«¯å¿…é¡»æœ‰å¯¹åº”åŸŸåçš„ç§é’¥ï¼Ÿ</li></ul><p>æƒ³è¦æ‹¿åˆ°ç§é’¥ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼</p><ul><li>å»ç½‘ç«™æœåŠ¡ç«¯æ‹¿åˆ°ç§é’¥</li><li>å»CAè¯ä¹¦æ‹¿åŸŸåç­¾å‘ç§é’¥</li><li>è‡ªå·±ç­¾å‘è¯ä¹¦ï¼Œéœ€è¦æµè§ˆå™¨ä¿¡ä»»</li></ul><p>æŠ“åŒ…å…¶å®ä½¿ç”¨çš„å°±æ˜¯ç¬¬ä¸‰ç§æ–¹å¼ï¼Œå®¢æˆ·ç«¯é¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸ªFiddlerè¯ä¹¦ï¼Œè¿™é‡Œèµ·çš„å°±æ˜¯è®¤è¯ä½œç”¨ã€‚</p><h4 id="HTTP-1-1-gt-HTTP-2-gt-HTTP-3çš„æ¼”å˜"><a href="#HTTP-1-1-gt-HTTP-2-gt-HTTP-3çš„æ¼”å˜" class="headerlink" title="HTTP/1.1=&gt;HTTP/2=&gt;HTTP/3çš„æ¼”å˜"></a>HTTP/1.1=&gt;HTTP/2=&gt;HTTP/3çš„æ¼”å˜</h4><table><thead><tr><th>æ¯”è¾ƒ</th><th>1.1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>æ”¹è¿›</td><td>æŒä¹…åŒ–<br />ç®¡é“åŒ–<br /></td><td>å¤´éƒ¨å‹ç¼©<br />äºŒè¿›åˆ¶æ ¼å¼<br />å¹¶è¡Œä¼ è¾“ï¼Œè§£å†³é˜Ÿå¤´é˜»å¡<br />åŒæ–¹éƒ½å¯å»ºç«‹æµ(å®¢å¥‡æœå¶)</td><td>è§£å†³TCPé˜Ÿå¤´é˜»å¡<br />ç›´æ¥æ”¹ç”¨UDPâ†‘<br />æ›´å¿«å»ºç«‹è¿æ¥<br />è¿æ¥è¿ç§»</td></tr><tr><td>ç¼ºé™·</td><td>å“åº”å¤´æ— æ³•å‹ç¼©å»¶è¿Ÿå¤§<br />å¤šæ¬¡ç›¸åŒé¦–éƒ¨æµªè´¹å¤š<br />æ²¡æœ‰ä¼˜å…ˆçº§æ§åˆ¶<br />æœåŠ¡å™¨è¢«åŠ¨å“åº”<br />å“åº”é˜Ÿå¤´é˜»å¡</td><td>TCPå±‚çš„é˜Ÿå¤´æ‹¥å¡(ä¸¢åŒ…)</td><td></td></tr></tbody></table><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/27-HTTP3.jpeg" alt="HTTP/1 ~ HTTP/3"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/28-HTTP3%E4%BA%A4%E4%BA%92%E6%AC%A1%E6%95%B0.jpeg" alt="TCP HTTPSï¼ˆTLS/1.3ï¼‰ å’Œ QUIC HTTPS "></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/4cad213f5125432693e0e2a512c2d1a1-20230309231022316.png" alt="å¥½æ€ªè¯¶"></p><p>QUICåè®®æ€ä¹ˆçœ‹ç€è¿™ä¹ˆå¸¸ç”¨ï¼</p><blockquote><p>é‚£ä¹ˆ<strong>å½“ç§»åŠ¨è®¾å¤‡çš„ç½‘ç»œä» 4G åˆ‡æ¢åˆ° WIFI æ—¶ï¼Œæ„å‘³ç€ IP åœ°å€å˜åŒ–äº†ï¼Œé‚£ä¹ˆå°±å¿…é¡»è¦æ–­å¼€è¿æ¥ï¼Œç„¶åé‡æ–°å»ºç«‹è¿æ¥</strong>ã€‚è€Œå»ºç«‹è¿æ¥çš„è¿‡ç¨‹åŒ…å« TCP ä¸‰æ¬¡æ¡æ‰‹å’Œ TLS å››æ¬¡æ¡æ‰‹çš„æ—¶å»¶ï¼Œä»¥åŠ TCP æ…¢å¯åŠ¨çš„å‡é€Ÿè¿‡ç¨‹ï¼Œç»™ç”¨æˆ·çš„æ„Ÿè§‰å°±æ˜¯ç½‘ç»œçªç„¶å¡é¡¿äº†ä¸€ä¸‹ï¼Œå› æ­¤è¿æ¥çš„è¿ç§»æˆæœ¬æ˜¯å¾ˆé«˜çš„ã€‚</p><p>è€Œ QUIC åè®®æ²¡æœ‰ç”¨å››å…ƒç»„çš„æ–¹å¼æ¥â€œç»‘å®šâ€è¿æ¥ï¼Œè€Œæ˜¯é€šè¿‡<strong>è¿æ¥ ID</strong> æ¥æ ‡è®°é€šä¿¡çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥å„è‡ªé€‰æ‹©ä¸€ç»„ ID æ¥æ ‡è®°è‡ªå·±ï¼Œå› æ­¤å³ä½¿ç§»åŠ¨è®¾å¤‡çš„ç½‘ç»œå˜åŒ–åï¼Œå¯¼è‡´ IP åœ°å€å˜åŒ–äº†ï¼Œåªè¦ä»ä¿æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆæ¯”å¦‚è¿æ¥ IDã€TLS å¯†é’¥ç­‰ï¼‰ï¼Œå°±å¯ä»¥â€œæ— ç¼â€åœ°å¤ç”¨åŸè¿æ¥ï¼Œæ¶ˆé™¤é‡è¿çš„æˆæœ¬ï¼Œæ²¡æœ‰ä¸æ¯«å¡é¡¿æ„Ÿï¼Œè¾¾åˆ°äº†<strong>è¿æ¥è¿ç§»</strong>çš„åŠŸèƒ½ã€‚</p></blockquote><p>ä»‹ç»ä¸€ä¸‹WebSocket</p><p>é¦–å…ˆå†æ¬¡ä»‹ç»ä¸€ä¸‹TCPåè®®ï¼ŒTCPåè®®æ˜¯å…¨åŒå·¥ï¼Œä½†æ˜¯HTTP/1.1å´åªå…è®¸åŠåŒå·¥ã€‚ä¸ºå•¥ï¼Ÿ</p><p>å› ä¸ºHTTPåè®®è®¾è®¡ä¹‹åˆå°±æ˜¯ä¸ºäº†å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨æ•°æ®è·å¾—ç½‘é¡µå±•ç¤ºå’Œå“åº”ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°ç½‘é¡µæ¸¸æˆè¿™ç§éœ€è¦å¤§é‡äº’åŠ¨çš„æƒ…æ™¯ã€‚æ‰€ä»¥ä¸€ç§æ–°çš„åº”ç”¨å±‚åè®®WebSocketè¢«è®¾è®¡å‡ºæ¥ã€‚</p><p>æ€ä¹ˆå»ºç«‹Websocketè¿æ¥ï¼Ÿ</p><ul><li><p>TCPä¸‰æ¬¡æ¡æ‰‹åï¼Œå…ˆç”¨HTTPåè®®è¿›è¡Œä¸€æ¬¡é€šä¿¡</p></li><li><p>å¦‚æœæƒ³ç”¨Websocketï¼Œé‚£ä¹ˆåœ¨HTTPè¯·æ±‚ä¸­å¸¦ä¸Šç‰¹æ®Šè¯·æ±‚å¤´</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">header</span><span class="punctuation">: </span>&#123;</span><br><span class="line">    Connection: Upgrade å‡çº§åè®®</span><br><span class="line">    Upgrade: WebSocket WebSocketåè®® </span><br><span class="line">    Sec-WebSocket-Key: T2a6wZlAwhgQNqruZ2YUyg==\r\n  éšæœºç”Ÿæˆçš„base64ä»£ç </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ã€ä¸€æ¬¡æ¡æ‰‹ã€‘å¦‚æœå¯¹ç«¯æ”¯æŒWebSocketï¼Œé‚£ä¹ˆå¼€å§‹WebSocketæ¡æ‰‹ï¼Œå¹¶ä¸”æ ¹æ®éšæœºç ç”¨æŸç§å…¬å¼€çš„ç®—æ³•ç”Ÿæˆå¦ä¸€æ®µå­—ç¬¦ä¸²ï¼Œæ”¾åœ¨Set-WebSocket-Acceptå¤´ä¸­ï¼Œå¸¦ä¸Š101åè®®åˆ‡æ¢çŠ¶æ€ç ï¼Œè¿”å›ç»™æµè§ˆå™¨</p></li><li><p>ã€ä¸¤æ¬¡æ¡æ‰‹ã€‘æµè§ˆå™¨ä¹Ÿç”¨è¿™ç§å…¬å¼€ç®—æ³•å»å°†é‚£ä¸ªéšæœºç è½¬åŒ–æˆä¸€æ®µå­—ç¬¦ä¸²ï¼Œå¯¹æ¯”ä¸€è‡´åˆ™é€šè¿‡éªŒè¯</p></li><li><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨Websocketæ ¼å¼é€šä¿¡äº†</p><blockquote><p>WebSocket æ˜¯åŸºäºHTTPçš„æ–°åè®® Ã—Ã—Ã—Ã—ï¼ï¼ï¼ï¼</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3a63a86e5d7e72a37b9828fc6e65c21f.png" alt="å›¾ç‰‡"></p></blockquote></li></ul><p>ä»‹ç»ä¸€ä¸‹RPC</p><p>RPCåè®®å‡ºç°çš„æ¯”HTTPåè®®æ—©ï¼Œæ²¡æœ‰TCPç²˜åŒ…é—®é¢˜ã€‚</p><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[TCP] --&gt; B[åŸºæœ¬è®¤è¯†]</span><br><span class="line">A --&gt; C[å»ºç«‹è¿æ¥]</span><br><span class="line">A --&gt; D[è¿æ¥æ–­å¼€]</span><br><span class="line">A --&gt; E[Socketç¼–ç¨‹]</span><br></pre></td></tr></table></figure><h3 id="âœ…åŸºæœ¬è®¤è¯†"><a href="#âœ…åŸºæœ¬è®¤è¯†" class="headerlink" title="âœ…åŸºæœ¬è®¤è¯†"></a>âœ…åŸºæœ¬è®¤è¯†</h3><p>TCPå¤´éƒ¨æ ¼å¼</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230534096.png" alt="TCP å¤´æ ¼å¼" style="zoom:50%;" /><p>ç¡®å®šä¸€ä¸ªTCPè¿æ¥ï¼šæºåœ°å€ã€æºç«¯å£ã€ç›®çš„åœ°å€ã€ç›®çš„ç«¯å£</p><p>æœ€å¤§TCPè¿æ¥æ•°=å®¢æˆ·ç«¯IPæ•°+å®¢æˆ·ç«¯ç«¯å£æ•°</p><h3 id="âœ…TCPå’ŒUDPçš„åŒºåˆ«"><a href="#âœ…TCPå’ŒUDPçš„åŒºåˆ«" class="headerlink" title="âœ…TCPå’ŒUDPçš„åŒºåˆ«"></a>âœ…TCPå’ŒUDPçš„åŒºåˆ«</h3><p>ä¸¤è€…éƒ½æ˜¯ä¼ è¾“å±‚åè®®ã€‚</p><ul><li>UDPä¸æä¾›å¤æ‚çš„æ§åˆ¶æœºåˆ¶ï¼Œåˆ©ç”¨IPæä¾›é¢å‘<strong>æ— è¿æ¥</strong>çš„é€šä¿¡æœåŠ¡ã€‚TCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œä¼ è¾“å‰éœ€è¦å…ˆå»ºç«‹è¿æ¥ã€‚</li><li>UDP<strong>ä¸€å¯¹ä¸€æˆ–è€…ä¸€å¯¹å¤šæˆ–è€…å¤šå¯¹å¤š</strong>æœåŠ¡ã€‚TCPä¸€å¯¹ä¸€ä¸¤ç‚¹æœåŠ¡ã€‚</li><li>UDPå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œ<strong>ä¸ä¿è¯å¯é äº¤ä»˜æ•°æ®</strong>(QUICè§£å†³)ã€‚TCPæ˜¯å¯é äº¤ä»˜æ•°æ®ï¼Œæ— å·®é”™ä¸ä¸¢å¤±ä¸é‡å¤æŒ‰åºåˆ°è¾¾ã€‚</li><li>UDP<strong>æ²¡æœ‰æ‹¥å¡æ§åˆ¶</strong>ï¼Œå‘é€é€Ÿç‡å¾ˆå¿«ã€‚TCPæœ‰æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶ï¼Œèƒ½ä¿è¯æ•°æ®å®‰å…¨æ€§ã€‚</li><li>UDP<strong>é¦–éƒ¨å›ºå®šä¸”å°</strong>ï¼Œ8å­—èŠ‚ã€‚TCPé¦–éƒ¨é•¿ï¼Œå¼€é”€å¤§ã€‚</li><li>UDP<strong>åŒ…å‘é€ï¼Œæœ‰è¾¹ç•Œï¼Œå¯èƒ½ä¼šä¸¢åŒ…ä¹±åº</strong>ã€‚TCPæµå‘é€ï¼Œæ²¡æœ‰è¾¹ç•Œã€‚</li><li>UDPçš„åˆ†ç‰‡æ˜¯åˆ†çš„<strong>IPå±‚MTU</strong>ï¼Œåœ¨IPå±‚åˆ†ç‰‡é‡ç»„ç„¶ååœ¨ç»™ä¼ è¾“å±‚ã€‚TCPåˆ†çš„æ˜¯ä¼ è¾“å±‚MMSï¼Œåœ¨ä¼ è¾“å±‚åˆ†å±‚ç»„è£…ã€‚</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230439961.png" alt="UDP å¤´éƒ¨æ ¼å¼" style="zoom:60%;" /><p>åœºæ™¯</p><ul><li>UDPç»å¸¸ç”¨äºåŒ…æ•°é‡å°çš„ä¸€äº›å¦‚DNSã€SNMPã€è§†é¢‘é€šè¯ã€å¤šåª’ä½“ç­‰</li><li>TCPç»å¸¸ç”¨äºFTPæ–‡ä»¶ä¼ è¾“ã€HTTP/THHPSä¼ è¾“ç­‰</li></ul><h3 id="âœ…TCPå’ŒUDPå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ"><a href="#âœ…TCPå’ŒUDPå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ" class="headerlink" title="âœ…TCPå’ŒUDPå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ"></a>âœ…TCPå’ŒUDPå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</h3><p>å¯ä»¥ã€‚</p><p>ä¼ è¾“å±‚ç«¯å£å·çš„ä½œç”¨æ˜¯<strong>åŒºåˆ†åŒä¸€ä¸ªä¸»æœºä¸Šä¸åŒåº”ç”¨ç¨‹åºçš„æ•°æ®åŒ…</strong>ã€‚</p><blockquote><p>åœ¨æ•°æ®é“¾è·¯å±‚ä¸­ï¼Œé€šè¿‡ MAC åœ°å€æ¥å¯»æ‰¾å±€åŸŸç½‘ä¸­çš„ä¸»æœºã€‚åœ¨ç½‘é™…å±‚ä¸­ï¼Œé€šè¿‡ IP åœ°å€æ¥å¯»æ‰¾ç½‘ç»œä¸­äº’è¿çš„ä¸»æœºæˆ–è·¯ç”±å™¨ã€‚åœ¨ä¼ è¾“å±‚ä¸­ï¼Œéœ€è¦é€šè¿‡ç«¯å£è¿›è¡Œå¯»å€ï¼Œæ¥è¯†åˆ«åŒä¸€è®¡ç®—æœºä¸­åŒæ—¶é€šä¿¡çš„ä¸åŒåº”ç”¨ç¨‹åºã€‚</p></blockquote><p>ä¸¤è€…åœ¨å†…æ ¸ä¸­æ—¶ä¸¤å®Œå…¨ç›¸äº’ç‹¬ç«‹çš„è½¯ä»¶æ¨¡å—ã€‚åœ¨ä¸»æœºæ”¶åˆ°æ•°æ®åŒ…æ—¶ï¼Œå¯ä»¥åœ¨IPå¤´çš„åè®®å·å­—æ®µä¸­å¾—çŸ¥æ•°æ®åŒ…æ—¶TCPè¿˜æ˜¯UDPï¼Œä»è€Œåˆ†é€å¤„ç†ã€‚éšåæ ¹æ®ç»™çš„ç«¯å£å·é€åˆ°å¯¹åº”ç¨‹åºå¤„ç†ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/tcp%E5%92%8Cudp%E6%A8%A1%E5%9D%97.jpeg" alt="img" style="zoom:50%;" /><h3 id="âœ…å¤šä¸ªTCPæœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ"><a href="#âœ…å¤šä¸ªTCPæœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ" class="headerlink" title="âœ…å¤šä¸ªTCPæœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ"></a>âœ…å¤šä¸ªTCPæœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</h3><p>åŒæ—¶ç»‘å®šä¸€ä¸ªåœ°å€çš„æƒ…å†µä¸‹ç»‘å®šåŒä¸€ä¸ªç«¯å£è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼ˆAddress already in useï¼‰ï¼›</p><p>ç»‘å®šçš„åœ°å€ä¸åŒçš„æƒ…å†µä¸‹ç»‘å®šåŒä¸€ä¸ªç«¯å£æ˜¯å¯è¡Œçš„ã€‚</p><p>â€”â€”ä¸¤ä¸ªTCPåŒæ—¶ç»‘å®šIPå’Œç«¯å£å·éƒ½ç›¸åŒï¼Œæ‰§è¡Œ<code>bind()</code>æ—¶ä¼šå‡ºé”™â†‘</p><p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µï¼šç»‘å®š0.0.0.0è¿™ä¸ªåœ°å€æ„å‘³ç€ç»‘å®šäº†ä¸»æœºä¸Šæ‰€æœ‰çš„IPåœ°å€ã€‚</p><h3 id="âœ…å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ"><a href="#âœ…å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ" class="headerlink" title="âœ…å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ"></a>âœ…å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ</h3><p>å¯ä»¥ï¼Œåªè¦ä¿è¯æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£æœ‰ä¸€ä¸ä¸€è‡´ï¼ˆTCPè¿æ¥ä¸åŒï¼‰å°±å¥½ã€‚</p><h3 id="âœ…å¦‚ä½•è§£å†³æœåŠ¡ç«¯é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress-already-in-useâ€çš„é—®é¢˜ï¼Ÿ"><a href="#âœ…å¦‚ä½•è§£å†³æœåŠ¡ç«¯é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress-already-in-useâ€çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="âœ…å¦‚ä½•è§£å†³æœåŠ¡ç«¯é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress already in useâ€çš„é—®é¢˜ï¼Ÿ"></a>âœ…å¦‚ä½•è§£å†³æœåŠ¡ç«¯é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress already in useâ€çš„é—®é¢˜ï¼Ÿ</h3><blockquote><p>å½“æˆ‘ä»¬é‡å¯ TCP æœåŠ¡è¿›ç¨‹çš„æ—¶å€™ï¼Œæ„å‘³ç€é€šè¿‡æœåŠ¡å™¨ç«¯å‘èµ·äº†å…³é—­è¿æ¥æ“ä½œï¼Œäºæ˜¯å°±ä¼šç»è¿‡å››æ¬¡æŒ¥æ‰‹ï¼Œè€Œå¯¹äºä¸»åŠ¨å…³é—­æ–¹ï¼Œä¼šåœ¨ TIME_WAIT è¿™ä¸ªçŠ¶æ€é‡Œåœç•™ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å¤§çº¦ä¸º 2MSLã€‚</p><p>å½“ TCP æœåŠ¡è¿›ç¨‹é‡å¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‡ºç° TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼ŒTIME_WAIT çŠ¶æ€çš„è¿æ¥ä½¿ç”¨çš„ IP+PORT ä»ç„¶è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IP+PORT ç»„åˆï¼Œç›¸åŒæœºå™¨ä¸Šä¸èƒ½å¤Ÿåœ¨è¯¥ IP+PORT ç»„åˆä¸Šè¿›è¡Œç»‘å®šï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() å‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›äº† Address already in use çš„é”™è¯¯ã€‚</p></blockquote><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§ã€‚</p><p>è¿™æ ·å³ä½¿å­˜åœ¨ä¸€ä¸ªå’Œç»‘å®š IP+PORT ä¸€æ ·çš„ TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸ç»‘å®šæˆåŠŸï¼Œå› æ­¤å¯ä»¥æ­£å¸¸é‡å¯æˆåŠŸã€‚</p><h3 id="âœ…å®¢æˆ·ç«¯-TCP-è¿æ¥-TIME-WAIT-çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ"><a href="#âœ…å®¢æˆ·ç«¯-TCP-è¿æ¥-TIME-WAIT-çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ" class="headerlink" title="âœ…å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ"></a>âœ…å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ</h3><p>è¦çœ‹å®¢æˆ·ç«¯æ˜¯å¦éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ã€‚</p><p>å¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯ TIME_WAIT çŠ¶æ€çš„è¿æ¥è¿‡å¤šï¼Œå½“ç«¯å£èµ„æºè¢«è€—å°½ï¼Œå°±æ— æ³•ä¸è¿™ä¸ªæœåŠ¡å™¨å†å»ºç«‹è¿æ¥äº†ã€‚å³ä½¿åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œè¿˜æ˜¯å¯ä»¥ä¸å…¶ä»–æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„ï¼Œåªè¦å®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ä¸æ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆç«¯å£æ˜¯é‡å¤ä½¿ç”¨çš„ã€‚</p><h3 id="âœ…å¦‚ä½•è§£å†³å®¢æˆ·ç«¯-TCP-è¿æ¥-TIME-WAIT-è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ"><a href="#âœ…å¦‚ä½•è§£å†³å®¢æˆ·ç«¯-TCP-è¿æ¥-TIME-WAIT-è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="âœ…å¦‚ä½•è§£å†³å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ"></a>âœ…å¦‚ä½•è§£å†³å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ</h3><p>æ‰“å¼€ net.ipv4.tcp_tw_reuse è¿™ä¸ªå†…æ ¸å‚æ•°ã€‚</p><p>å› ä¸ºå¼€å¯äº†è¿™ä¸ªå†…æ ¸å‚æ•°åï¼Œå®¢æˆ·ç«¯è°ƒç”¨ connect å‡½æ•°æ—¶ï¼Œå¦‚æœé€‰æ‹©åˆ°çš„ç«¯å£ï¼Œå·²ç»è¢«ç›¸åŒå››å…ƒç»„çš„è¿æ¥å ç”¨çš„æ—¶å€™ï¼Œå°±ä¼šåˆ¤æ–­è¯¥è¿æ¥æ˜¯å¦å¤„äº TIME_WAIT çŠ¶æ€ã€‚</p><p>å¦‚æœè¯¥è¿æ¥å¤„äº TIME_WAIT çŠ¶æ€å¹¶ä¸” TIME_WAIT çŠ¶æ€æŒç»­çš„æ—¶é—´è¶…è¿‡äº† 1 ç§’ï¼Œé‚£ä¹ˆå°±ä¼šé‡ç”¨è¿™ä¸ªè¿æ¥ï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨è¯¥ç«¯å£äº†ã€‚</p><h3 id="ğŸˆ¯è¿æ¥ğŸˆ¯æ–­å¼€"><a href="#ğŸˆ¯è¿æ¥ğŸˆ¯æ–­å¼€" class="headerlink" title="ğŸˆ¯è¿æ¥ğŸˆ¯æ–­å¼€"></a>ğŸˆ¯è¿æ¥ğŸˆ¯æ–­å¼€</h3><h3 id="ğŸˆ¯æ‹¥å¡å¤„ç†"><a href="#ğŸˆ¯æ‹¥å¡å¤„ç†" class="headerlink" title="ğŸˆ¯æ‹¥å¡å¤„ç†"></a>ğŸˆ¯<a href="#####%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6">æ‹¥å¡å¤„ç†</a></h3><h3 id="âœ…TCPæ€ä¹ˆä¿è¯å¯é æ€§ï¼Ÿ"><a href="#âœ…TCPæ€ä¹ˆä¿è¯å¯é æ€§ï¼Ÿ" class="headerlink" title="âœ…TCPæ€ä¹ˆä¿è¯å¯é æ€§ï¼Ÿ"></a>âœ…TCPæ€ä¹ˆä¿è¯å¯é æ€§ï¼Ÿ</h3><ol><li>åºåˆ—å·å’Œç¡®è®¤ï¼šTCP ä¸­çš„æ¯ä¸ªæ•°æ®æ®µéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åºåˆ—å·ï¼Œä»¥ä¾¿æ¥æ”¶æ–¹å¯ä»¥æŒ‰æ­£ç¡®çš„é¡ºåºé‡ç»„æ•°æ®ã€‚æ¥æ”¶æ–¹ä¼šå‘é€ç¡®è®¤æ¶ˆæ¯ï¼ˆACKï¼‰æ¥å‘ŠçŸ¥å‘é€æ–¹å·²ç»æˆåŠŸæ¥æ”¶åˆ°æ•°æ®ã€‚å¦‚æœå‘é€æ–¹åœ¨åˆç†çš„æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå®ƒä¼šé‡ä¼ ç›¸åº”çš„æ•°æ®æ®µã€‚</li><li>æ•°æ®é‡ä¼ ï¼šå¦‚æœå‘é€æ–¹æ²¡æœ‰æ”¶åˆ°æ¥æ”¶æ–¹çš„ç¡®è®¤æ¶ˆæ¯ï¼Œæˆ–è€…æ¥æ”¶æ–¹æ£€æµ‹åˆ°ä¸¢å¤±çš„æ•°æ®ï¼ŒTCP ä¼šè‡ªåŠ¨é‡ä¼ ä¸¢å¤±çš„æ•°æ®æ®µï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œå¯é æ€§ã€‚</li><li>æµé‡æ§åˆ¶ï¼šTCP ä½¿ç”¨çª—å£æœºåˆ¶æ¥æ§åˆ¶æ•°æ®çš„æµé‡ï¼Œä»¥é˜²æ­¢å‘é€æ–¹å‘é€è¿‡å¤šçš„æ•°æ®ï¼Œå¯¼è‡´æ¥æ”¶æ–¹æ— æ³•å¤„ç†ã€‚æ¥æ”¶æ–¹å¯ä»¥é€šè¿‡è°ƒæ•´çª—å£å¤§å°æ¥å‘ŠçŸ¥å‘é€æ–¹å…¶å¯æ¥å—çš„æ•°æ®é‡ã€‚</li><li>æ‹¥å¡æ§åˆ¶ï¼šTCP ä½¿ç”¨æ‹¥å¡æ§åˆ¶ç®—æ³•æ¥é˜²æ­¢ç½‘ç»œæ‹¥å¡ã€‚å¦‚æœç½‘ç»œä¸­å‘ç”Ÿæ‹¥å¡ï¼ŒTCP ä¼šå‡å°‘å‘é€é€Ÿç‡ä»¥å‡è½»ç½‘ç»œå‹åŠ›ï¼Œç„¶åé€æ¸å¢åŠ å‘é€é€Ÿç‡ä»¥æµ‹è¯•ç½‘ç»œæ˜¯å¦å·²æ¢å¤æ­£å¸¸ã€‚</li><li>å»¶è¿Ÿç¡®è®¤ï¼šTCP å…è®¸æ¥æ”¶æ–¹å»¶è¿Ÿå‘é€ç¡®è®¤æ¶ˆæ¯ï¼Œä»¥å‡å°‘ç½‘ç»œä¸Šçš„ç¡®è®¤æ¶ˆæ¯æ•°é‡ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚ä½†æ˜¯ï¼Œå‘é€æ–¹é€šå¸¸ä¼šé‡‡ç”¨è¶…æ—¶é‡ä¼ æœºåˆ¶ï¼Œä»¥ç¡®ä¿æ•°æ®åŠæ—¶è¢«æ¥æ”¶ç¡®è®¤ã€‚</li><li>æœ‰é™çŠ¶æ€æœºï¼šTCP åœ¨é€šä¿¡çš„ä¸åŒé˜¶æ®µä½¿ç”¨æœ‰é™çŠ¶æ€æœºæ¥ç®¡ç†è¿æ¥çš„å»ºç«‹ã€ç»´æŠ¤å’Œå…³é—­ã€‚è¿™æœ‰åŠ©äºç¡®ä¿è¿æ¥çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</li></ol><h3 id="âœ…https-å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºä»€ä¹ˆç”¨éå¯¹ç§°åŠ å¯†æ¥äº¤æ¢å¯†é’¥ï¼Ÿ"><a href="#âœ…https-å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºä»€ä¹ˆç”¨éå¯¹ç§°åŠ å¯†æ¥äº¤æ¢å¯†é’¥ï¼Ÿ" class="headerlink" title="âœ…https å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºä»€ä¹ˆç”¨éå¯¹ç§°åŠ å¯†æ¥äº¤æ¢å¯†é’¥ï¼Ÿ"></a>âœ…https å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºä»€ä¹ˆç”¨éå¯¹ç§°åŠ å¯†æ¥äº¤æ¢å¯†é’¥ï¼Ÿ</h3><p>ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿é€šä¿¡çš„æœºå¯†æ€§å’Œå®‰å…¨æ€§ã€‚</p><ul><li>ä¸€æŠŠå…¬é’¥ä¸€æŠŠç§é’¥ï¼Œå…¬é’¥å¯ä¼ é€’ï¼Œç§é’¥è‡ªå·±æ”¥ç€ï¼Œå¾ˆå®‰å…¨</li><li>CAè®¤è¯ï¼Œæ•°å­—ç­¾åï¼Œæ˜¯å¦çœŸå®</li><li>ä½¿ç”¨éå¯¹ç§°åŠ å¯†äº¤æ¢ä¼šè¯å¯†é’¥</li></ul><h3 id="âœ…å¦‚æœæœ‰ç¬¬ä¸‰æ–¹ä¼ ç»™å®¢æœç«¯ä¸€ä¸ªå‡å¯†é’¥å‘¢ï¼Œå¦‚ä½•åˆ¤å®šï¼Ÿ"><a href="#âœ…å¦‚æœæœ‰ç¬¬ä¸‰æ–¹ä¼ ç»™å®¢æœç«¯ä¸€ä¸ªå‡å¯†é’¥å‘¢ï¼Œå¦‚ä½•åˆ¤å®šï¼Ÿ" class="headerlink" title="âœ…å¦‚æœæœ‰ç¬¬ä¸‰æ–¹ä¼ ç»™å®¢æœç«¯ä¸€ä¸ªå‡å¯†é’¥å‘¢ï¼Œå¦‚ä½•åˆ¤å®šï¼Ÿ"></a>âœ…å¦‚æœæœ‰ç¬¬ä¸‰æ–¹ä¼ ç»™å®¢æœç«¯ä¸€ä¸ªå‡å¯†é’¥å‘¢ï¼Œå¦‚ä½•åˆ¤å®šï¼Ÿ</h3><p>CAè®¤è¯+è‡ªä¸»åˆ¤æ–­â€¦</p><h3 id="ğŸˆ¯æ€ä¹ˆé€šè¿‡æ•°å­—è¯ä¹¦éªŒè¯æœåŠ¡ç«¯èº«ä»½çš„å‘¢ï¼Ÿ"><a href="#ğŸˆ¯æ€ä¹ˆé€šè¿‡æ•°å­—è¯ä¹¦éªŒè¯æœåŠ¡ç«¯èº«ä»½çš„å‘¢ï¼Ÿ" class="headerlink" title="ğŸˆ¯æ€ä¹ˆé€šè¿‡æ•°å­—è¯ä¹¦éªŒè¯æœåŠ¡ç«¯èº«ä»½çš„å‘¢ï¼Ÿ"></a>ğŸˆ¯æ€ä¹ˆé€šè¿‡æ•°å­—è¯ä¹¦éªŒè¯æœåŠ¡ç«¯èº«ä»½çš„å‘¢ï¼Ÿ</h3><h3 id="âœ…ä¸ºä»€ä¹ˆ-https-å»ºç«‹è¿æ¥ç”¨éå¯¹ç§°åŠ å¯†ï¼Œä¼ è¾“æ•°æ®ç”¨å¯¹ç§°åŠ å¯†å‘¢ï¼Ÿ"><a href="#âœ…ä¸ºä»€ä¹ˆ-https-å»ºç«‹è¿æ¥ç”¨éå¯¹ç§°åŠ å¯†ï¼Œä¼ è¾“æ•°æ®ç”¨å¯¹ç§°åŠ å¯†å‘¢ï¼Ÿ" class="headerlink" title="âœ…ä¸ºä»€ä¹ˆ https å»ºç«‹è¿æ¥ç”¨éå¯¹ç§°åŠ å¯†ï¼Œä¼ è¾“æ•°æ®ç”¨å¯¹ç§°åŠ å¯†å‘¢ï¼Ÿ"></a>âœ…ä¸ºä»€ä¹ˆ https å»ºç«‹è¿æ¥ç”¨éå¯¹ç§°åŠ å¯†ï¼Œä¼ è¾“æ•°æ®ç”¨å¯¹ç§°åŠ å¯†å‘¢ï¼Ÿ</h3><p>å‰è€…æ˜¯ä¸ºäº†ç¡®è®¤ä¿¡æ¯ä¼ è¾“çš„ä¸¤æ–¹æ˜¯å¦æ˜¯å¯¹çš„ï¼Œåè€…æ˜¯ç¡®è®¤å¥½äººä¹‹åèƒ½å¤Ÿé«˜æ•ˆçš„åŠ å¯†è§£å¯†æ•°æ®ã€‚</p><h3 id="ğŸ’¦Socketç¼–ç¨‹"><a href="#ğŸ’¦Socketç¼–ç¨‹" class="headerlink" title="ğŸ’¦Socketç¼–ç¨‹"></a>ğŸ’¦Socketç¼–ç¨‹</h3><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230545997.png" alt="åŸºäº TCP åè®®çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å·¥ä½œ" style="zoom:50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/socket%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.drawio.png" alt="socket ä¸‰æ¬¡æ¡æ‰‹" style="zoom:50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230538308.png" alt="å®¢æˆ·ç«¯è°ƒç”¨ close è¿‡ç¨‹" style="zoom:50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3.jpg" alt="åŠè¿æ¥é˜Ÿåˆ—ä¸å…¨è¿æ¥é˜Ÿåˆ—" style="zoom:50%;" /><h2 id="IP"><a href="#IP" class="headerlink" title="IP"></a><a href="https://xiaolincoding.com/network/4_ip/ip_base.html#%E5%89%8D%E8%8F%9C-ip-%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86">IP</a></h2><h2 id="âœ…DNSè§£æè¿‡ç¨‹ï¼ˆåº”ç”¨å±‚-ä¸¤ç§æ–¹å¼ï¼‰"><a href="#âœ…DNSè§£æè¿‡ç¨‹ï¼ˆåº”ç”¨å±‚-ä¸¤ç§æ–¹å¼ï¼‰" class="headerlink" title="âœ…DNSè§£æè¿‡ç¨‹ï¼ˆåº”ç”¨å±‚-ä¸¤ç§æ–¹å¼ï¼‰"></a>âœ…DNSè§£æè¿‡ç¨‹ï¼ˆåº”ç”¨å±‚-ä¸¤ç§æ–¹å¼ï¼‰</h2><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/c9b1c8aa6b5afb3b7ce3c11da4050b95.jpg" alt="c9b1c8aa6b5afb3b7ce3c11da4050b95"></p><h2 id="âœ…äº¤æ¢æœº-é“¾è·¯å±‚-è‡ªå­¦ä¹ è¿‡ç¨‹"><a href="#âœ…äº¤æ¢æœº-é“¾è·¯å±‚-è‡ªå­¦ä¹ è¿‡ç¨‹" class="headerlink" title="âœ…äº¤æ¢æœº(é“¾è·¯å±‚)è‡ªå­¦ä¹ è¿‡ç¨‹"></a>âœ…äº¤æ¢æœº(é“¾è·¯å±‚)è‡ªå­¦ä¹ è¿‡ç¨‹</h2><p>äº¤æ¢æœºè‡ªå­¦ä¹ ï¼ˆSwitch Self-Learningï¼‰æ˜¯æŒ‡ç½‘ç»œäº¤æ¢æœºé€šè¿‡ç›‘è§†å’Œå­¦ä¹ æ•°æ®åŒ…çš„æºMACåœ°å€æ¥æ„å»ºMACåœ°å€è¡¨ï¼Œä»¥ä¾¿æ­£ç¡®åœ°è½¬å‘æ•°æ®åŒ…åˆ°é€‚å½“çš„ç›®æ ‡ç«¯å£ã€‚ä»¥ä¸‹æ˜¯äº¤æ¢æœºè‡ªå­¦ä¹ çš„è¿‡ç¨‹ï¼š</p><ol><li><p>åˆå§‹çŠ¶æ€ï¼šå½“äº¤æ¢æœºé¦–æ¬¡å¯åŠ¨æˆ–é‡ç½®æ—¶ï¼Œå…¶MACåœ°å€è¡¨ä¸ºç©ºã€‚äº¤æ¢æœºä¸çŸ¥é“ä»»ä½•è®¾å¤‡çš„ä½ç½®æˆ–MACåœ°å€ã€‚</p></li><li><p>æ•°æ®åŒ…åˆ°è¾¾ï¼šå½“æ•°æ®åŒ…åˆ°è¾¾äº¤æ¢æœºçš„æŸä¸ªç«¯å£æ—¶ï¼Œäº¤æ¢æœºä¼šæ£€æŸ¥æ•°æ®åŒ…ä¸­çš„æºMACåœ°å€ã€‚</p></li><li><p>å­¦ä¹ æºMACåœ°å€ï¼šäº¤æ¢æœºå°†æºMACåœ°å€ä¸æ¥æ”¶åˆ°æ•°æ®åŒ…çš„ç«¯å£å…³è”èµ·æ¥ï¼Œå¹¶å°†è¿™ä¸ªä¿¡æ¯æ·»åŠ åˆ°å…¶MACåœ°å€è¡¨ä¸­ã€‚å¦‚æœäº¤æ¢æœºå·²ç»çŸ¥é“è¿™ä¸ªMACåœ°å€ï¼Œå®ƒä¼šæ›´æ–°è¯¥åœ°å€çš„æ¡ç›®ã€‚</p></li><li><p>å¹¿æ’­æ•°æ®åŒ…ï¼šå¦‚æœäº¤æ¢æœºæ— æ³•åœ¨å…¶MACåœ°å€è¡¨ä¸­æ‰¾åˆ°ç›®æ ‡MACåœ°å€ï¼ˆå³ç›®æ ‡MACåœ°å€ä¸åœ¨MACåœ°å€è¡¨ä¸­ï¼‰ï¼Œå®ƒå°†æ•°æ®åŒ…å¹¿æ’­åˆ°æ‰€æœ‰å…¶ä»–ç«¯å£ï¼Œä»¥ä¾¿æ‰¾åˆ°ç›®æ ‡è®¾å¤‡ã€‚è¿™æ˜¯å› ä¸ºäº¤æ¢æœºä¸çŸ¥é“ç›®æ ‡è®¾å¤‡çš„ç¡®åˆ‡ä½ç½®ï¼Œæ‰€ä»¥å®ƒéœ€è¦å¹¿æ’­ä»¥ç¡®å®šç›®æ ‡è®¾å¤‡åœ¨å“ªä¸ªç«¯å£ä¸Šã€‚</p></li><li><p>å­¦ä¹ ç›®æ ‡MACåœ°å€ï¼šå½“ç›®æ ‡è®¾å¤‡å“åº”å¹¿æ’­å¹¶å°†å“åº”æ•°æ®åŒ…å‘é€å›äº¤æ¢æœºæ—¶ï¼Œäº¤æ¢æœºä¼šå­¦ä¹ åˆ°ç›®æ ‡è®¾å¤‡çš„MACåœ°å€ï¼Œå¹¶å°†å…¶ä¸æ¥æ”¶åˆ°æ•°æ®åŒ…çš„ç«¯å£å…³è”èµ·æ¥ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°MACåœ°å€è¡¨ä¸­ã€‚</p></li><li><p>æ›´æ–°MACåœ°å€è¡¨ï¼šäº¤æ¢æœºä¼šæŒç»­ç›‘è§†æµç»å®ƒçš„æ•°æ®åŒ…ï¼Œä¸æ–­å­¦ä¹ å’Œæ›´æ–°MACåœ°å€è¡¨ã€‚è¿™ä½¿å¾—äº¤æ¢æœºèƒ½å¤Ÿåœ¨ä»¥åçš„æ•°æ®åŒ…ä¸­ç›´æ¥å°†æ•°æ®åŒ…è½¬å‘åˆ°æ­£ç¡®çš„ç«¯å£ï¼Œè€Œæ— éœ€å¹¿æ’­ã€‚</p></li></ol><p>é€šè¿‡è¿™ä¸ªè‡ªå­¦ä¹ çš„è¿‡ç¨‹ï¼Œäº¤æ¢æœºèƒ½å¤Ÿæœ‰æ•ˆåœ°ç®¡ç†å’Œä¼˜åŒ–æ•°æ®æµï¼Œå‡å°‘ç½‘ç»œä¸­çš„å¹¿æ’­é£æš´ï¼Œå¹¶æé«˜ç½‘ç»œæ€§èƒ½ã€‚å®ƒé€šè¿‡æ„å»ºå’Œç»´æŠ¤MACåœ°å€è¡¨æ¥ç¡®å®šæ¯ä¸ªè®¾å¤‡çš„ä½ç½®ï¼Œä»è€Œåœ¨æ•°æ®åŒ…è½¬å‘æ—¶èƒ½å¤Ÿæ›´ç²¾ç¡®åœ°é€‰æ‹©ç›®æ ‡ç«¯å£ã€‚è¿™æœ‰åŠ©äºå‡å°‘ç½‘ç»œæ‹¥å¡ï¼Œæé«˜æ•°æ®åŒ…ä¼ è¾“æ•ˆç‡ã€‚</p><h2 id="âœ…æœåŠ¡ç«¯å¦‚ä½•çŸ¥é“å¤šä¸ªè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ï¼Ÿ"><a href="#âœ…æœåŠ¡ç«¯å¦‚ä½•çŸ¥é“å¤šä¸ªè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ï¼Ÿ" class="headerlink" title="âœ…æœåŠ¡ç«¯å¦‚ä½•çŸ¥é“å¤šä¸ªè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ï¼Ÿ"></a>âœ…æœåŠ¡ç«¯å¦‚ä½•çŸ¥é“å¤šä¸ªè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ï¼Ÿ</h2><ol><li>ä¼šè¯ç®¡ç†ï¼š<ul><li>ä¼šè¯æ˜¯ä¸€ç§æœåŠ¡å™¨ç”¨æ¥è·Ÿè¸ªç”¨æˆ·åœ¨ç½‘ç«™ä¸Šçš„æ´»åŠ¨çš„æ–¹å¼ã€‚æ¯ä¸ªç”¨æˆ·åœ¨è®¿é—®ç½‘ç«™æ—¶éƒ½ä¼šè·å¾—ä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯æ ‡è¯†ï¼Œé€šå¸¸ä»¥ä¼šè¯cookieçš„å½¢å¼å­˜å‚¨åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ã€‚æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªä¼šè¯æ ‡è¯†æ¥è¯†åˆ«ç”¨æˆ·å¹¶å°†å¤šä¸ªè¯·æ±‚å…³è”åˆ°åŒä¸€ä¸ªç”¨æˆ·ã€‚</li><li>ä¼šè¯ç®¡ç†å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯å®ç°ï¼Œé€šå¸¸ä¼šä½¿ç”¨æœåŠ¡å™¨ç«¯çš„å­˜å‚¨ï¼ˆå¦‚å†…å­˜ã€æ•°æ®åº“æˆ–ç¼“å­˜ï¼‰æ¥å­˜å‚¨ä¼šè¯æ•°æ®ã€‚ä¸€æ—¦ç”¨æˆ·æˆåŠŸç™»å½•ï¼ŒæœåŠ¡å™¨ä¼šä¸ºç”¨æˆ·åˆ›å»ºä¸€ä¸ªä¼šè¯ï¼Œå¹¶å°†ä¼šè¯æ ‡è¯†å‘é€åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ã€‚éšåçš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šåŒ…å«è¿™ä¸ªä¼šè¯æ ‡è¯†ï¼ŒæœåŠ¡å™¨é€šè¿‡å®ƒæ¥ç¡®å®šè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ã€‚</li></ul></li><li>èº«ä»½éªŒè¯ï¼š<ul><li>ç”¨æˆ·ç™»å½•æ˜¯è¯†åˆ«ç”¨æˆ·çš„å¦ä¸€ç§å¸¸è§æ–¹å¼ã€‚å½“ç”¨æˆ·è¿›è¡Œç™»å½•æ“ä½œæ—¶ï¼ŒæœåŠ¡å™¨ä¼šéªŒè¯å…¶å‡­æ®ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·åå’Œå¯†ç ï¼‰ï¼Œå¹¶åœ¨æˆåŠŸéªŒè¯åå°†ç”¨æˆ·æ ‡è¯†ä¸ä¼šè¯ç›¸å…³è”ã€‚</li><li>èº«ä»½éªŒè¯å¯ä»¥åŸºäºä¸åŒçš„æœºåˆ¶ï¼ŒåŒ…æ‹¬åŸºæœ¬èº«ä»½éªŒè¯ã€ä»¤ç‰ŒéªŒè¯ã€OAuth 2.0ã€OpenID Connect ç­‰ã€‚ä¸€æ—¦ç”¨æˆ·ç™»å½•ï¼ŒæœåŠ¡å™¨å°±å¯ä»¥åœ¨åç»­è¯·æ±‚ä¸­ä½¿ç”¨ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯æ¥ç¡®å®šè¯·æ±‚å±äºå“ªä¸ªç”¨æˆ·ã€‚</li></ul></li><li>IP åœ°å€å’Œå…¶ä»–æ ‡è¯†ç¬¦ï¼š<ul><li>æœåŠ¡å™¨è¿˜å¯ä»¥æ ¹æ®ç”¨æˆ·çš„ IP åœ°å€å’Œå…¶ä»–æµè§ˆå™¨æä¾›çš„æ ‡è¯†ç¬¦æ¥å°è¯•è¯†åˆ«ç”¨æˆ·ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•é€šå¸¸ä¸å¤Ÿå¯é ï¼Œå› ä¸ºå¤šä¸ªç”¨æˆ·å¯èƒ½å…±äº«ç›¸åŒçš„ IP åœ°å€ï¼Œè€Œä¸”ä¸€äº›ç”¨æˆ·å¯èƒ½ä½¿ç”¨ä»£ç†æœåŠ¡å™¨æˆ– VPNï¼Œå¯¼è‡´ IP åœ°å€å˜åŒ–é¢‘ç¹ã€‚</li></ul></li></ol><h2 id="ğŸˆ¯æœåŠ¡å™¨çŠ¶æ€ç "><a href="#ğŸˆ¯æœåŠ¡å™¨çŠ¶æ€ç " class="headerlink" title="ğŸˆ¯æœåŠ¡å™¨çŠ¶æ€ç "></a>ğŸˆ¯æœåŠ¡å™¨çŠ¶æ€ç </h2><h1 id="âš™ï¸OS"><a href="#âš™ï¸OS" class="headerlink" title="âš™ï¸OS"></a>âš™ï¸OS</h1><p><a href="https://xiaolincoding.com/os/4_process/process_base.html#_5-1-%E8%BF%9B%E7%A8%8B%E3%80%81%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86">target</a></p><h2 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>å½“æˆ‘ä»¬åœ¨è¿è¡Œä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªæ–‡ä»¶ä¼šè¢«è£…è½½åˆ°å†…å­˜ä¸­ï¼Œæ¥ç€CPUä¼šæ‰§è¡Œè¿™ä¸ªç¨‹åºä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤ï¼Œè¿™ä¸ªè¿è¡Œä¸­çš„ç¨‹åºè¢«ç§°ä¸ºè¿›ç¨‹ã€‚    </p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/6-%E5%81%9A%E8%8F%9C%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B%E5%85%B3%E7%B3%BB.jpg" alt="img" style="zoom: 67%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/5-%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C.jpg" alt="å¹¶å‘ä¸å¹¶è¡Œ" style="zoom:67%;" /><h3 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h3><ul><li>è¿è¡Œ</li><li>å°±ç»ª</li><li>é˜»å¡</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/7-%E8%BF%9B%E7%A8%8B%E4%B8%89%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81.jpg" alt="è¿›ç¨‹çš„ä¸‰ç§åŸºæœ¬çŠ¶æ€" style="zoom: 67%;" /><ul><li>åˆ›å»º</li><li>ç»“æŸ</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/8-%E8%BF%9B%E7%A8%8B%E4%BA%94%E4%B8%AA%E7%8A%B6%E6%80%81.jpg" alt="è¿›ç¨‹äº”ç§çŠ¶æ€çš„å˜è¿" style="zoom:67%;" /><ul><li>é˜»å¡</li><li>æŒ‚èµ·</li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/10-%E8%BF%9B%E7%A8%8B%E4%B8%83%E4%B8%AD%E7%8A%B6%E6%80%81.jpg" alt="ä¸ƒç§çŠ¶æ€å˜è¿" style="zoom:67%;" /><h3 id="è¿›ç¨‹çš„æ§åˆ¶ç»“æ„"><a href="#è¿›ç¨‹çš„æ§åˆ¶ç»“æ„" class="headerlink" title="è¿›ç¨‹çš„æ§åˆ¶ç»“æ„"></a>è¿›ç¨‹çš„æ§åˆ¶ç»“æ„</h3><p>åœ¨OSä¸­ï¼Œä½¿ç”¨**è¿›ç¨‹æ§åˆ¶å—PCB(process control clock)**æ•°æ®ç»“æ„æ¥æè¿°è¿›ç¨‹ã€‚</p><ul><li>PCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡è¯†</li><li>PCBåŒ…å«çš„ä¿¡æ¯<ul><li>è¿›ç¨‹æè¿°ä¿¡æ¯ï¼šè¿›ç¨‹æ ‡è¯†ç¬¦ã€ç”¨æˆ·æ ‡è¯†ç¬¦</li><li>è¿›ç¨‹æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯ï¼šçŠ¶æ€ã€ä¼˜å…ˆçº§</li><li>èµ„æºåˆ†é…æ¸…å•ï¼šå†…å­˜/è™šæ‹Ÿåœ°å€ç©ºé—´ä¿¡æ¯ã€æ–‡ä»¶åˆ—è¡¨å’ŒI/Oè®¾å¤‡ä¿¡æ¯</li><li>CPUç›¸å…³ä¿¡æ¯ï¼šCPUçŠ¶æ€ä¿¡æ¯ç­‰</li></ul></li><li>æ¯ä¸ªPCBå¦‚ä½•ç»„ç»‡<ul><li>é“¾æ¥ï¼šå°†ç›¸åŒçŠ¶æ€çš„è¿›ç¨‹é“¾åœ¨ä¸€èµ·ï¼Œç»„æˆå„ç§é˜Ÿåˆ—ï¼Œæœ‰è¿è¡ŒæŒ‡é’ˆ<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/12-PCB%E7%8A%B6%E6%80%81%E9%93%BE%E8%A1%A8%E7%BB%84%E7%BB%87.jpg" alt="å°±ç»ªé˜Ÿåˆ—å’Œé˜»å¡é˜Ÿåˆ—"></li><li>ç´¢å¼•ï¼šå°†ç›¸åŒçš„çŠ¶æ€çš„è¿›ç¨‹ç»„ç»‡åœ¨ä¸€ä¸ªç´¢å¼•è¡¨ä¸­ï¼Œç´¢å¼•è¡¨æ¯é¡¹æŒ‡å‘å“åº”çš„PCB</li><li>ä¸€èˆ¬ä¼šé€‰æ‹©é“¾æ¥æ–¹å¼ï¼Œå› ä¸ºä¸´æ—¶è¿›ç¨‹çš„åˆ›å»ºå’Œé”€æ¯é¢‘ç¹ï¼Œæ›´é€‚åˆè¿™ç§çµæ´»æ’å…¥åˆ é™¤çš„ç»“æ„ï¼</li></ul></li></ul><h3 id="è¿›ç¨‹çš„æ§åˆ¶"><a href="#è¿›ç¨‹çš„æ§åˆ¶" class="headerlink" title="è¿›ç¨‹çš„æ§åˆ¶"></a>è¿›ç¨‹çš„æ§åˆ¶</h3><p>åˆ›å»ºâ€”ç»ˆæ­¢â€”é˜»å¡â€”å”¤é†’çš„è¿‡ç¨‹ã€‚</p><ol><li>åˆ›å»ºï¼šOSå…è®¸åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åˆ›å»ºå¦ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å…è®¸å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹çš„æ‰€æœ‰èµ„æºã€‚è¿‡ç¨‹â†“<ol><li>ç”³è¯·ä¸€ä¸ªç©ºç™½çš„PCBï¼Œå‘PCBä¸­å¡«å†™ä¸€äº›æ§åˆ¶ç®¡ç†è¿›ç¨‹çš„ä¿¡æ¯ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</li><li>åˆ†é…è¿è¡Œæ—¶æ‰€å¿…éœ€çš„èµ„æº</li><li>å°†PCBæ’å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è¢«è°ƒåº¦è¿è¡Œ</li></ol></li><li>ç»ˆæ­¢ï¼šæ­£/å¼‚å¸¸ç»“æŸã€å¤–ç•Œå¹²é¢„å¯¼è‡´è¿›ç¨‹ç»ˆæ­¢ã€‚å­è¿›ç¨‹è¢«ç»ˆæ­¢çš„æ—¶å€™å°†èµ„æºè¿˜ç»™çˆ¶è¿›ç¨‹ï¼›çˆ¶è¿›ç¨‹ç»ˆæ­¢åå­è¿›ç¨‹å˜æˆå­¤å„¿è¿›ç¨‹ï¼Œä¼šè¢«1å·è¿›ç¨‹æ”¶å…»ï¼Œå¹¶ç”±1å·è¿›ç¨‹å¯¹å®ƒå®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚è¿‡ç¨‹â†“<ol><li>æŸ¥æ‰¾éœ€è¦ç»ˆæ­¢çš„è¿›ç¨‹çš„PCB</li><li>å¦‚æœå¤„äºæ‰§è¡ŒçŠ¶æ€ï¼Œç«‹å³ç»ˆæ­¢ï¼Œå°†CPUåˆ†é…ç»™å…¶ä»–è¿›ç¨‹</li><li>å¦‚æœè¿˜æœ‰å­è¿›ç¨‹ï¼Œå°†å…¶äº¤ç»™1å·è¿›ç¨‹æ¥ç®¡</li><li>å°†è¯¥è¿›ç¨‹æ‰€æœ‰çš„èµ„æºå½’è¿˜ç»™OS</li><li>å°†å…¶ä»PCBæ‰€åœ¨çš„é˜Ÿåˆ—ä¸­åˆ é™¤</li></ol></li><li>é˜»å¡ï¼šå½“è¿›ç¨‹éœ€è¦ç­‰å¾…æŸä¸€äº‹ä»¶å®Œæˆæ—¶ï¼Œå¯ä»¥è°ƒç”¨é˜»å¡è¯­å¥å°†è‡ªå·±é˜»å¡ç­‰å¾…ï¼Œä¸€æ—¦è¢«é˜»å¡ç­‰å¾…ï¼Œå°±åªèƒ½ç”±å¦ä¸€ä¸ªè¿›ç¨‹å”¤é†’ã€‚è¿‡ç¨‹â†“<ol><li>æ‰¾åˆ°å³å°†è¢«é˜»å¡è¿›ç¨‹æ ‡è¯†å·å¯¹åº”çš„PCB</li><li>å¦‚æœä¸ºè¿è¡ŒçŠ¶æ€ï¼Œä¿æŠ¤ç°åœºï¼Œè½¬æ¢çŠ¶æ€ï¼Œåœæ­¢è¿è¡Œ</li><li>å°†PCBç§»åˆ°é˜»å¡é˜Ÿåˆ—é‡Œ</li></ol></li><li>å”¤é†’ï¼šæ­£åœ¨é˜»å¡é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹æ‰€æœŸå¾…çš„äº‹ä»¶å‡ºç°ï¼Œæ‰èƒ½è¢«å”¤é†’ã€‚è¿‡ç¨‹â†“<ol><li>æ‰¾åˆ°è¿™ä¸ªPCB</li><li>å°†è¿™ä¸ªPCBä»é˜»å¡é˜Ÿåˆ—ç§»å‡º</li><li>æƒ³è¿™ä¸ªPCBæ”¾è¿›å°±ç»ªé˜Ÿåˆ—é‡Œ</li></ol></li></ol><h3 id="è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢"><a href="#è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢" class="headerlink" title="è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢"></a>è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</h3><p>ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ã€‚</p><h4 id="CPUä¸Šä¸‹æ–‡åˆ‡æ¢"><a href="#CPUä¸Šä¸‹æ–‡åˆ‡æ¢" class="headerlink" title="CPUä¸Šä¸‹æ–‡åˆ‡æ¢"></a>CPUä¸Šä¸‹æ–‡åˆ‡æ¢</h4><p>å¤§å¤šæ•°OSæ”¯æŒå¤šä»»åŠ¡ï¼Œå³å¤§äºCPUæ•°é‡çš„ä»»åŠ¡åŒæ—¶è¿è¡Œã€‚ä½†å®é™…ä¸Šå¹¶éåŒæ—¶è¿è¡Œã€‚</p><p>OSéœ€è¦äº‹å…ˆå¸®CPUè®¾ç½®å¥½<strong>CPUå¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨</strong>ã€‚å¯„å­˜å™¨è¿™ä¸ªä¸œè¥¿æ˜¯ä¸€ä¸ªå†…éƒ¨å®¹é‡å°ä½†æ˜¯é€Ÿåº¦æå¿«çš„ç¼“å­˜ã€‚è®¡æ•°å™¨æ˜¯ç”¨æ¥å­˜å‚¨CPUæ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ä½ç½®ã€æˆ–è€…å³å°†æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„ä½ç½®ã€‚</p><p>CPUå¯„å­˜å™¨å’Œè®¡æ•°å™¨æ˜¯CPUåœ¨è¿è¡Œä»»ä½•ä»»åŠ¡ä¹‹å‰ï¼Œæ‰€å¿…é¡»ä¾èµ–çš„ç¯å¢ƒã€‚è¿™äº›ç¯å¢ƒå°±å«åš<strong>CPUä¸Šä¸‹æ–‡</strong>ã€‚</p><p><strong>CPUä¸Šä¸‹æ–‡åˆ‡æ¢</strong>å°±æ˜¯æŠŠå‰ä¸€ä¸ªä»»åŠ¡çš„ä¸Šä¸‹æ–‡ä¿å­˜èµ·æ¥(ç³»ç»Ÿå†…æ ¸)ï¼Œç„¶ååŠ è½½å¥½æ–°çš„ä¸Šä¸‹æ–‡ï¼Œæœ€åæ ¹æ®è®¡æ•°å™¨æ‰€æŒ‡çš„æ–°ä»»åŠ¡è¿›è¡Œè·³è½¬è¿è¡Œã€‚</p><p>â†‘å½“ä¹‹å‰é‚£ä¸ªä»»åŠ¡å†æ¬¡è¢«åˆ†é…ç»™ CPU è¿è¡Œæ—¶ï¼ŒCPU ä¼šæ ¹æ®å†…æ ¸ä¸­ä¿å­˜çš„ä¿¡æ¯é‡æ–°åŠ è½½è¿™äº›ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä»»åŠ¡åŸæ¥çš„çŠ¶æ€ä¸å—å½±å“ï¼Œè®©ä»»åŠ¡çœ‹èµ·æ¥è¿˜æ˜¯è¿ç»­è¿è¡Œã€‚</p><h4 id="è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢"><a href="#è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢" class="headerlink" title="è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢"></a>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</h4><p>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸ä»…åŒ…æ‹¬è™šæ‹Ÿå†…å­˜ã€æ ˆã€å…¨å±€å˜é‡ç­‰ç”¨æˆ·ç©ºé—´èµ„æºï¼Œè¿˜åŒ…æ‹¬å†…æ ¸å †æ ˆã€å¯„å­˜å™¨ç­‰å†…æ ¸ç©ºé—´çš„èµ„æºã€‚</p><p>é€šå¸¸å°†äº¤æ¢ä¿¡æ¯ä¿å­˜åœ¨è¿›ç¨‹çš„PCBä¸­ï¼Œå½“è¦è¿è¡Œè¿™ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œéœ€è¦ä»PCBä¸­å–å‡ºä¸Šä¸‹æ–‡ï¼Œå°†å…¶æ¢å¤åˆ°CPUä¸­ï¼Œè¿è¡Œã€‚</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/13-%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2.jpg" alt="è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢"></p><p>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€éå¸¸å…³é”®ï¼Œåº”è¯¥æŠŠæ›´å¤šçš„æ—¶é—´èŠ±è´¹åœ¨æ‰§è¡Œç¨‹åºä¸Šï¼Œè€Œä¸æ˜¯åˆ‡æ¢ã€‚</p><h4 id="å‘ç”Ÿè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„åœºæ™¯"><a href="#å‘ç”Ÿè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„åœºæ™¯" class="headerlink" title="å‘ç”Ÿè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„åœºæ™¯"></a>å‘ç”Ÿè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„åœºæ™¯</h4><ul><li>å…¬å¹³è°ƒåº¦ï¼ŒCPUæ—¶é—´åˆ‡ç‰‡ï¼Œè½®æµåˆ†é…</li><li>è¿›ç¨‹åœ¨ç³»ç»Ÿèµ„æºä¸è¶³ï¼Œéœ€è¦æ›´å¤šèµ„æºï¼ŒæŒ‚èµ·ï¼Œæ‰§è¡Œåˆ«çš„å…ˆ</li><li>è¿›ç¨‹sleepå‡½æ•°ä¸»åŠ¨æŒ‚èµ·</li><li>ä¼˜å…ˆçº§æ›´é«˜çš„æ¥äº†</li><li>å‘ç”Ÿç¡¬ä»¶ä¸­æ–­</li></ul><h2 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h2><p>thread</p><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹ä»€ä¹ˆæ˜¯çº¿ç¨‹"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹ä»€ä¹ˆæ˜¯çº¿ç¨‹" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹ä»€ä¹ˆæ˜¯çº¿ç¨‹"></a>ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹ä»€ä¹ˆæ˜¯çº¿ç¨‹</h3><p>çº¿ç¨‹æ˜¯ä¸€ç§å®ä½“ï¼Œå®ƒæ»¡è¶³</p><ul><li>å®ä½“ä¹‹é—´å¯ä»¥å¹¶å‘è¿è¡Œ</li><li>å®ä½“ä¹‹é—´å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´</li></ul><p><strong>çº¿ç¨‹æ˜¯è¿›ç¨‹å½“ä¸­ä¸€æ¡æ‰§è¡Œæµç¨‹</strong>ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å„è‡ªä¸€å¥—ç‹¬ç«‹çš„å¯„å­˜å™¨å’Œæ ˆï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ç°æˆçš„æ§åˆ¶æµæ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ã€‚</p><h3 id="çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"><a href="#çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹"></a>çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</h3><p>ä¼˜ç‚¹</p><ul><li>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒæ—¶æœ‰å¤šæ¡çº¿ç¨‹</li><li>å„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œ</li><li>å„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å…±äº«åœ°å€ç©ºé—´å’Œæ–‡ä»¶ç­‰èµ„æº</li></ul><p>ç¼ºç‚¹</p><ul><li>å½“è¿›ç¨‹ä¸­ä¸€æ¡çº¿ç¨‹å´©æºƒæ—¶ï¼Œä¼šå¯¼è‡´æ‰€å±è¿›ç¨‹æ‰€æœ‰çº¿ç¨‹å´©æºƒ</li></ul><h3 id="ä¸¤è€…çš„æ¯”è¾ƒâ†“â†“"><a href="#ä¸¤è€…çš„æ¯”è¾ƒâ†“â†“" class="headerlink" title="ä¸¤è€…çš„æ¯”è¾ƒâ†“â†“"></a>ä¸¤è€…çš„æ¯”è¾ƒâ†“â†“</h3><h3 id="çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢"><a href="#çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢" class="headerlink" title="çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢"></a>çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</h3><p>ç°æˆæ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ‰€è°“â€œOSçš„ä»»åŠ¡è°ƒåº¦â€ï¼Œå®é™…ä¸Šè°ƒåº¦çš„å¯¹è±¡å°±æ˜¯çº¿ç¨‹ï¼Œè€Œè¿›ç¨‹åªæ˜¯ç»™çº¿ç¨‹æä¾›äº†è™šæ‹Ÿå†…å­˜å’Œå…¨å±€å˜é‡ç­‰èµ„æºã€‚</p><ul><li>è‹¥ä¸¤çº¿ç¨‹å±äºåŒä¸€ä¸ªè¿›ç¨‹ï¼Œåˆ‡æ¢è¿‡ç¨‹å’Œåˆ‡æ¢è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸€æ ·</li><li>è‹¥ä¸¤çº¿ç¨‹ä¸å±äºåŒä¸€è¿›ç¨‹ï¼Œè™šæ‹Ÿå†…å­˜ä¿æŒä¸åŠ¨ï¼Œåˆ‡æ¢çº¿ç¨‹çš„ç§æœ‰æ•°æ®ã€å¯„å­˜å™¨ç­‰ä¸å…±äº«çš„æ•°æ®å³å¯</li></ul><h3 id="çº¿ç¨‹çš„å®ç°"><a href="#çº¿ç¨‹çš„å®ç°" class="headerlink" title="çº¿ç¨‹çš„å®ç°"></a>çº¿ç¨‹çš„å®ç°</h3><h4 id="çº¿ç¨‹å®ç°æ–¹å¼åˆ†ä¸‰ç§"><a href="#çº¿ç¨‹å®ç°æ–¹å¼åˆ†ä¸‰ç§" class="headerlink" title="çº¿ç¨‹å®ç°æ–¹å¼åˆ†ä¸‰ç§"></a>çº¿ç¨‹å®ç°æ–¹å¼åˆ†ä¸‰ç§</h4><ul><li>ç”¨æˆ·çº¿ç¨‹Userï¼šåœ¨ç”¨æˆ·ç©ºé—´å†…å®ç°çš„çº¿ç¨‹ï¼Œç”±ç”¨æˆ·æ€çš„çº¿ç¨‹åº“æ¥å®Œæˆçš„çº¿ç¨‹ç®¡ç†</li><li>å†…æ ¸çº¿ç¨‹Kernelï¼šå†…æ ¸ä¸­å®ç°çš„çº¿ç¨‹ï¼Œæ˜¯å†…æ ¸ç®¡ç†çš„çº¿ç¨‹</li><li>è½»é‡çº§è¿›ç¨‹LightWeightï¼šåœ¨å†…æ ¸ä¸­ç”¨æ¥æ”¯æŒç”¨æˆ·çº¿ç¨‹</li></ul><h4 id="ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹çš„å¯¹åº”å…³ç³»ï¼š"><a href="#ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹çš„å¯¹åº”å…³ç³»ï¼š" class="headerlink" title="ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹çš„å¯¹åº”å…³ç³»ï¼š"></a>ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹çš„å¯¹åº”å…³ç³»ï¼š</h4><p>ä¸€å¯¹ä¸€ã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤š</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/18-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E7%B3%BB.jpg" alt="ä¸€å¯¹ä¸€" style="zoom: 33%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/17-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="å¤šå¯¹ä¸€" style="zoom: 33%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/19-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E5%A4%9A%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="å¤šå¯¹å¤š" style="zoom: 33%;" /></p><h4 id="ç”¨æˆ·çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"><a href="#ç”¨æˆ·çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="ç”¨æˆ·çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"></a>ç”¨æˆ·çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹</h4><p>ç†è§£ï¼š</p><p>ç”¨æˆ·çº¿ç¨‹æ˜¯åŸºäºç”¨æˆ·æ€çš„çº¿ç¨‹ç®¡ç†åº“å®ç°çš„ã€‚çº¿ç¨‹æ§åˆ¶å—<strong>TCB</strong>ä¹Ÿæ˜¯åœ¨åº“é‡Œå®ç°çš„ï¼Œå¯¹äºOSè€Œè¨€æ˜¯çœ‹ä¸åˆ°TCBçš„ã€‚</p><p>æ‰€ä»¥ç”¨æˆ·çº¿ç¨‹æ•´ä¸ªçº¿ç¨‹çš„ç®¡ç†è°ƒåº¦OSä¸ç›´æ¥å‚ä¸ï¼Œè€Œæ˜¯é€šè¿‡ç”¨æˆ·çº§çº¿ç¨‹åº“æ¥å®ç°ã€‚åŒ…æ‹¬åˆ›å»ºã€ç»ˆæ­¢ã€åŒæ­¥å’Œè°ƒåº¦ã€‚</p><p>ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹(å¤šå¯¹ä¸€)ï¼š<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/20-%E7%BA%BF%E7%A8%8BPCB-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹" style="zoom:50%;" /></p><p>ä¼˜ç‚¹ï¼š</p><ul><li>TCBç”±ç”¨æˆ·çº§çº¿ç¨‹ç®¡ç†åº“å‡½æ•°æ¥ç»´æŠ¤ï¼Œå¯ç”¨äºä¸æ”¯æŒçº¿ç¨‹æŠ€æœ¯çš„OS</li><li>ç”¨æˆ·çº¿ç¨‹åˆ‡æ¢ä¹Ÿæ˜¯â†‘ï¼Œæ— éœ€ç”¨æˆ·æ€å’Œå†…æ ¸æ€åˆ‡æ¢ï¼Œé€Ÿåº¦å¾ˆå¿«</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>OSä¸å‚ä¸çº¿ç¨‹è°ƒåº¦ï¼ŒæŸç”¨æˆ·çº¿ç¨‹å‘èµ·ç³»ç»Ÿè°ƒç”¨ä¸€é˜»å¡ï¼Œæ‰€æœ‰ç”¨æˆ·çº¿ç¨‹éƒ½æ— æ³•æ‰§è¡Œ</li><li>CPUä½¿ç”¨æƒç”¨æˆ·æ€çº¿ç¨‹æ˜¯æ— æƒæ‰“æ–­åˆ«çš„å¿åŸç„¶åä½¿ç”¨çš„ï¼Œåªç”¨OSæ‰æœ‰ï¼Œä½†ç”¨æˆ·çº¿ç¨‹ä¸å—OSç®¡ç†</li><li>æ—¶é—´ç‰‡åˆ†é…ç»™äº†è¿›ç¨‹ï¼Œé‚£ä¹ˆå¤šçº¿ç¨‹æ‰§è¡Œçš„æ—¶å€™æ¯ä¸ªçº¿ç¨‹å¾—åˆ°çš„æ—¶é—´ç‰‡å°±å°‘äº†</li></ul><h4 id="å†…æ ¸çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"><a href="#å†…æ ¸çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="å†…æ ¸çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"></a>å†…æ ¸çº¿ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹</h4><p>ç†è§£ï¼š</p><p>å†…æ ¸æ˜¯ç”±OSç®¡ç†çš„ï¼ŒTCBæ”¾OSé‡Œã€‚</p><p>å†…æ ¸çº¿ç¨‹æ¨¡å‹(ä¸€å¯¹ä¸€)ï¼š<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/21-%E7%BA%BF%E7%A8%8BPCB-%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E7%B3%BB.jpg" alt="å†…æ ¸çº¿ç¨‹æ¨¡å‹" style="zoom:50%;" /></p><p>ä¼˜ç‚¹ï¼š</p><ul><li>ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼ŒæŸå†…æ ¸çº¿ç¨‹å‘èµ·çš„ç³»ç»Ÿè°ƒç”¨è¢«é˜»å¡ï¼Œä¸ä¼šå½±å“å…¶ä»–å†…æ ¸çº¿ç¨‹çš„è¿è¡Œã€‚</li><li>åˆ†é…ç»™çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹çš„è¿›ç¨‹è·å¾—æ›´å¤šçš„CPUè¿è¡Œæ—¶é—´</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>æ”¯æŒå†…æ ¸çº¿ç¨‹çš„OSä¸­ï¼Œç”±å†…æ ¸æ¥ç»´æŠ¤è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li><li>çº¿ç¨‹çš„çŠ¶æ€å˜åŒ–éƒ½ç”±OSæŠŠæ§ï¼Œå¼€é”€ç‚¹å¤§</li></ul><h4 id="è½»é‡çº§è¿›ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"><a href="#è½»é‡çº§è¿›ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="è½»é‡çº§è¿›ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹"></a>è½»é‡çº§è¿›ç¨‹çš„ç†è§£å’Œä¼˜ç¼ºç‚¹</h4><p>ç†è§£ï¼š</p><p><em><strong>Light-weight processï¼ŒLWP</strong></em> æ˜¯å†…æ ¸æ”¯æŒçš„ç”¨æˆ·çº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªLWPï¼Œæ¯ä¸ªLWPæ˜¯è·Ÿå†…æ ¸çº¿ç¨‹ä¸€å¯¹ä¸€æ˜ å°„çš„ï¼Œä¸”LWPç”±å†…æ ¸ç®¡ç†å¹¶å’Œæ™®é€šè¿›ç¨‹ä¸€æ ·è¢«è°ƒåº¦ã€‚</p><blockquote><p>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œ<strong>LWPä¸æ™®é€šè¿›ç¨‹çš„åŒºåˆ«ä¹Ÿåœ¨äºå®ƒåªæœ‰ä¸€ä¸ªæœ€å°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œè°ƒåº¦ç¨‹åºæ‰€éœ€çš„ç»Ÿè®¡ä¿¡æ¯</strong>ã€‚</p></blockquote><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/22-LWP.jpg" alt="LWP æ¨¡å‹" style="zoom:30%;" /><p>(1:1 / N:1 / M:N / ç»„åˆ)æ¨¡å¼</p><p>ä¼˜ç‚¹/ç¼ºç‚¹?</p><h2 id="è°ƒåº¦"><a href="#è°ƒåº¦" class="headerlink" title="è°ƒåº¦"></a>è°ƒåº¦</h2><p>é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹è¿è¡Œè¿™ä¸€åŠŸèƒ½æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­å®Œæˆçš„ï¼Œé€šå¸¸ç§°ä¸º<strong>è°ƒåº¦ç¨‹åº</strong>ï¼ˆ<em>scheduler</em>ï¼‰</p><h3 id="âœ…è°ƒåº¦æ—¶æœº"><a href="#âœ…è°ƒåº¦æ—¶æœº" class="headerlink" title="âœ…è°ƒåº¦æ—¶æœº"></a>âœ…è°ƒåº¦æ—¶æœº</h3><p>åœ¨è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå½“è¿›ç¨‹è¡Œä¸€ä¸ªè¿è¡ŒçŠ¶æ€åˆ°å¦å¤–ä¸€ä¸ªçŠ¶æ€çš„æ—¶å€™ï¼Œå…¶å®ä¼šè§¦å‘ä¸€æ¬¡è°ƒåº¦ã€‚</p><h3 id="âœ…è°ƒåº¦åŸåˆ™"><a href="#âœ…è°ƒåº¦åŸåˆ™" class="headerlink" title="âœ…è°ƒåº¦åŸåˆ™"></a>âœ…è°ƒåº¦åŸåˆ™</h3><ol><li>å½“è§¦å‘I/Oè¯·æ±‚ï¼Œç­‰å¾…æ—¶CPUæ˜¯ç©ºé—²çš„ï¼Œè°ƒåº¦ç¨‹åºéœ€è¦ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹æ¥æ‰§è¡Œã€‚</li><li>è¦æé«˜ç³»ç»Ÿçš„ååç‡ï¼Œè°ƒåº¦ç¨‹åºè¦æƒè¡¡é•¿ä»»åŠ¡å’ŒçŸ­ä»»åŠ¡è¿›ç¨‹çš„è¿›è¡Œæ—¶é—´å’Œè¿è¡Œå®Œæˆçš„æ•°é‡ã€‚</li><li>å‘¨è½¬æ—¶é—´è¶Šå°è¶Šå¥½ï¼Œç­‰å¾…æ—¶é—´ä¸å®œè¿‡é•¿(å‘¨è½¬æ—¶é—´=è¿è¡Œæ—¶é—´+ç­‰å¾…æ—¶é—´)ã€‚</li><li>å°±ç»ªé˜Ÿåˆ—ä¸­è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´ä¸å®œè¿‡é•¿ã€‚</li><li>äº¤äº’å¼è¾ƒå¼ºçš„åº”ç”¨ï¼Œå“åº”æ—¶é—´æœ€å¥½çŸ­ä¸€äº›ã€‚</li></ol><p>âœ…åŸºäºä¸Šè¿°äº”æ¡åŸåˆ™ï¼Œæˆ‘ä»¬éœ€è¦</p><ul><li>â†‘<strong>CPUåˆ©ç”¨ç‡</strong>ï¼šè®©CPUå¿™èµ·æ¥</li><li>~<strong>ååé‡</strong>ï¼šæ§åˆ¶ååé‡åˆé€‚</li><li>â†“<strong>å‘¨è½¬æ—¶é—´</strong>ï¼šè¶ŠçŸ­è¶Šå¥½</li><li>â†“<strong>ç­‰å¾…æ—¶é—´</strong>ï¼šè¶ŠçŸ­è¶Šå¥½</li><li>â†“<strong>å“åº”æ—¶é—´</strong>ï¼šè¶ŠçŸ­è¶Šå¥½</li></ul><h3 id="è°ƒåº¦ç®—æ³•"><a href="#è°ƒåº¦ç®—æ³•" class="headerlink" title="è°ƒåº¦ç®—æ³•"></a>è°ƒåº¦ç®—æ³•</h3><ul><li>å…ˆæ¥å…ˆæœåŠ¡first come first serve</li><li>æœ€çŸ­ä½œä¸šä¼˜å…ˆshortest job first-è¿è¡Œæ—¶é•¿</li><li>é«˜å“åº”æ¯”ä¼˜å…ˆhighest response ratio next-$ä¼˜å…ˆæƒ=(ç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´)/è¦æ±‚æœåŠ¡æ—¶é—´$ï¼Œäº›è®¸ç†æƒ³éš¾å®ç°</li><li>æ—¶é—´ç‰‡è½®è½¬round robin-å“å®å“å®å“å®ï¼Œé•¿çŸ­è¦åˆé€‚20ms-50ms</li><li>æœ€é«˜ä¼˜å…ˆçº§highest priority first-(é™æ€ä¼˜å…ˆçº§ï¼ŒåŠ¨æ€ä¼˜å…ˆçº§)(æŠ¢å å¼ï¼ŒéæŠ¢å å¼)</li><li>å¤šçº§åé¦ˆé˜Ÿåˆ—multilevel feedback queue-RR+HPFï¼Œå¤šä¸ªé˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œæ—¶é—´ç‰‡ä»çŸ­åˆ°é•¿</li></ul><h2 id="âœ…è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"><a href="#âœ…è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«" class="headerlink" title="âœ…è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«"></a>âœ…è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</h2><p>è¿›ç¨‹ï¼ˆProcessï¼‰æ˜¯èµ„æºæ‹¥æœ‰çš„åŸºæœ¬å•ä½ï¼›çº¿ç¨‹ï¼ˆThreadï¼‰æ˜¯è°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</p><p>ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼š</p><ol><li><p><strong>å®šä¹‰</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„åŸºæœ¬å•ä½ï¼Œå®ƒåŒ…æ‹¬ä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä»¥åŠä¸å…¶ä»–è¿›ç¨‹éš”ç¦»çš„ç³»ç»Ÿèµ„æºï¼ˆå¦‚æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰ã€‚</li><li>çº¿ç¨‹ï¼šçº¿ç¨‹æ˜¯è¿›ç¨‹å†…çš„æ‰§è¡Œå•å…ƒï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬å…±äº«ç›¸åŒçš„å†…å­˜ç©ºé—´å’Œç³»ç»Ÿèµ„æºã€‚</li></ul></li><li><p><strong>èµ„æºåˆ†é…</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šè¿›ç¨‹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´å’Œç³»ç»Ÿèµ„æºï¼Œè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡é€šå¸¸éœ€è¦ä½¿ç”¨ç‰¹å®šçš„æœºåˆ¶ï¼ˆå¦‚è¿›ç¨‹é—´é€šä¿¡ï¼ŒIPCï¼‰ã€‚</li><li>çº¿ç¨‹ï¼šçº¿ç¨‹å…±äº«ç›¸åŒçš„è¿›ç¨‹å†…å­˜å’Œèµ„æºï¼Œçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æ›´åŠ å®¹æ˜“ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç›´æ¥è®¿é—®ç›¸åŒçš„å†…å­˜ç©ºé—´ã€‚</li></ul></li><li><p><strong>å¼€é”€</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šåˆ›å»ºå’Œé”€æ¯è¿›ç¨‹é€šå¸¸æ¯”è¾ƒè€—è´¹èµ„æºï¼Œå› ä¸ºéœ€è¦åˆ†é…å’Œé‡Šæ”¾ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ä»¥åŠç®¡ç†è¿›ç¨‹çš„çŠ¶æ€ã€‚</li><li>çº¿ç¨‹ï¼šåˆ›å»ºå’Œé”€æ¯çº¿ç¨‹é€šå¸¸æ¯”è¾ƒè½»é‡ï¼Œå› ä¸ºå®ƒä»¬å…±äº«ç›¸åŒçš„èµ„æºï¼Œåªéœ€åˆ†é…å’Œé‡Šæ”¾å°‘é‡å†…å­˜æ¥å­˜å‚¨çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ã€‚</li></ul></li><li><p><strong>å¹¶å‘æ€§å’Œå¤šæ ¸åˆ©ç”¨</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šä¸åŒè¿›ç¨‹ä¹‹é—´å¯ä»¥åœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šå¹¶è¡Œæ‰§è¡Œï¼Œä½†è¿›ç¨‹é—´çš„é€šä¿¡æˆæœ¬è¾ƒé«˜ã€‚</li><li>çº¿ç¨‹ï¼šçº¿ç¨‹å¯ä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨ï¼Œå› ä¸ºå®ƒä»¬å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°å®ç°å¹¶å‘æ‰§è¡Œã€‚</li></ul></li><li><p><strong>ç¨³å®šæ€§</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šç”±äºè¿›ç¨‹ä¹‹é—´çš„éš”ç¦»æ€§ï¼Œä¸€ä¸ªè¿›ç¨‹çš„å´©æºƒé€šå¸¸ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ã€‚</li><li>çº¿ç¨‹ï¼šä¸€ä¸ªçº¿ç¨‹çš„é”™è¯¯å¯èƒ½ä¼šå½±å“åŒä¸€è¿›ç¨‹å†…çš„å…¶ä»–çº¿ç¨‹ï¼Œå› ä¸ºå®ƒä»¬å…±äº«ç›¸åŒçš„å†…å­˜ç©ºé—´ã€‚</li></ul></li><li><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>è¿›ç¨‹ï¼šé€‚ç”¨äºéœ€è¦é«˜åº¦éš”ç¦»çš„ä»»åŠ¡ï¼Œå¦‚è¿è¡Œä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹è¿è¡Œã€‚</li><li>çº¿ç¨‹ï¼šé€‚ç”¨äºéœ€è¦è½»é‡çº§å¹¶å‘çš„ä»»åŠ¡ï¼Œå¦‚å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åºã€æœåŠ¡å™¨åº”ç”¨ç¨‹åºå’Œå¤šçº¿ç¨‹ç¼–ç¨‹ã€‚</li></ul></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹éƒ½æœ‰å…¶è‡ªèº«çš„ä¼˜ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹å¼å–å†³äºä»»åŠ¡çš„æ€§è´¨å’Œè¦æ±‚ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨è¿›ç¨‹å’Œçº¿ç¨‹æ¥å……åˆ†åˆ©ç”¨è®¡ç®—èµ„æºã€‚</p><h2 id="è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼"><a href="#è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼" class="headerlink" title="è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼"></a>è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ–¹å¼</h2><p>æ¯ä¸ªè¿›ç¨‹çš„ç”¨æˆ·ç©ºé—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸€èˆ¬ä¸èƒ½ç›¸äº’è®¿é—®ï¼›å†…æ ¸ç©ºé—´å…±äº«ï¼Œæ‰€æœ‰è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å¿…é¡»é€šè¿‡å†…æ ¸ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/4-%E8%BF%9B%E7%A8%8B%E7%A9%BA%E9%97%B4.jpg" alt="img" style="zoom:67%;" /><ul><li>ç®¡é“ï¼šæ•ˆç‡è¾ƒä½ï¼Œä¸é€‚åˆé¢‘ç¹äº¤æ¢æ•°æ®<ul><li>å‰è€…è¾“å‡ºæ˜¯åè€…è¾“å…¥</li><li>ç®¡é“ä¼ è¾“æ•°æ®æ˜¯å•å‘çš„</li><li>åŒ¿åç®¡é“ã€å‘½åç®¡é“</li></ul></li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šä¸é€‚åˆæ”¾è¾ƒå¤§æ•°æ®ï¼Œå­˜åœ¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´çš„æ•°æ®æ‹·è´å¼€é”€<ul><li>ä¿å­˜åœ¨å†…æ ¸ä¸­çš„æ¶ˆæ¯é“¾è¡¨</li></ul></li><li>å…±äº«å†…å­˜ï¼šé€Ÿåº¦æå‡ï¼Œæ— éœ€æ‹·è´<ul><li>ä¸åŒè¿›ç¨‹æ‹¿å‡ºä¸€å—è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç›¸åŒçš„ç‰©ç†å†…å­˜ç©ºé—´</li></ul></li><li>ä¿¡å·é‡<ul><li>ä¸€ä¸ªæ•´æ•°è®¡æ•°å™¨ï¼Œä¸»è¦ç”¨äºå®ç°è¿›ç¨‹é—´çš„äº’æ–¥å’ŒåŒæ­¥ï¼Œè€Œä¸æ˜¯ç¼“å­˜è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æ•°æ®</li><li>ä¸ºäº†é˜²æ­¢å¤šè¿›ç¨‹ç«äº‰å…±äº«èµ„æºï¼Œè€Œé€ æˆçš„æ•°æ®é”™ä¹±</li><li>PVæ“ä½œ (P -1è‹¥å‡å&lt;0ï¼Œè¯´æ˜å·²è¢«å ç”¨ï¼Œéœ€è¦é˜»å¡ç­‰å¾…ï¼› V +1è‹¥åŠ å&lt;=0ï¼Œè¯´æ˜æœ‰é˜»å¡ï¼Œå”¤èµ·è¯¥è¿›ç¨‹)<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/11-%E4%BF%A1%E5%8F%B7%E9%87%8F-%E5%90%8C%E6%AD%A5.jpg" alt="img"></li></ul></li><li>ä¿¡å·ï¼šå¯¹äºå¼‚å¸¸æƒ…å†µä¸‹çš„å·¥ä½œæ¨¡å¼ï¼Œå°±éœ€è¦ç”¨ã€Œä¿¡å·ã€çš„æ–¹å¼æ¥é€šçŸ¥è¿›ç¨‹ã€‚</li><li>Socketï¼šå‰é¢æåˆ°çš„ç®¡é“ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜ã€ä¿¡å·é‡å’Œä¿¡å·éƒ½æ˜¯åœ¨åŒä¸€å°ä¸»æœºä¸Šè¿›è¡Œè¿›ç¨‹é—´é€šä¿¡ï¼Œé‚£è¦æƒ³<strong>è·¨ç½‘ç»œä¸ä¸åŒä¸»æœºä¸Šçš„è¿›ç¨‹ä¹‹é—´é€šä¿¡ï¼Œå°±éœ€è¦ Socket é€šä¿¡äº†ã€‚</strong><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20231005192832392.png" alt="image-20231005192832392" style="zoom:67%;" /></li></ul><h2 id="âœ…å¦‚ä½•è§£å†³å¤šçº¿ç¨‹å†²çª"><a href="#âœ…å¦‚ä½•è§£å†³å¤šçº¿ç¨‹å†²çª" class="headerlink" title="âœ…å¦‚ä½•è§£å†³å¤šçº¿ç¨‹å†²çª"></a>âœ…å¦‚ä½•è§£å†³å¤šçº¿ç¨‹å†²çª</h2><p>å¯¹äºå…±äº«èµ„æºï¼Œå¦‚æœæ²¡æœ‰ä¸Šé”ï¼Œé‚£ä¹ˆåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒé‡Œï¼Œå®¹æ˜“å‘ç”Ÿå†²çªã€‚</p><p>å¤šçº¿ç¨‹ç›¸äº’ç«äº‰æ“ä½œå…±äº«å˜é‡æ—¶ï¼Œç»“æœæœ‰ä¸ç¡®å®šæ€§ã€‚ç”±äºå¤šçº¿ç¨‹æ‰§è¡Œæ“ä½œå…±äº«å˜é‡çš„è¿™æ®µä»£ç å¯èƒ½ä¼šå¯¼è‡´ç«äº‰çŠ¶æ€ï¼Œç§°è¿™æ®µä»£ç ä¸º<strong>ä¸´ç•ŒåŒº</strong>ã€‚å®ƒæ˜¯è®¿é—®è´¡çŒ®èµ„æºçš„ç‰‡æ®µï¼Œä¸€å®šä¸èƒ½ç»™å¤šçº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚</p><h3 id="äº’æ–¥å’ŒåŒæ­¥"><a href="#äº’æ–¥å’ŒåŒæ­¥" class="headerlink" title="äº’æ–¥å’ŒåŒæ­¥"></a>äº’æ–¥å’ŒåŒæ­¥</h3><p>äº’æ–¥ï¼šä¿è¯ä¸€ä¸ªçº¿ç¨‹åœ¨ä¸´ç•ŒåŒºæ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹åº”è¯¥è¢«é˜»æ­¢è¿›å…¥ä¸´ç•ŒåŒºã€‚</p><p>åŒæ­¥ï¼šå¹¶å‘è¿›ç¨‹/çº¿ç¨‹åœ¨ä¸€äº›å…³é”®ç‚¹ä¸Šéœ€è¦ç›¸äº’ç­‰å¾…å’Œé€šä¿¡ï¼Œè¿™ç§åˆ¶çº¦ç­‰å¾…å’Œäº¤äº’ä¿¡æ¯ç§°ä¸ºåŒæ­¥ã€‚</p><p>å®ç°ï¼š</p><ul><li>åŠ é”è§£é”</li><li>ä¿¡å·é‡PVæ“ä½œ</li></ul><h3 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/21-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><h3 id="å“²å­¦å®¶å°±é¤"><a href="#å“²å­¦å®¶å°±é¤" class="headerlink" title="å“²å­¦å®¶å°±é¤"></a>å“²å­¦å®¶å°±é¤</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/24-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%B8%80%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/26-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%BA%8C%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/28-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%B8%89%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/30-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E5%9B%9B%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><h3 id="è¯»è€…å†™è€…"><a href="#è¯»è€…å†™è€…" class="headerlink" title="è¯»è€…å†™è€…"></a>è¯»è€…å†™è€…</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/32-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%B8%80%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/33-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%BA%8C%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/34-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%B8%89%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p><h2 id="âœ…æ€ä¹ˆé¿å…æ­»é”"><a href="#âœ…æ€ä¹ˆé¿å…æ­»é”" class="headerlink" title="âœ…æ€ä¹ˆé¿å…æ­»é”"></a>âœ…æ€ä¹ˆé¿å…æ­»é”</h2><h3 id="æ­»é”æ¦‚å¿µ"><a href="#æ­»é”æ¦‚å¿µ" class="headerlink" title="æ­»é”æ¦‚å¿µ"></a>æ­»é”æ¦‚å¿µ</h3><p>ä¸¤ä¸ªçº¿ç¨‹ä¸ºäº†ä¿æŠ¤ä¸¤ä¸ªä¸åŒçš„èµ„æºä½¿ç”¨äº†ä¸¤ä¸ªäº’æ–¥é”ï¼Œä¸¤ä¸ªé”åº”ç”¨ä¸å½“æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆä¸¤ä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…å¯¹æ–¹è§£é”ï¼Œä»è€Œå½¢æˆæ­»é”çš„å±€é¢ã€‚</p><p>æ¡ä»¶ç¼ºä¸€ä¸å¯æˆæ­»é”</p><ol><li>äº’æ–¥æ¡ä»¶ï¼šå¤šä¸ªçº¿ç¨‹ä¸èƒ½åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªèµ„æº</li><li>æŒæœ‰å¹¶ç­‰å¾…æ¡ä»¶ï¼šçº¿ç¨‹Aåœ¨ç­‰å¾…èµ„æº2çš„åŒæ—¶å¹¶ä¸ä¼šé‡Šæ”¾è‡ªå·±å·²æŒæœ‰çš„èµ„æº1</li><li>ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šèµ„æºåœ¨è‡ªå·±ä½¿ç”¨å®Œä¹‹å‰ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹è·å–</li><li>ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šä¸¤ä¸ªçº¿ç¨‹è·å–èµ„æºçš„é¡ºåºæ„æˆäº†ç¯å½¢é“¾</li></ol><h3 id="æ­»é”æˆå› â†‘"><a href="#æ­»é”æˆå› â†‘" class="headerlink" title="æ­»é”æˆå› â†‘"></a>æ­»é”æˆå› â†‘</h3><h3 id="åˆ©ç”¨å·¥å…·æ’æŸ¥æ­»é”"><a href="#åˆ©ç”¨å·¥å…·æ’æŸ¥æ­»é”" class="headerlink" title="åˆ©ç”¨å·¥å…·æ’æŸ¥æ­»é”"></a>åˆ©ç”¨å·¥å…·æ’æŸ¥æ­»é”</h3><p>jstack</p><h3 id="é¿å…æ­»é”çš„åŠæ³•"><a href="#é¿å…æ­»é”çš„åŠæ³•" class="headerlink" title="é¿å…æ­»é”çš„åŠæ³•"></a>é¿å…æ­»é”çš„åŠæ³•</h3><p>èµ„æºæœ‰åºåˆ†é…</p><p>çº¿ç¨‹ A å’Œ çº¿ç¨‹ B è·å–èµ„æºçš„é¡ºåºè¦ä¸€æ ·ï¼Œå½“çº¿ç¨‹ A æ˜¯å…ˆå°è¯•è·å–èµ„æº Aï¼Œç„¶åå°è¯•è·å–èµ„æº B çš„æ—¶å€™ï¼Œçº¿ç¨‹ B åŒæ ·ä¹Ÿæ˜¯å…ˆå°è¯•è·å–èµ„æº Aï¼Œç„¶åå°è¯•è·å–èµ„æº Bã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹ A å’Œ çº¿ç¨‹ B æ€»æ˜¯ä»¥ç›¸åŒçš„é¡ºåºç”³è¯·è‡ªå·±æƒ³è¦çš„èµ„æºã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨èµ„æºæœ‰åºåˆ†é…æ³•çš„æ–¹å¼æ¥ä¿®æ”¹å‰é¢å‘ç”Ÿæ­»é”çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ”¹åŠ¨çº¿ç¨‹ A çš„ä»£ç ã€‚</p><p>æˆ‘ä»¬å…ˆè¦æ¸…æ¥šçº¿ç¨‹ A è·å–èµ„æºçš„é¡ºåºï¼Œå®ƒæ˜¯å…ˆè·å–äº’æ–¥é” Aï¼Œç„¶åè·å–äº’æ–¥é” Bã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åªéœ€å°†çº¿ç¨‹ B æ”¹æˆä»¥ç›¸åŒé¡ºåºçš„è·å–èµ„æºï¼Œå°±å¯ä»¥æ‰“ç ´æ­»é”äº†ã€‚</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%B5%84%E6%BA%90%E6%9C%89%E5%BA%8F%E5%88%86%E9%85%8D.png" alt="img"></p><h2 id="æ‚²è§‚é”ä¹è§‚é”ç­‰å„ç§é”"><a href="#æ‚²è§‚é”ä¹è§‚é”ç­‰å„ç§é”" class="headerlink" title="æ‚²è§‚é”ä¹è§‚é”ç­‰å„ç§é”"></a>æ‚²è§‚é”ä¹è§‚é”ç­‰å„ç§é”</h2><p><a href="https://xiaolincoding.com/os/4_process/pessim_and_optimi_lock.html">åŸæ–‡</a></p><h2 id="âœ…ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹"><a href="#âœ…ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹" class="headerlink" title="âœ…ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹"></a>âœ…ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹</h2><p>å› ç´ ï¼š</p><ul><li>è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸Šé™</li><li>ç³»ç»Ÿå‚æ•°é™åˆ¶</li></ul><h2 id="çº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿä¼šå´©æºƒå—"><a href="#çº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿä¼šå´©æºƒå—" class="headerlink" title="çº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿä¼šå´©æºƒå—"></a>çº¿ç¨‹å´©æºƒè¿›ç¨‹ä¹Ÿä¼šå´©æºƒå—</h2><p>å®åœ¨æ˜¯ä¸æ‰“ç®—äº†è§£äº†å‘ƒå‘ƒ</p><h1 id="ğŸ¨HTML-CSS"><a href="#ğŸ¨HTML-CSS" class="headerlink" title="ğŸ¨HTML/CSS"></a>ğŸ¨HTML/CSS</h1><h2 id="âœ…HTML5ç›¸å¯¹äºå…¶ä»–ç‰ˆæœ¬çš„ä¼˜åŠ¿"><a href="#âœ…HTML5ç›¸å¯¹äºå…¶ä»–ç‰ˆæœ¬çš„ä¼˜åŠ¿" class="headerlink" title="âœ…HTML5ç›¸å¯¹äºå…¶ä»–ç‰ˆæœ¬çš„ä¼˜åŠ¿"></a>âœ…HTML5ç›¸å¯¹äºå…¶ä»–ç‰ˆæœ¬çš„ä¼˜åŠ¿</h2><ul><li>å¢åŠ äº†å¾ˆå¤šè¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œæ¯”å¦‚header main article section footer nav asideç­‰</li><li>å¢åŠ åª’ä½“æ ‡ç­¾ï¼Œä½¿æ›´å¥½æ›¿ä»£flashï¼Œæ¯”å¦‚audio vedio </li><li>æ›´åŠ ä¾§é‡è¯­ä¹‰åŒ–ï¼Œå¯¹SEOæœç´¢å¼•æ“ä¼˜åŒ–å¾ˆå‹å¥½</li><li>é’ˆå¯¹JSå¢åŠ äº†å¾ˆå¤šå¯æ“ä½œçš„æ¥å£å’Œå…¨å±€å±æ€§</li><li>å¯ç§»æ¤æ€§å¢å¼ºï¼Œå¤šç«¯é€‚é…</li><li>å…¶ä»–ï¼šcanvasJSç»˜å›¾ã€webWorkersã€WebSocketsã€RAFã€ç¦»çº¿å­˜å‚¨</li></ul><h2 id="âœ…HTML5ä¼˜åŠ¿ç»†è¯´"><a href="#âœ…HTML5ä¼˜åŠ¿ç»†è¯´" class="headerlink" title="âœ…HTML5ä¼˜åŠ¿ç»†è¯´"></a>âœ…HTML5ä¼˜åŠ¿ç»†è¯´</h2><h3 id="æ ‡ç­¾åˆ†ç±»"><a href="#æ ‡ç­¾åˆ†ç±»" class="headerlink" title="æ ‡ç­¾åˆ†ç±»"></a>æ ‡ç­¾åˆ†ç±»</h3><h4 id="å¸ƒå±€æ ‡ç­¾çŠ¶æ€æ ‡ç­¾åˆ—è¡¨æ ‡ç­¾æ–‡æœ¬æ ‡ç­¾â€¦â€¦"><a href="#å¸ƒå±€æ ‡ç­¾çŠ¶æ€æ ‡ç­¾åˆ—è¡¨æ ‡ç­¾æ–‡æœ¬æ ‡ç­¾â€¦â€¦" class="headerlink" title="å¸ƒå±€æ ‡ç­¾çŠ¶æ€æ ‡ç­¾åˆ—è¡¨æ ‡ç­¾æ–‡æœ¬æ ‡ç­¾â€¦â€¦"></a>å¸ƒå±€æ ‡ç­¾çŠ¶æ€æ ‡ç­¾åˆ—è¡¨æ ‡ç­¾æ–‡æœ¬æ ‡ç­¾â€¦â€¦</h4><h3 id="æ–°å¢è¡¨å•åŠŸèƒ½"><a href="#æ–°å¢è¡¨å•åŠŸèƒ½" class="headerlink" title="æ–°å¢è¡¨å•åŠŸèƒ½"></a>æ–°å¢è¡¨å•åŠŸèƒ½</h3><table><thead><tr><th>å±æ€§å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>placeholder</td><td>æç¤ºæ–‡å­—ï¼ˆæ³¨æ„ï¼šä¸æ˜¯é»˜è®¤å€¼ï¼Œ value æ˜¯é»˜è®¤å€¼ï¼‰ï¼Œé€‚ç”¨äºæ–‡å­—è¾“å…¥ç±»çš„è¡¨å•æ§ä»¶ã€‚æ˜‚æ˜‚ï¼</td></tr><tr><td>required</td><td>è¡¨ç¤ºè¯¥è¾“å…¥é¡¹å¿…å¡«ï¼Œ é€‚ç”¨äºé™¤æŒ‰é’®å¤–å…¶ä»–è¡¨å•æ§ä»¶ã€‚</td></tr><tr><td>autofocus</td><td>è‡ªåŠ¨è·å–ç„¦ç‚¹ï¼Œé€‚ç”¨äºæ‰€æœ‰è¡¨å•æ§ä»¶ã€‚æœç„¶ä¼šç”¨åˆ°è¿™ä¸ªï¼</td></tr><tr><td>autocomplete</td><td>è‡ªåŠ¨å®Œæˆï¼Œå¯ä»¥è®¾ç½®ä¸º on æˆ– off ï¼Œé€‚ç”¨äºæ–‡å­—è¾“å…¥ç±»çš„è¡¨å•æ§ä»¶ã€‚æ³¨æ„ï¼šå¯†ç è¾“å…¥æ¡†ã€å¤šè¡Œè¾“å…¥æ¡†ä¸å¯ç”¨ã€‚</td></tr><tr><td>pattern</td><td>å¡«å†™æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€‚ç”¨äºæ–‡æœ¬è¾“å…¥ç±»è¡¨å•æ§ä»¶ã€‚æ³¨æ„ï¼šå¤šè¡Œè¾“å…¥ä¸å¯ç”¨ï¼Œä¸”ç©ºçš„è¾“å…¥æ¡†ä¸ä¼šéªŒè¯ï¼Œå¾€å¾€ä¸ required é…åˆã€‚</td></tr></tbody></table><h3 id="éŸ³é¢‘è§†é¢‘æ ‡ç­¾"><a href="#éŸ³é¢‘è§†é¢‘æ ‡ç­¾" class="headerlink" title="éŸ³é¢‘è§†é¢‘æ ‡ç­¾"></a>éŸ³é¢‘è§†é¢‘æ ‡ç­¾</h3><h3 id="æ–°å¢å…¨å±€å±æ€§"><a href="#æ–°å¢å…¨å±€å±æ€§" class="headerlink" title="æ–°å¢å…¨å±€å±æ€§"></a>æ–°å¢å…¨å±€å±æ€§</h3><table><thead><tr><th>å±æ€§å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>contenteditable</td><td>è¡¨ç¤ºå…ƒç´ æ˜¯å¦å¯è¢«ç”¨æˆ·ç¼–è¾‘ï¼Œå¯é€‰å€¼å¦‚ä¸‹ï¼štrue ï¼šå¯ç¼–è¾‘false ï¼šä¸å¯ç¼–è¾‘</td></tr><tr><td>draggable</td><td>è¡¨ç¤ºå…ƒç´ å¯ä»¥è¢«æ‹–åŠ¨ï¼Œå¯é€‰å€¼å¦‚ä¸‹ï¼štrue ï¼šå¯æ‹–åŠ¨false ï¼šä¸å¯æ‹–åŠ¨</td></tr><tr><td>hidden</td><td>éšè—å…ƒç´ </td></tr><tr><td>spellcheck</td><td>è§„å®šæ˜¯å¦å¯¹å…ƒç´ è¿›è¡Œæ‹¼å†™å’Œè¯­æ³•æ£€æŸ¥ï¼Œå¯é€‰å€¼å¦‚ä¸‹ï¼štrue ï¼šæ£€æŸ¥false ï¼šä¸æ£€æŸ¥</td></tr><tr><td>contextmenu</td><td>è§„å®šå…ƒç´ çš„ä¸Šä¸‹æ–‡èœå•ï¼Œåœ¨ç”¨æˆ·é¼ æ ‡å³é”®ç‚¹å‡»å…ƒç´ æ—¶æ˜¾ç¤ºã€‚</td></tr><tr><td>==data-* è¿™ä¸ªç”¨è¿‡å“¦ï¼==</td><td>==ç”¨äºå­˜å‚¨é¡µé¢çš„ç§æœ‰å®šåˆ¶æ•°æ®ã€‚doc.dataset.* è¿™ä¸ªå’Œä¸‹ä¸€ä¸ªéƒ½æ˜¯H5ä¸­éå¸¸æœ‰ç”¨çš„è‡ªå®šä¹‰å±æ€§ï¼==</td></tr><tr><td>==aria-*==</td><td>==ç”¨äºå¢å¼ºç½‘é¡µçš„å¯è®¿é—®æ€§ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä½¿ç”¨å±å¹•é˜…è¯»å™¨ç­‰è¾…åŠ©æŠ€æœ¯çš„ç”¨æˆ·ã€‚==</td></tr><tr><td>lang</td><td>è¯­è¨€</td></tr><tr><td>class/id/style/title</td><td>æ ·å¼ã€æ ‡è¯†ã€æ ‡ç­¾ç­‰</td></tr></tbody></table><h3 id="ç¦»çº¿å­˜å‚¨"><a href="#ç¦»çº¿å­˜å‚¨" class="headerlink" title="ç¦»çº¿å­˜å‚¨"></a>ç¦»çº¿å­˜å‚¨</h3><p>H5ä½¿ç”¨ç¦»çº¿å­˜å‚¨æœºåˆ¶ï¼Œä½¿å¾—ç½‘é¡µåº”ç”¨ç¨‹åºå¯ä»¥åœ¨ç”¨æˆ·ç¦»çº¿æ—¶ä»å¯æ­£å¸¸è¿è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·ç¦»çº¿äº†ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨æµè§ˆå™¨ä¸­ç¼“å­˜çš„ä¸€äº›æ•°æ®è¿›è¡Œä¸€äº›æ“ä½œï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</p><h4 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h4><p>ApplicationCacheåº”ç”¨ç¼“å­˜ç¨‹åºâ€”â€”ä¸€ä¸ªå­˜å‚¨æœºåˆ¶ï¼Œå…è®¸å¼€å‘è€…å®šä¹‰å“ªäº›èµ„æºåº”è¯¥è¢«ç¼“å­˜ï¼Œä¿è¯ç¦»çº¿ä¹Ÿèƒ½åŠ è½½ã€‚è¿™äº›èµ„æºåŒ…æ‹¬æ–‡æ¡£ã€æ ·å¼ã€JSã€å›¾åƒç­‰ã€‚</p><h4 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h4><ol><li><p>åˆ›å»ºç¼“å­˜æ¸…å•æ–‡ä»¶CacheManifestï¼šåˆ›å»ºä¸€ä¸ªæ‰©å±•åä¸º.appcacheçš„æ–‡æœ¬æ–‡ä»¶</p></li><li><p>åœ¨HTMLä¸­å¼•ç”¨ç¼“å­˜æ¸…å•ï¼š<code>&lt;html manifest:&#39;....appcache&#39;&gt;&lt;/html&gt;</code></p></li><li><p>é…ç½®ç¼“å­˜ç­–ç•¥ï¼š<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728145131981.png" alt="image-20230728145131981" style="zoom: 67%;" />cacheéœ€è¦ç¼“å­˜çš„networkä¸éœ€è¦ç¼“å­˜çš„fallbackæ›¿ä»£èµ„æº</p></li><li><p>è®¾ç½®ç¦»çº¿äº‹ä»¶å¤„ç†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;updateready&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="property">status</span> === <span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="property">UPDATEREADY</span>) &#123;</span><br><span class="line">    <span class="comment">// ç¼“å­˜å·²æ›´æ–°ï¼Œæ‰§è¡Œç›¸å…³æ“ä½œcachedã€noupdateã€downloadingã€updateready</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="title function_">swapCache</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></li></ol><h3 id="æµè§ˆå™¨å…¼å®¹æ€§"><a href="#æµè§ˆå™¨å…¼å®¹æ€§" class="headerlink" title="æµè§ˆå™¨å…¼å®¹æ€§"></a>æµè§ˆå™¨å…¼å®¹æ€§</h3><ul><li>å‘åå…¼å®¹ï¼šæ­£å¸¸å¤„ç†æ—§ç‰ˆ</li><li>æ—§æµè§ˆå™¨ç†è§£ï¼šä½¿ç”¨Shims/Polyfillsç­‰åŒ…ä½¿å¾—å®ç°H5åŠŸèƒ½</li><li>æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§ï¼šå‰è€…æ˜¯å¼€å‘æ—¶å…ˆæ„å»ºåŸºæœ¬åŠŸèƒ½ï¼Œå†é€æ­¥å¢åŠ é«˜çº§ç‰¹æ–°ï¼›åè€…æ˜¯ä»é«˜çº§åŠŸèƒ½å¼€å§‹ï¼Œé€æ¸é€‚é…è¾ƒæ—§çš„æµè§ˆå™¨ã€‚</li><li>ç‰¹æ€§æ£€æµ‹ï¼šå¼€å‘è€…å¯ä»¥å¯¹æµè§ˆå™¨è¿›è¡Œç‰¹æ€§æ£€æµ‹ï¼Œè¯„ä¼°æµè§ˆå™¨èƒ½åŠ›ï¼Œæä¾›å¯¹åº”çš„ä»£ç åŠŸèƒ½æœåŠ¡ã€‚</li><li>æ ‡å‡†åŒ–ï¼šH5æ˜¯W3Cæ ‡å‡†åŒ–çš„ï¼Œå¼€å‘è€…å¯ä»¥æ¯”è¾ƒå®‰å¿ƒåœ°åœ¨ä¸åŒæµè§ˆå™¨ä¸Šå®ç°ç›¸åŒæ•ˆæœã€‚</li><li>ç§»åŠ¨ä¼˜å…ˆï¼šH5è®¾è®¡è€ƒè™‘äº†ç§»åŠ¨è®¾å¤‡çš„æ™®åŠï¼Œæä¾›äº†ç§»åŠ¨ç«¯å‹å¥½ç‰¹æ€§ï¼Œæ¯”å¦‚ä¹¦å“åº”å¼ã€è§¦æ‘¸ã€ç§»åŠ¨è®¾å¤‡ä¼˜åŒ–ç­‰ã€‚</li><li>CanvasSVGï¼šçµæ´»ç»˜åˆ¶å¤æ‚å›¾å½¢ã€‚</li></ul><h2 id="âœ…SEOæœç´¢å¼•æ“ä¼˜åŒ–"><a href="#âœ…SEOæœç´¢å¼•æ“ä¼˜åŒ–" class="headerlink" title="âœ…SEOæœç´¢å¼•æ“ä¼˜åŒ–"></a>âœ…SEOæœç´¢å¼•æ“ä¼˜åŒ–</h2><p><a href="https://zh.wikipedia.org/wiki/%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E6%9C%80%E4%BD%B3%E5%8C%96">Wiki</a></p><p>å¥½ç‰›çš„ä¸€æ–¹é¢ï¼Œä¼¼ä¹ä¼šæœ‰ä¸“é—¨çš„SEOå·¥ç¨‹å¸ˆåšè¿™ä¸€å—ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728164749800.png" alt="image-20230728164749800" style="zoom:80%;" /><h2 id="âœ…å‰ç«¯è·¨æµè§ˆå™¨-å¤šç«¯å…¼å®¹æ€§-é€‚é…é—®é¢˜"><a href="#âœ…å‰ç«¯è·¨æµè§ˆå™¨-å¤šç«¯å…¼å®¹æ€§-é€‚é…é—®é¢˜" class="headerlink" title="âœ…å‰ç«¯è·¨æµè§ˆå™¨/å¤šç«¯å…¼å®¹æ€§/é€‚é…é—®é¢˜"></a>âœ…å‰ç«¯è·¨æµè§ˆå™¨/å¤šç«¯å…¼å®¹æ€§/é€‚é…é—®é¢˜</h2><p><strong>å¤šç«¯</strong>å…¼å®¹é€‚é…æŒ‡åº”ç”¨åœ¨å„ç§è®¾å¤‡ï¼ˆç”µè„‘ï¼Œæ‰‹æœºï¼‰ä¸Šèƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºå’Œäº¤äº’ã€‚</p><ul><li>éµå¾ªæ ‡å‡†</li><li>ä½¿ç”¨æµè§ˆå™¨å…¼å®¹æ€§æ£€æµ‹å·¥å…·</li><li>å“åº”å¼è®¾è®¡</li><li>ç°ä»£æ¡†æ¶</li><li>æœåŠ¡ç«¯æ¸²æŸ“</li><li>â€¦â€¦</li><li>æŒç»­ç›‘æ§æ›´æ–°</li></ul><p><strong>è·¨æµè§ˆå™¨</strong>å…¼å®¹é€‚é…æŒ‡webåº”ç”¨åœ¨ä¸åŒæµè§ˆå™¨ä¸­èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºç›’äº¤äº’ã€‚</p><ul><li>éµå¾ªWebè§„èŒƒæ ‡å‡†</li><li>å“åº”å¼è®¾è®¡</li><li>ç‰¹æ€§æ£€æµ‹ï¼Œåˆ†ç±»ç»™æœ</li><li>CSSå‰ç¼€åå¤‡</li><li>ç”¨å¯é çš„åŒ…</li><li>â€¦â€¦</li><li>å¤šæµè§ˆå™¨æµ‹è¯•</li></ul><h2 id="âœ…ä¼˜åŒ–é¡µé¢æ€§èƒ½"><a href="#âœ…ä¼˜åŒ–é¡µé¢æ€§èƒ½" class="headerlink" title="âœ…ä¼˜åŒ–é¡µé¢æ€§èƒ½"></a>âœ…ä¼˜åŒ–é¡µé¢æ€§èƒ½</h2><h3 id="MDNç‰ˆï¼š"><a href="#MDNç‰ˆï¼š" class="headerlink" title="MDNç‰ˆï¼š"></a>MDNç‰ˆï¼š</h3><blockquote><p>Web æ€§èƒ½æ˜¯å®¢è§‚çš„è¡¡é‡æ ‡å‡†ï¼Œæ˜¯ç”¨æˆ·å¯¹åŠ è½½æ—¶é—´å’Œè¿è¡Œæ—¶çš„ç›´è§‚ä½“éªŒã€‚</p></blockquote><p>Webæ€§èƒ½ä¼˜åŒ–è¯·çœ‹å‡†å…³é”®æ€§èƒ½ã€‚</p><h4 id="ğŸ¥—ä½¿ç”¨dns-prefetch"><a href="#ğŸ¥—ä½¿ç”¨dns-prefetch" class="headerlink" title="ğŸ¥—ä½¿ç”¨dns-prefetch"></a>ğŸ¥—ä½¿ç”¨dns-prefetch</h4><p>(æœ‰é¢„åˆ¶èœå†…å‘³å„¿äº†)</p><p>DNS-prefetchå°è¯•åœ¨è¯·æ±‚èµ„æºå‰è§£æåŸŸåã€‚å¯èƒ½æ˜¯åé¢è¦åŠ è½½çš„æ–‡ä»¶/ç”¨æˆ·å°è¯•æ‰“å¼€çš„é“¾æ¥ç›®æ ‡ã€‚</p><p>æµè§ˆå™¨ä»ç¬¬ä¸‰æ–¹è¯·æ±‚èµ„æºçš„æ—¶å€™å¿…é¡»å…ˆå°†è¯¥è·¨æºåŸŸåè§£æä¸ºIPåœ°å€ï¼Œç„¶åæ‰å¯å‘å‡ºè¯·æ±‚ã€‚ï¼ˆDNSè§£æï¼‰</p><p>DNSç¼“å­˜å¯ä»¥å¸®åŠ©å‡å°‘å¯¹æ­¤çš„å»¶è¿Ÿï¼Œè€Œ<strong>DNSè§£æå¯ä»¥å¯¼è‡´è¯·æ±‚å¢åŠ æ˜æ˜¾çš„å»¶è¿Ÿ</strong>ã€‚</p><p>dns-preçš„ä½œç”¨å³ä¸ºå¸®<strong>åŠ©å¼€å‘äººå‘˜æ©ç›–DNSè§£æçš„å»¶è¿Ÿ</strong>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä½¿ç”¨â†“ æ¯å½“ç«™ç‚¹å¼•ç”¨è·¨æºèµ„æºçš„æ—¶å€™ï¼Œéƒ½åº”åœ¨headä¸­å¦‚æ­¤æ”¾ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å…¶ä»– head å…ƒç´  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä½ çš„é¡µé¢å†…å®¹ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Link</span><span class="punctuation">: </span>&lt;https://fonts.googleapis.com/&gt;; rel=dns-prefetch</span><br><span class="line">æŒ‡å®šä¸ºhttpæ ‡å¤´ä¹‹ä¸€â†‘</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>dns-preä»…å¯¹è·¨æºåŸŸä¸ŠDNSçš„æŸ¥æ‰¾æœ‰æ•ˆï¼Œå› æ­¤éœ€è¦é¿å…æŒ‡å‘æœ¬ç«™ç‚¹/åŸŸ(æµè§ˆå™¨çœ‹åˆ°æç¤ºæ—¶ç«™ç‚¹èƒŒåçš„IPå·²è¢«è§£æ)</p></li><li><p>è€ƒè™‘å°† <code>dns-prefetch</code> ä¸ <code>preconnect</code> æç¤ºé…å¯¹ã€‚<code>dns-prefetch</code> åªæ‰§è¡Œ DNS æŸ¥è¯¢ï¼Œè€Œ <code>preconnect</code> åˆ™æ˜¯å»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ DNS è§£æï¼Œä»¥åŠå»ºç«‹ TCP è¿æ¥ï¼Œå¦‚æœæ˜¯ HTTPS ç½‘ç«™ï¼Œå°±è¿›ä¸€æ­¥æ‰§è¡Œ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/TLS">TLS</a> æ¡æ‰‹ã€‚å°†è¿™ä¸¤è€…ç»“åˆèµ·æ¥ï¼Œå¯ä»¥è¿›ä¸€æ­¥å‡å°‘<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">è·¨æºè¯·æ±‚</a>çš„æ„ŸçŸ¥å»¶è¿Ÿã€‚ï¼ˆpreconnectæœ€å¥½åªç”¨åœ¨å…³é”®è¿æ¥ä¸Šï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preconnect&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> <span class="attr">crossorigin</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="ğŸ¥™ä¼˜åŒ–å¯åŠ¨æ€§èƒ½"><a href="#ğŸ¥™ä¼˜åŒ–å¯åŠ¨æ€§èƒ½" class="headerlink" title="ğŸ¥™ä¼˜åŒ–å¯åŠ¨æ€§èƒ½"></a>ğŸ¥™ä¼˜åŒ–å¯åŠ¨æ€§èƒ½</h4><p>(å¯åŠ¨é€Ÿåº¦ï¼Œç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒ)</p><h5 id="å¼‚æ­¥åŒ–"><a href="#å¼‚æ­¥åŒ–" class="headerlink" title="å¼‚æ­¥åŒ–"></a>å¼‚æ­¥åŒ–</h5><ul><li><p>å¯åŠ¨æ—¶ï¼Œåœ¨ä½¿ç”¨<strong>å¼‚æ­¥è„šæœ¬æ ‡ç­¾ä¸­åŠ å…¥defer(å¼‚æ­¥)/async</strong>(ä¸é˜»å¡åŠ è½½ä½†é˜»å¡è¿è¡Œ)å±æ€§ï¼Œä¾¿äºè§£æå™¨é«˜æ•ˆå¤„ç†æ–‡æ¡£</p></li><li><p>è‹¥éœ€è¦<strong>è§£ç èµ„æºæ–‡ä»¶</strong>ï¼Œæœ€å¥½åœ¨<strong>worker</strong>ä¸­åšæ­¤äº‹</p></li><li><p>å¤„ç†æµè§ˆå™¨æ”¯æŒçš„æ•°æ®æ ¼å¼æ—¶ï¼Œä½¿ç”¨è®¾å¤‡/æµè§ˆå™¨<strong>å†…ç½®çš„è§£ç å™¨</strong>æ›´ä¼˜</p></li><li><p>æ‰€æœ‰èƒ½å¹¶è¡Œçš„æ•°æ®å¤„ç†éƒ½è¯¥<strong>å¹¶è¡ŒåŒ–</strong></p></li><li><p>ä¸è¦å¼ºè¿«Webå¼•æ“æ„å»º<strong>ä¸å¿…è¦çš„DOM</strong></p><p>ä¸€ç§ç®€å•çš„hackæ–¹å¼ï¼šå°†htmlä»£ç ä¿ç•™åœ¨æ–‡æ¡£ä¸­ï¼ŒåŒ…è£¹åœ¨æ³¨é‡Šå†…ï¼Œé˜»æ­¢æ¸²æŸ“ï¼Œéœ€è¦çš„æ—¶å€™å†æ¸²æŸ“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    &lt;div&gt; ... æ­¤å¤„æ”¾ç½®éœ€è¦å»¶è¿Ÿæ¸²æŸ“çš„HTMLä»£ç </span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo.<span class="property">innerHTML</span> = foo.<span class="property">firstChild</span>.<span class="property">nodeValue</span>; <span class="comment">// ä»¥æ­¤è§¦å‘æ¸²æŸ“</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="ä¸‹è½½æ—¶é—´"><a href="#ä¸‹è½½æ—¶é—´" class="headerlink" title="ä¸‹è½½æ—¶é—´"></a>ä¸‹è½½æ—¶é—´</h5><p>ç¼©å°ä½“ç§¯</p><h5 id="GPUå ç”¨æ—¶é—´"><a href="#GPUå ç”¨æ—¶é—´" class="headerlink" title="GPUå ç”¨æ—¶é—´"></a>GPUå ç”¨æ—¶é—´</h5><h5 id="æ•°æ®å¤§å°"><a href="#æ•°æ®å¤§å°" class="headerlink" title="æ•°æ®å¤§å°"></a>æ•°æ®å¤§å°</h5><p>ç¼©å°ä½“ç§¯</p><h5 id="ä¸»è§‚å› ç´ "><a href="#ä¸»è§‚å› ç´ " class="headerlink" title="ä¸»è§‚å› ç´ "></a>ä¸»è§‚å› ç´ </h5><p>è¿‡æ¸¡åŠ¨ç”»ã€è¿›åº¦æ¡ï¼Œå§”å©‰è®©ç”¨æˆ·çŸ¥æ™“çŠ¶æ€çš„ä¸€äº›åŠŸèƒ½</p><h4 id="ğŸ¥ªCSSåŠ¨ç”»å’ŒJSåŠ¨ç”»æ€§èƒ½"><a href="#ğŸ¥ªCSSåŠ¨ç”»å’ŒJSåŠ¨ç”»æ€§èƒ½" class="headerlink" title="ğŸ¥ªCSSåŠ¨ç”»å’ŒJSåŠ¨ç”»æ€§èƒ½"></a>ğŸ¥ªCSSåŠ¨ç”»å’ŒJSåŠ¨ç”»æ€§èƒ½</h4><p>ä¸»è¦åˆ†æCSS(<strong>transitionï¼Œanimation</strong>)å’ŒJS(<strong>requestAnimationFrame()</strong>)åŠ¨ç”»æ€§èƒ½çš„å·®å¼‚ã€‚</p><p>.ä¸€ä¸ªç®€å•çš„çš„æ–¹å¼å»åˆ›é€ å½“å‰æ ·å¼ä¸ç»“æŸçŠ¶æ€æ ·å¼ä¹‹é—´çš„åŠ¨ç”»</p><p>.æä¾›é€šè¿‡ä¸€ä¸ªåˆå§‹çŠ¶æ€å±æ€§å€¼é›†åˆä¸æœ€ç»ˆçŠ¶æ€å±æ€§å€¼é›†åˆåˆ›é€ åŠ¨ç”»</p><p>.æä¾›ä¸€ç§ç”¨ JavaScript ä»£ç åˆ¶ä½œåŠ¨ç”»çš„é«˜æ•ˆæ–¹å¼ï¼Œåœ¨ç»˜åˆ¶ä¸‹ä¸€å¸§å‰ç”±æµè§ˆå™¨è°ƒç”¨</p><p>ç®€å•åŠ¨ç”»å®Œå…¨å¯ä»¥ä½¿ç”¨CSSï¼Œè‹¥å®åœ¨å¤æ‚ï¼ŒJSæ˜¯ä½³é€‰ã€‚</p><h4 id="ğŸŒ®å…³é”®æ¸²æŸ“è·¯å¾„"><a href="#ğŸŒ®å…³é”®æ¸²æŸ“è·¯å¾„" class="headerlink" title="ğŸŒ®å…³é”®æ¸²æŸ“è·¯å¾„"></a>ğŸŒ®å…³é”®æ¸²æŸ“è·¯å¾„</h4><p>è¿™æ¡å°†HTMLCSSJSè½¬æ¢ä¸ºå±å¹•ä¸Šçš„åƒç´ çš„è¿‡ç¨‹æ— ç–‘æ˜¯ä¼˜åŒ–æ€§èƒ½çš„å…³é”®ä¸€ç¯ï¼ˆCRFï¼‰ã€‚</p><ul><li>å¼‚æ­¥/å»¶è¿ŸåŠ è½½æˆ–æ¶ˆé™¤éå…³é”®èµ„æº</li><li>ä¼˜åŒ–è¯·æ±‚æ•°é‡å’Œæ¯ä¸ªè¯·æ±‚æ–‡ä»¶çš„ä½“ç§¯</li><li>é€šè¿‡åŒºåˆ†å…³é”®èµ„æºä¼˜å…ˆçº§æ¥ä¼˜åŒ–è¢«åŠ è½½èµ„æºçš„é¡ºåºï¼Œç¼©çŸ­å…³é”®è·¯å¾„é•¿åº¦</li></ul><h4 id="ğŸŒ¯æ‡’åŠ è½½"><a href="#ğŸŒ¯æ‡’åŠ è½½" class="headerlink" title="ğŸŒ¯æ‡’åŠ è½½"></a>ğŸŒ¯æ‡’åŠ è½½</h4><p>å»¶è¿ŸåŠ è½½ï¼Œéå…³é”®èµ„æºåŠ è½½çš„ç­–ç•¥ã€‚</p><ul><li>æ‹†åˆ†ä»£ç ï¼Œå…¥å£/import</li><li>CSSå°½é‡å°ï¼Œå°½å¿«é€è¾¾</li><li>å­—ä½“preload</li><li>éå…³é”®å›¾ç‰‡æ‡’åŠ è½½, loading=â€lazyâ€</li><li>äº‹ä»¶å¤„ç†å™¨åŠ è½½</li></ul><h4 id="ğŸ”æ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨å·¥ä½œåŸç†"><a href="#ğŸ”æ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨å·¥ä½œåŸç†" class="headerlink" title="ğŸ”æ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨å·¥ä½œåŸç†"></a>ğŸ”æ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨å·¥ä½œåŸç†</h4><p>å°±æ˜¯â†“</p><h3 id="æ°‘é—´ç‰ˆï¼š"><a href="#æ°‘é—´ç‰ˆï¼š" class="headerlink" title="æ°‘é—´ç‰ˆï¼š"></a>æ°‘é—´ç‰ˆï¼š</h3><p>è¯·å»çœ‹URL-&gt;æ¸²æŸ“è¿‡ç¨‹ï¼Œæ ¹æ®è¿™ä¸€ç³»åˆ—çš„æ­¥éª¤æ¥ä¼˜åŒ–ã€‚</p><ul><li>è¯·æ±‚é˜¶æ®µ<ul><li>å–„ç”¨ç¼“å­˜</li><li>ä½¿ç”¨httpDNS</li><li>å‡å°‘é‡å®šå‘</li><li>é™æ€èµ„æºæœåŠ¡å™¨</li><li>æœåŠ¡å™¨å‡çº§å¸¦å®½</li><li>æ•°æ®åº“ä¼˜åŒ–</li><li>ç¼“å­˜åŠ¨æ€ç½‘é¡µ</li><li>é«˜é˜²æœåŠ¡å™¨</li></ul></li><li>è§£æåŠ è½½é˜¶æ®µ<ul><li>DNSé¢„è§£æé¢„è§£æhtmlé¢„åŠ è½½linkscriptï¼Œå°½é‡é¿å…é˜»å¡ï¼Œç¼©çŸ­é˜»å¡æ—¶é—´(å°‘ï¼Œæ—©)</li><li>æŒ‰éœ€åŠ è½½</li><li>åˆé€‚ç»Ÿä¸€æ›¿ä»£</li><li>ç¼“å­˜</li><li>å¹¶è¡Œè¯·æ±‚</li><li>SSR</li></ul></li><li>æ¸²æŸ“é˜¶æ®µ<ul><li>å°‘æ“ä½œDOM</li></ul></li></ul><h2 id="âœ…CSS3æ–°ç‰¹æ€§"><a href="#âœ…CSS3æ–°ç‰¹æ€§" class="headerlink" title="âœ…CSS3æ–°ç‰¹æ€§"></a>âœ…CSS3æ–°ç‰¹æ€§</h2><ul><li>åœ†è§’ï¼šborder-radius</li><li>æ¸å˜ï¼šgradient</li><li>é˜´å½±ï¼šbox-shadow text-shadow</li><li>é€æ˜åº¦ï¼šopacity</li><li>è¿‡æ¸¡ï¼štransition</li><li>åŠ¨ç”»ï¼š@keyframes: animation</li><li>å¤šåˆ—å¸ƒå±€ï¼šcolumn-count column-width</li><li>åª’ä½“æŸ¥è¯¢ï¼š@media</li><li>è‡ªå®šä¹‰å­—ä½“ï¼š@font-face</li><li>ä¼ªå…ƒç´ ä¼ªç±»ï¼š::before ::after :hover</li><li>Flexå¸ƒå±€ï¼šdisplay: flex</li><li>Gridå¸ƒå±€ï¼šdisplay: grid</li><li>è¿‡æ»¤ï¼šfilter</li></ul><h2 id="Flexå¸ƒå±€"><a href="#Flexå¸ƒå±€" class="headerlink" title="Flexå¸ƒå±€"></a>Flexå¸ƒå±€</h2><p>flex-basis flex </p><h2 id="Gridå¸ƒå±€"><a href="#Gridå¸ƒå±€" class="headerlink" title="Gridå¸ƒå±€"></a>Gridå¸ƒå±€</h2><h2 id="remå¸ƒå±€"><a href="#remå¸ƒå±€" class="headerlink" title="remå¸ƒå±€"></a>remå¸ƒå±€</h2><h2 id="æµ®åŠ¨å¸ƒå±€"><a href="#æµ®åŠ¨å¸ƒå±€" class="headerlink" title="æµ®åŠ¨å¸ƒå±€"></a>æµ®åŠ¨å¸ƒå±€</h2><h2 id="ğŸˆ¯BFC"><a href="#ğŸˆ¯BFC" class="headerlink" title="ğŸˆ¯BFC"></a>ğŸˆ¯BFC</h2><p>Block Formating Context å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡</p><p>æˆ‘å¯¹å®ƒçš„ç†è§£æ˜¯å®ƒå…¶å®æ˜¯æµè§ˆå™¨ä¸€ä¸ªéšè—æ–¹æ³•ï¼Œå½“æ»¡è¶³ä¸€å®šæ¡ä»¶çš„æ—¶å€™å°±ä¼šè°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è¯´BFCå¼€å¯äº†ã€‚</p><p>BFCå¼€å¯ä¸»è¦è§£å†³è¿™äº›é—®é¢˜ï¼š</p><ul><li>marginå¡Œé™·</li><li>å…ƒç´ å†…å…ƒç´ å¼€å¯æµ®åŠ¨çš„æ—¶å€™ï¼Œå…ƒç´ å®½é«˜å¡Œé™·</li><li>æµ®åŠ¨å…ƒç´ è¢«å¦ä¸€ä¸ªå…„å¼Ÿå…ƒç´ è¦†ç›–</li></ul><p>å¼€å¯BFCçš„æ–¹å¼æœ‰å¾ˆå¤šï¼š</p><ul><li>ä¸ªäººè®¤ä¸ºå‰¯ä½œç”¨æœ€å°çš„æ˜¯<code>display: flow-root</code></li><li>æµ®åŠ¨å®šä½ã€ç»å¯¹å®šä½</li><li>è¡Œå†…å—å…ƒç´ inline-block</li><li>flex/grid/tableå¸ƒå±€ å¤šåˆ—å®¹å™¨</li><li>overflow!=visible</li></ul><h2 id="âœ…CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§-amp-æƒé‡"><a href="#âœ…CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§-amp-æƒé‡" class="headerlink" title="âœ…CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§&amp;æƒé‡"></a>âœ…CSSé€‰æ‹©å™¨ä¼˜å…ˆçº§&amp;æƒé‡</h2><h3 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h3><h4 id="å±æ€§é€‰æ‹©å™¨"><a href="#å±æ€§é€‰æ‹©å™¨" class="headerlink" title="å±æ€§é€‰æ‹©å™¨"></a>å±æ€§é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[title]</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href=<span class="string">&#x27;...&#x27;</span>]</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[class~=<span class="string">&#x27;warn&#x27;</span>]</span> <span class="comment">/* å«æœ‰warn */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-attr">[lang|=<span class="string">&#x27;zh&#x27;</span>]</span> <span class="comment">/* æ­£ä¸º/ä¸€å¼€å§‹ä¸ºæ­¤å€¼ */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class^=<span class="string">&#x27;box-&#x27;</span>]</span> <span class="comment">/* å¼€å¤´æ˜¯æ­¤å­—æ®µ */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class$=<span class="string">&#x27;-box&#x27;</span>]</span> <span class="comment">/* ç»“å°¾æ˜¯æ­¤å­—æ®µ */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class*=<span class="string">&#x27;box&#x27;</span>]</span> <span class="comment">/* è‡³å°‘å‡ºç°ä¸€æ¬¡è¯¥å­—æ®µ */</span></span><br></pre></td></tr></table></figure><h4 id="ä¼ªç±»é€‰æ‹©å™¨"><a href="#ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="ä¼ªç±»é€‰æ‹©å™¨"></a>ä¼ªç±»é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:frist-child</span><br><span class="line">:last-child</span><br><span class="line">:only-child</span><br><span class="line">:invalid</span><br><span class="line"></span><br><span class="line">:hover</span><br><span class="line">:focus</span><br></pre></td></tr></table></figure><h4 id="ä¼ªå…ƒç´ é€‰æ‹©å™¨"><a href="#ä¼ªå…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="ä¼ªå…ƒç´ é€‰æ‹©å™¨"></a>ä¼ªå…ƒç´ é€‰æ‹©å™¨</h4><blockquote><p><strong>å¥½å¥‡å¦™çš„</strong></p><p>æ ¼å¼åŒ–å‘€â†“</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">artical <span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::before</span> </span><br><span class="line"><span class="selector-pseudo">::after</span> </span><br><span class="line"><span class="comment">/* é€‚åˆç”¨æ¥æ’å…¥å›¾æ ‡ï¼Œä¸å¤ªé€‚åˆæ’å…¥å­—ç¬¦ä¸² */</span></span><br><span class="line"><span class="comment">/* â€œç”Ÿæˆå†…å®¹â€â€”â€”å°†å…¶contentå±æ€§è®¾ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå³å¯è¿›è¡Œä¸€äº›æ›´ä¸ºæ ·å¼åŒ–çš„æ“ä½œ */</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸€ç»„ç‰¹åˆ«çš„ä¼ªå…ƒç´ â†‘</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193431669.png" alt="image-20230726193431669" style="zoom: 67%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193624388.png" alt="image-20230726193624388" style="zoom:67%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193823520.png" alt="image-20230726193823520" style="zoom:67%;" /></blockquote><h4 id="å…³ç³»é€‰æ‹©å™¨"><a href="#å…³ç³»é€‰æ‹©å™¨" class="headerlink" title="å…³ç³»é€‰æ‹©å™¨"></a>å…³ç³»é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç»å…¸çš„åä»£é€‰æ‹©å™¨-å‡¡æ˜¯åä»£ */</span></span><br><span class="line"><span class="selector-tag">body</span> <span class="selector-tag">article</span> <span class="selector-tag">p</span> &#123;&#125;</span><br></pre></td></tr></table></figure><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726195259096.png" alt="image-20230726195259096" style="zoom:67%;" /><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å­ä»£å…³ç³»é€‰æ‹©å™¨-ç›´æ¥çš„å­å…ƒç´  */</span></span><br><span class="line"><span class="selector-tag">article</span> &gt; <span class="selector-tag">p</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é‚»æ¥å…„å¼Ÿé€‰æ‹©å™¨-ç´§éšä¹‹åçš„å…ƒç´  */</span></span><br><span class="line"><span class="selector-tag">p</span> + <span class="selector-tag">img</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨-éƒ½å½å§é¸½ä»¬ï¼ */</span></span><br><span class="line"><span class="selector-tag">p</span> ~ <span class="selector-tag">img</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç»„åˆä¸€ä¸‹ */</span></span><br><span class="line"><span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-attr">[class*=<span class="string">&#x27;detail&#x27;</span>]</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¿™äº›ç‰¹æ®Šçš„é€‰æ‹©å™¨è›®å¤šçš„ï¼Œå»MDNæŸ¥å§ï¼ä¼šæœ‰æ„å¤–æ”¶è·çš„~</p><h3 id="é€‰æ‹©å™¨æƒé‡"><a href="#é€‰æ‹©å™¨æƒé‡" class="headerlink" title="é€‰æ‹©å™¨æƒé‡"></a>é€‰æ‹©å™¨æƒé‡</h3><ul><li><strong>!important</strong></li><li><strong>å†…è”æ ·å¼1000</strong>ï¼šåœ¨å…ƒç´ çš„styleä¸­å®šä¹‰</li><li><strong>IDé€‰æ‹©å™¨100</strong>ï¼šé€šè¿‡å…ƒç´ idå±æ€§å®šä¹‰</li><li><strong>ç±»é€‰æ‹©å™¨/å±æ€§é€‰æ‹©å™¨/ä¼ªç±»é€‰æ‹©å™¨10</strong>ï¼šclass / [type=1] / :hover</li><li><strong>å…ƒç´ é€‰æ‹©å™¨(ç±»å‹é€‰æ‹©å™¨)/ä¼ªå…ƒç´ é€‰æ‹©å™¨1</strong>ï¼šp, div / ::before, ::after</li><li><strong>å…¨å±€é€šç”¨é€‰æ‹©å™¨/å…³ç³»é€‰æ‹©å™¨/ç»„åˆå™¨0</strong>ï¼š* / img~p</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: white&quot;</span>&gt;</span>å•Šå•Šå•Šå•Šå•Š<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">!important&gt;å†…è”æ ·å¼&gt;idé€‰æ‹©å™¨&gt;ç±»é€‰æ‹©å™¨&gt;å…ƒç´ é€‰æ‹©å™¨</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background-color</span>:blue <span class="meta">!important</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726162808919.png" alt="image-20230726162808919"></p><h2 id="âœ…ç›’æ¨¡å‹"><a href="#âœ…ç›’æ¨¡å‹" class="headerlink" title="âœ…ç›’æ¨¡å‹"></a>âœ…ç›’æ¨¡å‹</h2><p>CSSä¸­æ‰€æœ‰å…ƒç´ éƒ½è¢«ä¸€ä¸ªä¸ªç›’å­åŒ…å›´ã€‚å¹¿æ³›ä½¿ç”¨çš„ä¸¤ç§ç›’å­ï¼šå—çº§ç›’å­ã€å†…è”ç›’å­ã€‚ä¸¤ç§ç›’å­ä¼šåœ¨é¡µé¢æµå’Œå…ƒç´ é—´å…³ç³»æ–¹é¢è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/The_box_mode">MDNåŸæ–‡</a></p><h3 id="å—çº§ç›’å­"><a href="#å—çº§ç›’å­" class="headerlink" title="å—çº§ç›’å­"></a>å—çº§ç›’å­</h3><ul><li>ç›’å­ä¼šåœ¨å†…è”æ–¹å‘ä¸Šæ‰©å±•å¹¶å æ®çˆ¶å®¹å™¨åœ¨è¯¥æ–¹å‘ä¸Šçš„æ‰€æœ‰å¯ç”¨çš„ç©ºé—´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹å’Œçˆ¶å®¹å™¨ç›’å­ä¸€æ ·å®½</li><li>æ¯ä¸ªç›’å­éƒ½æ¢è¡Œ</li><li>width/heightå±æ€§å¯ä»¥å‘æŒ¥ä½œç”¨</li><li>å†…è¾¹è·ã€å¤–è¾¹è·ã€è¾¹æ¡†ä¼šå°†å…¶ä»–å…ƒç´ ä»å½“å‰ç›’å­å‘¨å›´æ¨å¼€</li></ul><h3 id="å†…è”ç›’å­"><a href="#å†…è”ç›’å­" class="headerlink" title="å†…è”ç›’å­"></a>å†…è”ç›’å­</h3><ul><li>ç›’å­ä¸ä¼šäº§ç”Ÿæ¢è¡Œ</li><li>width/heightä¸èµ·ä½œç”¨</li><li>æ°´å¹³æ–¹å‘å†…è¾¹è·ã€å¤–è¾¹è·ã€è¾¹æ¡†ä¼šè¢«åº”ç”¨ä½†ä¸ä¼šæŠŠå…¶ä»–å¤„äºinlineçŠ¶æ€çš„ç›’å­æ¨å¼€</li><li>å‚ç›´æ–¹å‘å†…è¾¹è·ã€å¤–è¾¹è·ã€è¾¹æ¡†ä¼šè¢«åº”ç”¨ä¸”ä¼šæŠŠå¤„äºinlineçŠ¶æ€çš„ç›’å­æ¨å¼€</li></ul><h3 id="CSSç›’æ¨¡å‹"><a href="#CSSç›’æ¨¡å‹" class="headerlink" title="CSSç›’æ¨¡å‹"></a>CSSç›’æ¨¡å‹</h3><p>æ¨¡å‹å®šä¹‰äº†content padding border marginè¿™äº›éƒ¨åˆ†</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/box-model.png" alt="Diagram of the box model"></p><p>CSSä¸­ç»„æˆä¸€ä¸ªå—çº§ç›’å­éœ€è¦ï¼š</p><ul><li>ContentBox</li><li>PaddingBox</li><li>BorderBox</li><li>MarginBox</li></ul><p>ä¸ºäº†å¢åŠ ä¸€äº›é¢å¤–çš„å¤æ‚æ€§ï¼Œæœ‰äº†ä¸¤ç±»ç›’æ¨¡å‹ï¼Œä¸€ä¸ªæ˜¯æ ‡å‡†ç›’æ¨¡å‹ï¼Œä¸€ä¸ªæ˜¯æ›¿ä»£ç›’æ¨¡å‹â†“</p><h4 id="æ ‡å‡†ç›’æ¨¡å‹"><a href="#æ ‡å‡†ç›’æ¨¡å‹" class="headerlink" title="æ ‡å‡†ç›’æ¨¡å‹"></a>æ ‡å‡†ç›’æ¨¡å‹</h4><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/standard-box-model.png" alt="Showing the size of the box when the standard box model is being used."></p><p>æ ‡å‡†ç›’æ¨¡å‹å®½é«˜æ˜¯ContentBoxçš„å®½é«˜ã€‚</p><p>æµè§ˆå™¨é»˜è®¤ä½¿ç”¨è¿™ç§æ ‡å‡†ç›’æ¨¡å‹<code>box-sizing: content-box</code>ã€‚</p><h4 id="æ›¿ä»£-IE-ç›’æ¨¡å‹"><a href="#æ›¿ä»£-IE-ç›’æ¨¡å‹" class="headerlink" title="æ›¿ä»£(IE)ç›’æ¨¡å‹"></a>æ›¿ä»£(IE)ç›’æ¨¡å‹</h4><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/alternate-box-model.png" alt="Showing the size of the box when the alternate box model is being used."></p><p>æ›¿ä»£ç›’æ¨¡å‹çš„å®½é«˜æ˜¯ContentBox+PaddingBox+BorderBoxçš„å®½é«˜ï¼ˆå¯è§å®½é«˜ï¼‰ã€‚</p><p>å¯ä»¥é€šè¿‡<code>box-sizing: border-box</code>æ¥å®ç°æ›¿ä»£ç›’æ¨¡å‹ã€‚</p><h3 id="å…¶ä»–å¸¸è§ç›’æ¨¡å‹"><a href="#å…¶ä»–å¸¸è§ç›’æ¨¡å‹" class="headerlink" title="å…¶ä»–å¸¸è§ç›’æ¨¡å‹"></a>å…¶ä»–å¸¸è§ç›’æ¨¡å‹</h3><ul><li>å†…è”ç›’å­-display: inline-box</li><li>å†…è”å—çº§ç›’å­-inline-block</li><li>å¼¹æ€§ç›’å­-flex</li><li>ç½‘æ ¼ç›’å­-grid</li><li>è¡¨æ ¼ç›’å­-table table-row table-cell</li><li>æµ®åŠ¨ç›’å­-fload: left/right</li><li>ç»å¯¹å®šä½ç›’å­-position: absolute</li></ul><h4 id="å†…è”ç›’å­-1"><a href="#å†…è”ç›’å­-1" class="headerlink" title="å†…è”ç›’å­"></a>å†…è”ç›’å­</h4><ul><li>æ°´å¹³æ–¹å‘æ’åˆ—</li><li>å®½åº¦ç”±å†…å®¹å†³å®šï¼Œé«˜åº¦ç”±å­—ä½“å¤§å°å†³å®š</li><li>ä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œä¸ä¼šç‹¬å ä¸€è¡Œ</li><li>ä»…æ”¯æŒæ°´å¹³æ–¹å‘å†…å¤–è¾¹è·å’Œè¾¹æ¡†</li></ul><h4 id="å†…è”å—çº§ç›’å­"><a href="#å†…è”å—çº§ç›’å­" class="headerlink" title="å†…è”å—çº§ç›’å­"></a>å†…è”å—çº§ç›’å­</h4><ul><li>æ°´å¹³æ–¹å‘ï¼Œä¸€è¡Œå†…ï¼Œä¸è‡ªåŠ¨æ¢è¡Œ</li><li>ä½†æ˜¯æ”¯æŒå®½é«˜è®¾ç½®å’Œå‚ç›´æ–¹å‘è¾¹è·å’Œè¾¹æ¡†</li></ul><h2 id="âœ…è¡Œå†…å…ƒç´ å’Œå—å…ƒç´ "><a href="#âœ…è¡Œå†…å…ƒç´ å’Œå—å…ƒç´ " class="headerlink" title="âœ…è¡Œå†…å…ƒç´ å’Œå—å…ƒç´ "></a>âœ…è¡Œå†…å…ƒç´ å’Œå—å…ƒç´ </h2><h3 id="è¡Œå†…å…ƒç´ -inline"><a href="#è¡Œå†…å…ƒç´ -inline" class="headerlink" title="è¡Œå†…å…ƒç´ -inline"></a>è¡Œå†…å…ƒç´ -inline</h3><p>a span em strong img input</p><ul><li>æ°´å¹³ã€ä¸ç‹¬å ä¸€è¡Œã€ä¸è‡ªåŠ¨æ¢è¡Œ</li><li>å®½é«˜ç”±å†…å®¹å’Œå­—ä½“å¤§å°å†³å®šï¼Œä¹Ÿå°±æ˜¯è¯´è®¾ç½®å®½é«˜æ— æ•ˆ</li><li>å‚ç›´æ–¹å‘å†…å¤–è¾¹è·å’Œè¾¹æ¡†å¤±æ•ˆ</li><li><strong>è¡Œå†…å…ƒç´ ä¸èƒ½åŒ…å«å—çº§å…ƒç´ </strong>ï¼Œåªèƒ½æ¥ç‚¹å°æ–‡æœ¬/å…¶ä»–è¡Œå†…å…ƒç´ </li></ul><h3 id="å—çº§å…ƒç´ -block"><a href="#å—çº§å…ƒç´ -block" class="headerlink" title="å—çº§å…ƒç´ -block"></a>å—çº§å…ƒç´ -block</h3><p>hn p div ul/ol/li form</p><ul><li>ç‹¬å ä¸€è¡Œã€è‡ªåŠ¨æ¢è¡Œ</li><li>å®½åº¦é»˜è®¤çˆ¶å…ƒç´ 100%ï¼Œå®½é«˜æœ‰æ•ˆ</li><li>å†…å¤–è¾¹è·å’Œè¾¹æ¡†éƒ½æœ‰æ•ˆ</li><li>å—çº§å…ƒç´ å†…å¯ä»¥åŒ…å«å—çº§å…ƒç´ ã€è¡Œå†…å…ƒç´ ã€æ–‡æœ¬</li></ul><h2 id="èƒŒæ™¯å’Œè¾¹æ¡†"><a href="#èƒŒæ™¯å’Œè¾¹æ¡†" class="headerlink" title="èƒŒæ™¯å’Œè¾¹æ¡†"></a>èƒŒæ™¯å’Œè¾¹æ¡†</h2><h2 id="z-indexåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæ•ˆï¼ˆ-gt-å±‚å æ ·å¼è¡¨"><a href="#z-indexåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæ•ˆï¼ˆ-gt-å±‚å æ ·å¼è¡¨" class="headerlink" title="z-indexåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæ•ˆï¼ˆ=&gt;å±‚å æ ·å¼è¡¨"></a>z-indexåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç”Ÿæ•ˆï¼ˆ=&gt;å±‚å æ ·å¼è¡¨</h2><h2 id="positionå¸¸è§å±æ€§"><a href="#positionå¸¸è§å±æ€§" class="headerlink" title="positionå¸¸è§å±æ€§"></a>positionå¸¸è§å±æ€§</h2><h2 id="å®ç°æ°´å¹³å‚ç›´å±…ä¸­"><a href="#å®ç°æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="å®ç°æ°´å¹³å‚ç›´å±…ä¸­"></a>å®ç°æ°´å¹³å‚ç›´å±…ä¸­</h2><h2 id="å®ç°å…ƒç´ å±…ä¸­"><a href="#å®ç°å…ƒç´ å±…ä¸­" class="headerlink" title="å®ç°å…ƒç´ å±…ä¸­"></a>å®ç°å…ƒç´ å±…ä¸­</h2><h2 id="å¦‚ä½•éšè—å…ƒç´ "><a href="#å¦‚ä½•éšè—å…ƒç´ " class="headerlink" title="å¦‚ä½•éšè—å…ƒç´ "></a>å¦‚ä½•éšè—å…ƒç´ </h2><h2 id="å¦‚ä½•æ¸…é™¤æµ®åŠ¨æ ·å¼"><a href="#å¦‚ä½•æ¸…é™¤æµ®åŠ¨æ ·å¼" class="headerlink" title="å¦‚ä½•æ¸…é™¤æµ®åŠ¨æ ·å¼"></a>å¦‚ä½•æ¸…é™¤æµ®åŠ¨æ ·å¼</h2><h2 id="csså®ç°é€æ˜åº¦çš„æ–¹å¼"><a href="#csså®ç°é€æ˜åº¦çš„æ–¹å¼" class="headerlink" title="csså®ç°é€æ˜åº¦çš„æ–¹å¼"></a>csså®ç°é€æ˜åº¦çš„æ–¹å¼</h2><h2 id="å®ç°Flexä¸¤æ å¸ƒå±€"><a href="#å®ç°Flexä¸¤æ å¸ƒå±€" class="headerlink" title="å®ç°Flexä¸¤æ å¸ƒå±€"></a>å®ç°Flexä¸¤æ å¸ƒå±€</h2><h2 id="å®ç°ä¸‰åˆ—å¸ƒå±€"><a href="#å®ç°ä¸‰åˆ—å¸ƒå±€" class="headerlink" title="å®ç°ä¸‰åˆ—å¸ƒå±€"></a>å®ç°ä¸‰åˆ—å¸ƒå±€</h2><h2 id="å®ç°æµå¼å¸ƒå±€"><a href="#å®ç°æµå¼å¸ƒå±€" class="headerlink" title="å®ç°æµå¼å¸ƒå±€"></a>å®ç°æµå¼å¸ƒå±€</h2><h2 id="é¢„å¤„ç†å™¨å’Œcsså˜é‡"><a href="#é¢„å¤„ç†å™¨å’Œcsså˜é‡" class="headerlink" title="é¢„å¤„ç†å™¨å’Œcsså˜é‡"></a>é¢„å¤„ç†å™¨å’Œcsså˜é‡</h2><h1 id="ğŸ¦´JS"><a href="#ğŸ¦´JS" class="headerlink" title="ğŸ¦´JS"></a>ğŸ¦´JS</h1><h2 id="ğŸˆ¯ES6é‡Œé¢çš„Eå’ŒSåˆ†åˆ«æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸˆ¯ES6é‡Œé¢çš„Eå’ŒSåˆ†åˆ«æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸˆ¯ES6é‡Œé¢çš„Eå’ŒSåˆ†åˆ«æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸˆ¯ES6é‡Œé¢çš„Eå’ŒSåˆ†åˆ«æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ES6ä¸­EæŒ‡çš„æ˜¯ECMAScriptï¼ŒSæŒ‡çš„æ˜¯Scriptã€‚</p><p>å‰è€…æ˜¯JSçš„æ ‡å‡†åŒ–ç‰ˆæœ¬ï¼Œå®šä¹‰äº†JSçš„æ ¸å¿ƒè¯­è¨€åŠŸèƒ½ï¼ŒåŒ…æ‹¬å˜é‡ã€æ•°æ®ç±»å‹ã€æ“ä½œç¬¦ã€æ§åˆ¶ç»“æ„ç­‰ã€‚ </p><p>åè€…è¡¨ç¤ºçš„æ˜¯JSçš„è„šæœ¬ç¼–ç¨‹ç‰¹æ€§ï¼Œä½¿å…¶é€‚ç”¨äºåœ¨Webæµè§ˆå™¨ä¸­åˆ›å»ºäº¤äº’å¼å’ŒåŠ¨æ€çš„ç½‘é¡µã€‚</p><h2 id="ğŸˆ¯JavaScriptå’ŒECMAScriptåŒºåˆ«ï¼Ÿ"><a href="#ğŸˆ¯JavaScriptå’ŒECMAScriptåŒºåˆ«ï¼Ÿ" class="headerlink" title="ğŸˆ¯JavaScriptå’ŒECMAScriptåŒºåˆ«ï¼Ÿ"></a>ğŸˆ¯JavaScriptå’ŒECMAScriptåŒºåˆ«ï¼Ÿ</h2><p>JSæ˜¯ä¸€ç§åŸºäºECMAScriptæ ‡å‡†çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯å®ƒçš„ä¸€ç§å®ç°ã€‚å®ƒåŒ…æ‹¬äº†ECå®šä¹‰çš„æ ¸å¿ƒè¯­è¨€åŠŸèƒ½ï¼Œä½†ä¹ŸåŒ…æ‹¬äº†å…¶ä»–åŠŸèƒ½å’ŒAPIï¼Œä»¥ä¾¿åœ¨Webç¯å¢ƒä¸­è¿›è¡Œç½‘é¡µå¼€å‘ã€‚</p><h2 id="ğŸˆ¯ä»JavaScriptä¸­æŠŠECMAScriptè¸¢å‡ºå»ï¼Œå‰©ä¸‹çš„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸˆ¯ä»JavaScriptä¸­æŠŠECMAScriptè¸¢å‡ºå»ï¼Œå‰©ä¸‹çš„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸˆ¯ä»JavaScriptä¸­æŠŠECMAScriptè¸¢å‡ºå»ï¼Œå‰©ä¸‹çš„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸˆ¯ä»JavaScriptä¸­æŠŠECMAScriptè¸¢å‡ºå»ï¼Œå‰©ä¸‹çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å‰”å‡ºçš„è¯å°±éå¸¸å—é™äº†ï¼ŒJSå°†å¤±å»ç¼–ç¨‹è¯­è¨€çš„ç‰¹æ€§ï¼Œåªå‰©ä¸‹ä¸€äº›æµè§ˆå™¨ç‰¹å®šAPIï¼Œæ¯”å¦‚DOMã€BOMç­‰ã€‚è¿™äº›APIç”¨äºæ“ä½œç½‘é¡µå…ƒç´ ã€ä¸æµè§ˆå™¨äº¤äº’ï¼Œä½†æ˜¯æ— æ³•æ„å»ºå®Œæ•´çš„åº”ç”¨ç¨‹åºæˆ–è€…åº”ç”¨ç¨‹åºè¿›è¡Œé€šç”¨çš„ç¼–ç¨‹ä»»åŠ¡ã€‚</p><h2 id="ğŸˆ¯ES6æ–°ç‰¹æ€§"><a href="#ğŸˆ¯ES6æ–°ç‰¹æ€§" class="headerlink" title="ğŸˆ¯ES6æ–°ç‰¹æ€§"></a>ğŸˆ¯ES6æ–°ç‰¹æ€§</h2><p>è›®å¤šçš„â€¦â€¦çœ‹çœ‹èƒ½ä¸èƒ½å°½é‡å¾€ä¼šçš„åœ°æ–¹å¼•ï¼Œä¸€ä¸‹æ˜¯ä¹‹å‰æ•´ç†è¿‡çš„â†“</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230727152654985.png" alt="image-20230727152654985" style="zoom: 80%;" /><h2 id="âœ…constä¸€ä¸ªæ•°ç»„-å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ å—"><a href="#âœ…constä¸€ä¸ªæ•°ç»„-å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ å—" class="headerlink" title="âœ…constä¸€ä¸ªæ•°ç»„ å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ å—"></a>âœ…constä¸€ä¸ªæ•°ç»„ å¯ä»¥ä¿®æ”¹æ•°ç»„å…ƒç´ å—</h2><p>constå£°æ˜ï¼Œè¡¨ç¤ºå˜é‡çš„å¼•ç”¨æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½é‡æ–°åˆ†é…ä¸€ä¸ªä¸åŒçš„æ•°ç»„ç»™å˜é‡ã€‚</p><p>æ¢ä¸€å¥è¯è¯´å°±æ˜¯ï¼šæ•°ç»„æ˜¯å¼•ç”¨å˜é‡ï¼Œèƒ½é€šè¿‡ä¸­æ‹¬å·å’Œä¸€äº›æ•°ç»„æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯å®Œæ•´æ›¿æ¢æ˜¯ä¸è¡Œçš„ã€‚</p><h2 id="map-mapçš„å®ç°æ–¹å¼-set-weakmap-weakset-bigint"><a href="#map-mapçš„å®ç°æ–¹å¼-set-weakmap-weakset-bigint" class="headerlink" title="map(mapçš„å®ç°æ–¹å¼) set weakmap weakset bigint"></a>map(mapçš„å®ç°æ–¹å¼) set weakmap weakset bigint</h2><h2 id="âœ…åŸå‹-amp-åŸå‹é“¾"><a href="#âœ…åŸå‹-amp-åŸå‹é“¾" class="headerlink" title="âœ…åŸå‹&amp;åŸå‹é“¾"></a>âœ…åŸå‹&amp;åŸå‹é“¾</h2><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p>ä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿåœ¨JSä¸­å‡ ä¹æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å¯¹è±¡ï¼Œå¯¹è±¡ä»è¿™ä¸ªå…³è”çš„å¯¹è±¡ä¸­ç»§æ‰¿ä¸€äº›å±æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªå…³è”çš„å¯¹è±¡å°±å¯ä»¥è¢«ç§°ä¸ºæ˜¯è¿™ä¸ªå¯¹è±¡çš„åŸå‹ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡<code>Object.prototype</code>æ¥å¼•ç”¨ã€‚ç”¨new æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼ŒåŸå‹æ˜¯æ„é€ å‡½æ•°ä¸­prototypeæ‰€æŒ‡â€¦â€¦</p><h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><p>åŸå‹é“¾æ˜¯ä»€ä¹ˆå‘¢ï¼ŸåŸå‹é“¾å®ƒæ˜¯ä¸€ç§JSçš„ä¸»è¦ç»§æ‰¿æ–¹å¼ã€‚<br>å®ƒçš„åŸºæœ¬æ€æƒ³å°±æ˜¯é€šè¿‡åŸå‹ï¼Œç»§æ‰¿å¤šä¸ªå¼•ç”¨ç±»å‹çš„å±æ€§å’Œæ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ„æƒ³å°±æ˜¯åœ¨å®ä¾‹å’ŒåŸå‹é—´æ„é€ ä¸€æ¡é•¿é“¾ã€‚<br>å…·ä½“è§£é‡Šä¸€ä¸‹å°±æ˜¯ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªå±æ€§æŒ‡å‘åŸå‹å¯¹è±¡ï¼ŒåŸå‹åˆæœ‰ä¸€ä¸ªå±æ€§æŒ‡å›æ„é€ å‡½æ•°ï¼Œé€šè¿‡è¿™äº›æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§æŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸€ä¸ªä¸‰è¦ç´ è¿èµ·æ¥çš„å°é“¾äº†ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸‹åŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡å¯èƒ½ç»§æ‰¿äº†å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä¹Ÿæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œé‚£ä¹ˆæ­¤æ—¶å®ƒä¹Ÿåº”è¯¥æœ‰ä¸€ä¸ªå±æ€§æ¥æŒ‡å‘å®ƒçš„åŸå‹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå°±å‡ºç°äº†ä¸€æ¡é•¿é•¿çš„åŸå‹é“¾ã€‚</p><p>è¿™ä½¿å¾—ï¼Œå½“æˆ‘ä»¬è¦ä»ä¸€ä¸ªå¯¹è±¡ä¸­æŸ¥è¯¢ä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œå…ˆä¼šè¿™ä¸ªå¯¹è±¡çš„è‡ªæœ‰å±æ€§ä¸­æœ‰æ— ï¼Œå¦‚æœæœ‰ï¼Œå¾ˆå¥½æ‰¾åˆ°äº†ï¼›å¦‚æœæ²¡æœ‰ï¼Œå»çœ‹åˆ°å®ƒä»å®ƒçš„åŸå‹ä¸­ç»§æ‰¿æ¥çš„å±æ€§ï¼›å¦‚æœæœ‰å¾ˆå¥½æ‰¾åˆ°äº†ï¼›å¦‚æœæ²¡æœ‰ï¼Œå»åˆ°å®ƒè¿™ä¸ªåŸå‹çš„åŸå‹ä¸­æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°JSè§„å®šçš„<code>Object.prototype.__proto__ = null</code>è¿™ä¸ªé¡¶ç«¯ç»ˆç‚¹ä¸ºæ­¢ã€‚</p><h2 id="âœ…æ•°ç»„åº•å±‚æ•°æ®ç»“æ„"><a href="#âœ…æ•°ç»„åº•å±‚æ•°æ®ç»“æ„" class="headerlink" title="âœ…æ•°ç»„åº•å±‚æ•°æ®ç»“æ„"></a>âœ…æ•°ç»„åº•å±‚æ•°æ®ç»“æ„</h2><p>~ä»ä¸å…¶ä»–è¯­è¨€å¯¹æ¯”ä¸Šè®²ï¼š</p><p>JSæ•°ç»„ä¸åƒä¼ ç»Ÿçš„è¯­è¨€ä¸€æ ·æ˜¯ä¸€å—è¿ç»­çš„åŒºåŸŸï¼Œè€Œæ˜¯ä¸€ç§ç¨€ç–çš„ï¼Œä¸å¿…è¿ç»­ï¼Œå…è®¸æœ‰ç©ºéš™çš„æ•°æ®ç»“æ„ã€‚ä¸”ä¸åƒä¼ ç»Ÿæ•°ç»„ä¸€æ ·è¦æ±‚æ‰€æœ‰å…ƒç´ ç±»å‹ç›¸åŒï¼Œå…ƒç´ å¯ä»¥æ˜¯å­—ç¬¦ä¸²ç”šè‡³æ˜¯å¯¹è±¡ã€å‡½æ•°ã€‚</p><p>~ä»JSç»§æ‰¿ä¸Šè®²ï¼š</p><p>JSArrayå®é™…ä¸Šæ˜¯ç»§æ‰¿è‡ªJSObjectçš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ã€‚ç‰¹æ®Šåœ¨å“ªé‡Œå‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œæ•°ç»„[1,  2,  3]ï¼Œåº•å±‚ç»“æ„å®é™…ä¸Šæ˜¯{ â€˜0â€™: 1, â€˜1â€™: 2, â€˜2â€™: 3 , length: 3}â€”â€”é€šè¿‡é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨æ•°ç»„çš„ç´¢å¼•å’Œå€¼ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå¸¦æœ‰lengthå±æ€§ï¼Œä¸”è¿™ä¸ªå±æ€§å€¼ä¸ºæ•°ç»„é•¿åº¦çš„å¯¹è±¡ï¼Œä¸”ä¼šéšç€æ•°ç»„å†…å…ƒç´ çš„å˜åŒ–è€Œç›¸åº”å˜åŒ–ã€‚</p><p>~ä¹‹å‰æœ‰çœ‹è¿‡ä¸€ä¸ªå¤§ä½¬è®²V8æºç å¯¹äºæ•°ç»„çš„å®ç°-<a href="https://juejin.cn/post/6844903943638794248">åŸæ–‡é“¾æ¥</a>ï¼š</p><p>åœ¨ç”¨ç±»ä¼¼äºæˆ‘åˆšæ‰ä¸¾çš„ä¾‹å­çš„ä»£ç éªŒè¯æ—¶ï¼Œå‘ç°åº•å±‚å®é™…æ˜¯ä¸ªmapï¼Œkeyç´¢å¼•valueå€¼ã€‚ä¸”JSæ•°ç»„æœ‰ä¸¤ç§è¡¨ç°å½¢å¼ï¼šä¸€ç§æ˜¯å¿«æ•°ç»„FastElementsï¼Œé‡‡ç”¨çš„å¿«é€Ÿåå¤‡å­˜å‚¨ç»“æ„FixedArrayï¼Œä¸€ç§æ˜¯æ…¢æ•°ç»„DictionaryElementsï¼Œé‡‡ç”¨çš„æ˜¯ç¼“æ…¢åå¤‡å­˜å‚¨ç»“æ„HashTableã€‚</p><ul><li>FixedArrayæ˜¯V8å®ç°çš„ä¸€ä¸ªç±»ä¼¼äºæ•°ç»„çš„ç±»ï¼Œè¡¨ç¤ºä¸€æ®µå›ºå®šé•¿åº¦çš„è¿ç»­çš„å†…å­˜ï¼Œé€‚åˆä¸€è‡´ã€è¿ç»­ã€å¯†é›†çš„æ•°ç»„</li><li>HashArrayå°±æ˜¯å“ˆå¸Œè¡¨ï¼Œæ ¹æ®æ•£åˆ—è¡¨ä¸­çš„Keyï¼Œé€šè¿‡æ•£åˆ—å‡½æ•°ï¼Œå¯ä»¥æŸ¥è¯¢åˆ°å†…å­˜å­˜å‚¨çš„Value</li></ul><p>å¿«æ…¢æ•°ç»„è¯¦ç»†è§£é‡Š</p><ul><li>å¿«æ•°ç»„ï¼šå¿«æ•°ç»„å­˜å‚¨æ–¹å¼æ˜¯çº¿æ€§çš„ï¼Œæ–°åˆ›å»ºçš„ç©ºæ•°ç»„é»˜è®¤æ˜¯å¿«æ•°ç»„çš„å­˜å‚¨æ–¹å¼ã€‚å¿«æ•°ç»„é•¿åº¦å¯å˜ï¼Œå¯æ ¹æ®æ•°ç»„çš„å¢åˆ ï¼Œé€šè¿‡æ‰©å®¹å’Œæ”¶ç¼©æœºåˆ¶æ¥åŠ¨æ€è°ƒæ•´å­˜å‚¨ç©ºé—´å¤§å°ã€‚<ul><li>æ‰©å®¹ï¼š<code>new_capacity = (old_capacity&gt;&gt;1) + old_capacity + 16</code>â€”â€”1.5å€æ—§ç©ºé—´+16ã€‚æ‰©å®¹åä¼šå°†æ•°ç»„æ‹·è´åˆ°æ–°çš„ç©ºé—´é‡Œ</li><li>æ”¶ç¼©ï¼š<code>if(capicity &gt; 2 * length + 16) &#123;éœ€è¦æ”¶ç¼©  æ”¶ç¼©çš„å¤§å° =  (length+1==old_length?(opacity-length)/2:capicity-length)&#125; else &#123;ä½¿ç”¨holeså¯¹è±¡å¡«å……&#125;</code></li><li>hoelsç©ºæ´å¯¹è±¡ï¼šåˆ†é…äº†ç©ºé—´ä½†æ˜¯æ²¡æœ‰å­˜æ”¾å…ƒç´ çš„ä½ç½®ã€‚å¿«æ•°ç»„æœ‰ä¸“é—¨æ¨¡å¼FastHoelyElementsï¼Œä¹Ÿæ˜¯åˆ†é…è¿ç»­ç©ºé—´ï¼Œä½†ç»™æ²¡æœ‰èµ‹å€¼çš„æ•°ç»„ç´¢å¼•ä¸‹ä¼šå­˜å‚¨ä¸€ä¸ª<code>undefined</code></li></ul></li><li>æ…¢æ•°ç»„ï¼šæ…¢æ•°ç»„å­˜å‚¨æ–¹å¼æ˜¯å“ˆå¸Œè¡¨ï¼Œä¸ç”¨å¼€è¾Ÿå¤§å—è¿ç»­ç©ºé—´ï¼Œä½†æ˜¯ç»´æŠ¤èµ·æ¥æ•ˆç‡æ¯”å‰è€…ä½ä¸€äº›ã€‚</li><li>å¿«æ…¢æ•°ç»„è½¬æ¢<ul><li>å¿«=&gt;æ…¢ï¼šè¿™ä¸ª è¿‡ç¨‹å¼åŠ¨æ€è¿›è¡Œçš„ã€‚<code>if(æ–°å®¹é‡ &gt;= 3*æ‰©å®¹åçš„å®¹é‡*2) &#123;è½¬æ¢&#125;</code>     <code>if(new_index-cur_capicity &gt;= 1024) &#123;è½¬æ¢&#125;</code></li><li>æ…¢=&gt;å¿«ï¼šè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ï¼Œå› ä¸ºæ…¢æ•°ç»„ä¸€æ—¦å˜å¤æ‚(ç±»å‹/ç¨€ç–)ï¼Œæ— æ³•æ¢å¤æˆä¸€ä¸ªæ…¢æ•°ç»„ã€‚<code>æ¯æ¬¡å‘ç°æ•°ç»„å¢é•¿çš„æ—¶å€™ï¼ŒV8å¯å‘å¼ç®—æ³•æ£€æŸ¥å…¶å ç”¨é‡ï¼Œå½“ç©ºæ´å‡å°‘åˆ°ä¸€å®šç¨‹åº¦(ç©ºé—´èŠ‚çœ50%åŠä»¥ä¸Š)çš„æ—¶å€™ï¼Œè½¬æ¢ä¸ºå¿«æ•°ç»„</code></li><li>å„è‡ªä¼˜åŠ¿ï¼šå¿«æ•°ç»„ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œç©ºé—´å¤§äº†æ•ˆç‡é«˜äº†ï¼›æ…¢æ•°ç»„ï¼Œç”¨æ—¶é—´æ¢ç©ºé—´ï¼Œæ•ˆç‡æ…¢äº†ç©ºé—´å°äº†ã€‚</li></ul></li></ul><p>ArrayBuffer</p><p>ES6å‡ºçš„å¯ä»¥æŒ‰éœ€åˆ†é…è¿ç»­å†…å­˜çš„æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bf = <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(<span class="number">1024</span>) <span class="comment">// ç”³è¯·åˆ°çš„è¿ç»­ç©ºé—´</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="title class_">Int32Array</span>(bf) <span class="comment">// ä½¿ç”¨è¿™ä¸ªè¿ç»­ç©ºé—´çš„å®šå‹æ•°ç»„</span></span><br></pre></td></tr></table></figure><p>~æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š</p><p>JSæ•°ç»„å’Œä¼ ç»Ÿæ•°ç»„åº•å±‚ç¡®å®ä¸ä¸€æ ·ï¼Œæ˜¯é€šè¿‡JS V8å¼•æ“åœ¨åº•å±‚åšäº†ä¸€å±‚å°è£…ï¼Œä½¿ç”¨ä¸¤ç§ç±»å‹çš„æ•°æ®ç»“æ„å®ç°äº†å®ƒï¼Œå¹¶èƒ½é€šè¿‡æ—¶é—´å’Œç©ºé—´çº¬åº¦å–èˆä»è€Œä¼˜åŒ–å®ƒçš„æ€§èƒ½ã€‚</p><h2 id="ğŸˆ¯é—­åŒ…"><a href="#ğŸˆ¯é—­åŒ…" class="headerlink" title="ğŸˆ¯é—­åŒ…"></a>ğŸˆ¯é—­åŒ…</h2><h2 id="ä¸ºä»€ä¹ˆé—­åŒ…ä¸­çš„å±€éƒ¨å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æ¸…ç†ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé—­åŒ…ä¸­çš„å±€éƒ¨å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æ¸…ç†ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé—­åŒ…ä¸­çš„å±€éƒ¨å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æ¸…ç†ï¼Ÿ"></a>ä¸ºä»€ä¹ˆé—­åŒ…ä¸­çš„å±€éƒ¨å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æ¸…ç†ï¼Ÿ</h2><h2 id="è®²ä¸€ä¸‹jsä¸­çš„ä¸Šä¸‹æ–‡"><a href="#è®²ä¸€ä¸‹jsä¸­çš„ä¸Šä¸‹æ–‡" class="headerlink" title="è®²ä¸€ä¸‹jsä¸­çš„ä¸Šä¸‹æ–‡"></a>è®²ä¸€ä¸‹jsä¸­çš„ä¸Šä¸‹æ–‡</h2><h2 id="JSå˜é‡ä½œç”¨åŸŸ"><a href="#JSå˜é‡ä½œç”¨åŸŸ" class="headerlink" title="JSå˜é‡ä½œç”¨åŸŸ"></a>JSå˜é‡ä½œç”¨åŸŸ</h2><h2 id="ğŸˆ¯å¯¹è±¡-æ•°ç»„å¸¸ç”¨API"><a href="#ğŸˆ¯å¯¹è±¡-æ•°ç»„å¸¸ç”¨API" class="headerlink" title="ğŸˆ¯å¯¹è±¡/æ•°ç»„å¸¸ç”¨API"></a>ğŸˆ¯å¯¹è±¡/æ•°ç»„å¸¸ç”¨API</h2><h2 id="ğŸˆ¯newä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹"><a href="#ğŸˆ¯newä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹" class="headerlink" title="ğŸˆ¯newä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹"></a>ğŸˆ¯newä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹</h2><h2 id="âœ…newä¸€ä¸ªå¯¹è±¡å’ŒObject-create-çš„åŒºåˆ«"><a href="#âœ…newä¸€ä¸ªå¯¹è±¡å’ŒObject-create-çš„åŒºåˆ«" class="headerlink" title="âœ…newä¸€ä¸ªå¯¹è±¡å’ŒObject.create()çš„åŒºåˆ«"></a>âœ…newä¸€ä¸ªå¯¹è±¡å’ŒObject.create()çš„åŒºåˆ«</h2><p>newä¸€ä¸ªå¯¹è±¡çš„å…·ä½“åšæ³•æ˜¯<code>new Object()</code>ï¼Œæ­¤æ—¶ä½¿ç”¨çš„æ˜¯Objectæ„é€ å‡½æ•°ï¼Œè¿™æ ·åšï¼Œæ–°å»ºçš„å¯¹è±¡åŸå‹å°†æŒ‡å‘Objectçš„prototypeã€‚</p><p>Object.create()çš„è¯ï¼Œæ˜¯ç»§æ‰¿æ‹¬å·å†…ä¼ è¿›å»çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ ·åˆ›å»ºçš„å¯¹è±¡åŸå‹æŒ‡å‘çš„æ˜¯æ‹¬å·å†…çš„å¯¹è±¡ã€‚</p><h2 id="âœ…ä½¿ç”¨mapæ„å»ºçš„å¯¹è±¡ä¸æ™®é€šçš„å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ"><a href="#âœ…ä½¿ç”¨mapæ„å»ºçš„å¯¹è±¡ä¸æ™®é€šçš„å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="âœ…ä½¿ç”¨mapæ„å»ºçš„å¯¹è±¡ä¸æ™®é€šçš„å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ"></a>âœ…ä½¿ç”¨mapæ„å»ºçš„å¯¹è±¡ä¸æ™®é€šçš„å¯¹è±¡æœ‰ä»€ä¹ˆä¸åŒ</h2><table><thead><tr><th>ä¸åŒ</th><th>æ™®é€šå¯¹è±¡</th><th>mapæ„å»ºå¯¹è±¡</th></tr></thead><tbody><tr><td>é”®çš„ç±»å‹</td><td>String/Symbols</td><td>ä»»æ„ç±»å‹</td></tr><tr><td>é”®å€¼å¯¹çš„é¡ºåº</td><td>æ— åº</td><td>æ’å…¥é¡ºåº</td></tr><tr><td>å¤§å°è·å–</td><td>è·å–ä¸åˆ°</td><td>é€šè¿‡.sizeè·å–åˆ°</td></tr><tr><td>è¿­ä»£</td><td>for/in Object.keys()</td><td>forEach for/ofå†…ç½®è¿­ä»£</td></tr><tr><td>ç»§æ‰¿å…³ç³»</td><td>ç»§æ‰¿å®ƒçš„åŸå‹æˆ–è€…Objectçš„åŸå‹</td><td>ç»§æ‰¿Mapçš„åŸå‹</td></tr></tbody></table><h2 id="âœ…æ·±æµ…æ‹·è´"><a href="#âœ…æ·±æµ…æ‹·è´" class="headerlink" title="âœ…æ·±æµ…æ‹·è´"></a>âœ…æ·±æµ…æ‹·è´</h2><h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h3><p>ä»…æ‹·è´å¼•ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source)</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">slice</span>()</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">concat</span>()</span><br><span class="line">[...array]</span><br></pre></td></tr></table></figure><h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h3><p>å¼•ç”¨ä¹Ÿéœ€è¦å¤åˆ¶å…¨æ–°ä¸€ä»½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>()&#123;&#125;</span><br><span class="line">ä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„æ–¹æ³•</span><br></pre></td></tr></table></figure><h3 id="ğŸ’¦æ·±æ‹·è´å¯¿å¸"><a href="#ğŸ’¦æ·±æ‹·è´å¯¿å¸" class="headerlink" title="ğŸ’¦æ·±æ‹·è´å¯¿å¸"></a>ğŸ’¦æ·±æ‹·è´å¯¿å¸</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">obj, visited = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">    <span class="comment">// åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title function_">deepCopy</span>(item))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Date</span></span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj)    </span><br><span class="line">    &#125;   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¾ªç¯åº”ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (visited.<span class="title function_">has</span>(obj)) &#123;</span><br><span class="line">        <span class="keyword">return</span> visited.<span class="title function_">get</span>(obj)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> newObj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        newObj[key] = <span class="title function_">deepCopy</span>(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="âœ…å¹³åœ°èµ·é«˜æ¥¼"><a href="#âœ…å¹³åœ°èµ·é«˜æ¥¼" class="headerlink" title="âœ…å¹³åœ°èµ·é«˜æ¥¼"></a>âœ…å¹³åœ°èµ·é«˜æ¥¼</h2><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230920143104689.png" alt="image-20230920143104689"></p><h2 id="ğŸˆ¯åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹çš„"><a href="#ğŸˆ¯åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹çš„" class="headerlink" title="ğŸˆ¯åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹çš„"></a>ğŸˆ¯åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹çš„</h2><p>typeof åˆ¤æ–­åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œå…¶ä¸­symbol-&gt;function null-&gt;object</p><p>instanceofè¯¦ç»†åˆ¤æ–­å¼•ç”¨ç±»å‹</p><p>object.prototype.Stirngæœ€ä¸ºå‡†ç¡®çš„åˆ¤æ–­æ–¹å¼</p><h2 id="æ ˆå’Œé˜Ÿåˆ—å’Œå †"><a href="#æ ˆå’Œé˜Ÿåˆ—å’Œå †" class="headerlink" title="æ ˆå’Œé˜Ÿåˆ—å’Œå †"></a>æ ˆå’Œé˜Ÿåˆ—å’Œå †</h2><ul><li>æ ˆæ˜¯ä¸€ç§çº¿æ€§ç»“æ„ï¼Œå…ˆè¿›åå‡ºã€‚</li><li>é˜Ÿåˆ—æ˜¯ä¸€ç§çº¿æ€§ç»“æ„ï¼Œå…ˆè¿›å…ˆå‡ºã€‚</li><li>å †æ˜¯ä¸€ç§æ ‘çŠ¶ç»“æ„ï¼Œç”¨äºå­˜å‚¨åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚æ²¡æœ‰ç‰¹å®šé¡ºåºï¼Œæ»¡è¶³å †å±æ€§ã€‚å¸¸ç”¨äºå¤§å°æ ¹å †ã€‚</li></ul><h2 id="æ•°ç»„å’Œé“¾è¡¨"><a href="#æ•°ç»„å’Œé“¾è¡¨" class="headerlink" title="æ•°ç»„å’Œé“¾è¡¨"></a>æ•°ç»„å’Œé“¾è¡¨</h2><h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><h3 id="this-çœ‹ä»£ç è¯´ç»“æœ"><a href="#this-çœ‹ä»£ç è¯´ç»“æœ" class="headerlink" title="this çœ‹ä»£ç è¯´ç»“æœ"></a>this çœ‹ä»£ç è¯´ç»“æœ</h3><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><h3 id="å¼•å…¥åŸå› "><a href="#å¼•å…¥åŸå› " class="headerlink" title="å¼•å…¥åŸå› "></a>å¼•å…¥åŸå› </h3><h2 id="âœ…apply-call-bindåŒºåˆ«"><a href="#âœ…apply-call-bindåŒºåˆ«" class="headerlink" title="âœ…apply/call/bindåŒºåˆ«"></a>âœ…apply/call/bindåŒºåˆ«</h2><p>åŒï¼š</p><p>ä¼ å‚å‡ä¸º(æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œå‚æ•°)</p><p>å¼‚(ç¬¬äºŒå‚)ï¼š</p><ul><li>applyï¼šæ•°ç»„</li><li>callï¼š<code>,</code>åˆ†éš”çš„åºåˆ—</li><li>bindï¼š<code>,</code>åˆ†éš”çš„åºåˆ—ï¼›è¿”å›çš„æ˜¯ä¸€ä¸ªå¯è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œæ–¹ä¾¿åœ¨åˆé€‚çš„æ—¶é—´è°ƒç”¨ã€‚</li></ul><h2 id="âœ…ğŸ¥¬å‡½æ•°æŸ¯é‡ŒåŒ–Currying"><a href="#âœ…ğŸ¥¬å‡½æ•°æŸ¯é‡ŒåŒ–Currying" class="headerlink" title="âœ…ğŸ¥¬å‡½æ•°æŸ¯é‡ŒåŒ–Currying"></a>âœ…ğŸ¥¬å‡½æ•°æŸ¯é‡ŒåŒ–Currying</h2><p>â€‹    åˆç§° <strong>Partial Evaluationéƒ¨åˆ†æ±‚å€¼</strong></p><p>â€‹    æŠŠä¼ ç»Ÿçš„ä¸€æ¬¡æ€§æ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬åŒ–æˆâ€”â€”æ¥å—è¿™ä¸ªå‡½æ•°çš„å‡½æ•°ï¼Œæ‰§è¡Œè¿™ä¸ªå‡½æ•° æ‰€ä¼ å…¥çš„å‚æ•°æ•°é‡ å¯ä»¥<code>&lt;=</code>ä¼ ç»Ÿå‚æ•°æ•°é‡ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªç»§ç»­æ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°ã€‚</p><p>â€‹    è¿™ä¸ªå’Œå‡½æ•°é€’å½’æ˜¯è”ç³»èµ·æ¥çš„ï¼Œå½“ä¼ ç»Ÿå‡½æ•°æ¥å—nå¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œcurryingå‡½æ•°å¯ä»¥æ˜¯è¿™æ ·ã€‚</p><p>â€‹    å¼•ç”¨è¯¥<a href="https://tsejx.github.io/javascript-guidebook/core-modules/ecmascript-function-objects/function-types/function-currying/#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">ç½‘ç«™</a>æ‰€ç»™ç¤ºä¾‹ï¼Œä½†æ˜¯å‘ç°ä»£ç æœ‰è¯¯ï¼Œè‡ªè¡Œä¿®æ”¹äº†ä¸€ä¸‹(å·²æäº¤issue)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currying = <span class="keyword">function</span> (<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> len = fn.<span class="property">length</span>; <span class="comment">// å‡½æ•°å‚æ•°çš„ä¸ªæ•°</span></span><br><span class="line">    args = args || [];</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...<span class="variable language_">arguments</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> totalArgs = [...args].<span class="title function_">concat</span>([...<span class="variable language_">arguments</span>]);</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> totalArgs.<span class="property">length</span> &gt;= len</span><br><span class="line">        ? fn.<span class="title function_">call</span>(<span class="variable language_">this</span>, ...totalArgs)</span><br><span class="line">        : currying.<span class="title function_">call</span>(<span class="variable language_">this</span>, fn, ...totalArgs);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// æµ‹è¯•1</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params">a, b, c</span>) =&gt; a + b + c;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> newSum = <span class="title function_">currying</span>(sum);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = <span class="title function_">newSum</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// =&gt; 6</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æµ‹è¯•2</span></span><br><span class="line">  <span class="keyword">const</span> find = <span class="keyword">function</span> (<span class="params">arr, value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(value) !== -<span class="number">1</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> newFind = <span class="title function_">currying</span>(find)([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">  <span class="keyword">const</span> test = <span class="title function_">newFind</span>(<span class="number">3</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(test) <span class="comment">// =&gt; true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å°¾é€’å½’æœ‰ä»€ä¹ˆç”¨"><a href="#å°¾é€’å½’æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="å°¾é€’å½’æœ‰ä»€ä¹ˆç”¨"></a>å°¾é€’å½’æœ‰ä»€ä¹ˆç”¨</h2><h2 id="jså˜é‡æå‡çš„å¥½å¤„"><a href="#jså˜é‡æå‡çš„å¥½å¤„" class="headerlink" title="jså˜é‡æå‡çš„å¥½å¤„"></a>jså˜é‡æå‡çš„å¥½å¤„</h2><h2 id="äº‹ä»¶ä»£ç†"><a href="#äº‹ä»¶ä»£ç†" class="headerlink" title="äº‹ä»¶ä»£ç†"></a>äº‹ä»¶ä»£ç†</h2><h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><h2 id="æš‚å­˜æ­»åŒºæ˜¯å•¥"><a href="#æš‚å­˜æ­»åŒºæ˜¯å•¥" class="headerlink" title="æš‚å­˜æ­»åŒºæ˜¯å•¥"></a>æš‚å­˜æ­»åŒºæ˜¯å•¥</h2><h2 id="event-target-å’Œ-event-currentTarget"><a href="#event-target-å’Œ-event-currentTarget" class="headerlink" title="event.target å’Œ event.currentTarget"></a>event.target å’Œ event.currentTarget</h2><h2 id="Promise-all-race-æ‰‹æ“"><a href="#Promise-all-race-æ‰‹æ“" class="headerlink" title="Promise all race æ‰‹æ“"></a>Promise all race æ‰‹æ“</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">all</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(promises)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">rej</span>(<span class="string">&#x27;Need array&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">const</span> results = []</span><br><span class="line">        <span class="keyword">let</span> cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> (promises.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">res</span>(results)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; promises.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            promises[i].<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                results[i] = res</span><br><span class="line">                cnt++</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (cnt === promises.<span class="property">length</span>) &#123;</span><br><span class="line">                    <span class="title function_">res</span>(results)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(rej)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">race</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promises</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(promises)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">rej</span>(<span class="string">&#x27;Need array&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> pro <span class="keyword">of</span> promises) &#123;</span><br><span class="line">            pro.<span class="title function_">then</span>(res, rej)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®ç°ä¸€ä¸ªå‡½æ•°æŸ¯é‡ŒåŒ–åŠ æ³•å‡½æ•°ï¼Œä½¿å¾—"><a href="#å®ç°ä¸€ä¸ªå‡½æ•°æŸ¯é‡ŒåŒ–åŠ æ³•å‡½æ•°ï¼Œä½¿å¾—" class="headerlink" title="å®ç°ä¸€ä¸ªå‡½æ•°æŸ¯é‡ŒåŒ–åŠ æ³•å‡½æ•°ï¼Œä½¿å¾—"></a>å®ç°ä¸€ä¸ªå‡½æ•°æŸ¯é‡ŒåŒ–åŠ æ³•å‡½æ•°ï¼Œä½¿å¾—</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">numberPlus</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">numberPlus</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 6</span></span><br><span class="line"><span class="title function_">numberPlus</span>(<span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (args.<span class="property">length</span> === fn.<span class="property">length</span>) &#123;</span><br><span class="line">            sum = fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (args.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">            sum = fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [...args, sum])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> sum </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> numberPlus = <span class="title function_">curry</span>(add)</span><br></pre></td></tr></table></figure><h2 id="Promiseå¦‚ä½•è§£å†³å¼‚æ­¥é—®é¢˜ï¼ˆè¿˜æœ‰çŠ¶æ€ï¼Œè¿˜æœ‰å¦‚ä½•æ§åˆ¶å¹¶å‘ï¼Œå…·ä½“ä¸€äº›ç”¨æ³•å¹´æ•°"><a href="#Promiseå¦‚ä½•è§£å†³å¼‚æ­¥é—®é¢˜ï¼ˆè¿˜æœ‰çŠ¶æ€ï¼Œè¿˜æœ‰å¦‚ä½•æ§åˆ¶å¹¶å‘ï¼Œå…·ä½“ä¸€äº›ç”¨æ³•å¹´æ•°" class="headerlink" title="Promiseå¦‚ä½•è§£å†³å¼‚æ­¥é—®é¢˜ï¼ˆè¿˜æœ‰çŠ¶æ€ï¼Œè¿˜æœ‰å¦‚ä½•æ§åˆ¶å¹¶å‘ï¼Œå…·ä½“ä¸€äº›ç”¨æ³•å¹´æ•°"></a>Promiseå¦‚ä½•è§£å†³å¼‚æ­¥é—®é¢˜ï¼ˆè¿˜æœ‰çŠ¶æ€ï¼Œè¿˜æœ‰å¦‚ä½•æ§åˆ¶å¹¶å‘ï¼Œå…·ä½“ä¸€äº›ç”¨æ³•å¹´æ•°</h2><h2 id="promiseå’Œasync"><a href="#promiseå’Œasync" class="headerlink" title="promiseå’Œasync"></a>promiseå’Œasync</h2><h2 id="Awaitå’ŒAsyncçš„ä½œç”¨"><a href="#Awaitå’ŒAsyncçš„ä½œç”¨" class="headerlink" title="Awaitå’ŒAsyncçš„ä½œç”¨"></a>Awaitå’ŒAsyncçš„ä½œç”¨</h2><h2 id="ğŸˆ¯äº‹ä»¶å¾ªç¯Event-Loopï¼ˆå™è¿°ã€çœ‹ä»£ç è¯´ç»“æœï¼Œä¸€å®šè¦åˆ†æ¸…å“ªäº›å“ªäº›ï¼‰"><a href="#ğŸˆ¯äº‹ä»¶å¾ªç¯Event-Loopï¼ˆå™è¿°ã€çœ‹ä»£ç è¯´ç»“æœï¼Œä¸€å®šè¦åˆ†æ¸…å“ªäº›å“ªäº›ï¼‰" class="headerlink" title="ğŸˆ¯äº‹ä»¶å¾ªç¯Event Loopï¼ˆå™è¿°ã€çœ‹ä»£ç è¯´ç»“æœï¼Œä¸€å®šè¦åˆ†æ¸…å“ªäº›å“ªäº›ï¼‰"></a>ğŸˆ¯äº‹ä»¶å¾ªç¯Event Loopï¼ˆå™è¿°ã€çœ‹ä»£ç è¯´ç»“æœï¼Œä¸€å®šè¦åˆ†æ¸…å“ªäº›å“ªäº›ï¼‰</h2><p>è¿™é‡Œåªæ”¾ä¸€äº›çœ‹ä»£ç è¯´ç»“æœ</p><h2 id="ä¸ºä»€ä¹ˆè¦æŠŠå¼‚æ­¥ä»»åŠ¡æ‹†åˆ†æˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦æŠŠå¼‚æ­¥ä»»åŠ¡æ‹†åˆ†æˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æŠŠå¼‚æ­¥ä»»åŠ¡æ‹†åˆ†æˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦æŠŠå¼‚æ­¥ä»»åŠ¡æ‹†åˆ†æˆå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Ÿ</h2><h2 id="å¦‚ä½•å¤„ç†è®©å¤šä¸ªå¼‚æ­¥ä»»åŠ¡è®©å®ƒä»¬åŒæ—¶å¹¶å‘å»æ‰§è¡Œï¼Ÿ"><a href="#å¦‚ä½•å¤„ç†è®©å¤šä¸ªå¼‚æ­¥ä»»åŠ¡è®©å®ƒä»¬åŒæ—¶å¹¶å‘å»æ‰§è¡Œï¼Ÿ" class="headerlink" title="å¦‚ä½•å¤„ç†è®©å¤šä¸ªå¼‚æ­¥ä»»åŠ¡è®©å®ƒä»¬åŒæ—¶å¹¶å‘å»æ‰§è¡Œï¼Ÿ"></a>å¦‚ä½•å¤„ç†è®©å¤šä¸ªå¼‚æ­¥ä»»åŠ¡è®©å®ƒä»¬åŒæ—¶å¹¶å‘å»æ‰§è¡Œï¼Ÿ</h2><h2 id="âœ…DOMçš„å›æµ-é‡æ’-å’Œé‡ç»˜"><a href="#âœ…DOMçš„å›æµ-é‡æ’-å’Œé‡ç»˜" class="headerlink" title="âœ…DOMçš„å›æµ(é‡æ’)å’Œé‡ç»˜"></a>âœ…DOMçš„å›æµ(é‡æ’)å’Œé‡ç»˜</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>å›æµï¼šå…ƒç´ ä½ç½®/å¤§å°/å†…å®¹å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè§¦å‘é‡æ–°å¸ƒå±€ï¼Œå¯¼è‡´æ¸²æŸ“æ ‘é‡æ–°è®¡ç®—å¸ƒå±€ã€‚</p><p>é‡ç»˜ï¼šä¸ä¼šè§¦å‘é‡æ–°å¸ƒå±€ï¼Œä»…æ”¹å˜ä¸€äº›é¢œè‰²ã€é€æ˜åº¦ã€èƒŒæ™¯è‰²å•¥çš„ã€‚</p><h3 id="å¦‚ä½•æœ€å°åŒ–å›æµæ¬¡æ•°ï¼Ÿ"><a href="#å¦‚ä½•æœ€å°åŒ–å›æµæ¬¡æ•°ï¼Ÿ" class="headerlink" title="å¦‚ä½•æœ€å°åŒ–å›æµæ¬¡æ•°ï¼Ÿ"></a>å¦‚ä½•æœ€å°åŒ–å›æµæ¬¡æ•°ï¼Ÿ</h3><ol><li>å‡å°‘DOMæ·±åº¦ï¼Œä¸å¿…è¦ä¸æ·±æ’</li><li>å‡å°‘CSSè§„åˆ™æ•°é‡ï¼Œç§»å‡ºæœªä½¿ç”¨çš„CSSè§„åˆ™</li><li>åŠ¨ç”»ç­‰å¤æ‚æ¸²æŸ“å°½é‡è„±ç¦»æ–‡æ¡£æµ</li><li>é¿å…å¤æ‚çš„CSSé€‰æ‹©å™¨ï¼ˆå°¤å…¶æ˜¯å­é€‰æ‹©å™¨ï¼‰</li></ol><h1 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h1><p>å¼€æºç»„ç»‡å’Œå·¥ä½œéƒ½ç”¨åˆ°çš„è¯­è¨€ï¼Œéœ€è¦ææ˜ç™½è¿™ä¸ªã€‚æ‰“ç®—åšé¢˜+çœ‹é¡¹ç›®ã€‚</p><p>åœ¨è¿™é‡Œä¸»è¦æ”¾é¢è¯•é¢˜äº†ã€‚ã€‚</p><h2 id="ä¸€äº›åŸºæœ¬çš„"><a href="#ä¸€äº›åŸºæœ¬çš„" class="headerlink" title="ä¸€äº›åŸºæœ¬çš„"></a>ä¸€äº›åŸºæœ¬çš„</h2><p>TSï¼šæ˜¯ä¸€ç§å¼ºç±»å‹çš„JSçš„è¶…é›†ï¼Œä¸ºJSæä¾›äº†é™æ€ç±»å‹ç³»ç»Ÿã€‚</p><p>type: åœ¨TSä¸­ç”¨äºå®šä¹‰ç±»å‹åˆ«åã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰å¤æ‚ç±»å‹çš„å£°æ˜æ–¹å¼ã€‚ä»…åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">StringOrNumber</span> = <span class="built_in">string</span> | <span class="built_in">number</span> <span class="comment">// è”åˆ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;<span class="attr">name</span>: <span class="built_in">string</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Age</span> = &#123;<span class="attr">age</span>: <span class="built_in">number</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = <span class="title class_">Name</span> &amp; <span class="title class_">Age</span> <span class="comment">// äº¤å‰</span></span><br></pre></td></tr></table></figure><p>interface: ä¸»è¦ç”¨äºå®šä¹‰å¯¹è±¡çš„ç±»å‹å’Œå½¢çŠ¶ã€‚æ”¯æŒç»§æ‰¿å’Œå®ç°ï¼Œé€‚åˆåˆ›å»ºå¤æ‚çš„å¯¹è±¡ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">speak</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Labrador</span> <span class="keyword">implements</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, breed:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">breed</span> = breed;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">clg</span>(<span class="string">&#x27;miao&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Typeå’ŒInterfaceçš„åŒºåˆ«ï¼Ÿ"><a href="#Typeå’ŒInterfaceçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Typeå’ŒInterfaceçš„åŒºåˆ«ï¼Ÿ"></a>Typeå’ŒInterfaceçš„åŒºåˆ«ï¼Ÿ</h2><p>é¦–å…ˆä¸¤è€…éƒ½æ˜¯ä»…åœ¨ç¼–è¯‘é˜¶æ®µæ‰èµ·ä½œç”¨ã€‚</p><h1 id="ğŸ–½æ¡†æ¶"><a href="#ğŸ–½æ¡†æ¶" class="headerlink" title="ğŸ–½æ¡†æ¶"></a>ğŸ–½æ¡†æ¶</h1><h2 id="Vue-amp-React"><a href="#Vue-amp-React" class="headerlink" title="Vue&amp;React"></a>Vue&amp;React</h2><h3 id="âœ…å®ç°åŸç†ä¸Šçš„åŒºåˆ«"><a href="#âœ…å®ç°åŸç†ä¸Šçš„åŒºåˆ«" class="headerlink" title="âœ…å®ç°åŸç†ä¸Šçš„åŒºåˆ«"></a>âœ…å®ç°åŸç†ä¸Šçš„åŒºåˆ«</h3><ol><li><strong>åŸå§‹åº“ vs. æ¸è¿›æ¡†æ¶</strong>:<ul><li>Reactæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptåº“ï¼Œå®ƒå…³æ³¨äºç»„ä»¶åŒ–å’ŒçŠ¶æ€ç®¡ç†ã€‚Reactæœ¬èº«<strong>åªæä¾›äº†UIå±‚é¢çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼Œå…¶ä»–åŠŸèƒ½ï¼ˆå¦‚è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†ï¼‰é€šå¸¸éœ€è¦ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒã€‚</li><li>Vue.jsæ˜¯ä¸€ä¸ªæ¸è¿›æ¡†æ¶ï¼Œå®ƒ<strong>æä¾›äº†ä¸€æ•´å¥—çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬è§†å›¾å±‚ã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰</strong>ã€‚Vueçš„æ ¸å¿ƒåº“ç›¸å¯¹æ›´å¤§ï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä½†ä¹Ÿå¯ä»¥ä¸å…¶ä»–åº“å’Œå·¥å…·é›†æˆï¼Œæ ¹æ®éœ€è¦é€æ¸å¼•å…¥åŠŸèƒ½ã€‚</li></ul></li><li><strong>è¯­æ³•å’Œæ¨¡æ¿</strong>:<ul><li>Reactä½¿ç”¨JSXï¼ˆJavaScript XMLï¼‰æ¥å®šä¹‰ç»„ä»¶çš„ç»“æ„ï¼Œè¿™æ˜¯ä¸€ç§åœ¨JavaScriptä¸­åµŒå…¥XMLæ ‡è®°çš„è¯­æ³•ã€‚Reactç»„ä»¶å¯ä»¥é€šè¿‡JavaScriptç¼–å†™ï¼ŒJSXå…è®¸åœ¨ä»£ç ä¸­åµŒå…¥HTMLæ ·å¼çš„æ ‡è®°ã€‚.js .ts</li><li>Vue.jsä½¿ç”¨æ¨¡æ¿è¯­æ³•ï¼Œå…è®¸åœ¨HTMLæ¨¡æ¿ä¸­ç›´æ¥å£°æ˜ç»„ä»¶çš„ç»“æ„ã€‚Vueçš„æ¨¡æ¿è¯­æ³•ç±»ä¼¼äºæ™®é€šHTMLï¼Œå®¹æ˜“ç†è§£å’Œä½¿ç”¨ã€‚.vue(html)</li></ul></li><li><strong>æ•°æ®ç»‘å®š</strong>:<ul><li>Reactä½¿ç”¨å•å‘æ•°æ®æµï¼Œçˆ¶ç»„ä»¶é€šè¿‡propså°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå¹¶é€šè¿‡å›è°ƒå‡½æ•°è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚</li><li>Vue.jsä½¿ç”¨åŒå‘æ•°æ®ç»‘å®šï¼Œå¯ä»¥é€šè¿‡<code>v-model</code>æŒ‡ä»¤è½»æ¾å®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼Œè¿™ä½¿å¾—å¤„ç†è¡¨å•è¾“å…¥å’Œäº¤äº’æ›´åŠ ç®€å•ã€‚</li></ul></li></ol><p>å°±è‡ªèº«ä½¿ç”¨ä½“éªŒä¸Šï¼Œå†™Vueæ›´åƒæ˜¯å†™ä¸€äº›å¯ä»¥é…ç½®çš„é¡µé¢ï¼Œå†™Reactæ›´åƒæ˜¯ç”¨JSTSå†™ä¸€äº›å¯ä»¥åŸºäºé€»è¾‘æ¥åµŒå¥—æ‹¼æ¥çš„ç§¯æœ¨ã€‚</p><h3 id="âœ…Reactå•å‘æ•°æ®æµå’ŒVueåŒå‘æ•°æ®æµçš„åŒºåˆ«"><a href="#âœ…Reactå•å‘æ•°æ®æµå’ŒVueåŒå‘æ•°æ®æµçš„åŒºåˆ«" class="headerlink" title="âœ…Reactå•å‘æ•°æ®æµå’ŒVueåŒå‘æ•°æ®æµçš„åŒºåˆ«"></a>âœ…Reactå•å‘æ•°æ®æµå’ŒVueåŒå‘æ•°æ®æµçš„åŒºåˆ«</h3><p>Vueæ˜¯æœ‰ä¸€ç§åŒå‘ç»‘å®šæ•°æ®çš„ç‰¹æ€§ï¼Œå…·ä½“æŒ‡ä»¤æ˜¯<code>v-model=æŸæ•°æ®</code>ã€‚è¿™ä¸ªæŒ‡ä»¤åœ¨å…ƒç´ ä¸­ä½¿ç”¨çš„æ—¶å€™ï¼ŒVueçš„å“åº”å¼ç³»ç»Ÿä¼šè‡ªåŠ¨è¿½è¸ªæ•°æ®çš„ä¾èµ–å…³ç³»ï¼Œæ•°æ®å˜åŒ–æ—¶ä¼šå¼•å‘è§†å›¾æ›´æ–°ã€‚æˆ‘è®¤ä¸ºåŒå‘ç»‘å®šçš„ä¸€ä¸ªæœ€æ˜¾è‘—çš„ä¼˜ç‚¹æ˜¯è¡¨å•æ•°æ®å¯ä»¥éšæ—¶æ›´æ”¹ã€‚ä½†æ˜¯ä¹Ÿä¸èƒ½ç®—æ˜¯ç¼ºç‚¹å§ï¼Œå¦‚æœè¿‡å¤šä½¿ç”¨v-modelï¼Œæ¯æ¬¡æ”¹æ¯æ¬¡åˆ·æ–°ï¼Œè§†å›¾ç»´æŠ¤æ˜¾å¾—æœ‰ç‚¹å¤æ‚ã€‚</p><p>Reactæ¨å´‡çš„æ˜¯å•å‘æ•°æ®æµï¼Œå…·ä½“å°±æ˜¯çˆ¶ç»™å­ç©¿æ•°æ®ï¼Œå­ä¸èƒ½ç›´æ¥æ”¹çˆ¶æ•°æ®ï¼Œè€Œæ˜¯éœ€è¦ç»‘å®šå›è°ƒæˆ–è€…å°†çŠ¶æ€æå‡ç»™çˆ¶æ¥æ“ä½œã€‚è¿™ç§å›ºå®šçš„å•ç›¸æ•°æ®æµçš„æ–¹å¼æŸç§ç¨‹åº¦ä¸Šç®€åŒ–æ•°çŠ¶æ€çš„ç®¡ç†ï¼Œè¿™ä¹Ÿä½¿å¾—çŠ¶æ€ç®¡ç†å¯é¢„æµ‹ï¼Œå¯æ§ã€‚</p><h3 id="âœ…reactHOOKå’ŒvueHooksçš„åŒºåˆ«"><a href="#âœ…reactHOOKå’ŒvueHooksçš„åŒºåˆ«" class="headerlink" title="âœ…reactHOOKå’ŒvueHooksçš„åŒºåˆ«"></a>âœ…reactHOOKå’ŒvueHooksçš„åŒºåˆ«</h3><p>ä¸¤è€…éƒ½æ˜¯ç”¨äºåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ç®¡ç†çŠ¶æ€å’Œå‰¯ä½œç”¨çš„æ–¹å¼ã€‚</p><p>reactçš„HOOKå¯ä»¥å¸®åŠ©åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ä¸åŒçš„reactåŠŸèƒ½ã€‚åªå…è®¸åœ¨å‡½æ•°å†…è¿›è¡Œä½¿ç”¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState, useEffect &#125; from &#x27;react&#x27;</span><br><span class="line">export defualt function() &#123;</span><br><span class="line">    const [cnt, setCnt] = useState(0)</span><br><span class="line">    useEffect(() =&gt; &#123;</span><br><span class="line">        document.title =cnt</span><br><span class="line">    &#125;, [cnt])</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;p&gt;Count: &#123;cnt&#125;&lt;/p&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; setCnt(cnt + 1)&#125;&gt;ç‚¹å‡»+1&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>vueçš„hooksä¸ºvueæä¾›æ›´çµæ´»çš„æ–¹å¼æ¥ç»„ç»‡å’Œå…±äº«ç»„ä»¶é€»è¾‘ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;Count: &#123;&#123; count &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const count = ref(0);</span><br><span class="line"></span><br><span class="line">    const increment = () =&gt; &#123;</span><br><span class="line">      count.value++;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    onMounted(() =&gt; &#123;</span><br><span class="line">      document.title = `Count: $&#123;count.value&#125;`;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      count,</span><br><span class="line">      increment,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="âœ…vue2Mixinå’Œvue3Hookçš„åŒºåˆ«"><a href="#âœ…vue2Mixinå’Œvue3Hookçš„åŒºåˆ«" class="headerlink" title="âœ…vue2Mixinå’Œvue3Hookçš„åŒºåˆ«"></a>âœ…vue2Mixinå’Œvue3Hookçš„åŒºåˆ«</h3><p>Mixinæ˜¯Vue2çš„ä¸€ç§é€‰é¡¹å¼APIç‰¹æ€§ï¼Œå…è®¸å®šä¹‰ä¸€ç»„é€‰é¡¹ï¼Œå¯ä»¥æ‹¿æ¥å¤ç”¨ã€‚ä¸»è¦ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mixin&#125; from &#x27;../mixin&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Student&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &quot;ç‹ä¸€ä¸€&quot;,</span><br><span class="line">            sex: &quot;female&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mixins:[mixin]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Hookæ˜¯Vue3çš„ä¸€ç§ç»„åˆå¼APIç‰¹æ€§ï¼Œå¯ä»¥åœ¨ç»„ä»¶å†…ä»¥å‡½æ•°çš„å½¢å¼å®šä¹‰ï¼Œè¢«æ‹¿å»å¤ç”¨ã€‚ä¸»è¦ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, onMounted, onBeforeUnmount &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³æ•°æ®</span></span><br><span class="line">    <span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">        point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onBeforeUnmount</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">import usePoint from &#x27;../hooks/usePoint&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &quot;Demo&quot;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        let sum = ref(0);</span><br><span class="line">        let point = usePoint()</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            point,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="âœ…è™šæ‹ŸDOM"><a href="#âœ…è™šæ‹ŸDOM" class="headerlink" title="âœ…è™šæ‹ŸDOM"></a>âœ…è™šæ‹ŸDOM</h3><p>è™šæ‹ŸDOMï¼ˆVirtual DOMï¼‰æ˜¯ä¸€ç§å‰ç«¯å¼€å‘ä¸­çš„æ¦‚å¿µå’ŒæŠ€æœ¯ï¼Œå®ƒæ˜¯ä¸ºäº†æé«˜é¡µé¢æ¸²æŸ“æ€§èƒ½è€Œè®¾è®¡çš„ã€‚</p><p>åœ¨ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘ä¸­ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šç›´æ¥æ“ä½œçœŸå®çš„DOMæ¥æ›´æ–°é¡µé¢ã€‚è¿™ç§åšæ³•å¯èƒ½ä¼šå¯¼è‡´é¢‘ç¹çš„DOMæ“ä½œï¼Œå½±å“é¡µé¢æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®å˜åŒ–é¢‘ç¹çš„å¤æ‚åº”ç”¨ä¸­ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè™šæ‹ŸDOMåº”è¿è€Œç”Ÿã€‚</p><p>è™šæ‹ŸDOMæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€ä¸çœŸå®DOMç»“æ„ç±»ä¼¼çš„JavaScriptå¯¹è±¡æ ‘ã€‚åœ¨è™šæ‹ŸDOMä¸­ï¼Œæ¯ä¸ªDOMå…ƒç´ éƒ½ç”±ä¸€ä¸ªJavaScriptå¯¹è±¡è¡¨ç¤ºï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åŒ…å«å…ƒç´ çš„æ ‡ç­¾åã€å±æ€§ã€æ–‡æœ¬å†…å®¹ä»¥åŠå­å…ƒç´ ç­‰ä¿¡æ¯ã€‚è™šæ‹ŸDOMå¯ä»¥é€šè¿‡æ¯”è¾ƒæ–°æ—§çŠ¶æ€çš„å·®å¼‚æ¥å‡å°‘çœŸå®DOMçš„æ›´æ–°æ¬¡æ•°ï¼Œä»è€Œæé«˜é¡µé¢æ¸²æŸ“æ€§èƒ½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è™šæ‹ŸDOM</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">sel</span>: <span class="string">&quot;div&quot;</span>,</span><br><span class="line">    <span class="attr">elm</span>: <span class="literal">undefined</span>, <span class="comment">// è¡¨ç¤ºè™šæ‹ŸèŠ‚ç‚¹è¿˜æ²¡æœ‰ä¸Šæ ‘</span></span><br><span class="line">    <span class="attr">key</span>: <span class="literal">undefined</span>, <span class="comment">// å”¯ä¸€æ ‡è¯†</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">class</span>: &#123; <span class="string">&quot;box&quot;</span> : <span class="literal">true</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">sel</span>: <span class="string">&quot;h2&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&quot;æ ‡é¢˜&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">sel</span>: <span class="string">&quot;ul&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;2&quot;</span>&#125;,</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;3&quot;</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™šæ‹ŸDOMçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><ol><li><p>åˆå§‹æ¸²æŸ“ï¼šå½“åº”ç”¨é¦–æ¬¡åŠ è½½æ—¶ï¼Œå°†ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹ŸDOMæ ‘ï¼Œè¯¥æ ‘ä¸çœŸå®DOMç»“æ„ç›¸å¯¹åº”ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºåˆå§‹æ¸²æŸ“ã€‚</p></li><li><p>æ•°æ®å˜åŒ–ï¼šå½“åº”ç”¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚æ­¤æ—¶ï¼Œè™šæ‹ŸDOMä¼šé€šè¿‡ä¸ä¹‹å‰çš„è™šæ‹ŸDOMæ ‘è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾å‡ºæ–°æ—§çŠ¶æ€çš„å·®å¼‚ï¼Œç”Ÿæˆä¸€ä¸ªæ›´æ–°è¡¥ä¸ï¼ˆPatchï¼‰ã€‚</p></li><li><p>åº”ç”¨è¡¥ä¸ï¼šå°†ç”Ÿæˆçš„æ›´æ–°è¡¥ä¸åº”ç”¨åˆ°çœŸå®DOMä¸Šï¼Œå®ç°é¡µé¢çš„æ›´æ–°ã€‚</p></li></ol><p>è™šæ‹ŸDOMçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p><ol><li><p>å‡å°‘çœŸå®DOMæ“ä½œï¼šé€šè¿‡æ¯”è¾ƒè™šæ‹ŸDOMæ ‘ï¼Œå‡å°‘äº†å¯¹çœŸå®DOMçš„ç›´æ¥æ“ä½œæ¬¡æ•°ï¼Œæé«˜äº†é¡µé¢æ¸²æŸ“æ€§èƒ½ã€‚</p></li><li><p>è·¨å¹³å°æ”¯æŒï¼šè™šæ‹ŸDOMæ˜¯å¯¹çœŸå®DOMçš„æŠ½è±¡ï¼Œå› æ­¤å¯ä»¥è½»æ¾å®ç°åœ¨ä¸åŒå¹³å°ä¸Šçš„åº”ç”¨ï¼Œä¾‹å¦‚æµè§ˆå™¨ã€ç§»åŠ¨è®¾å¤‡ã€æœåŠ¡å™¨ç«¯ç­‰ã€‚</p></li><li><p>ä¿æŒæ€§èƒ½ï¼šåœ¨å¤§è§„æ¨¡æ•°æ®æ›´æ–°æ—¶ï¼Œè™šæ‹ŸDOMå¯ä»¥æ™ºèƒ½åœ°æ‰¹é‡å¤„ç†DOMæ›´æ–°ï¼Œå‡å°‘äº†å› é¢‘ç¹æ›´æ–°è€Œå¯¼è‡´çš„é¡µé¢æŠ–åŠ¨ã€‚</p></li></ol><p>è™šæ‹ŸDOMçš„ä¸€äº›å¸¸è§å®ç°åŒ…æ‹¬Reactçš„è™šæ‹ŸDOMã€Vueçš„è™šæ‹ŸDOMç­‰ã€‚è¿™äº›æ¡†æ¶åˆ©ç”¨è™šæ‹ŸDOMæœºåˆ¶ï¼Œæä¾›äº†é«˜æ•ˆçš„ã€å“åº”å¼çš„ç»„ä»¶åŒ–å¼€å‘ä½“éªŒï¼Œä½¿å¾—å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆå’Œèˆ’é€‚ã€‚</p><h3 id="âœ…Reactè™šæ‹ŸDOMå’ŒVueè™šæ‹ŸDOMçš„åŒºåˆ«"><a href="#âœ…Reactè™šæ‹ŸDOMå’ŒVueè™šæ‹ŸDOMçš„åŒºåˆ«" class="headerlink" title="âœ…Reactè™šæ‹ŸDOMå’ŒVueè™šæ‹ŸDOMçš„åŒºåˆ«"></a>âœ…Reactè™šæ‹ŸDOMå’ŒVueè™šæ‹ŸDOMçš„åŒºåˆ«</h3><p>Vue</p><p>Vueçš„è™šæ‹ŸDOMæ˜¯é€šè¿‡Vueç»„ä»¶çš„æ¨¡æ¿ç¼–è¯‘è€Œæ¥çš„ï¼šæ¨¡æ¿ä¸­åŒ…å«æ•°æ®ç»‘å®šå’ŒæŒ‡ä»¤ï¼ŒVueå°†æ¨¡æ¿ç¼–è¯‘ä¸ºæ¸²æŸ“å‡½æ•°ï¼Œè¯¥æ¸²æŸ“å‡½æ•°ç”Ÿæˆè™šæ‹ŸDOMã€‚</p><ul><li>ç»„ä»¶æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šè§¦å‘æ•°æ®å“åº”ç³»ç»Ÿï¼Œæ£€æµ‹å“ªäº›è™šæ‹ŸDOMèŠ‚ç‚¹éœ€è¦æ›´æ–°</li><li>æ ¹æ®æ›´æ–°åçš„æ•°æ®å½¢æˆè™šæ‹ŸDOMæ ‘ï¼Œæ­¤æ ‘ä¸ä¹‹å‰çš„è™šæ‹ŸDOMæ ‘è¿›è¡Œæ¯”è¾ƒ</li><li>ä½¿ç”¨å·®å¼‚è®¡ç®—Diffingç®—æ³•æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMæ ‘ï¼Œæ‰¾å‡ºè¦æ›´æ–°çš„éƒ¨åˆ†</li><li>å°†æ‰¾åˆ°çš„å·®å¼‚è½¬åŒ–ä¸ºæœ€å°çš„DOMæ“ä½œï¼Œåº”ç”¨äºçœŸå®DOMä¸Š</li></ul><p>React</p><p>Reactçš„è™šæ‹ŸDOMæ˜¯Reactç»„ä»¶æ ‘çš„æŠ½è±¡è¡¨ç¤ºï¼Œè™šæ‹ŸDOMç”±Reactå…ƒç´ æ„æˆï¼Œæ¯ä¸ªå…ƒç´ æè¿°äº†ä¸€ä¸ªç»„ä»¶çš„ç±»å‹å’Œå±æ€§ã€‚å³ï¼šæ¸²æŸ“ç»„ä»¶æ—¶ç”Ÿæˆè™šæ‹ŸDOMã€‚</p><ul><li>ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªè™šæ‹ŸDOMæ ‘ï¼Œæ ‘ä¸­åŒ…æ‹¬ç»„ä»¶å…ƒç´ çš„çŠ¶æ€å’Œå±æ€§</li><li>ç»„ä»¶çŠ¶æ€/å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReacté‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„è™šæ‹ŸDOMæ ‘ï¼Œä¸æ—§è™šæ‹ŸDOMæ ‘è¿›è¡Œæ¯”è¾ƒ</li><li>ä½¿ç”¨åè°ƒReconciliationç®—æ³•ï¼Œæ‰¾å‡ºæ›´æ–°éƒ¨åˆ†</li><li>å°†å·®å¼‚è½¬åŒ–ä¸ºæœ€å°DOMæ“ä½œï¼Œåº”ç”¨äºçœŸå®DOMä¸Š</li></ul><h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><h3 id="âœ…Diffingç®—æ³•"><a href="#âœ…Diffingç®—æ³•" class="headerlink" title="âœ…Diffingç®—æ³•"></a>âœ…Diffingç®—æ³•</h3><p>æŸ¥é˜…å‘ç°æ˜¯åŸºäºæ·±æœã€‚</p><p>åŸºæœ¬æ€æƒ³å¦‚ä¸‹ï¼š</p><ol><li>keyæ˜¯å½“å‰èŠ‚ç‚¹çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥å‘Šè¯‰diffç®—æ³•æ›´æ”¹å‰åå“ªä¸€å¯¹æ˜¯åŒä¸€èŠ‚ç‚¹</li><li>å¯¹äºåŒä¸€èŠ‚ç‚¹ï¼Œæ‰ä¼šè¿›è¡Œç²¾ç»†åŒ–æ¯”è¾ƒï¼›å¦åˆ™å°±æ˜¯ç›´æ¥æ‹†å‡ºæ—§çš„ï¼Œæ·»åŠ æ–°çš„ã€‚</li><li>åªè¿›è¡ŒåŒå±‚æ¯”è¾ƒï¼Œä¸ä¼šè¿›è¡Œè·¨å±‚æ¯”è¾ƒã€‚</li></ol><blockquote><p>åœ¨Javascriptä¸­ï¼Œæ¸²æŸ“ <code>çœŸå®DOM </code>çš„å¼€é”€æ˜¯éå¸¸å¤§çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¿®æ”¹äº†æŸä¸ªæ•°æ®ï¼Œå¦‚æœç›´æ¥æ¸²æŸ“åˆ° çœŸå®DOMï¼Œä¼šå¼•èµ·æ•´ä¸ª DOMæ ‘ çš„ <code>å›æµå’Œé‡ç»˜</code>ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰å¯èƒ½å®ç°åªæ›´æ–°æˆ‘ä»¬ä¿®æ”¹çš„é‚£ä¸€å°å—DOMè€Œä¸ä¼šå¼•èµ·æ•´ä¸ªDOMæ›´æ–°ï¼Ÿæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å…ˆæ ¹æ® <code>çœŸå®DOM</code> ç”Ÿæˆ <code>è™šæ‹ŸDOM</code> ï¼Œå½“ <code>è™šæ‹ŸDOM</code> æŸä¸ªèŠ‚ç‚¹çš„æ•°æ®æ”¹å˜åä¼šç”Ÿæˆä¸€ä¸ª <code>æ–°çš„Vnode</code>ï¼Œç„¶å <code>æ–°çš„Vnode</code> å’Œ <code>æ—§çš„Vnodde</code> è¿›è¡Œæ¯”è¾ƒï¼Œå‘ç°æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹å°±ç›´æ¥ä¿®æ”¹åˆ° <code>çœŸå®DOM ä¸Š</code>ï¼Œç„¶åä½¿ <code>æ—§çš„Vnode</code> çš„å€¼å˜æˆ<code> æ–°çš„Vnode</code>ã€‚</p><p>Vueå°±æ˜¯ä½¿ç”¨è™šæ‹ŸDOMçš„åˆ›å»ºå’Œä½¿ç”¨diffç®—æ³•çš„æ¯”è¾ƒä»è€Œè¿›è¡Œä¸Šè¿°æ“ä½œã€‚</p><p> <code>diffç®—æ³•</code> çš„è¿‡ç¨‹å°±æ˜¯ <code>patchå‡½æ•°</code> çš„è°ƒç”¨ï¼Œæ¯”è¾ƒæ–°æ—§èŠ‚ç‚¹ï¼Œä¸€è¾¹æ¯”è¾ƒä¸€è¾¹ç»™ çœŸå®çš„DOM æ‰“è¡¥ä¸ã€‚</p><p>åœ¨é‡‡ç”¨ <code>diffç®—æ³•</code> æ¯”è¾ƒæ–°æ—§èŠ‚ç‚¹çš„æ—¶å€™ï¼Œ<code>åªä¼šè¿›è¡ŒåŒå±‚çº§çš„æ¯”è¾ƒ</code>ã€‚åœ¨ <code>patchæ–¹æ³•</code> ä¸­ï¼Œé¦–å…ˆæ¯”è¾ƒ<code>æ–°æ—§è™šæ‹ŸèŠ‚</code>ç‚¹æ˜¯å¦æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<code>å¦‚æœä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹</code>ï¼Œé‚£ä¹ˆå°±ä¼šå°†æ—§çš„èŠ‚ç‚¹åˆ é™¤æ‰ï¼Œæ’å…¥æ–°çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œç„¶åå†ä½¿ç”¨ <code>createElementå‡½æ•°</code> åˆ›å»º çœŸå®DOMï¼Œæ¸²æŸ“åˆ°çœŸå®çš„ DOMæ ‘ã€‚<code>å¦‚æœæ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹</code>ï¼Œä½¿ç”¨ <code>patchVnodeå‡½æ•°</code> æ¯”è¾ƒæ–°æ—§èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å±æ€§æ›´æ–°ã€æ–‡æœ¬æ›´æ–°ã€å­èŠ‚ç‚¹æ›´æ–°ï¼Œæ–°æ—§èŠ‚ç‚¹å‡æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™éœ€è¦è¿›è¡Œ <code>diffç®—æ³•</code>ï¼Œè°ƒç”¨<code>updateChildrenæ–¹æ³•</code>ï¼Œå¦‚æœæ–°èŠ‚ç‚¹æ²¡æœ‰æ–‡æœ¬å†…å®¹è€Œæ—§èŠ‚ç‚¹æœ‰æ–‡æœ¬å†…å®¹ï¼Œåˆ™éœ€è¦å°†æ—§èŠ‚ç‚¹çš„æ–‡æœ¬åˆ é™¤ï¼Œç„¶åå†å¢åŠ å­èŠ‚ç‚¹ï¼Œå¦‚æœæ–°èŠ‚ç‚¹æœ‰æ–‡æœ¬å†…å®¹ï¼Œåˆ™ç›´æ¥æ›¿æ¢æ—§èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ã€‚</p><p> <code>updateChildrenæ–¹æ³•</code> å°†æ–°æ—§èŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æå–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨çš„æ˜¯<code> åŒæŒ‡é’ˆ</code> çš„æ–¹å¼è¿›è¡Œ<code>å››ç§ä¼˜åŒ–ç­–ç•¥</code>å¾ªç¯æ¯”è¾ƒã€‚åˆ†åˆ«æ˜¯ï¼š<code>â‘ ã€æ–°å‰ä¸æ—§å‰æ¯”è¾ƒ  â‘¡ã€æ–°åä¸æ—§åæ¯”è¾ƒ  â‘¢ã€æ–°åä¸æ—§å‰æ¯”è¾ƒ  â‘£ã€æ–°å‰ä¸æ—§åæ¯”è¾ƒã€‚</code>å¦‚æœå››ç§ä¼˜åŒ–ç­–ç•¥æ–¹æ³•å‡æ²¡æœ‰å‘½ä¸­ï¼Œåˆ™ä¼šè¿›è¡Œéå†æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼ˆ<code>æºç ä¸­ä½¿ç”¨äº†Mapå¯¹è±¡è¿›è¡Œäº†ç¼“å­˜ï¼ŒåŠ å¿«äº†æ¯”è¾ƒçš„é€Ÿç‡</code>ï¼‰ï¼Œå¦‚æœè®¾ç½®äº† keyï¼Œå°±ä¼šä½¿ç”¨<code>key</code>è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°å½“å‰çš„æ–°èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åœ¨ <code>Map ä¸­çš„æ˜ å°„ä½ç½®</code>ï¼Œå¦‚æœ<code>ä¸å­˜åœ¨ï¼Œåˆ™éœ€è¦æ·»åŠ èŠ‚ç‚¹</code>ï¼Œ<code>å­˜åœ¨åˆ™éœ€è¦ç§»åŠ¨èŠ‚ç‚¹</code>ã€‚æœ€åï¼Œå¾ªç¯ç»“æŸä¹‹åï¼Œå¦‚æœ<code>æ–°èŠ‚ç‚¹è¿˜æœ‰å‰©ä½™èŠ‚ç‚¹</code>ï¼Œåˆ™è¯´æ˜éœ€è¦<code>æ·»åŠ èŠ‚ç‚¹</code>ï¼Œå¦‚æœ<code>æ—§èŠ‚ç‚¹è¿˜æœ‰å‰©ä½™èŠ‚ç‚¹</code>ï¼Œåˆ™è¯´æ˜éœ€è¦<code>åˆ é™¤èŠ‚ç‚¹</code>ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºè™šæ‹ŸDOMå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">vnode</span>(<span class="params">sel, data, children, text, elm</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = data.<span class="property">key</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        sel,</span><br><span class="line">        data,</span><br><span class="line">        children,</span><br><span class="line">        text,</span><br><span class="line">        elm,</span><br><span class="line">        key</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hå‡½æ•°ï¼Œåˆ¤æ–­+ç”Ÿæˆè™šæ‹ŸDOM</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">h</span>(<span class="params">sel, data, c</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> !== <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¼ å…¥å‚æ•°å¿…é¡»æ˜¯ä¸‰ä¸ª&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> c === <span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> c === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, <span class="literal">undefined</span>, c, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(c)) &#123;</span><br><span class="line">        <span class="keyword">let</span> children = []</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; c.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(<span class="keyword">typeof</span> c[i] === <span class="string">&#x27;object&#x27;</span> &amp;&amp; c[i].<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;sel&#x27;</span>))) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ•°ç»„ä¸­æœ‰ä¸€é¡¹ä¸æ˜¯hå‡½æ•°&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            children.<span class="title function_">push</span>(s[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, c, <span class="literal">undefined</span>, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> c === <span class="string">&#x27;object&#x27;</span> &amp;&amp; c.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;sel&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">let</span> children = [c]</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, children, <span class="literal">undefined</span>, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¼ å…¥å‚æ•°çš„æ ¼å¼ä¸å¯¹&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// patchå‡½æ•°ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ç±»å‹ï¼Œä»è€Œæ–¹ä¾¿åç»­è¿›è¡Œç²¾ç»†åŒ–å¯¹æ¯”</span></span><br><span class="line"><span class="comment">// æµç¨‹ï¼šoldVnodeæ˜¯å¦æ˜¯è™šæ‹ŸèŠ‚ç‚¹â†’æ˜¯ï¼Œå’ŒnewVnodeæ˜¯å¦æ˜¯ä¸€ä¸ªèŠ‚ç‚¹â†’æ˜¯ï¼Œç²¾ç»†åŒ–æ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//                          â†’å¦ï¼Œå°†å…¶å˜ä¸ºè™šæ‹ŸèŠ‚ç‚¹â†‘       â†’ å¦ï¼Œæš´åŠ›åˆ æ’ </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">patch</span>(<span class="params">oldVnode, newVnode</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (oldVnode.<span class="property">sel</span> == <span class="string">&#x27;&#x27;</span> ||oldVnode.<span class="property">sel</span> == <span class="literal">undefined</span>) &#123; <span class="comment">// åˆ¤æ–­æ—§è™šæ‹ŸèŠ‚ç‚¹å­˜åœ¨</span></span><br><span class="line">        oldVnode = <span class="title function_">emptyNodeAt</span>(oldVnode) </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldVnode, newVnode)) &#123; <span class="comment">// åˆ¤æ–­æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (oldVnode === newVnode) <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (newVnode.<span class="property">text</span> &amp;&amp; (newVnode.<span class="property">children</span> === <span class="literal">undefined</span> || newVnode.<span class="property">children</span>.<span class="property">length</span> === <span class="number">0</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(newVnode.<span class="property">text</span> === oldVnode.<span class="property">text</span>)) &#123;</span><br><span class="line">                olfVnode.<span class="property">elm</span>.<span class="property">innerText</span> = newVnode.<span class="property">text</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (oldVnode.<span class="property">children</span> !== <span class="literal">undefined</span> &amp;&amp; oldVnode.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                oldVnode.<span class="property">elm</span>.<span class="property">innerText</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; newVnode.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">let</span> dom = <span class="title function_">createElement</span>(newVnode.<span class="property">children</span>[i])</span><br><span class="line">                    oldVnode.<span class="property">elm</span>.<span class="title function_">appendChild</span>(dom)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> newVnodeElm = <span class="title function_">createElement</span>(newVnode)</span><br><span class="line">        <span class="keyword">if</span> (oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span> &amp;&amp; oldVnode.<span class="property">elm</span>) &#123;</span><br><span class="line">            oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(newVnodeElm, oldVnode.<span class="property">elm</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(oldVnode.<span class="property">elm</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">emptyNodeAt</span>(<span class="params">elm</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">vnode</span>(elm.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>(), &#123;&#125;, [], <span class="literal">undefined</span>, elm)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sameVnode</span>(<span class="params">old, <span class="keyword">new</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (old.<span class="property">data</span> ? old.<span class="property">data</span>.<span class="property">key</span> : <span class="literal">undefined</span>) === (<span class="keyword">new</span>.<span class="property">data</span> ? <span class="keyword">new</span>.<span class="property">data</span>.<span class="property">key</span> : <span class="literal">undefined</span>) &amp;&amp; old.<span class="property">sel</span> === <span class="keyword">new</span>.<span class="property">sel</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> myVnode1 = <span class="title function_">h</span>(<span class="string">&#x27;ul&#x27;</span>, &#123;&#125;, <span class="string">&#x27;oldVnodeæœ‰text&#x27;</span>)</span><br><span class="line"><span class="title function_">patch</span>(container, myVnode1)</span><br><span class="line"><span class="keyword">const</span> myVnode2 = <span class="title function_">h</span>(<span class="string">&#x27;ul&#x27;</span>, &#123;&#125;, [</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;A&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;B&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;C&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">])</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">patch</span>(myVnode1, myVnode2)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤‡æ³¨ï¼šappendChildåœ¨çˆ¶èŠ‚ç‚¹ä¸­å­èŠ‚ç‚¹çš„æœ«å°¾æ·»åŠ æ–°çš„èŠ‚ç‚¹ / insertBeforeåœ¨å·²æœ‰èŠ‚ç‚¹å‰æ·»åŠ æ–°çš„èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure><h3 id="æ¸è¿›å¼æ¡†æ¶"><a href="#æ¸è¿›å¼æ¡†æ¶" class="headerlink" title="æ¸è¿›å¼æ¡†æ¶"></a>æ¸è¿›å¼æ¡†æ¶</h3><h3 id="âœ…Vue2-Vue3åŒºåˆ«"><a href="#âœ…Vue2-Vue3åŒºåˆ«" class="headerlink" title="âœ…Vue2/Vue3åŒºåˆ«"></a>âœ…Vue2/Vue3åŒºåˆ«</h3><ul><li>æ€§èƒ½æ–¹é¢ï¼šVue3é€šè¿‡æ–°çš„å“åº”å¼ç³»ç»Ÿå’Œç¼–è¯‘å™¨ä¼˜åŒ–æé«˜æ€§èƒ½ã€‚Proxy Object.defineProperty</li><li>æ¨¡æ¿è¯­æ³•CompositionAPI: Vue3å¼•å…¥ä¸€å¥—ç»„åˆå¼APIï¼Œæ–¹ä¾¿æ›´å¥½ç»„ç»‡å’Œé‡ç”¨ä»£ç ã€‚Vue2æ··åˆmixinä»£ç å…±äº«</li><li>æ›´å¥½çš„TSæ”¯æŒ: ä½¿ç”¨TSé‡æ„ï¼Œè‡ªèº«æä¾›æ›´å¥½çš„TSæ”¯æŒï¼Œç±»å‹å£°æ˜ï¼Œä½¿å¾—ä»£ç æ›´å¯é ã€‚</li><li>æ›´è½»é‡ï¼šåŒ…æ›´å°ï¼Œå¯ä»¥æ›´å¿«åŠ è½½è¿è¡Œã€‚TreeShakingå‹å¥½ï¼ŒæŒ‰éœ€æ‰“åŒ…</li><li>æ–°ç‰¹æ€§ï¼šå¼•å…¥Teleport Suspenseï¼Œåœ¨ç»„ä»¶æ ‘ä¸­ä»»ä½•ä½ç½®æ¸²æŸ“å†…å®¹ï¼Œå…è®¸å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼›å…è®¸æ•°ç»„åŠ è½½å®Œæˆå‰æ˜¾ç¤ºå ä½ç¬¦åŠ è½½çŠ¶æ€ï¼Œæ— éœ€éå†æ•´ä¸ªç»„ä»¶æ ‘ã€‚</li><li>è¯­æ³•APIæ”¹è¿›ï¼šæ›´ç®€æ´ç›´è§‚ï¼Œä¾¿äºç†è§£ã€‚ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ŒSetupç­‰</li></ul><h3 id="âœ…Vue2å“åº”å¼åŸç†"><a href="#âœ…Vue2å“åº”å¼åŸç†" class="headerlink" title="âœ…Vue2å“åº”å¼åŸç†"></a>âœ…Vue2å“åº”å¼åŸç†</h3><p>å½“å°†JSå¯¹è±¡ä¼ ç»™Vueå®ä¾‹ä½œä¸ºä¸€ä¸ªdataé€‰é¡¹ï¼ŒVueå°†éå†è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰propertyï¼Œä½¿ç”¨Object.definePropertyæŠŠè¿™äº›propertyå…¨éƒ¨è½¬åŒ–ä¸ºgetterå’Œsetterã€‚</p><blockquote><p>Object.defineProperty</p><p>è¿™æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œå®šä¹‰ä¸€ä¸ªæ–°å±æ€§æˆ–è€…ä¿®æ”¹å…¶åŸæœ‰çš„å±æ€§ï¼Œå¹¶è¿”å›å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, prop, descriptor) <span class="comment">// å¯¹è±¡ å±æ€§ å€¼</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(obj) <span class="comment">// é˜»æ­¢ä¿®æ”¹ç°æœ‰çš„objçš„property</span></span><br></pre></td></tr></table></figure></blockquote><p>è¿™äº›getterå’Œsetteræ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯å†…éƒ¨å¯ä»¥è®©Vueå¯ä»¥è¿½è¸ªä¾èµ–ï¼Œå½“è¿™äº›propertyè¢«è®¿é—®ä¿®æ”¹æ—¶é€šçŸ¥å˜æ›´ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/data.png" alt="data" style="zoom:50%;" /><p>æ¯ä¸€ä¸ªç»„ä»¶å®ä¾‹éƒ½æœ‰ä¸€ä¸ªwatcherå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹ä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠâ€œæ¥è§¦â€åˆ°çš„æ‰€æœ‰æ•°æ®property<strong>è®°å½•ä¸ºä¾èµ–</strong>ã€‚ä¹‹åå½“ä¾èµ–é¡¹çš„setterè§¦å‘çš„æ—¶å€™ï¼Œä¼š<strong>é€šçŸ¥watcher</strong>ï¼Œä»è€Œä½¿å¾—è¿™ä¸ªä¾èµ–é¡¹å…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</p><h4 id="å¯¹è±¡å’Œæ•°ç»„æ£€æµ‹å˜åŒ–"><a href="#å¯¹è±¡å’Œæ•°ç»„æ£€æµ‹å˜åŒ–" class="headerlink" title="å¯¹è±¡å’Œæ•°ç»„æ£€æµ‹å˜åŒ–"></a>å¯¹è±¡å’Œæ•°ç»„æ£€æµ‹å˜åŒ–</h4><h5 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h5><p>é¦–å…ˆå°±æ˜¯è€ƒè™‘åˆ°Vueåœ¨ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å¯¹å¯¹è±¡è¿›è¡Œéå†propertyå’Œç”Ÿæˆgetter/setterï¼Œæ‰€ä»¥è¿™äº›propertyéœ€è¦åœ¨dataé€‰é¡¹ä¸­å­˜åœ¨æ‰èƒ½è½¬æ¢ä¸ºå“åº”å¼ã€‚</p><p>å¦‚æœè¯´è¿™ä¸ªå®ä¾‹å·²ç»åˆ›å»ºå¥½äº†ï¼Œæƒ³é¢å¤–æ·»åŠ ä¸€ä¸ªpropertyï¼Œä½†æ˜¯Vueæ˜¯ä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§åˆ«å“åº”å¼propertyï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>Vue.set(vm.obj, name, val) / this.$set(...)</code>æ–¹æ³•æ¥åµŒå¥—å“åº”å¼propertyã€‚</p><p>è¿˜æœ‰è¦ä½¿ç”¨Object.assign()/_.extend()de çš„æ—¶å€™ï¼Œè¦æ³¨æ„å°†åŸå¯¹è±¡å’Œæ··åˆè¿›å»çš„å±æ€§ä¸€èµ·åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><h5 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h5><p>å•ç‹¬è®¾ç½®æŸç´¢å¼•ä¸‹çš„å€¼å’Œä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ˜¯ä¸èƒ½è¢«Vueæ£€æµ‹åˆ°çš„ã€‚æ‰€ä»¥éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼â†“ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.$set(this.items, index, newVal)</span><br><span class="line">this.items.splice(item, 1, newVal)</span><br></pre></td></tr></table></figure><h4 id="å£°æ˜å“åº”å¼"><a href="#å£°æ˜å“åº”å¼" class="headerlink" title="å£°æ˜å“åº”å¼"></a>å£°æ˜å“åº”å¼</h4><p>Vueä¸å…è®¸åŠ¨æ€æ·»åŠ æ ¹çº§å“åº”å¼ï¼Œæ‰€ä»¥å¿…é¡»åœ¨åˆå§‹åŒ–å‰å£°æ˜æ‰€æœ‰çš„å“åº”å¼ï¼Œå“ªæ€•æ˜¯ä¸€ä¸ªç©ºå€¼ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè¿™æ ·å¯ä»¥æ¶ˆé™¤ä¾èµ–é¡¹è·Ÿè¸ªç³»ç»Ÿçš„ä¸€ç±»è¾¹ç•Œæƒ…å†µï¼Œä½¿å¾—Vueèƒ½å¤Ÿæ›´å¥½é…åˆç±»å‹æ£€æŸ¥å·¥ä½œã€‚</p><h4 id="å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—"><a href="#å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—" class="headerlink" title="å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—"></a>å¼‚æ­¥æ›´æ–°é˜Ÿåˆ—</h4><p>Vueåœ¨æ›´æ–°DOMæ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚å½“ç›‘å¬åˆ°æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¼šå¼€å¯ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¼“å†²åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´å¾ˆæœ‰å¯èƒ½åŒä¸€ä¸ªwatcherè¢«è§¦å‘å¾ˆå¤šæ¬¡ï¼Œä½†å…¶å®ä¸ºäº†é¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œæ“ä½œDOMï¼Œæˆ‘ä»¬åªæƒ³å°†è¿™äº›å¾ˆå¤šæ¬¡å˜åŒ–åˆæˆä¸€æ¬¡æ¨å…¥é˜Ÿåˆ—ï¼Œæ‰€ä»¥éœ€è¦åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®ã€‚</p><p>ç„¶ååœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯â€™tickâ€™ä¸­ï¼ŒVueåˆ·æ–°é˜Ÿåˆ—æ‰§è¡Œå®é™…è¦æ‰§è¡Œçš„å·¥ä½œï¼Œè¿™éƒ¨åˆ†å·¥ä½œæ˜¾ç„¶æ˜¯å»é‡ä¹‹åçš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise.then MutationObserver setImmediate    setTimeout(fn, 0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºobserverå¹¶ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// é€‰æ‹©éœ€è¦è§‚å¯Ÿå˜åŠ¨çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> targetNode = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;some-id&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿå™¨çš„é…ç½®ï¼ˆéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨ï¼‰å±æ€§ å­èŠ‚ç‚¹ åä»£èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> config = &#123; <span class="attr">attributes</span>: <span class="literal">true</span>, <span class="attr">childList</span>: <span class="literal">true</span>, <span class="attr">subtree</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“è§‚å¯Ÿåˆ°å˜åŠ¨æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> callback = <span class="keyword">function</span>(<span class="params">mutationsList, observer</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> mutation <span class="keyword">of</span> mutationsList) &#123;</span><br><span class="line">        <span class="comment">// forEachå’Œswitchä¹ŸæŒºå¥½</span></span><br><span class="line">        <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">&#x27;childList&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;A child node has been added or removed.&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">&#x27;attributes&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;The &#x27;</span> + mutation.<span class="property">attributeName</span> + <span class="string">&#x27; attribute was modified.&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿå™¨å®ä¾‹å¹¶ä¼ å…¥å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(callback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Šè¿°é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹</span></span><br><span class="line">observer.<span class="title function_">observe</span>(targetNode, config);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ</span></span><br><span class="line">observer.<span class="title function_">disconnect</span>();</span><br></pre></td></tr></table></figure><h3 id="âœ…Vue3å“åº”å¼åŸç†"><a href="#âœ…Vue3å“åº”å¼åŸç†" class="headerlink" title="âœ…Vue3å“åº”å¼åŸç†"></a>âœ…Vue3å“åº”å¼åŸç†</h3><p>Proxy</p><p>æ— éœ€éå†å¯¹è±¡ï¼Œç›´æ¥å¯¹æ•´ä¸ªå¯¹è±¡ç”Ÿæˆä¸€ä¸ªProxyå®ä¾‹ã€‚éšåä»¥æ¥è¿½è¸ªâ†’æ´¾å‘æ›´æ–°ã€‚</p><h3 id="âœ…é€‰é¡¹å¼APIå’Œç»„åˆå¼API"><a href="#âœ…é€‰é¡¹å¼APIå’Œç»„åˆå¼API" class="headerlink" title="âœ…é€‰é¡¹å¼APIå’Œç»„åˆå¼API"></a>âœ…é€‰é¡¹å¼APIå’Œç»„åˆå¼API</h3><p>å‰è€…æ˜¯åŸºäºåè€…å®ç°çš„ã€‚Vueçš„åŸºç¡€çŸ¥è¯†å’Œæ¦‚å¿µåœ¨ä¸¤è€…ä¹‹é—´æ˜¯ç›¸é€šçš„ã€‚</p><p>å‰è€…ä»¥ç»„ä»¶å®ä¾‹(this)ä¸ºæ¦‚å¿µä¸­å¿ƒï¼Œå°†å“åº”ç›¸å…³çš„ç»†èŠ‚æŠ½è±¡å‡ºæ¥ï¼Œå¼ºåˆ¶æŒ‰ç…§é€‰é¡¹æ¥ç»„ç»‡ä»£ç ã€‚è§åçŸ¥æ„ï¼Œå¾ˆé€‚åˆä¸Šæ‰‹ã€‚</p><p>åè€…æ ¸å¿ƒæ€æƒ³æ˜¯ç›´æ¥åœ¨å‡½æ•°ä½œç”¨åŸŸå†…å®šä¹‰å“åº”å¼çŠ¶æ€å˜é‡ã€‚å¹¶å°†å¤šä¸ªå‡½æ•°ä¸­å¾—åˆ°çš„çŠ¶æ€ç»„åˆèµ·æ¥å¤„ç†å¤æ‚é—®é¢˜ã€‚å½¢å¼è‡ªç”±ï¼Œæ›´é€‚åˆé€»è¾‘è‡ªå®šä¹‰ã€‚</p><h3 id="æ•°æ®åŒå‘ç»‘å®šåŸç†"><a href="#æ•°æ®åŒå‘ç»‘å®šåŸç†" class="headerlink" title="æ•°æ®åŒå‘ç»‘å®šåŸç†"></a>æ•°æ®åŒå‘ç»‘å®šåŸç†</h3><p>v-mode =&gt; v-bind  and  @input</p><h3 id="æ•°ç»„æ·»åŠ äº†ä¸€ä¸ªæ•°å­—ï¼Œvueæ€ä¹ˆçŸ¥é“æ•°ç»„å˜åŒ–äº†"><a href="#æ•°ç»„æ·»åŠ äº†ä¸€ä¸ªæ•°å­—ï¼Œvueæ€ä¹ˆçŸ¥é“æ•°ç»„å˜åŒ–äº†" class="headerlink" title="æ•°ç»„æ·»åŠ äº†ä¸€ä¸ªæ•°å­—ï¼Œvueæ€ä¹ˆçŸ¥é“æ•°ç»„å˜åŒ–äº†"></a>æ•°ç»„æ·»åŠ äº†ä¸€ä¸ªæ•°å­—ï¼Œvueæ€ä¹ˆçŸ¥é“æ•°ç»„å˜åŒ–äº†</h3><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­"></a>ç”Ÿå‘½å‘¨æœŸé’©å­</h3><h3 id="è¯·æ±‚æ•°æ®åœ¨å“ªä¸ªå‘¨æœŸ"><a href="#è¯·æ±‚æ•°æ®åœ¨å“ªä¸ªå‘¨æœŸ" class="headerlink" title="è¯·æ±‚æ•°æ®åœ¨å“ªä¸ªå‘¨æœŸ"></a>è¯·æ±‚æ•°æ®åœ¨å“ªä¸ªå‘¨æœŸ</h3><h3 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h3><h3 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3><h3 id="âœ…è®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„åŒºåˆ«"><a href="#âœ…è®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„åŒºåˆ«" class="headerlink" title="âœ…è®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„åŒºåˆ«"></a>âœ…è®¡ç®—å±æ€§å’Œç›‘å¬å™¨çš„åŒºåˆ«</h3><p>computed watch</p><ul><li>å‰è€…æ˜¯å‡½æ•°è¿”å›å€¼ï¼Œè¿”å›å¯¹dataå±æ€§çš„æ“ä½œè®¡ç®—ç»“æœï¼›åè€…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„å±æ€§ï¼Œå€¼æ˜¯å›è°ƒ</li><li>å‰è€…ä¼šè¢«ç¼“å­˜ï¼›åè€…ä¸ä¼š</li><li>å‰è€…å¤§å¤šç”¨äºä¸€ä¸ªå±æ€§å—å¤šä¸ªå±æ€§å½±å“æ—¶ä½¿ç”¨ï¼›åè€…æ˜¯ç›‘å¬ä¸€ä¸ªå±æ€§å¯¹å¯èƒ½å¤šæ¡æ•°æ®çš„å½±å“</li></ul><h3 id="âœ…å¦‚ä½•ç›‘å¬a-b-cï¼Œå¦‚ä½•ç«‹å³ç›‘å¬"><a href="#âœ…å¦‚ä½•ç›‘å¬a-b-cï¼Œå¦‚ä½•ç«‹å³ç›‘å¬" class="headerlink" title="âœ…å¦‚ä½•ç›‘å¬a.b.cï¼Œå¦‚ä½•ç«‹å³ç›‘å¬"></a>âœ…å¦‚ä½•ç›‘å¬a.b.cï¼Œå¦‚ä½•ç«‹å³ç›‘å¬</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> defualt &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">a</span>: &#123;</span><br><span class="line">                <span class="attr">b</span>: &#123;</span><br><span class="line">                    <span class="attr">c</span>: <span class="string">&#x27;haha&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;a.b.c&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‘ç”Ÿå˜åŒ–&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…ref"><a href="#âœ…ref" class="headerlink" title="âœ…ref"></a>âœ…ref</h3><p>è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨çš„ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£ï¼‰ã€‚refåº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#x27;haha&#x27;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">...&#123;</span><br><span class="line">        this.$refs.haha...</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="ref-refs"><a href="#ref-refs" class="headerlink" title="ref refs"></a>ref refs</h3><h3 id="âœ…v-forä¸ºå•¥è¦åŠ key"><a href="#âœ…v-forä¸ºå•¥è¦åŠ key" class="headerlink" title="âœ…v-forä¸ºå•¥è¦åŠ key"></a>âœ…v-forä¸ºå•¥è¦åŠ key</h3><p>è¿™è·Ÿè™šæ‹ŸDOMæ¯”è¾ƒå’Œè§†å›¾æ›´æ–°æœ‰å…³ã€‚</p><p>å‡å®šè¿™é‡Œæœ‰ä¸€ä¸ªv-foråˆ—è¡¨ï¼Œkeyå¯ä»¥ä½œä¸ºåˆ—è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†ï¼Œä»è€Œæ–¹ä¾¿åœ¨æ¯”è¾ƒè¿™ä¸€ä¸ªåˆ—è¡¨èŠ‚ç‚¹ä¸­æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</p><h3 id="âœ…è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#âœ…è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="âœ…è‡ªå®šä¹‰æŒ‡ä»¤"></a>âœ…è‡ªå®šä¹‰æŒ‡ä»¤</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;custom-directive&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// æŒ‡ä»¤çš„é’©å­å‡½æ•°</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">el, bingding, vnode</span>) &#123;</span><br><span class="line">        <span class="comment">// æŒ‡ä»¤ç»‘å®šåˆ°å…ƒç´ æ—¶è§¦å‘</span></span><br><span class="line">        <span class="keyword">const</span> arg = binding.<span class="property">arg</span>; <span class="comment">// å‚æ•°å &#x27;param1&#x27;</span></span><br><span class="line">        <span class="keyword">const</span> modifiers = binding.<span class="property">modifiers</span>; <span class="comment">// ä¿®é¥°ç¬¦ &#123; modifier1: true, modifier2: true &#125;</span></span><br><span class="line">        <span class="keyword">const</span> value = binding.<span class="property">value</span>; <span class="comment">// å€¼ &#x27;value1&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;highlight&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">    el.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">backgroundColor</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">    el.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;div v-custom-directive:param1=&quot;value1&quot; .modifier1.modifier2=&quot;value2&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div v-highlight=&#x27;yellow&#x27;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰æŒ‡ä»¤çš„å®šä¹‰åŒ…æ‹¬ä¸€ç³»åˆ—çš„é€‰é¡¹ï¼Œè¿™äº›é€‰é¡¹æ˜¯æŒ‡ä»¤çš„é’©å­å‡½æ•°ã€‚å¸¸è§çš„è‡ªå®šä¹‰æŒ‡ä»¤é€‰é¡¹ï¼š</p><ul><li><code>bind(el, binding, vnode)</code>ï¼šåœ¨æŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è§¦å‘ã€‚è¿™é‡Œå¯ä»¥æ‰§è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚</li><li><code>inserted(el, binding, vnode)</code>ï¼šå½“åŒ…å«æŒ‡ä»¤çš„å…ƒç´ æ’å…¥åˆ°çˆ¶å…ƒç´ ä¸­æ—¶è§¦å‘ã€‚</li><li><code>update(el, binding, vnode, oldVnode)</code>ï¼šå½“å…ƒç´ çš„ç»‘å®šå€¼å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚</li><li><code>componentUpdated(el, binding, vnode, oldVnode)</code>ï¼šå½“å…ƒç´ å’Œå®ƒçš„å­å…ƒç´ éƒ½è¢«æ›´æ–°åè§¦å‘ã€‚</li><li><code>unbind(el, binding, vnode)</code>ï¼šåœ¨æŒ‡ä»¤ä»å…ƒç´ ä¸Šè§£ç»‘æ—¶è§¦å‘ã€‚</li></ul><h3 id="âœ…vue-åŠ¨æ€æ·»åŠ å“åº”å¼å±æ€§"><a href="#âœ…vue-åŠ¨æ€æ·»åŠ å“åº”å¼å±æ€§" class="headerlink" title="âœ…vue åŠ¨æ€æ·»åŠ å“åº”å¼å±æ€§"></a>âœ…vue åŠ¨æ€æ·»åŠ å“åº”å¼å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$set(<span class="variable language_">this</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;val&#x27;</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;val&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="âœ…åœ¨vueç»„ä»¶ä¸­-æ·»åŠ çš„å®šæ—¶å™¨è¦æ‰‹åŠ¨æ¸…é™¤å—"><a href="#âœ…åœ¨vueç»„ä»¶ä¸­-æ·»åŠ çš„å®šæ—¶å™¨è¦æ‰‹åŠ¨æ¸…é™¤å—" class="headerlink" title="âœ…åœ¨vueç»„ä»¶ä¸­ æ·»åŠ çš„å®šæ—¶å™¨è¦æ‰‹åŠ¨æ¸…é™¤å—"></a>âœ…åœ¨vueç»„ä»¶ä¸­ æ·»åŠ çš„å®šæ—¶å™¨è¦æ‰‹åŠ¨æ¸…é™¤å—</h3><p>å—¯å—¯ï¼Œä¸ºäº†é˜²æ­¢å†…å­˜æ³„æ¼å’Œä¸å¿…è¦çš„æ€§èƒ½é—®é¢˜ï¼Œæ˜¯éœ€è¦æ‰‹åŠ¨æ¸…é™¤å®šæ—¶å™¨çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestory</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">timer</span>) &#123;</span><br><span class="line">        clear...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…mixinæ··å…¥"><a href="#âœ…mixinæ··å…¥" class="headerlink" title="âœ…mixinæ··å…¥"></a>âœ…mixinæ··å…¥</h3><p>mixinæä¾›äº†ä¸€ç§çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ç»„ä»¶ä¸­å¯å¤ç”¨çš„åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ä¸€ä¸ªç»„ä»¶ä½¿ç”¨æŸæ··å…¥å¯¹è±¡çš„æ—¶å€™ï¼Œè¿™ä¸ªç»„ä»¶ä¼šå¸çº³è¿™ä¸ªæ··å…¥å¯¹è±¡çš„æ‰€æœ‰é€‰é¡¹ã€‚</p><h4 id="é€‰é¡¹åˆå¹¶äºŒä¸‰äº‹"><a href="#é€‰é¡¹åˆå¹¶äºŒä¸‰äº‹" class="headerlink" title="é€‰é¡¹åˆå¹¶äºŒä¸‰äº‹"></a>é€‰é¡¹åˆå¹¶äºŒä¸‰äº‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> amixin = &#123;</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aminxin&#x27;s created&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">num</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;ï¼Œ</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">hi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vc = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">    <span class="attr">mixins</span>: [amixin],</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;vc&#x27;s created&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">num</span>: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">hi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hi~!&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®é€’å½’åˆå¹¶å†²çª</span></span><br><span class="line">vm.<span class="property">num</span> === <span class="number">2</span> <span class="comment">// ç»„ä»¶æ•°æ®ä¼˜å…ˆ</span></span><br><span class="line"><span class="comment">// å¯¹è±¡é”®åå†²çª</span></span><br><span class="line">vc.<span class="title function_">hi</span>() <span class="comment">// ç»„ä»¶é”®çš„å€¼ä¼˜å…ˆ</span></span><br><span class="line"><span class="comment">// é€‰é¡¹åˆå¹¶</span></span><br><span class="line"><span class="string">&quot;aminxin&#x27;s created&quot;</span> <span class="comment">// åŒåé’©å­å‡½æ•°ï¼Œæ··å…¥å…ˆè°ƒç”¨</span></span><br><span class="line"><span class="string">&quot;vc&#x27;s created&quot;</span> <span class="comment">// ç»„ä»¶åè°ƒç”¨</span></span><br></pre></td></tr></table></figure><h4 id="å…¨å±€æ··å…¥"><a href="#å…¨å±€æ··å…¥" class="headerlink" title="å…¨å±€æ··å…¥"></a>å…¨å±€æ··å…¥</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Please use it wisely~</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;...&#125;)</span><br></pre></td></tr></table></figure><h4 id="ç¡¬æ ¸ï¼šè‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥"><a href="#ç¡¬æ ¸ï¼šè‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥" class="headerlink" title="ç¡¬æ ¸ï¼šè‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥"></a>ç¡¬æ ¸ï¼šè‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥</h4><p>ä¸Šè¿°å…ˆè°ƒç”¨mixinå’Œæ•°æ®ã€é”®å€¼ä»¥ç»„ä»¶å†…æ•°æ®ä¸ºå…ˆç­‰ç­–ç•¥æ˜¯é€‰é¡¹åˆå¹¶çš„é»˜è®¤ç­–ç•¥ã€‚</p><p>å¯ä»¥é€šè¿‡<code>Vue.config.optionMergeStrategies</code>è¿›è¡Œè‡ªå®šä¹‰â†“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">optionMergeStrategies</span>.<span class="property">myOption</span> = <span class="keyword">function</span>(<span class="params">toVal, fromVal</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿”å›åˆå¹¶åçš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¾ä¾‹</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">optionMergeStrategies</span>.<span class="property">customEvent</span> = <span class="keyword">function</span> (<span class="params">parentVal, childVal</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰å®šä¹‰ customEventï¼Œåˆ™ä½¿ç”¨å­ç»„ä»¶çš„å€¼</span></span><br><span class="line">    <span class="keyword">return</span> childVal;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!childVal) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå­ç»„ä»¶æ²¡æœ‰å®šä¹‰ customEventï¼Œåˆ™ä½¿ç”¨çˆ¶ç»„ä»¶çš„å€¼</span></span><br><span class="line">    <span class="keyword">return</span> parentVal;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰åˆå¹¶é€»è¾‘ï¼Œå°†çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶çš„å¤„ç†å‡½æ•°åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">    <span class="keyword">return</span> parentVal.<span class="title function_">concat</span>(childVal);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶"><a href="#ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶"></a>ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶</h3><h3 id="âœ…è‡ªå®šä¹‰æ’ä»¶"><a href="#âœ…è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="âœ…è‡ªå®šä¹‰æ’ä»¶"></a>âœ…è‡ªå®šä¹‰æ’ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugins/test.jsåˆ›å»º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Test</span> = &#123;</span><br><span class="line">    <span class="title function_">install</span>(<span class="params">Vue, options</span>) &#123;</span><br><span class="line">        <span class="comment">// æ·»åŠ å…¨å±€ç»„ä»¶ã€æŒ‡ä»¤ã€æ··å…¥</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">components</span>(<span class="string">&#x27;å…¨å±€ç»„ä»¶ï¼ŒæŒ‡ä»¤ï¼Œæ··å…¥&#x27;</span>)</span><br><span class="line">        <span class="comment">// æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myGlobalMethod</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// è°ƒç”¨ï¼šthis.$myGlobalMethod()</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ·»åŠ å…¨å±€æ··å…¥</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">            <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="comment">// æ¯ä¸ªç»„ä»¶çš„åˆ›å»ºå‘¨æœŸä¸­æ‰§è¡Œçš„é€»è¾‘</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.jsæ³¨å†Œ</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Test</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;....&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Test</span>, &#123; é€‰é¡¹ &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.vueä½¿ç”¨</span></span><br><span class="line"><span class="title function_">mouted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$myGlobalMethod()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…è®²ä¸€ä¸‹nextTick"><a href="#âœ…è®²ä¸€ä¸‹nextTick" class="headerlink" title="âœ…è®²ä¸€ä¸‹nextTick"></a>âœ…è®²ä¸€ä¸‹nextTick</h3><p>åœ¨ä¸‹ä¸€æ¬¡DOMæ›´æ–°ç»“æŸåæ‰§è¡ŒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;example&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&#x27;æœªæ›´æ–°&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="attr">updateMessage</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;å·²æ›´æ–°&#x27;</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;æœªæ›´æ–°&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;å·²æ›´æ–°&#x27;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="attr">updateMessage</span>: <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;å·²æ›´æ–°&#x27;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;æœªæ›´æ–°&#x27;</span></span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.$nextTick()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;å·²æ›´æ–°&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="eventbus-å’Œ-vuex-åˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯"><a href="#eventbus-å’Œ-vuex-åˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯" class="headerlink" title="eventbus å’Œ vuex åˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯"></a>eventbus å’Œ vuex åˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯</h3><h3 id="ä»‹ç»vuex"><a href="#ä»‹ç»vuex" class="headerlink" title="ä»‹ç»vuex"></a>ä»‹ç»vuex</h3><h3 id="mutationsä¸»è¦å­˜æ”¾ä¸€äº›ä»€ä¹ˆæ–¹æ³•"><a href="#mutationsä¸»è¦å­˜æ”¾ä¸€äº›ä»€ä¹ˆæ–¹æ³•" class="headerlink" title="mutationsä¸»è¦å­˜æ”¾ä¸€äº›ä»€ä¹ˆæ–¹æ³•"></a>mutationsä¸»è¦å­˜æ”¾ä¸€äº›ä»€ä¹ˆæ–¹æ³•</h3><h3 id="âœ…vue-routerçš„ä¸¤ç§æ¨¡å¼"><a href="#âœ…vue-routerçš„ä¸¤ç§æ¨¡å¼" class="headerlink" title="âœ…vue-routerçš„ä¸¤ç§æ¨¡å¼"></a>âœ…vue-routerçš„ä¸¤ç§æ¨¡å¼</h3><p>å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€”#åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼</p><p>hashå€¼ä¸åŒ…æ‹¬åœ¨httpè¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨</p><p>å‰è€…DOMåè€…BOM</p><ul><li>hashæ¨¡å¼ï¼š</li><li><ol><li>åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚</li><li>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•</li><li>å…¼å®¹æ€§è¾ƒå¥½</li></ol></li><li>historyæ¨¡å¼ï¼š</li><li><ol><li>åœ°å€å¹²å‡€ï¼Œç¾è§‚</li><li>å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®</li><li>åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡å™¨404çš„é—®é¢˜</li></ol></li></ul><ol><li><strong>å“ˆå¸Œæ¨¡å¼ï¼ˆHash Modeï¼‰</strong>ï¼š<ul><li><strong>URL æ ¼å¼</strong>ï¼šåœ¨å“ˆå¸Œæ¨¡å¼ä¸‹ï¼ŒURL ä¸­çš„ <code>#</code> ç¬¦å·åé¢çš„éƒ¨åˆ†è¢«ç§°ä¸ºå“ˆå¸Œç‰‡æ®µï¼ˆHash Fragmentï¼‰ã€‚ä¾‹å¦‚ï¼Œ<code>http://example.com/#/path</code> ä¸­çš„ <code>/path</code> æ˜¯å“ˆå¸Œç‰‡æ®µã€‚</li><li><strong>åŸç†</strong>ï¼šåœ¨å“ˆå¸Œæ¨¡å¼ä¸­ï¼Œæµè§ˆå™¨çš„ URL ä¸­çš„å“ˆå¸Œç‰‡æ®µä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ã€‚å› æ­¤ï¼Œå½“ç”¨æˆ·åœ¨å•é¡µé¢åº”ç”¨ç¨‹åºä¸­è¿›è¡Œå¯¼èˆªæ—¶ï¼ŒVue Router å®é™…ä¸Šæ˜¯é€šè¿‡ JavaScript ç›‘å¬ URL çš„å“ˆå¸Œç‰‡æ®µå˜åŒ–æ¥ç®¡ç†è·¯ç”±çŠ¶æ€çš„ã€‚</li><li>å·¥ä½œæµç¨‹ï¼š<ol><li>ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–æ‰‹åŠ¨è¾“å…¥ URLã€‚</li><li>æµè§ˆå™¨å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨è¿”å›å•ä¸€çš„ HTML æ–‡ä»¶ï¼ŒåŒ…æ‹¬ Vue.js åº”ç”¨ç¨‹åºçš„ JavaScript ä»£ç ã€‚</li><li>æµè§ˆå™¨åŠ è½½é¡µé¢å¹¶æ‰§è¡Œ JavaScript ä»£ç ï¼ŒåŒ…æ‹¬ Vue Router é…ç½®ã€‚</li><li>Vue Router ç›‘å¬ URL çš„å“ˆå¸Œç‰‡æ®µå˜åŒ–ï¼Œæ ¹æ®å“ˆå¸Œç‰‡æ®µçš„ä¸åŒæ¸²æŸ“ä¸åŒçš„è§†å›¾ã€‚</li></ol></li></ul></li><li><strong>å†å²æ¨¡å¼ï¼ˆHistory Modeï¼‰</strong>ï¼š<ul><li><strong>URL æ ¼å¼</strong>ï¼šåœ¨å†å²æ¨¡å¼ä¸‹ï¼ŒURL æ›´åŠ å¹²å‡€ï¼Œä¸åŒ…å« <code>#</code> ç¬¦å·ï¼Œä¾‹å¦‚ <code>http://example.com/path</code>ã€‚</li><li><strong>åŸç†</strong>ï¼šå†å²æ¨¡å¼ä½¿ç”¨ HTML5 å†å²è®°å½• APIï¼Œå³ <code>pushState</code> å’Œ <code>replaceState</code>ï¼Œæ¥ç®¡ç†æµè§ˆå™¨çš„å†å²è®°å½•å’Œè·¯ç”±çŠ¶æ€ã€‚è¿™å…è®¸å‰ç«¯è·¯ç”±å™¨æ›´è‡ªç„¶åœ°å¤„ç† URLï¼Œå¹¶åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹æ›´æ”¹è·¯ç”±ã€‚</li><li>å·¥ä½œæµç¨‹ï¼š<ol><li>ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–æ‰‹åŠ¨è¾“å…¥ URLã€‚</li><li>æµè§ˆå™¨å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨è¿”å›å•ä¸€çš„ HTML æ–‡ä»¶ï¼ŒåŒ…æ‹¬ Vue.js åº”ç”¨ç¨‹åºçš„ JavaScript ä»£ç ã€‚</li><li>æµè§ˆå™¨åŠ è½½é¡µé¢å¹¶æ‰§è¡Œ JavaScript ä»£ç ï¼ŒåŒ…æ‹¬ Vue Router é…ç½®ã€‚</li><li>Vue Router ä½¿ç”¨å†å²è®°å½• API æ¥ä¿®æ”¹æµè§ˆå™¨çš„åœ°å€æ ï¼Œè€Œä¸è§¦å‘é¡µé¢çš„åˆ·æ–°ï¼Œä»¥åŒ¹é…ç”¨æˆ·å¯¼èˆªçš„è·¯ç”±ã€‚</li></ol></li></ul></li></ol><h3 id="âœ…vue-routeré¡µé¢è·³è½¬ç”¨çš„åŸç”ŸJSçš„å“ªä¸€ä¸ªAPIï¼Ÿ"><a href="#âœ…vue-routeré¡µé¢è·³è½¬ç”¨çš„åŸç”ŸJSçš„å“ªä¸€ä¸ªAPIï¼Ÿ" class="headerlink" title="âœ…vue-routeré¡µé¢è·³è½¬ç”¨çš„åŸç”ŸJSçš„å“ªä¸€ä¸ªAPIï¼Ÿ"></a>âœ…vue-routeré¡µé¢è·³è½¬ç”¨çš„åŸç”ŸJSçš„å“ªä¸€ä¸ªAPIï¼Ÿ</h3><ol><li><p>**<code>window.location.href</code>**ï¼šé€šè¿‡ä¿®æ”¹ <code>window.location.href</code> å±æ€§ï¼Œä½ å¯ä»¥æ”¹å˜æµè§ˆå™¨çš„å½“å‰ URLï¼Œä»è€Œå®ç°é¡µé¢è·³è½¬ã€‚ä¾‹å¦‚ï¼Œè¦å°†ç”¨æˆ·é‡å®šå‘åˆ°æ–°çš„ URLï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.href = &quot;https://example.com/new-page&quot;;</span><br></pre></td></tr></table></figure></li><li><p>**<code>window.location.replace()</code>**ï¼šè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥ç«‹å³å°†ç”¨æˆ·é‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„ URLï¼Œå¹¶ä¸”ä¸ä¼šåœ¨æµè§ˆå™¨çš„å†å²è®°å½•ä¸­ç•™ä¸‹å‰ä¸€ä¸ªé¡µé¢çš„è®°å½•ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.replace(&quot;https://example.com/new-page&quot;);</span><br></pre></td></tr></table></figure></li><li><p>**<code>window.location.assign()</code>**ï¼šè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºåŠ è½½ä¸€ä¸ªæ–°çš„ URLï¼Œç±»ä¼¼äº <code>window.location.href</code>ï¼Œä½†ä¼šåœ¨æµè§ˆå™¨çš„å†å²è®°å½•ä¸­ç•™ä¸‹å‰ä¸€ä¸ªé¡µé¢çš„è®°å½•ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.assign(&quot;https://example.com/new-page&quot;);</span><br></pre></td></tr></table></figure></li><li><p>**<code>window.location.reload()</code>**ï¼šè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨äºé‡æ–°åŠ è½½å½“å‰é¡µé¢ã€‚å¦‚æœä½ å¸Œæœ›åœ¨ç”¨æˆ·æ‰§è¡ŒæŸä¸ªæ“ä½œååˆ·æ–°é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p></li></ol><h3 id="routeråŸç†"><a href="#routeråŸç†" class="headerlink" title="routeråŸç†"></a>routeråŸç†</h3><h3 id="router-å’Œ-route"><a href="#router-å’Œ-route" class="headerlink" title="router å’Œ route"></a>router å’Œ route</h3><h3 id="è·¯ç”±å®ˆå«å¦‚ä½•é…ç½®ï¼Ÿ"><a href="#è·¯ç”±å®ˆå«å¦‚ä½•é…ç½®ï¼Ÿ" class="headerlink" title="è·¯ç”±å®ˆå«å¦‚ä½•é…ç½®ï¼Ÿ"></a>è·¯ç”±å®ˆå«å¦‚ä½•é…ç½®ï¼Ÿ</h3><p>è·¯ç”±å®ˆå«æ˜¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨è·¯ç”±å¯¼èˆªå‘ç”Ÿå‰ä¸­åæ‰§è¡Œä¸€äº›é€»è¾‘çš„è‡ªå®šä¹‰é€»è¾‘ã€‚</p><p>å¯¼èˆªè§£ææµç¨‹ï¼š</p><ol><li>å¯¼èˆªè¢«è§¦å‘</li><li>åœ¨å¤±æ´»çš„ç»„ä»¶ä¸­è°ƒç”¨beforeRouteLeave</li><li>è°ƒç”¨å…¨å±€beforeEach</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶ä¸­è°ƒç”¨beforeRouteUpdate</li><li>åœ¨è·¯ç”±é…ç½®ä¸­è°ƒç”¨beforeEnter</li><li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶</li><li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteEnter</li><li>è°ƒç”¨å…¨å±€çš„beforeResolve</li><li>å¯¼èˆªè¢«ç¡®è®¤</li><li>è°ƒç”¨å…¨å±€çš„afterEach</li><li>è§¦å‘DOMæ›´æ–°</li><li>è°ƒç”¨beforeRouteEnterå®ˆå«ä¸­ä¼ ç»™nextçš„å›è°ƒï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥</li></ol><p>ä¸»è¦åˆ†ä¸ºï¼š</p><h4 id="å…¨å±€å‰ç½®è·¯ç”±å®ˆå«"><a href="#å…¨å±€å‰ç½®è·¯ç”±å®ˆå«" class="headerlink" title="å…¨å±€å‰ç½®è·¯ç”±å®ˆå«"></a>å…¨å±€å‰ç½®è·¯ç”±å®ˆå«</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="title function_">async</span>(to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  <span class="comment">// è·å–ç”¨æˆ·ç™»å½•å‡­è¯</span></span><br><span class="line">  <span class="keyword">let</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;TOKEN&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> name = store.<span class="property">state</span>.<span class="property">user</span>.<span class="property">userInfo</span>.<span class="property">name</span></span><br><span class="line">  <span class="keyword">if</span> (token !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/login&#x27;</span> || to.<span class="property">path</span> === <span class="string">&#x27;/register&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/&#x27;</span>) </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">      <span class="keyword">if</span> (name !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>()  </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        <span class="keyword">try</span>&#123; </span><br><span class="line">          <span class="keyword">await</span> store.<span class="title function_">dispatch</span>(<span class="string">&#x27;getUserInfo&#x27;</span>) </span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">        &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">          <span class="title function_">alert</span>(<span class="string">&#x27;ç”¨æˆ·éªŒè¯å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»é™†!&#x27;</span>)</span><br><span class="line">          <span class="keyword">await</span> store.<span class="title function_">dispatch</span>(<span class="string">&#x27;userLogout&#x27;</span>)</span><br><span class="line">          <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> toPath = to.<span class="property">path</span></span><br><span class="line">    <span class="keyword">if</span> (toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/myorder&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/center&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/paysuccess&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/trade&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/pay&#x27;</span>)) &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/login?redirect=&#x27;</span> + toPath)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><h4 id="å…¨å±€è§£æå®ˆå«"><a href="#å…¨å±€è§£æå®ˆå«" class="headerlink" title="å…¨å±€è§£æå®ˆå«"></a>å…¨å±€è§£æå®ˆå«</h4><p>è§£æå®ˆå«åˆšå¥½ä¼šåœ¨è¢«ç¡®è®¤å‰ã€æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æåè°ƒç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeResolve</span>(<span class="keyword">async</span> to =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">requiresCamera</span>) &#123; <span class="comment">// æ³¨æ„è¿™é‡Œçš„metaï¼Œå¾ˆæœ‰ç”¨çš„</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">askForCameraPermission</span>()</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="title class_">NotAllowedError</span>) &#123;</span><br><span class="line">        <span class="comment">// ... å¤„ç†é”™è¯¯ï¼Œç„¶åå–æ¶ˆå¯¼èˆª</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// æ„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼Œå–æ¶ˆå¯¼èˆªå¹¶æŠŠé”™è¯¯ä¼ ç»™å…¨å±€å¤„ç†å™¨</span></span><br><span class="line">        <span class="keyword">throw</span> error</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å…¨å±€åç½®é’©å­"><a href="#å…¨å±€åç½®é’©å­" class="headerlink" title="å…¨å±€åç½®é’©å­"></a>å…¨å±€åç½®é’©å­</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, failure</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!failure) <span class="title function_">sendToAnalytics</span>(to.<span class="property">fullPath</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="è·¯ç”±ç‹¬äº«å®ˆå«"><a href="#è·¯ç”±ç‹¬äº«å®ˆå«" class="headerlink" title="è·¯ç”±ç‹¬äº«å®ˆå«"></a>è·¯ç”±ç‹¬äº«å®ˆå«</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> defualt [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/trade&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/pages/Trade&quot;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;trade&quot;</span>,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">from</span>.<span class="property">path</span> === <span class="string">&#x27;/shopCart&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="literal">false</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="ç»„ä»¶å†…çš„å®ˆå«"><a href="#ç»„ä»¶å†…çš„å®ˆå«" class="headerlink" title="ç»„ä»¶å†…çš„å®ˆå«"></a>ç»„ä»¶å†…çš„å®ˆå«</h4><p>æä¾›äº†ä¸‰ä¸ªå¯é…ç½®çš„APIï¼šbeforeRouteEnter  beforeRouteUpdate  beforeRouteLeaveï¼ˆVue2ï¼‰</p><p>onBeforeRouteUpdate  onBeforeRouteLeaveï¼ˆVue3ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">UserDetails</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«éªŒè¯å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸èƒ½è·å–ç»„ä»¶å®ä¾‹ `this` ï¼</span></span><br><span class="line">    <span class="comment">// ä½†æ˜¯å¯ä»¥â†‘next(vm =&gt; &#123;&#125;)</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œæ—¶ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»ºï¼</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ `/users/:id`ï¼Œåœ¨ `/users/1` å’Œ `/users/2` ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ `UserDetails` ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å› ä¸ºåœ¨è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ—¶å€™ï¼Œç»„ä»¶å·²ç»æŒ‚è½½å¥½äº†ï¼Œå¯¼èˆªå®ˆå«å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å¯¼èˆªç¦»å¼€æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ `beforeRouteUpdate` ä¸€æ ·ï¼Œå®ƒå¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="âœ…è·¯ç”±æ‡’åŠ è½½å¦‚ä½•å®ç°"><a href="#âœ…è·¯ç”±æ‡’åŠ è½½å¦‚ä½•å®ç°" class="headerlink" title="âœ…è·¯ç”±æ‡’åŠ è½½å¦‚ä½•å®ç°"></a>âœ…è·¯ç”±æ‡’åŠ è½½å¦‚ä½•å®ç°</h3><p>åœ¨å†™routesè§„åˆ™çš„æ—¶å€™å¼•å…¥ï¼Œè€Œä¸æ˜¯åœ¨å¼€å¤´å¼•å…¥ã€‚</p><p>è¿™ç§æ–¹å¼å¯ä»¥å‡å°åˆå§‹åŠ è½½åŒ…çš„å¤§å°ï¼ŒæŒ‰éœ€åŠ è½½ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/pages/Home/RHome.vue&quot;</span>), <span class="comment">// ç›´æ¥åœ¨è¿™é‡Œå¼•å…¥</span></span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="vueè·¯ç”±è·³è½¬æ–¹å¼"><a href="#vueè·¯ç”±è·³è½¬æ–¹å¼" class="headerlink" title="vueè·¯ç”±è·³è½¬æ–¹å¼"></a>vueè·¯ç”±è·³è½¬æ–¹å¼</h3><h3 id="axioså®ç°åŸç†ï¼ˆé‡åˆ°é200æ€ä¹ˆæ•è·err"><a href="#axioså®ç°åŸç†ï¼ˆé‡åˆ°é200æ€ä¹ˆæ•è·err" class="headerlink" title="axioså®ç°åŸç†ï¼ˆé‡åˆ°é200æ€ä¹ˆæ•è·err"></a>axioså®ç°åŸç†ï¼ˆé‡åˆ°é200æ€ä¹ˆæ•è·err</h3><h3 id="å°è£…axios"><a href="#å°è£…axios" class="headerlink" title="å°è£…axios"></a>å°è£…axios</h3><h3 id="ä¸ºä»€ä¹ˆæœ‰ä¸€ç§è¯´æ³•æ˜¯vueé€‚åˆä¸­å°å‹é¡¹ç›®"><a href="#ä¸ºä»€ä¹ˆæœ‰ä¸€ç§è¯´æ³•æ˜¯vueé€‚åˆä¸­å°å‹é¡¹ç›®" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰ä¸€ç§è¯´æ³•æ˜¯vueé€‚åˆä¸­å°å‹é¡¹ç›®"></a>ä¸ºä»€ä¹ˆæœ‰ä¸€ç§è¯´æ³•æ˜¯vueé€‚åˆä¸­å°å‹é¡¹ç›®</h3><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="Diff-amp-amp-Reconciliation-ç®—æ³•"><a href="#Diff-amp-amp-Reconciliation-ç®—æ³•" class="headerlink" title="Diff &amp;&amp; Reconciliation(?)ç®—æ³•"></a>Diff &amp;&amp; Reconciliation(?)ç®—æ³•</h3><p>ä¼ ç»ŸWebåº”ç”¨å¾€å¾€ä¼šæŠŠå®æ—¶æ›´æ–°çš„æ•°æ®å˜åŒ–æ›´æ–°åˆ°é¡µé¢ä¸Šï¼Œä¹Ÿå°±æ˜¯å¾®å°å˜åŠ¨å³è¦é‡æ–°æ¸²æŸ“DOMã€‚</p><p>è€ŒReactè™šæ‹ŸDOMæ˜¯å°†å®šé‡å†…æ‰€æœ‰çš„æ“ä½œç´¯åŠ èµ·æ¥ï¼Œç»Ÿè®¡è®¡ç®—æ‰€æœ‰å˜åŒ–ï¼Œç„¶åç»Ÿä¸€æ›´æ–°ä¸€æ¬¡DOMã€‚</p><p>Reactåˆ†åˆ«å¯¹ tree diff   component diff  element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/ae909a6c9cc046f584c9b95a6a555371tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="03.jpg"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/fbfadec74b74493bb4b4deb6b9b971batplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="04.png"></p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/926e09ea740f44048f057361d28f5a79tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="05.png"></p><h3 id="âœ…Reactè®¾è®¡å“²å­¦"><a href="#âœ…Reactè®¾è®¡å“²å­¦" class="headerlink" title="âœ…Reactè®¾è®¡å“²å­¦"></a>âœ…Reactè®¾è®¡å“²å­¦</h3><p>åœ¨å®ç°ä¸€ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œå…ˆå°†åŠŸèƒ½æ ¹æ®åŸå‹æ‹†åˆ†æˆä¸€å¥—ç»„ä»¶ï¼›</p><p>å†ä½¿ç”¨Reactå®ç°å„ä¸ªç»„ä»¶çš„é™æ€ï¼Œä½¿ç”¨è‡ªä¸Šè€Œä¸‹å•é¡¹æ•°æ®æµæ–¹å¼è¿›è¡Œæ•°æ®çš„åˆæ­¥ä¼ é€’ï¼›</p><p>ç„¶åï¼Œæ‰¾å‡ºUIäº¤äº’æ‰€éœ€çš„ç²¾ç®€ä¸”å®Œæ•´çš„stateï¼Œç¡®ä¿æ•°æ®DRY(Donâ€™t repeat yourself)ï¼›</p><p>â€‹    æˆ‘ä»¬å¯ä»¥å…ˆåˆ†æç»„ä»¶ä¸­è¦ç”¨åˆ°/æ“ä½œå“ªäº›æ•°æ®ï¼Œç„¶ååŠ ä»¥åˆ¤å®šâ†“</p><ul><li>ä¸æ˜¯ä»çˆ¶ç»„ä»¶æ‹¿åˆ°çš„</li><li>ä¸æ˜¯ä¸€ç›´ä¸å˜çš„</li><li>ä¸æ˜¯åŸºäºå·²å­˜åœ¨ä¸ç»„ä»¶ä¸­çš„stateæˆ–propsæ‹¿åˆ°çš„</li></ul><p>æ‰¾å‡ºstateåˆç†çš„å­˜æ”¾ä½ç½®ï¼›</p><p>â€‹    éªŒè¯æ¯ä¸€ä¸ªåŸºäºç‰¹å®šstateæ¸²æŸ“çš„ä½ç½®ï¼Œæ‰¾å®ƒä»¬å…±åŒçš„çˆ¶ç»„ä»¶ï¼Œè€ƒè™‘å¦‚ä½•æ”¾ç½®â†“ï¼Œç”¨useStateåˆ›å»º</p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€‰æ‹©å…±åŒçš„çˆ¶ç»„ä»¶</li><li>çˆ¶ç»„ä»¶çš„ä¸Šå±‚ä¹Ÿå¯</li><li>æ‰¾ä¸åˆ°ä¸€ä¸ªæœ‰æ„ä¹‰æ‹¥æœ‰è¿™ä¸ªstateçš„åœ°æ–¹ï¼Œå•ç‹¬åˆ›å»ºä¸€ä¸ªç»„ä»¶ç®¡ç†è¿™ä¸ªstateï¼Œå¹¶å°†è¯¥ç»„ä»¶æ·»åŠ åˆ°å®ƒä»¬çˆ¶ç»„ä»¶ä¸Šå±‚</li></ul><p>æ·»åŠ åå‘æ•°æ®æµï¼Œå®ç°åŠ¨ä½œå“åº”ï¼›</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230805140613374.png" alt="image-20230805140613374" style="zoom: 67%;" /><h3 id="Reactä¸­çš„ä¸¤ç§æ¨¡å‹æ•°æ®"><a href="#Reactä¸­çš„ä¸¤ç§æ¨¡å‹æ•°æ®" class="headerlink" title="Reactä¸­çš„ä¸¤ç§æ¨¡å‹æ•°æ®"></a>Reactä¸­çš„ä¸¤ç§æ¨¡å‹æ•°æ®</h3><p>propsï¼šä¼ é€’çš„å‚æ•°</p><p>stateï¼šç»„ä»¶çš„å†…å­˜ï¼Œè¿½è¸ªäº¤äº’</p><p>ä¸¤è€…å¯é…åˆ</p><h3 id="Diff"><a href="#Diff" class="headerlink" title="Diff"></a>Diff</h3><h3 id="react-a-b-c-æ”¹å˜cçš„å€¼ä¼šè§¦å‘æ›´æ–°å—"><a href="#react-a-b-c-æ”¹å˜cçš„å€¼ä¼šè§¦å‘æ›´æ–°å—" class="headerlink" title="react a.b.c æ”¹å˜cçš„å€¼ä¼šè§¦å‘æ›´æ–°å—"></a>react a.b.c æ”¹å˜cçš„å€¼ä¼šè§¦å‘æ›´æ–°å—</h3><h3 id="ç”Ÿå‘½å‘¨æœŸé’©å­-1"><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­-1" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­"></a>ç”Ÿå‘½å‘¨æœŸé’©å­</h3><h3 id="ç»„ä»¶é€šä¿¡-1"><a href="#ç»„ä»¶é€šä¿¡-1" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h3><h3 id="HOOKå‡ºç°åŸå› "><a href="#HOOKå‡ºç°åŸå› " class="headerlink" title="HOOKå‡ºç°åŸå› "></a>HOOKå‡ºç°åŸå› </h3><h3 id="HOOKåº”ç”¨åœºæ™¯"><a href="#HOOKåº”ç”¨åœºæ™¯" class="headerlink" title="HOOKåº”ç”¨åœºæ™¯"></a>HOOKåº”ç”¨åœºæ™¯</h3><h3 id="ReactHOOKä¸ºä»€ä¹ˆè¦åœ¨æœ€å¤–å±‚ä½¿ç”¨ï¼Ÿ"><a href="#ReactHOOKä¸ºä»€ä¹ˆè¦åœ¨æœ€å¤–å±‚ä½¿ç”¨ï¼Ÿ" class="headerlink" title="ReactHOOKä¸ºä»€ä¹ˆè¦åœ¨æœ€å¤–å±‚ä½¿ç”¨ï¼Ÿ"></a>ReactHOOKä¸ºä»€ä¹ˆè¦åœ¨æœ€å¤–å±‚ä½¿ç”¨ï¼Ÿ</h3><h3 id="HOOKä¼˜åŠ¿å’ŒåŠ£åŠ¿"><a href="#HOOKä¼˜åŠ¿å’ŒåŠ£åŠ¿" class="headerlink" title="HOOKä¼˜åŠ¿å’ŒåŠ£åŠ¿"></a>HOOKä¼˜åŠ¿å’ŒåŠ£åŠ¿</h3><h3 id="fiberæ¶æ„å‡ºç°çš„åŸå› "><a href="#fiberæ¶æ„å‡ºç°çš„åŸå› " class="headerlink" title="fiberæ¶æ„å‡ºç°çš„åŸå› "></a>fiberæ¶æ„å‡ºç°çš„åŸå› </h3><h3 id="reactè°ƒåº¦å™¨æ€ä¹ˆåˆ¤æ–­äº‹ä»¶ä¼˜å…ˆçº§"><a href="#reactè°ƒåº¦å™¨æ€ä¹ˆåˆ¤æ–­äº‹ä»¶ä¼˜å…ˆçº§" class="headerlink" title="reactè°ƒåº¦å™¨æ€ä¹ˆåˆ¤æ–­äº‹ä»¶ä¼˜å…ˆçº§"></a>reactè°ƒåº¦å™¨æ€ä¹ˆåˆ¤æ–­äº‹ä»¶ä¼˜å…ˆçº§</h3><h3 id="react-thunkçš„åŸç†"><a href="#react-thunkçš„åŸç†" class="headerlink" title="react-thunkçš„åŸç†"></a>react-thunkçš„åŸç†</h3><h3 id="useReducerçš„ä½¿ç”¨åœºæ™¯"><a href="#useReducerçš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="useReducerçš„ä½¿ç”¨åœºæ™¯"></a>useReducerçš„ä½¿ç”¨åœºæ™¯</h3><h3 id="useMemoåº•å±‚åŸç†"><a href="#useMemoåº•å±‚åŸç†" class="headerlink" title="useMemoåº•å±‚åŸç†"></a>useMemoåº•å±‚åŸç†</h3><h3 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h3><h3 id="è·¯ç”±æ‡’åŠ è½½"><a href="#è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½"></a>è·¯ç”±æ‡’åŠ è½½</h3><h3 id="reactä¸ºä»€ä¹ˆè®¾è®¡åˆæˆäº‹ä»¶"><a href="#reactä¸ºä»€ä¹ˆè®¾è®¡åˆæˆäº‹ä»¶" class="headerlink" title="reactä¸ºä»€ä¹ˆè®¾è®¡åˆæˆäº‹ä»¶"></a>reactä¸ºä»€ä¹ˆè®¾è®¡åˆæˆäº‹ä»¶</h3><h2 id="SPA-amp-MPA"><a href="#SPA-amp-MPA" class="headerlink" title="SPA&amp;MPA"></a>SPA&amp;MPA</h2><p>é€šè¿‡åŠ¨æ€é‡å†™å½“å‰é¡µé¢æ¥ä¸ç”¨æˆ·äº¤äº’ï¼Œè€Œéä»æœåŠ¡å™¨ä¸­é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚è¿™ç§æ–¹æ³•é¿å…äº†é¡µé¢ä¹‹é—´åˆ‡æ¢æ‰“æ–­ç”¨æˆ·ä½“éªŒï¼Œä½¿åº”ç”¨ç¨‹åºæ›´åƒæ˜¯ä¸ªæ¡Œé¢åº”ç”¨ç¨‹åºã€‚</p><h3 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h3><p>ç‰¹ç‚¹</p><ul><li>å•é¡µé¢ï¼šç”¨æˆ·åœ¨æµè§ˆè¯¥é¡µé¢çš„æ—¶å€™ä¸éœ€è¦åŠ è½½æ–°çš„é¡µé¢ï¼Œè€Œæ˜¯é€šè¿‡JSåŠ¨æ€åŠ è½½èƒ½å®¹å¹¶æ›´æ–°é¡µé¢</li><li>æ— åˆ·æ–°å¯¼èˆªï¼šç”¨æˆ·äº¤äº’é€šå¸¸ä¸ä¼šè§¦å‘æ•´ä¸ªé¡µé¢çš„åˆ·æ–°ï¼Œè€Œæ˜¯è·å–æ•°æ®åå¯¹å½“å‰é¡µé¢çš„å†…å®¹è¿›è¡Œæ›´æ–°</li><li>å‰ç«¯è·¯ç”±ï¼š</li></ul><p>ä¼˜ç‚¹</p><p>ç¼ºç‚¹</p><h2 id="æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æœåŠ¡ç«¯æ¸²æŸ“"></a>æœåŠ¡ç«¯æ¸²æŸ“</h2><p>æœåŠ¡ç«¯æ¸²æŸ“SSR-Server Side Rendering</p><h3 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>æ˜¯ä¸€ç§å‰ç«¯å¼€å‘æŠ€æœ¯ï¼Œé€šè¿‡åœ¨æœåŠ¡å™¨è¿›è¡Œé¡µé¢åˆå§‹æ¸²æŸ“æ¥æé«˜æ€§èƒ½ã€‚</p><p>æ ¸å¿ƒæ€æƒ³ï¼šå°†ç½‘é¡µçš„åˆå§‹æ¸²æŸ“å·¥ä½œä»å®¢æˆ·ç«¯è½¬ç§»åˆ°æœåŠ¡ç«¯ã€‚</p><p>ä¸å®¢æˆ·ç«¯çš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ç›¸æ¯”ï¼ŒSSRä¼˜åŠ¿åœ¨äºï¼š</p><ul><li><strong>æ›´å¿«çš„é¦–å±åŠ è½½</strong>ï¼š<ul><li>æœåŠ¡ç«¯æ¸²æŸ“çš„HTMLæ— éœ€ç­‰åˆ°æ‰€æœ‰JSä¸‹è½½æ‰§è¡Œå®Œæ‰æ˜¾ç¤º</li><li>æ•°æ®è·å–è¿‡ç¨‹åœ¨é¦–æ¬¡è®¿é—®æ—¶äºæœåŠ¡ç«¯å®Œæˆï¼Œæ¯”åœ¨å®¢æˆ·ç«¯èƒ½æœ‰æ›´å¿«çš„æ•°æ®åº“è¿æ¥</li></ul></li><li><strong>ç»Ÿä¸€çš„å¿ƒæ™ºæ¨¡å‹</strong>ï¼šç›¸åŒçš„è¯­è¨€ã€å£°æ˜å¼ã€é¢å‘ç»„ä»¶çš„å¿ƒæ™ºæ¨¡å‹ï¼Œæ— éœ€å‰åæ¥å›è½¬æ¢</li><li><strong>æ›´å¥½çš„SEO</strong>ï¼šçˆ¬è™«å¯ä»¥ç›´æ¥çœ‹åˆ°å®Œå…¨æ¸²æŸ“çš„é¡µé¢</li></ul><h3 id="éœ€è¦è€ƒè™‘çš„å› ç´ "><a href="#éœ€è¦è€ƒè™‘çš„å› ç´ " class="headerlink" title="éœ€è¦è€ƒè™‘çš„å› ç´ "></a>éœ€è¦è€ƒè™‘çš„å› ç´ </h3><ul><li>åœ¨å¼€å‘ä¸­ï¼Œä¸€äº›å¤–éƒ¨åº“éœ€è¦ç‰¹æ®Šå¤„ç†æ‰èƒ½åœ¨SSRä¸­è¿è¡Œï¼›æµè§ˆå™¨ç«¯ä¸€äº›ä»£ç åªèƒ½åœ¨æŸäº›ç‰¹å®šé’©å­ä¸­ä½¿ç”¨</li><li>æ„å»ºé…ç½®å’Œéƒ¨ç½²éœ€è¦æ”¯æŒSSR</li><li>è·Ÿé«˜çš„æœåŠ¡ç«¯è´Ÿè½½ï¼Œæ¸²æŸ“ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æ¯”ä»…æ‰˜ç®¡é™æ€èµ„æºæ›´åŠ å ç”¨CPU</li></ul><h3 id="SSRå’ŒSSG"><a href="#SSRå’ŒSSG" class="headerlink" title="SSRå’ŒSSG"></a>SSRå’ŒSSG</h3><p>MPA</p><p>é™æ€ç«™ç‚¹ç”ŸæˆSSG-Static Site Generationï¼Œè¢«ç§°ä¸ºé¢„æ¸²æŸ“ã€‚å°†åœ¨æ„å»ºä¹‹å‰å°±çŸ¥é“çš„æ•°æ®å’Œé¡µé¢è¿›è¡Œæ¸²æŸ“æˆé™æ€htmlç„¶åæ”¾åœ¨æœåŠ¡å™¨æ‰˜ç®¡ã€‚</p><p>å’ŒSSRä¸€æ ·é¦–å±åŠ è½½é€Ÿåº¦éƒ½å¾ˆå¿«ã€‚è€Œä¸”æ¯”SSRèŠ±é”€æ›´å°ï¼Œæ›´å®¹æ˜“éƒ¨ç½²â€”â€”é™æ€ã€‚</p><h3 id="å…³äºNext-js"><a href="#å…³äºNext-js" class="headerlink" title="å…³äºNext.js"></a>å…³äºNext.js</h3><p>æ”¯æŒSSRä¹Ÿæ”¯æŒSSG</p><p>é™æ€ç”Ÿæˆ</p><ul><li>è¥é”€é¡µé¢</li><li>äº§å“åˆ—è¡¨</li><li>åšå®¢ç®€å†</li><li>å¸®åŠ©æ–‡æ¡£</li></ul><p>å½“ä»…ä½¿ç”¨é™æ€ç”Ÿæˆï¼Œé‡åˆ°éœ€è¦ç°å®è¯·æ±‚åæ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥å°†é™æ€ç”Ÿæˆå’Œå®¢æˆ·ç«¯æ¸²æŸ“ç»“åˆï¼Œæˆ–è€…ä½¿ç”¨æœåŠ¡å™¨æ¸²æŸ“ã€‚</p><p>æœåŠ¡ç«¯ç«¯æ¸²æŸ“</p><p>åœ¨æ¯æ¬¡é¡µé¢è¯·æ±‚æ—¶é‡æ–°ç”Ÿæˆé¡µé¢çš„HTMLã€‚</p><p>è¿™ä¸œè¥¿æ”¾åœ¨é¡¹ç›®é‡Œé˜è¿°å§ï¼Œå†…å®¹å¾ˆå¤šã€‚ã€‚ã€‚</p><h2 id="mvc-gt-mvvmçš„è¿‡æ¸¡ï¼Œå¯¹æ¯”mvcä¸mvvm"><a href="#mvc-gt-mvvmçš„è¿‡æ¸¡ï¼Œå¯¹æ¯”mvcä¸mvvm" class="headerlink" title="mvc-&gt;mvvmçš„è¿‡æ¸¡ï¼Œå¯¹æ¯”mvcä¸mvvm"></a>mvc-&gt;mvvmçš„è¿‡æ¸¡ï¼Œå¯¹æ¯”mvcä¸mvvm</h2><h2 id="requireå’Œimportçš„åŒºåˆ«"><a href="#requireå’Œimportçš„åŒºåˆ«" class="headerlink" title="requireå’Œimportçš„åŒºåˆ«"></a>requireå’Œimportçš„åŒºåˆ«</h2><h1 id="ğŸ› ï¸å‰ç«¯å·¥ç¨‹åŒ–"><a href="#ğŸ› ï¸å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="ğŸ› ï¸å‰ç«¯å·¥ç¨‹åŒ–"></a>ğŸ› ï¸å‰ç«¯å·¥ç¨‹åŒ–</h1><h2 id="pnpmè§£å†³äº†npmä»€ä¹ˆç—›ç‚¹"><a href="#pnpmè§£å†³äº†npmä»€ä¹ˆç—›ç‚¹" class="headerlink" title="pnpmè§£å†³äº†npmä»€ä¹ˆç—›ç‚¹"></a>pnpmè§£å†³äº†npmä»€ä¹ˆç—›ç‚¹</h2><h2 id="Webpackå’ŒViteæ‰“åŒ…çš„åŒºåˆ«"><a href="#Webpackå’ŒViteæ‰“åŒ…çš„åŒºåˆ«" class="headerlink" title="Webpackå’ŒViteæ‰“åŒ…çš„åŒºåˆ«"></a>Webpackå’ŒViteæ‰“åŒ…çš„åŒºåˆ«</h2><h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><h3 id="webpack-tree-shakingçš„åŸç†"><a href="#webpack-tree-shakingçš„åŸç†" class="headerlink" title="webpack tree shakingçš„åŸç†"></a>webpack tree shakingçš„åŸç†</h3><h3 id="webpackå¸¸ç”¨é…ç½®ï¼Ÿ"><a href="#webpackå¸¸ç”¨é…ç½®ï¼Ÿ" class="headerlink" title="webpackå¸¸ç”¨é…ç½®ï¼Ÿ"></a>webpackå¸¸ç”¨é…ç½®ï¼Ÿ</h3><h3 id="loaderæ˜¯æ€ä¹ˆæ ·çš„æœºåˆ¶ï¼Ÿ"><a href="#loaderæ˜¯æ€ä¹ˆæ ·çš„æœºåˆ¶ï¼Ÿ" class="headerlink" title="loaderæ˜¯æ€ä¹ˆæ ·çš„æœºåˆ¶ï¼Ÿ"></a>loaderæ˜¯æ€ä¹ˆæ ·çš„æœºåˆ¶ï¼Ÿ</h3><h3 id="webpackçš„å‡ºç°è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#webpackçš„å‡ºç°è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="webpackçš„å‡ºç°è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>webpackçš„å‡ºç°è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><h2 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h2><h3 id="ä¸ºä»€ä¹ˆViteæ›´å¿«"><a href="#ä¸ºä»€ä¹ˆViteæ›´å¿«" class="headerlink" title="ä¸ºä»€ä¹ˆViteæ›´å¿«"></a>ä¸ºä»€ä¹ˆViteæ›´å¿«</h3><h1 id="ğŸ”®Git"><a href="#ğŸ”®Git" class="headerlink" title="ğŸ”®Git"></a>ğŸ”®Git</h1><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><p>åŸºæœ¬ä½¿ç”¨ï¼š</p><ul><li><p>git commit</p></li><li><p>git checkout -b åˆ†æ”¯åï¼Œåˆ›å»ºåˆ†æ”¯</p></li><li><p>git merge åˆ†æ”¯ï¼Œç”Ÿæˆä¸€æ¬¡æ–°çš„åˆå¹¶commitåœ¨åˆ†æ”¯ä¸Š</p></li><li><p>git rebase åˆ†æ”¯ï¼Œå°†åˆ†æ”¯åˆå¹¶åˆ°æŒ‡å®šåˆ†æ”¯</p></li></ul><p>ç›¸å¯¹å¼•ç”¨ï¼š</p><ul><li><p>git checkout æäº¤è®°å½•ï¼Œä½¿å¾—HEADåˆ†ç¦»å‡ºæ¥</p></li><li><p>git checkout åˆ†æ”¯^ï¼Œè·³åˆ°åˆ†æ”¯çš„parentæäº¤ç‚¹</p></li><li><p>git checkout HEAD^ï¼Œè·³åˆ°HEADèŠ‚ç‚¹çš„parentæäº¤ç‚¹</p></li><li><p>git checkout HEAD~3ï¼Œå‘ä¸Šè·³äº†ä¸‰æ¬¡</p></li><li><p>git branch -f åˆ†æ”¯ HEAD~3ï¼Œå¼ºåˆ¶ä¿®æ”¹åˆ†æ”¯ä½ç½®åˆ°ç¬¬ä¸‰çº§parentæäº¤</p></li></ul><p>æ’¤é”€å˜æ›´</p><ul><li><p>git reset HEAD~1ï¼Œæ”¹å†™å†å²ï¼Œå‘ä¸Šç§»åŠ¨åˆ†æ”¯ï¼Œæ’¤é”€ä¸€æ¬¡å˜æ›´</p></li><li><p>git revert HEADï¼Œæ’¤é”€ä¸€æ¬¡æ›´æ”¹å¹¶åˆ†äº«ç»™åˆ«äºº</p></li></ul><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720213417014.png" alt="image-20230720213417014" style="zoom: 50%;" /><p>æ•´ç†æäº¤è®°å½•</p><ul><li>git cherry-pick</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720214715356.png" alt="image-20230720214715356" style="zoom:50%;" /> â†’ <img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720214740339.png" alt="image-20230720214740339" style="zoom:50%;" /></p><ul><li>äº¤äº’å¼rebase  git rebase â€“interactive(-i)</li></ul><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215402321.png" alt="image-20230721215402321" style="zoom:50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215422110.png" alt="image-20230721215422110" style="zoom: 50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215440497.png" alt="image-20230721215440497" style="zoom:50%;" /></p><h2 id="git-merge-main-å’Œ-git-rebase-mainçš„åŒºåˆ«"><a href="#git-merge-main-å’Œ-git-rebase-mainçš„åŒºåˆ«" class="headerlink" title="git merge main å’Œ git rebase mainçš„åŒºåˆ«"></a>git merge main å’Œ git rebase mainçš„åŒºåˆ«</h2><h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p>mergeä¼š<strong>åœ¨featureåˆ†æ”¯ä¸­æ–°å¢ä¸€ä¸ªæ–°çš„merge commit</strong>ï¼Œç„¶åå°†ä¸¤ä¸ªåˆ†æ”¯çš„å†å²è”ç³»åœ¨ä¸€èµ·ã€‚</p><p>æ˜¯ä¸€ç§<strong>éç ´åæ€§çš„æ“ä½œ</strong>ï¼Œå¯¹ç°æœ‰çš„åˆ†æ”¯ä¸ä¼šé€ æˆä»»ä½•æ–¹å¼çš„æ”¹å˜ã€‚</p><p>åˆ†æ”¯æ¯æ¬¡éœ€è¦åˆå¹¶ä¸Šæ¸¸æ›´æ”¹æ—¶ï¼Œå®ƒéƒ½äº§ç”Ÿä¸€ä¸ªé¢å¤–çš„å’Œå¹¶æäº¤ã€‚</p><p><strong>å¦‚æœmainåˆ†æ”¯æäº¤ååˆ†æ´»è·ƒï¼Œé‚£ä¹ˆå¯èƒ½ä¼šä¸¥é‡æ±¡æŸ“featureåˆ†æ”¯è®°å½•</strong>ï¼Œå¯ä»¥ä½¿ç”¨git logæ¥è§£å†³ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/S5YmfCK7wW1JxTB.png" alt="git-merge" style="zoom: 33%;" /><h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><p>rebaseä¼šå°†æ•´ä¸ªfeatureåˆ†æ”¯ç§»åŠ¨åˆ°mainåˆ†æ”¯çš„é¡¶ç«¯ï¼Œæœ‰æ•ˆæ•´åˆäº†æ‰€æœ‰mainåˆ†æ”¯çš„æäº¤ã€‚</p><p>rebaseé€šè¿‡ä¸ºåŸå§‹åˆ†æ”¯ä¸­æ¯ä¸ªæäº¤åˆ›å»ºå…¨æ–°commitsæ¥é‡å†™é¡¹ç›®å†å²è®°å½•ã€‚</p><p>rebaseèƒ½ä½¿å¾—è·å¾—æ›´æ¸…æ™°çš„é¡¹ç›®å†å²ï¼Œæ¶ˆé™¤äº†git mergeé‚£æ ·ä¸å¿…è¦çš„å’Œå¹¶æäº¤ã€‚</p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/F1qIGKTNDW6aRul.png" alt="git-rebase" style="zoom:33%;" /><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720203517949.png" alt="image-20230720203517949" style="zoom: 50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720203413810.png" alt="image-20230720203413810" style="zoom: 50%;" /></p><p>rebase rebase featureï¼Œç­‰æ•ˆä¸åˆ›å»ºäº†æ–°æäº¤ï¼Œä¸”è€çš„æäº¤åªæ˜¯ä¸èƒ½å†è¢«è®¿é—®ä½¿ç”¨</p><h1 id="ğŸ§°é¡¹ç›®"><a href="#ğŸ§°é¡¹ç›®" class="headerlink" title="ğŸ§°é¡¹ç›®"></a>ğŸ§°é¡¹ç›®</h1><h2 id="å·¥ä½œç»å†"><a href="#å·¥ä½œç»å†" class="headerlink" title="å·¥ä½œç»å†"></a>å·¥ä½œç»å†</h2><h3 id="å®¢æˆ·ç«¯ç›´ä¼ "><a href="#å®¢æˆ·ç«¯ç›´ä¼ " class="headerlink" title="å®¢æˆ·ç«¯ç›´ä¼ "></a><a href="https://help.aliyun.com/zh/oss/use-cases/client-direct-transmission-overview">å®¢æˆ·ç«¯ç›´ä¼ </a></h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/p704084.png" alt="image.png"></p><p>å¥½å¤„ï¼šå°‘åœ¨ç½‘ç»œä¸­ä¼ è¾“ä¸€æ¬¡ï¼ŒèŠ‚çº¦å¼€é”€ã€‚</p><p>å®ç°ï¼š</p><ul><li>è·¨åŸŸ</li><li>å®‰å…¨æˆæƒ<ul><li>æœåŠ¡ç«¯STSä¸´æ—¶è®¿é—®å‡­è¯ï¼šé€‚ç”¨äºåŸºäºåˆ†ç‰‡ä¸Šä¼ å¤§æ–‡ä»¶ã€åŸºäºåˆ†ç‰‡æ–­ç‚¹ç»­ä¼ åœºæ™¯ï¼Œéœ€è¦è¿›è¡Œç¼“å­˜å’Œåˆ·æ–°ä¼˜åŒ–ï¼Œä¸è¦é¢‘ç¹è°ƒç”¨ã€‚</li><li>æœåŠ¡ç«¯ç”ŸæˆPostç­¾åå’ŒPostPolicyï¼šé€‚åˆé™åˆ¶å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶å¤§å°ç±»å‹ç­‰ï¼Œä¸æ”¯æŒåˆ†ç‰‡ä¸Šä¼ å¤§æ–‡ä»¶ã€åŸºäºåˆ†ç‰‡æ–­ç‚¹ç»­ä¼ åœºæ™¯ã€‚</li><li>æœåŠ¡ç«¯ç”Ÿæˆç­¾åURLï¼šç®€å•ä¸Šä¼ ï¼Œä¸é€‚åˆå¤§æ–‡ä»¶ã€åŸºäºåˆ†ç‰‡æ–­ç‚¹ç»­ä¼ åœºæ™¯ã€‚</li></ul></li></ul><p>TSç›¸å…³</p><p>electron</p><h2 id="æŠ€æœ¯éš¾ç‚¹"><a href="#æŠ€æœ¯éš¾ç‚¹" class="headerlink" title="æŠ€æœ¯éš¾ç‚¹"></a>æŠ€æœ¯éš¾ç‚¹</h2><h3 id="è·¯ç”±äºŒæ¬¡å°è£…"><a href="#è·¯ç”±äºŒæ¬¡å°è£…" class="headerlink" title="è·¯ç”±äºŒæ¬¡å°è£…"></a>è·¯ç”±äºŒæ¬¡å°è£…</h3><h3 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h3><h3 id="çŠ¶æ€ç®¡ç†-1"><a href="#çŠ¶æ€ç®¡ç†-1" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h3><h3 id="å‰ç«¯å·¥ç¨‹åŒ–"><a href="#å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–"></a>å‰ç«¯å·¥ç¨‹åŒ–</h3><h3 id="ä½¿ç”¨Prismaç®€åŒ–æ•°æ®åº“æ“ä½œ"><a href="#ä½¿ç”¨Prismaç®€åŒ–æ•°æ®åº“æ“ä½œ" class="headerlink" title="ä½¿ç”¨Prismaç®€åŒ–æ•°æ®åº“æ“ä½œ"></a>ä½¿ç”¨Prismaç®€åŒ–æ•°æ®åº“æ“ä½œ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install prisma --save--dev</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .env.development.local</span></span><br><span class="line"></span><br><span class="line">DATABASE_URL=<span class="string">&quot;mongodb+srv://....&quot;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/db.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">PrismaClient</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@prisma/client&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prisma = <span class="keyword">new</span> <span class="title class_">PrismaClient</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> db = prisma;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// prisma/schema.prisma</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“ç®€å•é…ç½®</span></span><br><span class="line">datasource db &#123;</span><br><span class="line">  provider = <span class="string">&quot;mongodb&quot;</span></span><br><span class="line">  url      = <span class="title function_">env</span>(<span class="string">&quot;DATABASE_URL&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">generator client &#123;</span><br><span class="line">  provider = <span class="string">&quot;prisma-client-js&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹åº”model-å…³é”®ä¸€æ­¥</span></span><br><span class="line"><span class="comment">// åº•å±‚æ•°æ®åº“è¡¨</span></span><br><span class="line"><span class="comment">// ä½œä¸ºç”ŸæˆPrismaå®¢æˆ·ç«¯APIçš„åŸºç¡€</span></span><br><span class="line">model <span class="title class_">Account</span> &#123;</span><br><span class="line">  id                <span class="title class_">String</span>  @id @<span class="title function_">default</span>(<span class="title function_">auto</span>()) @<span class="title function_">map</span>(<span class="string">&quot;_id&quot;</span>) @db.<span class="property">ObjectId</span></span><br><span class="line">  userId            <span class="title class_">String</span>  @db.<span class="property">ObjectId</span></span><br><span class="line">  type              <span class="title class_">String</span></span><br><span class="line">  provider          <span class="title class_">String</span></span><br><span class="line">  providerAccountId <span class="title class_">String</span></span><br><span class="line">  refresh_token     <span class="title class_">String</span>?</span><br><span class="line">  access_token      <span class="title class_">String</span>?</span><br><span class="line">  expires_at        <span class="title class_">Int</span>?</span><br><span class="line">  token_type        <span class="title class_">String</span>?</span><br><span class="line">  scope             <span class="title class_">String</span>?</span><br><span class="line">  idToken           <span class="title class_">String</span>?</span><br><span class="line">  session_state     <span class="title class_">String</span>?</span><br><span class="line"></span><br><span class="line">  user <span class="title class_">User</span> @<span class="title function_">relation</span>(<span class="attr">fields</span>: [userId], <span class="attr">references</span>: [id], <span class="attr">onDelete</span>: <span class="title class_">Cascade</span>)</span><br><span class="line"></span><br><span class="line">  @@<span class="title function_">unique</span>([provider, providerAccountId])</span><br><span class="line">  @@<span class="title function_">map</span>(<span class="string">&quot;accounts&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CRUD</span></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">email</span>: <span class="string">&#x27;elsa@prisma.io&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Elsa Prisma&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">findUnique</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;60d5922d00581b8f0062e3a8&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> users = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">findMany</span>()<span class="comment">// findFirst()</span></span><br><span class="line"><span class="keyword">const</span> updateUser = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">update</span>(&#123;<span class="comment">// updateMany()upsert()</span></span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">email</span>: <span class="string">&#x27;viola@prisma.io&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Viola the Magnificent&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> deletePosts = prisma.<span class="property">post</span>.<span class="title function_">deleteMany</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">authorId</span>: <span class="number">7</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> deleteUser = prisma.<span class="property">user</span>.<span class="title function_">delete</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">7</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> transaction = <span class="keyword">await</span> prisma.$transaction([deletePosts, deleteUser])</span><br></pre></td></tr></table></figure><h3 id="NextAuth-jsç®€åŒ–ç”¨æˆ·ç™»å½•è®¤è¯"><a href="#NextAuth-jsç®€åŒ–ç”¨æˆ·ç™»å½•è®¤è¯" class="headerlink" title="NextAuth.jsç®€åŒ–ç”¨æˆ·ç™»å½•è®¤è¯"></a>NextAuth.jsç®€åŒ–ç”¨æˆ·ç™»å½•è®¤è¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install next-auth</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/auth.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; getServerSession &#125; <span class="keyword">from</span> <span class="string">&quot;next-auth&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">GitHub</span> <span class="keyword">from</span> <span class="string">&quot;next-auth/providers/github&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">PrismaAdapter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@auth/prisma-adapter&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; db &#125; <span class="keyword">from</span> <span class="string">&quot;./db&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> authConfig = &#123;</span><br><span class="line">  <span class="attr">adapter</span>: <span class="title class_">PrismaAdapter</span>(db),</span><br><span class="line">  <span class="attr">session</span>: &#123;</span><br><span class="line">    <span class="attr">strategy</span>: <span class="string">&quot;jwt&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">providers</span>: [</span><br><span class="line">    <span class="title class_">GitHub</span>(&#123;</span><br><span class="line">      <span class="attr">clientId</span>: process.<span class="property">env</span>.<span class="property">AUTH_GITHUB_ID</span>,</span><br><span class="line">      <span class="attr">clientSecret</span>: process.<span class="property">env</span>.<span class="property">AUTH_GITHUB_SECRET</span>,</span><br><span class="line">      <span class="attr">httpOptions</span>: &#123;</span><br><span class="line">        <span class="comment">// ä»¥é˜²ç½‘ç»œä¸å¥½è¶…æ—¶æŠ¥é”™</span></span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">1000</span> * <span class="number">5</span> * <span class="number">1</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">pages</span>: &#123;</span><br><span class="line">    <span class="attr">signIn</span>: <span class="string">&quot;/signin&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">callbacks</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">jwt</span>(<span class="params">&#123; token, user &#125;</span>) &#123; <span class="comment">//json web token</span></span><br><span class="line">      <span class="keyword">const</span> result = <span class="keyword">await</span> db.<span class="property">user</span>.<span class="title function_">findUnique</span>(&#123;</span><br><span class="line">        <span class="attr">where</span>: &#123;</span><br><span class="line">          <span class="attr">email</span>: token.<span class="property">email</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">        token.<span class="property">id</span> = user.<span class="property">id</span>;</span><br><span class="line">        <span class="keyword">return</span> token;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">id</span>: result.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">name</span>: result.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">email</span>: result.<span class="property">email</span>,</span><br><span class="line">        <span class="attr">image</span>: result.<span class="property">image</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">session</span>(<span class="params">&#123; session, token &#125;</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!!token) &#123;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">id</span> = token.<span class="property">id</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">name</span> = token.<span class="property">name</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">email</span> = token.<span class="property">email</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">image</span> = token.<span class="property">image</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> session;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useServerSession</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">getServerSession</span>(authConfig);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// auth/[...nextauth]/route.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NextAuth</span> <span class="keyword">from</span> <span class="string">&quot;next-auth&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; authConfig &#125; <span class="keyword">from</span> <span class="string">&quot;@/lib/auth&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// const handler = async (request, response) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   // åœ¨è¿™é‡Œå¯ä»¥è¿›ä¸€æ­¥å¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œå¤„ç†</span></span><br><span class="line"><span class="comment">//   return await NextAuth(request, response, authConfig);</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> handler = <span class="title class_">NextAuth</span>(authConfig);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; handler <span class="keyword">as</span> <span class="variable constant_">GET</span>, handler <span class="keyword">as</span> <span class="variable constant_">POST</span> &#125;;</span><br></pre></td></tr></table></figure><h3 id="tokenæ€ä¹ˆç”Ÿæˆçš„ï¼Ÿtokenæ€ä¹ˆåŠ å¯†ï¼Ÿ"><a href="#tokenæ€ä¹ˆç”Ÿæˆçš„ï¼Ÿtokenæ€ä¹ˆåŠ å¯†ï¼Ÿ" class="headerlink" title="tokenæ€ä¹ˆç”Ÿæˆçš„ï¼Ÿtokenæ€ä¹ˆåŠ å¯†ï¼Ÿ"></a>tokenæ€ä¹ˆç”Ÿæˆçš„ï¼Ÿtokenæ€ä¹ˆåŠ å¯†ï¼Ÿ</h3><h3 id="useMemoå’Œmemo"><a href="#useMemoå’Œmemo" class="headerlink" title="useMemoå’Œmemo"></a>useMemoå’Œmemo</h3><p>ä¸€ä¸ªåœ¨æ¯æ¬¡é‡æ–°æ¸²æŸ“åç¼“å­˜è®¡ç®—ç»“æœçš„é’©å­ã€‚</p><ul><li>è·³è¿‡ä»£ä»·æ˜‚è´µçš„é‡æ–°è®¡ç®—</li><li>è·³è¿‡ç»„ä»¶çš„é‡æ–°æ¸²æŸ“</li><li>è®°å¿†å¦ä¸€ä¸ªHOOKä¾èµ–</li><li>è®°å¿†ä¸€ä¸ªå‡½æ•°</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">TodoList</span>(<span class="params">&#123; todos, theme, tab &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> visibleTodos = <span class="title function_">useMemo</span>(</span><br><span class="line">    <span class="function">() =&gt;</span> <span class="title function_">filterTodos</span>(todos, tab),</span><br><span class="line">    [todos, tab]</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;theme&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Note: <span class="tag">&lt;<span class="name">code</span>&gt;</span>List<span class="tag">&lt;/<span class="name">code</span>&gt;</span> is artificially slowed down!<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">List</span> <span class="attr">items</span>=<span class="string">&#123;visibleTodos&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">List</span> = <span class="title function_">memo</span>(<span class="keyword">function</span> <span class="title function_">List</span>(<span class="params">&#123; items &#125;</span>) &#123;</span><br><span class="line"> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="useMemo-å’Œ-useCallback"><a href="#useMemo-å’Œ-useCallback" class="headerlink" title="useMemo å’Œ useCallback"></a>useMemo å’Œ useCallback</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ…è£¹å‡½æ•°æ˜¾å¾—æœ‰äº›ç¬¨æ‹™</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Page</span>(<span class="params">&#123; productId, referrer &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> handleSubmit = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">orderDetails</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">post</span>(<span class="string">&#x27;/product/&#x27;</span> + productId + <span class="string">&#x27;/buy&#x27;</span>, &#123;</span><br><span class="line">        referrer,</span><br><span class="line">        orderDetails</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, [productId, referrer]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;handleSubmit&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ‰ä¸“é—¨åŒ…å‡½æ•°çš„é’©å­ï¼</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Page</span>(<span class="params">&#123; productId, referrer &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> handleSubmit = <span class="title function_">useCallback</span>(<span class="function">(<span class="params">orderDetails</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">post</span>(<span class="string">&#x27;/product/&#x27;</span> + productId + <span class="string">&#x27;/buy&#x27;</span>, &#123;</span><br><span class="line">      referrer,</span><br><span class="line">      orderDetails</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, [productId, referrer]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;handleSubmit&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h3><p>ä¸€ä¸ªå¯ä»¥è®©è¯»å–å’Œè®¢é˜…ç»„ä»¶ä¸­çš„contexté’©å­ã€‚</p><ul><li>å‘æ•°ç»„æ·±å±‚ä¼ é€’æ•°æ®</li><li>é€šè¿‡contextæ›´æ–°ä¼ é€’æ•°æ®</li><li>æŒ‡å®šå›é€€é»˜è®¤å€¼</li><li>è¦†ç›–ç»„ä»¶æ ‘ä¸€éƒ¨åˆ†çš„context</li><li>åœ¨ä¼ é€’å¯¹è±¡çš„å’Œå‡½æ•°æ—¶ä¼˜åŒ–é‡æ–°æ¸²æŸ“</li></ul><p>å¦‚ä½•è¿›è¡ŒçŠ¶æ€ç®¡ç†?</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// contexts/TodoContext.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">TodoContext</span> = <span class="title function_">createContext</span>(&#123;&#125;);</span><br><span class="line"><span class="keyword">export</span> defualt <span class="keyword">function</span> <span class="title function_">TodoProvider</span>(<span class="params">&#123;children&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> [todos, setTodos] = <span class="title function_">useState</span>(<span class="literal">null</span>)</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> acios.<span class="title function_">get</span>(<span class="string">&#x27;api/..&#x27;</span>), &#123;</span><br><span class="line">                 <span class="attr">params</span>: &#123;</span><br><span class="line">                     ....</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="title function_">setTodos</span>(data)</span><br><span class="line">         &#125;  <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">             <span class="title function_">clg</span>(err)</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;)()  </span><br><span class="line">    &#125;, [])</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">TodoProvider.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;todos,</span> <span class="attr">setTodos</span>&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;!!todos ? childern : <span class="tag">&lt;<span class="name">Loading</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">TodoProvider.Provider</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useTodoContext</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">useContext</span>(<span class="title class_">TodoContext</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> &#123; todos, setTodos &#125; = <span class="title function_">useTodoContext</span>()</span><br></pre></td></tr></table></figure><h3 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h3><p>ä¸€ä¸ªå…è®¸å‘ç»„ä»¶ä¸­æ·»åŠ ä¸€ä¸ªreducerã€‚å’ŒuseStateæœ‰ç›¸ä¼¼çš„æ•ˆæœï¼Œåœ¨ç»„ä»¶é¡¶å±‚åˆ›å»ºç”¨äºçŠ¶æ€ç®¡ç†ã€‚</p><ol><li>ä¸€èˆ¬ç”¨æ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ª<code>reducer(state, action)</code>æ–¹æ³•ï¼Œå®šä¹‰æ“ä½œçŠ¶æ€</li><li>ç„¶å<code>const [state, dispatch] = useReducer(reducer, initialArg, init?)</code>ï¼Œç»™stateä¸€ä¸ªåˆå§‹ä¸ºinitçš„çŠ¶æ€ï¼Œä½¿ç”¨dispatchå‡½æ•°å’Œreducerå‡½æ•°ç»Ÿä¸€æ“ä½œç®¡ç†çŠ¶æ€</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">    <span class="comment">// stateæ˜¯initialArg  actionæ˜¯dispatchä¼ æ¥çš„å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">switch</span>(action.<span class="property">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;changeAge&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                <span class="attr">age</span>: nextAge,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;changeHeight&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                <span class="attr">age</span>: nextHeight,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> initialArg = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&#x27;20&#x27;</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="string">&#x27;167&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> [state, dispatch] = <span class="title function_">useReducer</span>(reducer, initialArg)</span><br><span class="line"><span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;changeAge&#x27;</span>, <span class="attr">nextAge</span>: <span class="string">&#x27;21&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><h2 id="ä¸šåŠ¡æ€è€ƒ"><a href="#ä¸šåŠ¡æ€è€ƒ" class="headerlink" title="ä¸šåŠ¡æ€è€ƒ"></a>ä¸šåŠ¡æ€è€ƒ</h2><h3 id="ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼Ÿä¸ºä»€ä¹ˆè¦ç®¡ç†çŠ¶æ€ï¼Ÿç»„ä»¶æ˜¯å¦‚ä½•æ„ŸçŸ¥åˆ°çŠ¶æ€çš„å˜åŒ–çš„ï¼Ÿstateå’Œpropsçš„åŒºåˆ«ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼Ÿä¸ºä»€ä¹ˆè¦ç®¡ç†çŠ¶æ€ï¼Ÿç»„ä»¶æ˜¯å¦‚ä½•æ„ŸçŸ¥åˆ°çŠ¶æ€çš„å˜åŒ–çš„ï¼Ÿstateå’Œpropsçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼Ÿä¸ºä»€ä¹ˆè¦ç®¡ç†çŠ¶æ€ï¼Ÿç»„ä»¶æ˜¯å¦‚ä½•æ„ŸçŸ¥åˆ°çŠ¶æ€çš„å˜åŒ–çš„ï¼Ÿstateå’Œpropsçš„åŒºåˆ«ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼Ÿä¸ºä»€ä¹ˆè¦ç®¡ç†çŠ¶æ€ï¼Ÿç»„ä»¶æ˜¯å¦‚ä½•æ„ŸçŸ¥åˆ°çŠ¶æ€çš„å˜åŒ–çš„ï¼Ÿstateå’Œpropsçš„åŒºåˆ«ï¼Ÿ</h3><p>çŠ¶æ€æ˜¯Reactä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚è¡¨ç¤ºä¸€ä¸ªç»„ä»¶çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥éšç€æ—¶é—´æ¨ç§»è€Œæ”¹å˜ï¼Œé€šå¸¸ç”¨äºå­˜å‚¨ç»„ä»¶å¯å˜çš„ä¿¡æ¯ã€‚</p><p>ä¸ºä½•ç®¡ç†çŠ¶æ€</p><ul><li>å“åº”ç”¨æˆ·çŠ¶æ€ï¼šæ•è·å˜åŒ–å¤„ç†å˜åŒ–ï¼ˆæŒ‰é’®ã€é”®å…¥æ–‡æœ¬</li><li>æ•°æ®é©±åŠ¨è§†å›¾ï¼šè¿™æ˜¯Reactçš„ä¸€ä¸ªæ ¸å¿ƒæ€æƒ³ï¼Œç”¨æ•°æ®çŠ¶æ€å˜åŒ–é©±åŠ¨è§†å›¾å˜åŒ–ä»£æ›¿äº†è‡ªä¸»æ“ä½œDOM</li><li>ç»„ä»¶é€šä¿¡ï¼šå°†çŠ¶æ€å’Œè‡ªå®šä¹‰äº‹ä»¶å›è°ƒä¼ é€’ç»™å­ç»„ä»¶ï¼Œæ–¹ä¾¿çˆ¶å­ç»„ä»¶ä¹‹é—´é€šä¿¡</li><li>æ€§èƒ½ä¼˜åŒ–ï¼šæœ‰æ•ˆç®¡ç†çŠ¶æ€æ›´æ–°ï¼Œå¿…è¦æ—¶é‡æ–°æ¸²æŸ“ç»„ä»¶</li></ul><p>ç»„ä»¶å¦‚ä½•æ„ŸçŸ¥çŠ¶æ€å˜åŒ–</p><ul><li>setState(è¿‡æ—¶äº†å·²ç»â€¦)</li><li>useState</li><li>useEffect</li></ul><p>stateå’Œpropsçš„åŒºåˆ«</p><ol><li><strong>Stateï¼ˆçŠ¶æ€ï¼‰ï¼š</strong> æ˜¯ç»„ä»¶è‡ªå·±ç®¡ç†å’Œç»´æŠ¤çš„æ•°æ®ï¼Œç”¨äºå­˜å‚¨ç»„ä»¶çš„å¯å˜ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡<code>this.state</code>ï¼ˆåœ¨ç±»ç»„ä»¶ä¸­ï¼‰æˆ–<code>useState</code>ï¼ˆåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼‰æ¥å£°æ˜å’Œæ›´æ–°çŠ¶æ€ã€‚çŠ¶æ€é€šå¸¸åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨ï¼Œåªèƒ½è¢«ç»„ä»¶è‡ªèº«ä¿®æ”¹ã€‚</li><li><strong>Propsï¼ˆå±æ€§ï¼‰ï¼š</strong> æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ã€‚å®ƒä»¬æ˜¯ä¸å¯å˜çš„ï¼Œå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹propsã€‚propsç”¨äºåœ¨ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œä»¥ä½¿ç»„ä»¶å¯ä»¥å±•ç¤ºä¸åŒçš„ä¿¡æ¯æˆ–æ ¹æ®å¤–éƒ¨æ•°æ®è¿›è¡Œè‡ªå®šä¹‰æ¸²æŸ“ã€‚</li></ol><h3 id="å®ç°æ— é™åˆ—è¡¨çš„åŠ è½½"><a href="#å®ç°æ— é™åˆ—è¡¨çš„åŠ è½½" class="headerlink" title="å®ç°æ— é™åˆ—è¡¨çš„åŠ è½½"></a>å®ç°æ— é™åˆ—è¡¨çš„åŠ è½½</h3><h3 id="ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…axios"><a href="#ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…axios" class="headerlink" title="ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…axios"></a>ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…axios</h3><h3 id="ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…vuerouter"><a href="#ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…vuerouter" class="headerlink" title="ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…vuerouter"></a>ä¸ºä»€ä¹ˆäºŒæ¬¡å°è£…vuerouter</h3><h3 id="å¦‚ä½•é¿å…ä¸€æ¬¡æ€§å‡ºç°è®¸å¤šé”™è¯¯å¼¹å‡ºæ¡†"><a href="#å¦‚ä½•é¿å…ä¸€æ¬¡æ€§å‡ºç°è®¸å¤šé”™è¯¯å¼¹å‡ºæ¡†" class="headerlink" title="å¦‚ä½•é¿å…ä¸€æ¬¡æ€§å‡ºç°è®¸å¤šé”™è¯¯å¼¹å‡ºæ¡†"></a>å¦‚ä½•é¿å…ä¸€æ¬¡æ€§å‡ºç°è®¸å¤šé”™è¯¯å¼¹å‡ºæ¡†</h3><h3 id="å®ç°è½®æ’­å›¾"><a href="#å®ç°è½®æ’­å›¾" class="headerlink" title="å®ç°è½®æ’­å›¾"></a>å®ç°è½®æ’­å›¾</h3><h3 id="ç‚¹å‡»å‘è¯·æ±‚æŒ‰é”®ä¼˜åŒ–"><a href="#ç‚¹å‡»å‘è¯·æ±‚æŒ‰é”®ä¼˜åŒ–" class="headerlink" title="ç‚¹å‡»å‘è¯·æ±‚æŒ‰é”®ä¼˜åŒ–"></a>ç‚¹å‡»å‘è¯·æ±‚æŒ‰é”®ä¼˜åŒ–</h3><p>å¿«é€Ÿç‚¹å‡»å‡ ä¸ªitemï¼Œæ¯ä¸€ä¸ªitemæºå¸¦è‡ªå·±çš„idå‘é€è¯·æ±‚ï¼Œdomå±•ç¤ºæ•°æ®ï¼Œæœ€åæ˜¾ç¤ºçš„æ˜¯å“ªä¸ªitemçš„æ•°æ®ï¼Ÿæ€ä¹ˆè®©é¡µé¢æ˜¾ç¤ºçš„æ˜¯æœ€åä¸€ä¸ªç‚¹å‡»çš„itemçš„æ•°æ®ï¼Ÿ</p><h3 id="å¦‚ä½•æé«˜æ€§èƒ½"><a href="#å¦‚ä½•æé«˜æ€§èƒ½" class="headerlink" title="å¦‚ä½•æé«˜æ€§èƒ½"></a>å¦‚ä½•æé«˜æ€§èƒ½</h3><h3 id="å¦‚ä½•ä¿è¯ä»£ç ä¸Šçº¿ç¨³å®šæ€§"><a href="#å¦‚ä½•ä¿è¯ä»£ç ä¸Šçº¿ç¨³å®šæ€§" class="headerlink" title="å¦‚ä½•ä¿è¯ä»£ç ä¸Šçº¿ç¨³å®šæ€§"></a>å¦‚ä½•ä¿è¯ä»£ç ä¸Šçº¿ç¨³å®šæ€§</h3><h3 id="å…³äºç™»å½•"><a href="#å…³äºç™»å½•" class="headerlink" title="å…³äºç™»å½•"></a>å…³äºç™»å½•</h3><p>token å­˜åœ¨ localStorage é‡Œæœ‰é£é™©å—ï¼Ÿ</p><p>æœ‰é£é™©ï¼Œcv</p><p>token æ˜¯æ”¾åœ¨ cookie é‡Œæ›´åˆç†è¿˜æ˜¯æ”¾åˆ° localStorage é‡Œæ›´åˆç†ï¼Ÿ</p><p>token å­˜åˆ° localStorageï¼Œæ˜¯æ²¡æœ‰è¿‡æœŸæ—¶é—´çš„ï¼Œæ€ä¹ˆå®ç°æœ‰è¿‡æœŸæ—¶é—´å‘¢ï¼Ÿ</p><h1 id="ğŸ¥´æ‰‹æ’•"><a href="#ğŸ¥´æ‰‹æ’•" class="headerlink" title="ğŸ¥´æ‰‹æ’•"></a>ğŸ¥´æ‰‹æ’•</h1><h2 id="CSSç›¸å…³"><a href="#CSSç›¸å…³" class="headerlink" title="CSSç›¸å…³"></a>CSSç›¸å…³</h2><h3 id="å®ç°ä¸‰è§’å½¢"><a href="#å®ç°ä¸‰è§’å½¢" class="headerlink" title="å®ç°ä¸‰è§’å½¢"></a>å®ç°ä¸‰è§’å½¢</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">80px</span> solid lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(ä¸ºä»€ä¹ˆä¼šè¢«é—®åˆ°è¿™æ ·çš„é—®é¢˜ï¼Ÿï¼Ÿ)[]</p><h3 id="è½®æ’­å›¾"><a href="#è½®æ’­å›¾" class="headerlink" title="è½®æ’­å›¾"></a>è½®æ’­å›¾</h3><h3 id="å›¾ç‰‡èƒŒæ™¯"><a href="#å›¾ç‰‡èƒŒæ™¯" class="headerlink" title="å›¾ç‰‡èƒŒæ™¯"></a>å›¾ç‰‡èƒŒæ™¯</h3><h3 id="å›¾ç‰‡è‡ªé€‚åº”"><a href="#å›¾ç‰‡è‡ªé€‚åº”" class="headerlink" title="å›¾ç‰‡è‡ªé€‚åº”"></a>å›¾ç‰‡è‡ªé€‚åº”</h3><p>å›¾ç‰‡åœ¨ç›’å­é‡Œä¸ä¼šè¢«å‰ªè£ï¼Œå®½æˆ–é«˜éœ€è¦æ’‘æ»¡ç›’å­ï¼Œä¸ä¼šè¢«æ‹‰ä¼¸æŒ¤å‹ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex; </span><br><span class="line">  <span class="attribute">justify-content</span>: center; </span><br><span class="line">  <span class="attribute">align-items</span>: center; </span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">width</span>: auto; </span><br><span class="line">  <span class="attribute">height</span>: auto; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡åœ¨ç›’å­é‡Œå®½æˆ–é«˜éœ€è¦æ’‘æ»¡ç›’å­ï¼Œä¸ç•™ç©ºéš™ï¼Œå¯ä»¥é€‚å½“å‰ªè£ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">width</span>: auto; </span><br><span class="line">  <span class="attribute">height</span>: auto; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å·¦ä¾§å›ºå®šï¼Œå³ä¾§å æ»¡"><a href="#å·¦ä¾§å›ºå®šï¼Œå³ä¾§å æ»¡" class="headerlink" title="å·¦ä¾§å›ºå®šï¼Œå³ä¾§å æ»¡"></a>å·¦ä¾§å›ºå®šï¼Œå³ä¾§å æ»¡</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex; <span class="comment">/* ä½¿ç”¨ Flex å¸ƒå±€ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; <span class="comment">/* å·¦ä¾§æ çš„å›ºå®šå®½åº¦ */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>; <span class="comment">/* å·¦ä¾§æ çš„é«˜åº¦å æ®æ•´ä¸ªè§†å£é«˜åº¦ */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f0f0</span>; <span class="comment">/* å·¦ä¾§æ çš„èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right-content</span> &#123;</span><br><span class="line">    <span class="attribute">flex-grow</span>: <span class="number">1</span>; <span class="comment">/* å³ä¾§æ å æ»¡å‰©ä½™ç©ºé—´ */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#e0e0e0</span>; <span class="comment">/* å³ä¾§æ çš„èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸šåŠ¡ç›¸å…³"><a href="#ä¸šåŠ¡ç›¸å…³" class="headerlink" title="ä¸šåŠ¡ç›¸å…³"></a>ä¸šåŠ¡ç›¸å…³</h2><h3 id="âœ…htmlå†™ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œé¡µé¢ä¸Šå±•ç¤ºè¯»ç§’ï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ï¼Œåœæ­¢å’Œé‡ç½®"><a href="#âœ…htmlå†™ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œé¡µé¢ä¸Šå±•ç¤ºè¯»ç§’ï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ï¼Œåœæ­¢å’Œé‡ç½®" class="headerlink" title="âœ…htmlå†™ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œé¡µé¢ä¸Šå±•ç¤ºè¯»ç§’ï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ï¼Œåœæ­¢å’Œé‡ç½®"></a>âœ…htmlå†™ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œé¡µé¢ä¸Šå±•ç¤ºè¯»ç§’ï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ï¼Œåœæ­¢å’Œé‡ç½®</h3><p><a href="https://codepen.io/3879055132-qq-com/pen/MWZjdpM?editors=1111">æ•ˆæœ</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;timer&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;handleStart()&quot;</span>&gt;</span>å¼€å§‹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&quot;handleStop()&quot;</span>&gt;</span>åœæ­¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&quot;handleReset()&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> sec = <span class="number">0</span></span><br><span class="line">timer = <span class="built_in">setInterval</span>(updateTimer, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleStart</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(updateTimer, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleStop</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">  timer = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleReset</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">handleStop</span>()</span><br><span class="line">  sec = <span class="number">0</span></span><br><span class="line">  <span class="title function_">handleStart</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateTimer</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;timer&#x27;</span>).<span class="property">innerText</span> = sec</span><br><span class="line">  sec += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…æœ‰ä¸€ä¸ªè¡¨å•ï¼Œè¡¨å•å†…æœ‰ä¸ªæäº¤æŒ‰é’®ï¼Œå†™ä¸€ä¸ªé¿å…é‡å¤æäº¤çš„é€šç”¨æ–¹æ¡ˆ"><a href="#âœ…æœ‰ä¸€ä¸ªè¡¨å•ï¼Œè¡¨å•å†…æœ‰ä¸ªæäº¤æŒ‰é’®ï¼Œå†™ä¸€ä¸ªé¿å…é‡å¤æäº¤çš„é€šç”¨æ–¹æ¡ˆ" class="headerlink" title="âœ…æœ‰ä¸€ä¸ªè¡¨å•ï¼Œè¡¨å•å†…æœ‰ä¸ªæäº¤æŒ‰é’®ï¼Œå†™ä¸€ä¸ªé¿å…é‡å¤æäº¤çš„é€šç”¨æ–¹æ¡ˆ"></a>âœ…æœ‰ä¸€ä¸ªè¡¨å•ï¼Œè¡¨å•å†…æœ‰ä¸ªæäº¤æŒ‰é’®ï¼Œå†™ä¸€ä¸ªé¿å…é‡å¤æäº¤çš„é€šç”¨æ–¹æ¡ˆ</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;myForm&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¦æäº¤çš„æ•°æ®&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&#x27;submitBtn&#x27;</span>&gt;</span>ç‚¹å‡»æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> form = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myForm&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> msg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;msg&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> submitBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;submitBtn&#x27;</span>)</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">preventDefault</span>()</span><br><span class="line">  submitBtn.<span class="property">disabled</span> = <span class="literal">true</span></span><br><span class="line">  msg.<span class="property">disabled</span> = <span class="literal">true</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ¨¡ä»¿å‘è¯·æ±‚è·å¾—ç›¸åº”çš„è¿‡ç¨‹&#x27;</span>, msg.<span class="property">value</span>)</span><br><span class="line">    submitBtn.<span class="property">disabled</span> = <span class="literal">false</span></span><br><span class="line">    msg.<span class="property">disabled</span> = <span class="literal">false</span></span><br><span class="line">    msg.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// =&gt; (è¾“å…¥æ¡†å’ŒæŒ‰é’®ç¦ç”¨) &quot;æ¨¡ä»¿å‘è¯·æ±‚è·å¾—ç›¸åº”çš„è¿‡ç¨‹&quot; &quot;æäº¤å†…å®¹&quot; (è¾“å…¥æ¡†å†…å®¹æ¸…ç©ºï¼Œè¾“å…¥æ¡†æŒ‰é’®å›å¤å¯ç”¨)</span></span><br></pre></td></tr></table></figure><h3 id="id-xxx-parentId-yyy-order-1-è¿™ç§ç»“æ„çš„æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªæ ‘å‹ç»“æ„-orderä»£è¡¨åŒç»„å­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°"><a href="#id-xxx-parentId-yyy-order-1-è¿™ç§ç»“æ„çš„æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªæ ‘å‹ç»“æ„-orderä»£è¡¨åŒç»„å­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°" class="headerlink" title="{ id:xxx , parentId: yyy, order: 1 } è¿™ç§ç»“æ„çš„æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªæ ‘å‹ç»“æ„,orderä»£è¡¨åŒç»„å­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°"></a>{ id:xxx , parentId: yyy, order: 1 } è¿™ç§ç»“æ„çš„æ•°ç»„è½¬åŒ–æˆä¸€ä¸ªæ ‘å‹ç»“æ„,orderä»£è¡¨åŒç»„å­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°</h3><h3 id="ğŸ’¥çˆ¶å­ç»„ä»¶é€šä¿¡"><a href="#ğŸ’¥çˆ¶å­ç»„ä»¶é€šä¿¡" class="headerlink" title="ğŸ’¥çˆ¶å­ç»„ä»¶é€šä¿¡"></a>ğŸ’¥çˆ¶å­ç»„ä»¶é€šä¿¡</h3><p>å¿˜å¾—å·®ä¸å¤šäº†ï¼Œä¼¼ä¹æ˜¯è¿™æ ·å­—å†™</p><h4 id="React-1"><a href="#React-1" class="headerlink" title="React"></a>React</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function grandfather() &#123;</span><br><span class="line">    function getData(data) &#123;</span><br><span class="line">        clg(data)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            &lt;Parent onGetData=&#123;getData&#125; /&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Parent(props) &#123;</span><br><span class="line">    const &#123; onGetData &#125; = props</span><br><span class="line">    const [num, setNum] = useState(1)</span><br><span class="line">    const name = &#x27;liz&#x27;</span><br><span class="line">    function handleClick() &#123;</span><br><span class="line">        onGetData(name)</span><br><span class="line">    &#125;</span><br><span class="line">    function getNum(data) &#123;</span><br><span class="line">        setNum(data)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">            &lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹æˆ‘ç»™æˆ‘çš„çˆ¶ç»„ä»¶å‘é€æ•°æ®&lt;/button&gt;</span><br><span class="line">            &lt;Children num=&#123;num&#125; onGetNum=&#123;getNum&#125; /&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Children(props) &#123;</span><br><span class="line">    const &#123; num, onGetNum &#125; = props</span><br><span class="line">    function handleClick() &#123;</span><br><span class="line">        onGetNum(num + 1)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">        &lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹æˆ‘ num+1 =&gt; &#123;num&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-1"><a href="#Vue-1" class="headerlink" title="Vue"></a>Vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;Children name onGetNum=&#x27;getNum()&#x27;&gt;&lt;/Children&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const Father = new Vue(&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return () &#123;</span><br><span class="line">                name: &#x27;liz&#x27;,</span><br><span class="line">                num: 1,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            getNum(data) &#123;</span><br><span class="line">                this.num = num</span><br><span class="line">                clg(this.num)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button onclick=&#x27;handleClick&#x27;&gt;&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const Father = new Vue(&#123;</span><br><span class="line">        props: [name]</span><br><span class="line">        data() &#123;</span><br><span class="line">            return () &#123;</span><br><span class="line">                num: 100,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            handleClick(data) &#123;</span><br><span class="line">                onGetNum.$emit(this.num)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="è¯­æ³•ç‰¹æ€§ç›¸å…³"><a href="#è¯­æ³•ç‰¹æ€§ç›¸å…³" class="headerlink" title="è¯­æ³•ç‰¹æ€§ç›¸å…³"></a>è¯­æ³•ç‰¹æ€§ç›¸å…³</h2><h3 id="âœ…0-1-0-2-0-3åŸå› ï¼Œè§£å†³"><a href="#âœ…0-1-0-2-0-3åŸå› ï¼Œè§£å†³" class="headerlink" title="âœ…0.1 + 0.2 != 0.3åŸå› ï¼Œè§£å†³"></a>âœ…0.1 + 0.2 != 0.3åŸå› ï¼Œè§£å†³</h3><p>JSæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚JavaScriptä½¿ç”¨IEEE 754æ ‡å‡†æ¥è¡¨ç¤ºæ•°å­—ï¼Œè¯¥æ ‡å‡†é‡‡ç”¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤ºæ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨åè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤ºæ³•ã€‚åœ¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤ºæ³•ä¸­ï¼Œæœ‰äº›å°æ•°æ— æ³•å‡†ç¡®è¡¨ç¤ºï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´è®¡ç®—ç»“æœä¸ç²¾ç¡®ã€‚</p><p>0.1 å’Œ 0.2 åœ¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤ºæ³•ä¸­æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œå®ƒä»¬ä¼šè¢«è¿‘ä¼¼ä¸ºæœ‰é™çš„äºŒè¿›åˆ¶å°æ•°ï¼Œå¯¼è‡´è®¡ç®—æ—¶äº§ç”Ÿå¾®å°èˆå…¥è¯¯å·®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> (åè¿›åˆ¶) â‰ˆ <span class="number">0.00011001100110011001100110011001100110011001100110011</span>... (äºŒè¿›åˆ¶)</span><br><span class="line"><span class="number">0.2</span> (åè¿›åˆ¶) â‰ˆ <span class="number">0.0011001100110011001100110011001100110011001100110011</span>... (äºŒè¿›åˆ¶)</span><br><span class="line"><span class="number">0.3</span> (åè¿›åˆ¶) â‰ˆ <span class="number">0.0100110011001100110011001100110011001100110011001100</span>... (äºŒè¿›åˆ¶)</span><br><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> â‰ˆ <span class="number">0.0100110011001100110011001100110011001100110011001101</span>... (äºŒè¿›åˆ¶)</span><br></pre></td></tr></table></figure><p>è§£å†³1ï¼šå…ˆå°†å°æ•°è½¬æ¢ä¸ºæ•´æ•°ï¼Œè®¡ç®—åè¿˜åŸæˆå°æ•°ã€‚</p><p>è§£å†³2ï¼šç”¨ä¸“é—¨çš„ç²¾ç¡®è®¡ç®—åº“(bignumber.js math.js)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ans1 = <span class="keyword">new</span> <span class="title class_">BigNumber</span>(<span class="number">0.1</span> + <span class="number">0.2</span>)</span><br><span class="line"><span class="keyword">let</span> ans2 = math.evaluate(<span class="string">&#x27;0.1 + 0.2&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="âœ…äºŒè¿›åˆ¶è½¬æ¢åè¿›åˆ¶ä¸ºä»€ä¹ˆä¼šé€ æˆç²¾åº¦ä¸¢å¤±"><a href="#âœ…äºŒè¿›åˆ¶è½¬æ¢åè¿›åˆ¶ä¸ºä»€ä¹ˆä¼šé€ æˆç²¾åº¦ä¸¢å¤±" class="headerlink" title="âœ…äºŒè¿›åˆ¶è½¬æ¢åè¿›åˆ¶ä¸ºä»€ä¹ˆä¼šé€ æˆç²¾åº¦ä¸¢å¤±?"></a>âœ…äºŒè¿›åˆ¶è½¬æ¢åè¿›åˆ¶ä¸ºä»€ä¹ˆä¼šé€ æˆç²¾åº¦ä¸¢å¤±?</h3><p>å› ä¸ºäºŒè¿›åˆ¶æ— æ³•å‡†ç¡®è¡¨ç¤ºå°æ•°ã€‚IEEE 754äºŒè¿›åˆ¶æµ®ç‚¹è¡¨ç¤ºæ³•ä¸­ï¼Œä¸€ä¸ªæµ®ç‚¹æ•°ç”±ç¬¦å·ä½ã€æŒ‡æ•°ä½ã€å°¾æ•°ä½è¡¨ç¤ºï¼ŒæŒ‡æ•°ä½æŒ‡æ˜å°æ•°ç‚¹çš„ä½ç½®ï¼Œå°¾æ•°ä½æ˜¯å°æ•°ç‚¹åçš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚</p><p>è€Œä¸€äº›å°æ•°æ¯”å¦‚0.1ï¼Œåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­å¯èƒ½æ˜¯ä¸€ä¸ªå¾ªç¯å°æ•°çš„è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯è¯´æ— æ³•ç²¾ç¡®è¡¨ç¤º0.1â†‘ï¼Œæ‰€ä»¥å½“è¿™æ ·çš„æ— é™å¾ªç¯å°æ•°ä»äºŒè¿›åˆ¶è½¬æ¢å›åè¿›åˆ¶åï¼Œå°±ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±ã€‚</p><h3 id="âœ…æŒ‡å®šæ·±åº¦çš„flat"><a href="#âœ…æŒ‡å®šæ·±åº¦çš„flat" class="headerlink" title="âœ…æŒ‡å®šæ·±åº¦çš„flat"></a>âœ…æŒ‡å®šæ·±åº¦çš„flat</h3><p>ä¸»è¦æ˜¯ä¸ªé€’å½’</p><ul><li>å¦‚æœæ·±åº¦ä¸åˆæ³•ï¼ŒæŠ¥é”™</li><li>å¦‚æœæ·±åº¦=1ï¼Œç›´æ¥è¿”å›</li><li>å¦‚æœæ·±åº¦&gt;1ï¼Œéå†<ul><li>å¦‚æœéå†åˆ°çš„å…ƒç´ æ˜¯æ•°ç»„ï¼Œé€’å½’ï¼Œä¸”ä¼ å…¥æ·±åº¦ = æ·±åº¦ - 1ï¼Œç„¶åæ·»åŠ åˆ°ç»“æœé›†</li><li>å¦‚æœéå†åˆ°çš„å…ƒç´ æ˜¯åŸºæœ¬ï¼Œç›´æ¥æ·»åŠ åˆ°ç»“æœé›†</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flat</span>(<span class="params">arr, depth = <span class="number">1</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(depth) ||depth &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ·±åº¦ä¸åˆæ³•ï¼Œå¿…é¡»ä¸º&gt;=1çš„æ•´æ•°&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (depth === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(item)) &#123;</span><br><span class="line">            result = result.<span class="title function_">concat</span>(<span class="title function_">flat</span>(item, depth - <span class="number">1</span>))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…Thisçš„æŒ‡å‘"><a href="#âœ…Thisçš„æŒ‡å‘" class="headerlink" title="âœ…Thisçš„æŒ‡å‘"></a>âœ…Thisçš„æŒ‡å‘</h3><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/a3ce87515a4f6acbbdaa8b84b155c1e1.jpeg" alt="a3ce87515a4f6acbbdaa8b84b155c1e1" style="zoom:50%;" /><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =&gt; undefined æ„é€ å‡½æ•°çš„thisæŒ‡å‘äº†ç©ºå¯¹è±¡ï¼Œå› æ­¤this.nameæ˜¯undefined</span></span><br><span class="line"><span class="comment">// =&gt; &#123;x: &#x27;z&#x27;&#125; ç»™ç®­å¤´å‡½æ•°.callæŒ‡èƒ½æœ‰æ•ˆä¼ è¿›å»å‚æ•°ï¼Œthisä¼ è¿›å»æ— æ•ˆ</span></span><br></pre></td></tr></table></figure><h3 id="âœ…ES6-varä¸€ä¸ªå¯¹è±¡"><a href="#âœ…ES6-varä¸€ä¸ªå¯¹è±¡" class="headerlink" title="âœ…ES6 varä¸€ä¸ªå¯¹è±¡"></a>âœ…ES6 varä¸€ä¸ªå¯¹è±¡</h3><p>çœ‹è¾“å‡ºç»“æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// T1</span></span><br><span class="line"><span class="keyword">var</span> = &#123; <span class="attr">n</span>: <span class="number">10</span> &#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">out</span>(<span class="params">obj</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> b = obj;</span><br><span class="line"><span class="keyword">var</span> c = b; <span class="comment">// b c æ˜¯åŒä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line">b.<span class="property">n</span> = <span class="number">30</span>;</span><br><span class="line">c = &#123; <span class="attr">n</span>: <span class="number">40</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">n</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">n</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c.<span class="property">n</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">out</span>(a); <span class="comment">// =&gt; 30 30 40</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// T2</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="string">&#x27;bar1&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123; <span class="attr">bar</span>: <span class="string">&#x27;bar2&#x27;</span>, <span class="attr">foo</span>: foo &#125;;</span><br><span class="line"><span class="keyword">var</span> o3 = &#123; <span class="attr">bar</span>: <span class="string">&#x27;bar3&#x27;</span>, <span class="attr">foo</span>: <span class="function">() =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>) &#125; &#125;;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// =&gt; bar1 thisæŒ‡å‘å…¨å±€ï¼ˆæœ¬èº«å°±æ˜¯ä¸ªå…¨å±€å‡½æ•°ï¼‰</span></span><br><span class="line">o2.<span class="title function_">foo</span>(); <span class="comment">// =&gt; bar2 thisç»‘å®šo2</span></span><br><span class="line">o3.<span class="title function_">foo</span>(); <span class="comment">// =&gt; bar1 thisæŒ‡å‘å…¨å±€ï¼ˆç®­å¤´å‡½æ•°ä¸ç»‘å®šthisï¼Œä¾é™„äºå…¶æ‰€åœ¨ä¸Šä¸‹æ–‡ï¼Œå…¨å±€ï¼‰</span></span><br></pre></td></tr></table></figure><h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h3><p>ä»»ä½•ä¸€ä¸ªPromiseè¢«æ‹’ç»ï¼Œè¿”å›çš„Promiseå°†è¢«æ‹’ç»ï¼Œå¹¶æºå¸¦æ‹’ç»åŸå› ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([promise1, promise2, promise3]).<span class="title function_">then</span>(<span class="function">(<span class="params">values</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(values);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Expected output: Array [3, 42, &quot;foo&quot;]</span></span><br></pre></td></tr></table></figure><h3 id="ğŸ’¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šä»»åŠ¡é˜Ÿåˆ—é•¿åº¦"><a href="#ğŸ’¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šä»»åŠ¡é˜Ÿåˆ—é•¿åº¦" class="headerlink" title="ğŸ’¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šä»»åŠ¡é˜Ÿåˆ—é•¿åº¦"></a>ğŸ’¥å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šä»»åŠ¡é˜Ÿåˆ—é•¿åº¦</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AsyncQueue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">maxLength</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxLength</span> = maxLength;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">running</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addTask</span>(<span class="params">taskFunction</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">task</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">running</span>++;</span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">taskFunction</span>();</span><br><span class="line">          <span class="title function_">resolve</span>(result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">running</span>--;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">processQueue</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(task);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">running</span> &lt; <span class="variable language_">this</span>.<span class="property">maxLength</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">processQueue</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">processQueue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">running</span> &gt;= <span class="variable language_">this</span>.<span class="property">maxLength</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> task = <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">shift</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (task) &#123;</span><br><span class="line">      <span class="title function_">task</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> maxQueueLength = <span class="number">3</span>; <span class="comment">// æœ€å¤§é˜Ÿåˆ—é•¿åº¦</span></span><br><span class="line"><span class="keyword">const</span> asyncTaskQueue = <span class="keyword">new</span> <span class="title class_">AsyncQueue</span>(maxQueueLength);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">simulateAsyncTask</span>(<span class="params">taskId, duration</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Task <span class="subst">$&#123;taskId&#125;</span> completed after <span class="subst">$&#123;duration&#125;</span>ms`</span>);</span><br><span class="line">      <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;, duration);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> taskId = i;</span><br><span class="line">    <span class="keyword">const</span> taskDuration = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">3000</span>) + <span class="number">1000</span>; <span class="comment">// æ¨¡æ‹Ÿå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œæ—¶é—´</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> asyncTaskQueue.<span class="title function_">addTask</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Task <span class="subst">$&#123;taskId&#125;</span> added to the queue`</span>);</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">simulateAsyncTask</span>(taskId, taskDuration);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure><h3 id="ğŸ’¥è¶…æ—¶é‡ä¼ Promise-race"><a href="#ğŸ’¥è¶…æ—¶é‡ä¼ Promise-race" class="headerlink" title="ğŸ’¥è¶…æ—¶é‡ä¼ Promise.race"></a>ğŸ’¥è¶…æ—¶é‡ä¼ Promise.race</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œç½‘ç»œè¯·æ±‚</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendRequest</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œè¿™é‡Œä½¿ç”¨setTimeoutæ¨¡æ‹Ÿå»¶è¿Ÿå“åº”</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> shouldFail = <span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.3</span>; <span class="comment">// æ¨¡æ‹Ÿè¯·æ±‚å¤±è´¥çš„æƒ…å†µ</span></span><br><span class="line">      <span class="keyword">if</span> (shouldFail) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Request failed&#x27;</span>));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;Request successful&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>); <span class="comment">// æ¨¡æ‹Ÿ1ç§’çš„è¯·æ±‚å»¶è¿Ÿ</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œè¶…æ—¶é‡ä¼ </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">retryWithTimeout</span>(<span class="params">requestData, maxAttempts, timeout</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> attempt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doRequest</span>(<span class="params"></span>) &#123;</span><br><span class="line">    attempt++;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sendRequest</span>(requestData)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Attempt <span class="subst">$&#123;attempt&#125;</span>: <span class="subst">$&#123;response&#125;</span>`</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Attempt <span class="subst">$&#123;attempt&#125;</span> failed: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (attempt &lt; maxAttempts) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Retrying in <span class="subst">$&#123;timeout / <span class="number">1000</span>&#125;</span> seconds...`</span>);</span><br><span class="line">          <span class="built_in">setTimeout</span>(doRequest, timeout); <span class="comment">// åœ¨è¶…æ—¶åé‡è¯•</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Max attempts reached (<span class="subst">$&#123;maxAttempts&#125;</span>), giving up.`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">doRequest</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨è¶…æ—¶é‡ä¼ å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> requestData = &#123; <span class="comment">/* è¯·æ±‚æ•°æ® */</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> maxAttempts = <span class="number">5</span>; <span class="comment">// æœ€å¤§é‡è¯•æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">const</span> timeout = <span class="number">2000</span>; <span class="comment">// è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">retryWithTimeout</span>(requestData, maxAttempts, timeout);</span><br></pre></td></tr></table></figure><h3 id="âœ…èŠ‚æµå‡½æ•°çš„å¤šç§å®ç°æ–¹å¼"><a href="#âœ…èŠ‚æµå‡½æ•°çš„å¤šç§å®ç°æ–¹å¼" class="headerlink" title="âœ…èŠ‚æµå‡½æ•°çš„å¤šç§å®ç°æ–¹å¼"></a>âœ…èŠ‚æµå‡½æ•°çš„å¤šç§å®ç°æ–¹å¼</h3><p>æ—¶é—´æˆ³</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> newTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (newTime - oldTime &gt;= delay) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å»¶æ—¶å™¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å»¶æ—¶å™¨+æ—¶é—´æˆ³â€”â€”æ›´åŠ ç²¾ç¡®çš„èŠ‚æµ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> remaining = delay - (<span class="title class_">Date</span>.<span class="title function_">now</span>() - startTime)</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(fn, remaining)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="âœ…é˜²æŠ–å‡½æ•°çš„å®ç°"><a href="#âœ…é˜²æŠ–å‡½æ•°çš„å®ç°" class="headerlink" title="âœ…é˜²æŠ–å‡½æ•°çš„å®ç°"></a>âœ…é˜²æŠ–å‡½æ•°çš„å®ç°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (timer)<span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            flag = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(func)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ å…¥ç¬¬ä¸‰å‚æ•°æ§åˆ¶æ˜¯å¦ç«‹å³æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span>, immediate = <span class="literal">false</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">       timer = <span class="literal">null</span></span><br><span class="line">            immediate = <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹“å±•å–æ¶ˆåŠŸèƒ½</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">                args = <span class="variable language_">arguments</span></span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">                flag = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(func)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    debounced.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ·±æ‹·è´çš„å®ç°"><a href="#æ·±æ‹·è´çš„å®ç°" class="headerlink" title="æ·±æ‹·è´çš„å®ç°"></a>æ·±æ‹·è´çš„å®ç°</h3><h2 id="ç®—æ³•ç›¸å…³"><a href="#ç®—æ³•ç›¸å…³" class="headerlink" title="ç®—æ³•ç›¸å…³"></a>ç®—æ³•ç›¸å…³</h2><h3 id="17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"><a href="#17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ" class="headerlink" title="17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"></a><a href="https://leetcode.cn/problems/letter-combinations-of-a-phone-number/">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</a></h3><p>æ·±/å¹¿æœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">digits</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> letterCombinations = <span class="keyword">function</span> (<span class="params">digits</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!digits || digits.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> list = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;ghi&#x27;</span>, <span class="string">&#x27;jkl&#x27;</span>, <span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;pqrs&#x27;</span>, <span class="string">&#x27;tuv&#x27;</span>, <span class="string">&#x27;wxyz&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    ans.<span class="title function_">push</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; digits.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> len = ans.<span class="property">length</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">let</span> cur = ans.<span class="title function_">shift</span>()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> l <span class="keyword">of</span> list[digits[i]]) &#123;</span><br><span class="line">                ans.<span class="title function_">push</span>(cur + l)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// DFS</span></span><br><span class="line">    <span class="comment">// function dfs(s, idx) &#123;</span></span><br><span class="line">    <span class="comment">//     if (idx === digits.length) &#123;</span></span><br><span class="line">    <span class="comment">//         ans.push(s)</span></span><br><span class="line">    <span class="comment">//         return</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">//     for (let c of list[digits[idx]]) &#123;</span></span><br><span class="line">    <span class="comment">//         dfs(s + c, idx + 1)</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// dfs(&#x27;&#x27;, 0)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ’åºæœ‰å“ªäº›ç®—æ³•ï¼Ÿsort-å‡½æ•°æ’åºç”¨çš„æ˜¯å“ªç§æ’åºç®—æ³•ï¼Ÿ"><a href="#æ’åºæœ‰å“ªäº›ç®—æ³•ï¼Ÿsort-å‡½æ•°æ’åºç”¨çš„æ˜¯å“ªç§æ’åºç®—æ³•ï¼Ÿ" class="headerlink" title="æ’åºæœ‰å“ªäº›ç®—æ³•ï¼Ÿsort()å‡½æ•°æ’åºç”¨çš„æ˜¯å“ªç§æ’åºç®—æ³•ï¼Ÿ"></a>æ’åºæœ‰å“ªäº›ç®—æ³•ï¼Ÿsort()å‡½æ•°æ’åºç”¨çš„æ˜¯å“ªç§æ’åºç®—æ³•ï¼Ÿ</h3><p>sortæ˜¯å¿«æ’</p><h3 id="å¦‚ä½•å¯¹å•é“¾è¡¨è¿›è¡Œæ’åº"><a href="#å¦‚ä½•å¯¹å•é“¾è¡¨è¿›è¡Œæ’åº" class="headerlink" title="å¦‚ä½•å¯¹å•é“¾è¡¨è¿›è¡Œæ’åº"></a>å¦‚ä½•å¯¹å•é“¾è¡¨è¿›è¡Œæ’åº</h3><h3 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªjsonæ•°ç»„æ˜¯å¦å¤–ä¸€ä¸ªjsonæ•°ç»„çš„å­é›†"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªjsonæ•°ç»„æ˜¯å¦å¤–ä¸€ä¸ªjsonæ•°ç»„çš„å­é›†" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªjsonæ•°ç»„æ˜¯å¦å¤–ä¸€ä¸ªjsonæ•°ç»„çš„å­é›†"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªjsonæ•°ç»„æ˜¯å¦å¤–ä¸€ä¸ªjsonæ•°ç»„çš„å­é›†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isSubset</span>(<span class="params">subset, superset</span>) &#123;</span><br><span class="line">  <span class="comment">// éå†å­é›†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; subset.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> elementFound = <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥å½“å‰å­é›†å…ƒç´ æ˜¯å¦åœ¨çˆ¶æ•°ç»„ä¸­å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; superset.<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(superset[j]) === <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(subset[i])) &#123;</span><br><span class="line">        elementFound = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ åå¯ä»¥è·³å‡ºå¾ªç¯</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¦‚æœå½“å‰å­é›†å…ƒç´ ä¸å­˜åœ¨äºçˆ¶æ•°ç»„ä¸­ï¼Œè¿”å› false</span></span><br><span class="line">    <span class="keyword">if</span> (!elementFound) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ‰€æœ‰å­é›†å…ƒç´ éƒ½å­˜åœ¨äºçˆ¶æ•°ç»„ä¸­ï¼Œè¿”å› true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹ç”¨æ³•</span></span><br><span class="line"><span class="keyword">const</span> parentArray = [&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Charlie&quot;</span> &#125;];</span><br><span class="line"><span class="keyword">const</span> subsetArray = [&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">isSubset</span>(subsetArray, parentArray);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// è¾“å‡º true</span></span><br></pre></td></tr></table></figure><h3 id="ç”¨æ ˆåˆ¤æ–­æ‹¬å·åŒ¹é…çš„å…·ä½“è¿‡ç¨‹"><a href="#ç”¨æ ˆåˆ¤æ–­æ‹¬å·åŒ¹é…çš„å…·ä½“è¿‡ç¨‹" class="headerlink" title="ç”¨æ ˆåˆ¤æ–­æ‹¬å·åŒ¹é…çš„å…·ä½“è¿‡ç¨‹"></a>ç”¨æ ˆåˆ¤æ–­æ‹¬å·åŒ¹é…çš„å…·ä½“è¿‡ç¨‹</h3><h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><h3 id="å†™ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ•°å­—æ ¼å¼è½¬æ¢"><a href="#å†™ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ•°å­—æ ¼å¼è½¬æ¢" class="headerlink" title="å†™ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ•°å­—æ ¼å¼è½¬æ¢"></a>å†™ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ•°å­—æ ¼å¼è½¬æ¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ•°å­—è½¬ä¸ºå«åˆ†éš”ç¬¦ï¼Œå¹¶ä¿ç•™ä¸¤ä½å°æ•°çš„å­—ç¬¦ä¸²ï¼ˆå†™åœ¨ç¬¬ä¸€é¢èƒŒé¢ï¼‰</span><br><span class="line">// 1234567 -&gt; 1,234,567.00</span><br><span class="line">// 100 -&gt; 100.00</span><br><span class="line">// 12.21 -&gt; 12.21</span><br></pre></td></tr></table></figure><p>è§£æ³•å¦‚ä¸‹ï¼š</p><h3 id="å¯¹è±¡æ•°ç»„å»é‡"><a href="#å¯¹è±¡æ•°ç»„å»é‡" class="headerlink" title="å¯¹è±¡æ•°ç»„å»é‡"></a>å¯¹è±¡æ•°ç»„å»é‡</h3><h3 id="æ‰¾å‡ºæœ€é•¿ä¸é‡å¤å­—æ¯çš„å­ä¸²"><a href="#æ‰¾å‡ºæœ€é•¿ä¸é‡å¤å­—æ¯çš„å­ä¸²" class="headerlink" title="æ‰¾å‡ºæœ€é•¿ä¸é‡å¤å­—æ¯çš„å­ä¸²"></a>æ‰¾å‡ºæœ€é•¿ä¸é‡å¤å­—æ¯çš„å­ä¸²</h3><h3 id="æœ€é•¿é€’å¢å­åºåˆ—"><a href="#æœ€é•¿é€’å¢å­åºåˆ—" class="headerlink" title="æœ€é•¿é€’å¢å­åºåˆ—"></a>æœ€é•¿é€’å¢å­åºåˆ—</h3><h3 id="å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚12000000-11è½¬åŒ–ä¸º12-000-000-11"><a href="#å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚12000000-11è½¬åŒ–ä¸º12-000-000-11" class="headerlink" title="å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚12000000.11è½¬åŒ–ä¸º12,000,000.11?"></a>å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚12000000.11è½¬åŒ–ä¸º12,000,000.11?</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">commafy</span>(<span class="params">num</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> num &amp;&amp; num</span><br><span class="line">    .<span class="title function_">toString</span>()</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/\d(?=(\d&#123;3&#125;)+\.)/g</span>, <span class="keyword">function</span>(<span class="params">_, $2</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> $2 + <span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">commafy</span>(<span class="number">1231423423.22</span>))<span class="comment">//1,231,423,423.22</span></span><br></pre></td></tr></table></figure><h3 id="âœ…console-log-transform-â€˜123abc456defâ€™-abc123def456â€"><a href="#âœ…console-log-transform-â€˜123abc456defâ€™-abc123def456â€" class="headerlink" title="âœ…console.log(transform(â€˜123abc456defâ€™)); //abc123def456â€"></a>âœ…console.log(transform(â€˜123abc456defâ€™)); //abc123def456â€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">transform</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(\d+)([a-z]+)/g</span>, <span class="keyword">function</span>(<span class="params">_, digits, letters</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;letters&#125;</span><span class="subst">$&#123;digits&#125;</span>`</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// replace(regexp|subStr, newSubStr|function)</span></span><br><span class="line"><span class="comment">// function(match, p1, p2, ..., offset, string)åŒ¹é…çš„å­ä¸²ï¼Œæ­£åˆ™ä¸­çš„æ¯ä¸ªæ‹¬å·éƒ¨åˆ†ï¼Œåç§»é‡ï¼ŒåŸå­—ç¬¦ä¸²â†“</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/([a])([b])/g</span>, <span class="keyword">function</span>(<span class="params">_, a, b, offset, string</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²<span class="subst">$&#123;_&#125;</span>, <span class="subst">$&#123;b&#125;</span>, <span class="subst">$&#123;a&#125;</span>, åç§»é‡<span class="subst">$&#123;offset&#125;</span>, åŸå­—ç¬¦ä¸²<span class="subst">$&#123;string&#125;</span>`</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;cab&#x27;</span>)) <span class="comment">// &quot;cåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ab, b, a, åç§»é‡1, åŸå­—ç¬¦ä¸²cab&quot;</span></span><br></pre></td></tr></table></figure><h3 id="åˆ†éš”å­—ç¬¦ä¸²"><a href="#åˆ†éš”å­—ç¬¦ä¸²" class="headerlink" title="åˆ†éš”å­—ç¬¦ä¸²"></a>åˆ†éš”å­—ç¬¦ä¸²</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">input</span>: <span class="attr">str</span>: <span class="string">&quot;1234567,123456,1234567,1234567890,123456789,1,2,3,4,5,6&quot;</span></span><br><span class="line">   <span class="attr">length</span>: <span class="number">14</span></span><br><span class="line"><span class="attr">ouput</span>: [</span><br><span class="line"><span class="string">&quot;1234567,123456&quot;</span>,</span><br><span class="line"><span class="string">&quot;1234567&quot;</span>,</span><br><span class="line"><span class="string">&quot;1234567890&quot;</span>,</span><br><span class="line"><span class="string">&quot;123456789,1,2&quot;</span>,</span><br><span class="line"><span class="string">&quot;3,4,5,6&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§è‡´æ„æ€ï¼Œå°†stråˆ†å‰²ï¼Œæ¯ä¸ªç‰‡æ®µä¸èƒ½è¶…è¿‡length, è¿æˆç‰‡çš„æ•°å­—ä¸èƒ½åˆ†å¼€ï¼Œé€—å·ä¹Ÿç®—é•¿åº¦</span></span><br></pre></td></tr></table></figure><p>è§£æ³•å¦‚ä¸‹ï¼š</p><h3 id="è®©console-error-a-1-amp-amp-a-2-amp-amp-a-3-æ‰“å°ç»“æœä¸ºtrueã€‚"><a href="#è®©console-error-a-1-amp-amp-a-2-amp-amp-a-3-æ‰“å°ç»“æœä¸ºtrueã€‚" class="headerlink" title="è®©console.error(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)æ‰“å°ç»“æœä¸ºtrueã€‚"></a>è®©console.error(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)æ‰“å°ç»“æœä¸ºtrueã€‚</h3><p>è§£æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">i</span>++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„nums-æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°æ­£æ•´æ•°"><a href="#ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„nums-æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°æ­£æ•´æ•°" class="headerlink" title="ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„nums,æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°æ­£æ•´æ•°"></a>ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„nums,æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°æ­£æ•´æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç©ºé—´å¤æ‚åº¦<span class="title function_">O</span>(<span class="number">1</span>),æ—¶é—´å¤æ‚åº¦<span class="title function_">O</span>(n)</span><br><span class="line"></span><br><span class="line">ä¾‹ï¼š<span class="attr">input</span>:[<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>] -&gt; <span class="attr">ouput</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">input</span>:[-<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>] -&gt; <span class="attr">ouput</span>:<span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="éšæœºæ‰“ä¹±æ•°ç»„"><a href="#éšæœºæ‰“ä¹±æ•°ç»„" class="headerlink" title="éšæœºæ‰“ä¹±æ•°ç»„"></a>éšæœºæ‰“ä¹±æ•°ç»„</h3><h3 id="å‘çº¢åŒ…"><a href="#å‘çº¢åŒ…" class="headerlink" title="å‘çº¢åŒ…"></a>å‘çº¢åŒ…</h3><h3 id="å¤§æ ¹å †"><a href="#å¤§æ ¹å †" class="headerlink" title="å¤§æ ¹å †"></a>å¤§æ ¹å †</h3><p>ç»™å®šä¸€ä¸ªä¸é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ï¼Œæ¥æ„å»ºæœ€å¤§æ ¹äºŒå‰æ ‘ï¼Œ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œä½¿ç”¨æ•°ç»„æœ€å¤§å€¼å·¦ä¾§çš„éƒ¨åˆ†æ„å»ºäºŒå‰æ ‘çš„å·¦å­æ ‘ï¼Œå³ä¾§éƒ¨åˆ†æ„å»ºäºŒå‰æ ‘çš„å³å­æ ‘ï¼Œ å·¦å³å­æ ‘éƒ½æ˜¯æœ€å¤§æ ¹äºŒå‰æ ‘ã€‚<br>ä¾‹å­ï¼šinput:[1,3,2,6,4,5]<br>ouput:<br>            6<br>        3        5<br>      1      2    4</p><h3 id="ğŸ’¢LazyMan"><a href="#ğŸ’¢LazyMan" class="headerlink" title="ğŸ’¢LazyMan"></a>ğŸ’¢LazyMan</h3><p>å®ç°ä¸€ä¸ªLazyMan,å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è°ƒç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>) </span><br><span class="line">è¾“å‡º: </span><br><span class="line"><span class="title class_">Hi</span>! <span class="title class_">This</span> is <span class="title class_">Hank</span>!</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleep</span>(<span class="number">10</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>)</span><br><span class="line">è¾“å‡º</span><br><span class="line"><span class="title class_">Hi</span>! <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="comment">//ç­‰å¾…10ç§’.. </span></span><br><span class="line"><span class="title class_">Wake</span> up after <span class="number">10</span> </span><br><span class="line"><span class="title class_">Eat</span> dinner~ </span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>)</span><br><span class="line">è¾“å‡º</span><br><span class="line"><span class="title class_">Hi</span> <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="title class_">Eat</span> dinner~</span><br><span class="line"><span class="title class_">Eat</span> supper~ </span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleepFirst</span>(<span class="number">5</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>)</span><br><span class="line">è¾“å‡º</span><br><span class="line"><span class="comment">// ç­‰å¾…5ç§’</span></span><br><span class="line"><span class="title class_">Wake</span> up after <span class="number">5</span> </span><br><span class="line"><span class="title class_">Hi</span> <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="title class_">Eat</span> supper</span><br></pre></td></tr></table></figure><p>è§£é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">LazyMan</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LazyManWrapper</span>(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">LazyManWrapper</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi! This is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>!`</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">next</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> task = <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">shift</span>();</span><br><span class="line">        <span class="title function_">task</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sleep</span> = <span class="keyword">function</span> (<span class="params">seconds</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wake up after <span class="subst">$&#123;seconds&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, seconds * <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sleepFirst</span> = <span class="keyword">function</span> (<span class="params">seconds</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">unshift</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wake up after <span class="subst">$&#123;seconds&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, seconds * <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">eat</span> = <span class="keyword">function</span> (<span class="params">food</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Eat <span class="subst">$&#123;food&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç¤ºä¾‹</span></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleep</span>(<span class="number">5</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleepFirst</span>(<span class="number">2</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="ğŸ’¥å®ç°ä¸€ä¸ªè®¡æ•°æ„é€ å‡½æ•°"><a href="#ğŸ’¥å®ç°ä¸€ä¸ªè®¡æ•°æ„é€ å‡½æ•°" class="headerlink" title="ğŸ’¥å®ç°ä¸€ä¸ªè®¡æ•°æ„é€ å‡½æ•°"></a>ğŸ’¥å®ç°ä¸€ä¸ªè®¡æ•°æ„é€ å‡½æ•°</h3><p>å†™ä¸€ä¸ªæ„é€ å‡½æ•° Fooï¼Œè¯¥å‡½æ•°æ¯ä¸ªå®ä¾‹ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå½¢å¦‚ {id: N}ï¼Œå…¶ä¸­ N è¡¨ç¤ºç¬¬ N æ¬¡è°ƒç”¨å¾—åˆ°çš„ã€‚<br>è¦æ±‚ï¼š<br>1ã€ä¸èƒ½ä½¿ç”¨å…¨å±€å˜é‡<br>2ã€ç›´æ¥è°ƒç”¨ Foo() ä¹Ÿä¼šè¿”å›å®ä¾‹åŒ–çš„å¯¹è±¡<br>3ã€å®ä¾‹åŒ–çš„å¯¹è±¡å¿…é¡»æ˜¯ Foo çš„å®ä¾‹</p><p>è§£é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æ˜¯newè°ƒç”¨ï¼Œå¦‚æœä¸æ˜¯ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªnewå‡ºæ¥çš„å®ä¾‹</span></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">Foo</span>)) &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Foo</span>()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯â†“</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = <span class="title class_">Foo</span>.<span class="property">cnt</span>++</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Foo</span>.<span class="property">cnt</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">5</span> &#125;, <span class="function">() =&gt;</span><span class="keyword">new</span> <span class="title class_">Foo</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Foo</span>())</span><br></pre></td></tr></table></figure><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728211809974.png" alt="image-20230728211809974" style="zoom:80%;" /><h3 id="å¼€å¹³æ–¹æ ¹ï¼ˆæ•´æ•°ã€å°æ•°ï¼‰"><a href="#å¼€å¹³æ–¹æ ¹ï¼ˆæ•´æ•°ã€å°æ•°ï¼‰" class="headerlink" title="å¼€å¹³æ–¹æ ¹ï¼ˆæ•´æ•°ã€å°æ•°ï¼‰"></a>å¼€å¹³æ–¹æ ¹ï¼ˆæ•´æ•°ã€å°æ•°ï¼‰</h3><h3 id="æ•°å­—é˜¶ä¹˜"><a href="#æ•°å­—é˜¶ä¹˜" class="headerlink" title="æ•°å­—é˜¶ä¹˜"></a>æ•°å­—é˜¶ä¹˜</h3><h3 id="ğŸ’¥å„ç§æ’åº"><a href="#ğŸ’¥å„ç§æ’åº" class="headerlink" title="ğŸ’¥å„ç§æ’åº"></a>ğŸ’¥å„ç§æ’åº</h3><p>å†’æ³¡æ’åº$O(n^2)$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[j]</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>]</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’å…¥æ’åº$O(n^2)$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">insertSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>)<span class="keyword">return</span> arr</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> prevIdx = i - <span class="number">1</span>,</span><br><span class="line">            curVal = arr[i]</span><br><span class="line">        <span class="keyword">while</span> (prevIdx &gt;= <span class="number">0</span> &amp;&amp; arr[prevIdx] &gt; curVal) &#123;</span><br><span class="line">            arr[prevIdx + <span class="number">1</span>] = arr[prevIdx]</span><br><span class="line">            prevIdx--</span><br><span class="line">        &#125;</span><br><span class="line">        arr[prevIdx + <span class="number">1</span>] = curVal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©æ’åº$O(n^2)$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> minIdx = i</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[minIdx] &gt; arr[j]) &#123;</span><br><span class="line">                minIdx = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = arr[i] <span class="comment">// æ¯æ¬¡éå†æ‰¾åˆ°æœ€å°æ•°ä¸éå†å…ƒç´ äº’æ¢ä½ç½®</span></span><br><span class="line">        arr[i] = arr[minIdx]</span><br><span class="line">        arr[minIdx] = temp</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¿«é€Ÿæ’åº$O(nlog2(n))$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> pivotIdx = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>), <span class="comment">// ä¸­é—´åŸºå‡†å€¼</span></span><br><span class="line">        pivot = arr[pivotIdx]</span><br><span class="line">    <span class="keyword">let</span> left = [], <span class="comment">// åŸºå‡†å€¼å·¦ä¾§å°å³ä¾§å¤§</span></span><br><span class="line">        right = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">            left.<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right.<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot], <span class="title function_">quickSort</span>(right)) <span class="comment">// é€’å½’</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸Œå°”æ’åº$O(n^{1.3})$ç¬¬ä¸€ä¸ªçªç ´$O(n^2)$çš„æ’åºç®—æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shellSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>) <span class="comment">// è·å–ä¸­é—´ç´¢å¼•ä½œä¸ºä¸¤æ•°é—´éš”</span></span><br><span class="line">    <span class="keyword">while</span> (gap &gt;= <span class="number">1</span>) &#123; <span class="comment">// ä¸¤æ•°é—´éš”ä¸å°äºä¸€</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = gap; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = arr[i] <span class="comment">// ç¼“å­˜gapå¾€åçš„å€¼</span></span><br><span class="line">            <span class="comment">// ç´¢å¼•å‰è·ç¦»gapçš„å…ƒç´ å¼€å§‹ï¼Œæ»¡è¶³å…ƒç´ å€¼å¤§äºç¼“å­˜å€¼ï¼Œå†å¾€å‰gap</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = i - gap; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j = j - gap) &#123;</span><br><span class="line">                arr[j + gap] = arr[j] <span class="comment">// åæ¯”è¾ƒå€¼æ›¿æ¢æˆå‰(å¤§)æ¯”è¾ƒå€¼</span></span><br><span class="line">            &#125;</span><br><span class="line">            arr[j + gap] = temp <span class="comment">// æŠŠéå†ç»ˆæ­¢å¤„å…ƒç´ å€¼æ›¿æ¢ä¸ºç¼“å­˜å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(gap / <span class="number">2</span>) <span class="comment">// ä¸æ˜¯å¾ˆèƒ½ç†è§£è¿™ä¸ª</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½’å¹¶æ’åº$O(nlog2(n))$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>),</span><br><span class="line">        left = arr.<span class="title function_">slice</span>(<span class="number">0</span>, mid),</span><br><span class="line">        right = arr.<span class="title function_">slice</span>(mid)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">merge</span>(<span class="title function_">mergeSort</span>(left), <span class="title function_">mergeSort</span>(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res = []</span><br><span class="line">    <span class="keyword">while</span> (left.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; right.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left[<span class="number">0</span>] &lt;= right[<span class="number">0</span>]) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(left.<span class="title function_">shift</span>())</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(right.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (left.<span class="property">length</span>) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(left.<span class="title function_">shift</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right.<span class="property">length</span>) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(right.<span class="title function_">shift</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äºŒåˆ†æŸ¥æ‰¾æ³•$O(log2(n))$</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éé€’å½’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">arr, key</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>,</span><br><span class="line">        high = len - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>((low + high) / <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> (key === arr[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; arr[mid]) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &lt; arr[mid]) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">arr, low, high, key</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (low &gt; high) <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>((low + high) / <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> (arr[mid] === key) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; key) &#123;</span><br><span class="line">        high = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">binarySearch</span>(arr, low, high, key)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; key) &#123;</span><br><span class="line">        low = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">binarySearch</span>(arr, low, high, key)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹¬å·åŒ¹é…"><a href="#æ‹¬å·åŒ¹é…" class="headerlink" title="æ‹¬å·åŒ¹é…"></a>æ‹¬å·åŒ¹é…</h3><h3 id="æœ€é•¿é‡å¤å­æ•°ç»„"><a href="#æœ€é•¿é‡å¤å­æ•°ç»„" class="headerlink" title="æœ€é•¿é‡å¤å­æ•°ç»„"></a>æœ€é•¿é‡å¤å­æ•°ç»„</h3><h3 id="äºŒå‰æ ‘æœ€å¤§æ·±åº¦"><a href="#äºŒå‰æ ‘æœ€å¤§æ·±åº¦" class="headerlink" title="äºŒå‰æ ‘æœ€å¤§æ·±åº¦"></a>äºŒå‰æ ‘æœ€å¤§æ·±åº¦</h3><h3 id="å¤§æ•°ç›¸ä¹˜"><a href="#å¤§æ•°ç›¸ä¹˜" class="headerlink" title="å¤§æ•°ç›¸ä¹˜"></a>å¤§æ•°ç›¸ä¹˜</h3><h3 id="hardMan"><a href="#hardMan" class="headerlink" title="hardMan()"></a>hardMan()</h3><h3 id="æ‰“å®¶åŠ«èˆ2"><a href="#æ‰“å®¶åŠ«èˆ2" class="headerlink" title="æ‰“å®¶åŠ«èˆ2"></a>æ‰“å®¶åŠ«èˆ2</h3><h3 id="æ‰“å®¶åŠ«èˆ3"><a href="#æ‰“å®¶åŠ«èˆ3" class="headerlink" title="æ‰“å®¶åŠ«èˆ3"></a>æ‰“å®¶åŠ«èˆ3</h3><h3 id="æœ€é•¿å­—ç¬¦ä¸²é“¾ï¼ˆleecodeçš„1048é¢˜ï¼‰"><a href="#æœ€é•¿å­—ç¬¦ä¸²é“¾ï¼ˆleecodeçš„1048é¢˜ï¼‰" class="headerlink" title="æœ€é•¿å­—ç¬¦ä¸²é“¾ï¼ˆleecodeçš„1048é¢˜ï¼‰"></a>æœ€é•¿å­—ç¬¦ä¸²é“¾ï¼ˆleecodeçš„1048é¢˜ï¼‰</h3><h3 id="å­ç±»ç»§æ‰¿çˆ¶ç±»"><a href="#å­ç±»ç»§æ‰¿çˆ¶ç±»" class="headerlink" title="å­ç±»ç»§æ‰¿çˆ¶ç±»"></a>å­ç±»ç»§æ‰¿çˆ¶ç±»</h3><h3 id="å¯¹åˆ—è¡¨å…ƒç´ ä¸­æŸä¸€å±æ€§è¿›è¡Œæ’åº"><a href="#å¯¹åˆ—è¡¨å…ƒç´ ä¸­æŸä¸€å±æ€§è¿›è¡Œæ’åº" class="headerlink" title="å¯¹åˆ—è¡¨å…ƒç´ ä¸­æŸä¸€å±æ€§è¿›è¡Œæ’åº"></a>å¯¹åˆ—è¡¨å…ƒç´ ä¸­æŸä¸€å±æ€§è¿›è¡Œæ’åº</h3><h3 id="å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•°å­—"><a href="#å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•°å­—" class="headerlink" title="å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•°å­—"></a>å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªæ•°å­—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼šè¾“å…¥ abcdefghij 3</span><br><span class="line"></span><br><span class="line">è¾“å…¥çš„å­—ç¬¦ä¸²æŒ‰ä»¥ä¸‹æ–¹å¼æ’åˆ—</span><br><span class="line"></span><br><span class="line">a   e   i</span><br><span class="line">b d f h j</span><br><span class="line">c   g</span><br><span class="line"></span><br><span class="line">ä½ éœ€è¦æŒ‰è¡Œè¾“å‡º</span><br><span class="line"></span><br><span class="line">ä½ éœ€è¦è¾“å‡ºçš„å­—ç¬¦ä¸²å½¢ä¼¼ aeibdfhjcg</span><br></pre></td></tr></table></figure><p>æˆ‘æ˜¯è¿™ä¹ˆæƒ³çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">str, num</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> s = str;</span><br><span class="line">  <span class="keyword">let</span> n = num + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(num).<span class="title function_">fill</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> s) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s[i]);</span><br><span class="line">    <span class="keyword">if</span> (i % n === num) &#123;</span><br><span class="line">      arr[<span class="number">1</span>] += s[i];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      arr[i % n] += s[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;abcdefghij&#x27;</span>, <span class="number">3</span>)); <span class="comment">// [&quot;aei&quot;, &quot;bdfhj&quot;, &quot;cg&quot;] aeibdfhjcg</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;abcdefghij&#x27;</span>, <span class="number">4</span>)); <span class="comment">// [&quot;af&quot;, &quot;begj&quot;, &quot;ch&quot;, &quot;di&quot;] afbegjchdi</span></span><br></pre></td></tr></table></figure><h3 id="å®ç°-lodash-get"><a href="#å®ç°-lodash-get" class="headerlink" title="å®ç° lodash.get"></a>å®ç° lodash.get</h3><h3 id="LCå²›å±¿æ•°é‡ï¼Œæœ€å¤§å²›å±¿é¢ç§¯"><a href="#LCå²›å±¿æ•°é‡ï¼Œæœ€å¤§å²›å±¿é¢ç§¯" class="headerlink" title="LCå²›å±¿æ•°é‡ï¼Œæœ€å¤§å²›å±¿é¢ç§¯"></a>LCå²›å±¿æ•°é‡ï¼Œæœ€å¤§å²›å±¿é¢ç§¯</h3><h3 id="2208-å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°ï¼Œå»ºä¸ªå †å§"><a href="#2208-å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°ï¼Œå»ºä¸ªå †å§" class="headerlink" title="2208. å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°ï¼Œå»ºä¸ªå †å§"></a><a href="https://leetcode.cn/problems/minimum-operations-to-halve-array-sum/">2208. å°†æ•°ç»„å’Œå‡åŠçš„æœ€å°‘æ“ä½œæ¬¡æ•°</a>ï¼Œå»ºä¸ªå †å§</h3><h1 id="ğŸ§®è®¾è®¡æ¨¡å¼"><a href="#ğŸ§®è®¾è®¡æ¨¡å¼" class="headerlink" title="ğŸ§®è®¾è®¡æ¨¡å¼"></a>ğŸ§®è®¾è®¡æ¨¡å¼</h1><p>å®šä¹‰ï¼šè®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹ç‰¹å®šé—®é¢˜çš„ç®€æ´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåˆ›å»ºã€ç»“æ„ã€è¡Œä¸ºè§„èŒƒã€‚</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230910212901425.png" alt="image-20230910212901425"></p><h2 id="åˆ›å»º-1"><a href="#åˆ›å»º-1" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>æ„å›¾ï¼š</p><ol><li>ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹éµã€‚å¾ªçœŸç†å•ç‚¹æ€§çš„è§‚ç‚¹ï¼Œéµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼ˆFCC:ä¸å¯å¤åˆ¶ä¸å¯æ›´æ”¹ï¼‰</li><li>å¹¶æä¾›è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚æ–¹ä¾¿è°ƒç”¨è®¿é—®ã€‚</li></ol><p>å•ä¾‹æ¨¡å¼ç¦æ­¢é€šè¿‡é™¤ç‰¹æ®Šæ„å»ºæ–¹æ³•ä»¥å¤–çš„ä»»ä½•æ–¹å¼æ¥åˆ›å»ºè‡ªèº«ç±»çš„å¯¹è±¡ã€‚è¯¥æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¦‚è‹¥è¯¥å¯¹è±¡å·²ç»è¢«åˆ›å»ºï¼Œé‚£ä¹ˆè¿”å›çš„åº”æ˜¯å·²æœ‰çš„å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Singleton</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Singleton</span>.<span class="property">instance</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨æ­¤å¤„åˆå§‹åŒ–å•ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">someProperty</span> = <span class="string">&#x27;This is a singleton instance&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å®ä¾‹å­˜å‚¨åœ¨é™æ€å±æ€§ä¸­ï¼Œä»¥ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨</span></span><br><span class="line">    <span class="title class_">Singleton</span>.<span class="property">instance</span> = <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰å…¶ä»–æ–¹æ³•å’Œå±æ€§</span></span><br><span class="line">  <span class="title function_">someMethod</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">someProperty</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå•ä¾‹å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> instance1 = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"><span class="keyword">const</span> instance2 = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”±äºå•ä¾‹æ¨¡å¼ï¼Œè¿™ä¸¤ä¸ªå®ä¾‹åº”è¯¥æ˜¯ç›¸åŒçš„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(instance1 === instance2); <span class="comment">// è¾“å‡ºï¼štrue</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥è®¿é—®å•ä¾‹å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">instance1.<span class="title function_">someMethod</span>(); <span class="comment">// è¾“å‡ºï¼šThis is a singleton instance</span></span><br><span class="line">instance2.<span class="title function_">someMethod</span>(); <span class="comment">// è¾“å‡ºï¼šThis is a singleton instance</span></span><br></pre></td></tr></table></figure><p>ç»“æ„ï¼šâ†‘</p><p>æ¡ˆä¾‹ï¼šä»¥ä¸‹æ˜¯å¯¹ä¸€ä¸ªå•ä¸€å¯¹è±¡è¿›è¡Œè®¾ç½®ï¼Œä»è€Œç¦æ­¢ä¿®æ”¹/æ·»åŠ å¯¹è±¡ä¸­ä»»ä½•å†…å®¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹è±¡å­—é¢é‡</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Config</span> = &#123;</span><br><span class="line">    <span class="attr">start</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;haha&#x27;</span>),</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(<span class="title class_">Config</span>) <span class="comment">// å†»ç»“å¯¹è±¡ï¼Œé™åˆ¶æ·»åŠ å±æ€§å’Œä¿®æ”¹å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Config</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="title function_">start</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hahaha&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> <span class="title class_">Config</span>()</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(instance)</span><br></pre></td></tr></table></figure><h3 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h3><p>æä¾›åˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œå¯¹è±¡è¢«åˆ›å»ºåå¯ä»¥è¢«ä¿®æ”¹ã€‚å°†åˆ›å»ºå¯¹è±¡çš„é€»è¾‘é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œç®€åŒ–ä»£ç ï¼Œä½¿æ›´æ˜“ç»„ç»‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å·¥å‚å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params">name, phrase</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">phrase</span> = phrase</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Test</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">saySth</span> = <span class="function">() =&gt;</span> &#123; <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> : <span class="subst">$&#123;<span class="variable language_">this</span>.phrase&#125;</span>`</span> &#125;</span><br><span class="line"><span class="keyword">const</span> ra = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;Ra&#x27;</span>, <span class="string">&#x27;eating&#x27;</span>)</span><br><span class="line">ra.<span class="title function_">saySth</span>() <span class="comment">// =&gt; Ra : eating</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> (name, phrase)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">phrase</span> = phrase</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">saySth</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`It&#x27;s <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> the <span class="subst">$&#123;<span class="variable language_">this</span>.phrase&#125;</span> guy!`</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> liz = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;Liz&#x27;</span>, <span class="string">&#x27;coding&#x27;</span>)</span><br><span class="line">liz.<span class="title function_">saySth</span>() <span class="comment">// =&gt; It&#x27;s Liz the coding guy!</span></span><br></pre></td></tr></table></figure><h3 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h3><p>å…è®¸åœ¨ä¸æŒ‡å®šå…·ä½“ç±»çš„æƒ…å†µä¸‹ç”Ÿæˆä¸€ç³»åˆ—ç›¸å…³çš„å¯¹è±¡ã€‚åˆ›å»ºä»…å…±äº«æŸäº›å±æ€§æ–¹æ³•çš„å¯¹è±¡ã€‚</p><p>ç»™å®¢æˆ·ç«¯æä¾›ä¸€ä¸ªå¯ä»¥äº¤äº’çš„æŠ½è±¡å·¥å‚ï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥é€šè¿‡ç‰¹å®šé€»è¾‘è°ƒç”¨å…·ä½“å·¥å‚ï¼Œå…·ä½“å·¥å‚è¿”å›æœ€ç»ˆå¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Car&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`DiDi! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Truck</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Truck&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">8</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wuuuuuu! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Motorcycle</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Motorcycle&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`BiBi! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚ï¼šæä¾›å•ä¸€äº¤äº’ç‚¹å’Œå®¢æˆ·ç«¯äº¤äº’</span></span><br><span class="line"><span class="keyword">const</span> vehicleFactory = &#123;</span><br><span class="line">    <span class="attr">createVehicle</span>: <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;car&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Car</span>()</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;truck&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Truck</span>()</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;motorcycle&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Motorcycle</span>()</span><br><span class="line">            <span class="attr">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> car = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;car&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> truck = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;truck&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> motorcycle = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;motorcycle&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ„é€ å™¨æ¨¡å¼"><a href="#æ„é€ å™¨æ¨¡å¼" class="headerlink" title="æ„é€ å™¨æ¨¡å¼"></a>æ„é€ å™¨æ¨¡å¼</h3><p>æ„é€ å™¨æ¨¡å¼åˆ†æ­¥éª¤åˆ›å»ºå¯¹è±¡ã€‚é€šè¿‡ä¸åŒçš„å‡½æ•°å’Œæ–¹æ³•å¯¹å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚é€šè¿‡ä¸åŒçš„å®ä½“åˆ†å¼€åˆ›å»ºå±æ€§å’Œæ–¹æ³•ã€‚</p><p>é€šè¿‡ç±»æˆ–æ„é€ å‡½æ•°åˆ›å»ºçš„å®ä¾‹é€šå¸¸ç»§æ‰¿äº†æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨æ„é€ å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åªåº”ç”¨æˆ‘ä»¬éœ€è¦çš„æ­¥éª¤æ¥åˆ›å»ºå¯¹è±¡ï¼Œæ›´åŠ çµæ´»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bug1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;A the Bug&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> bug2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;B the Bug&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addFlyAbility</span> = obj =&gt; &#123;</span><br><span class="line">    obj.<span class="property">fly</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;obj.name&#125;</span> is flying`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addJumpAbility</span> = obj =&gt; &#123;</span><br><span class="line">    obj.<span class="property">jump</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;obj.name&#125;</span> is jumping`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addFlyAbility</span>(bug1)</span><br><span class="line">bug1.<span class="title function_">fly</span>() <span class="comment">// A the Bug is flying</span></span><br><span class="line"><span class="title function_">addJumpAbility</span>(bug2)</span><br><span class="line">bug2.<span class="title function_">jump</span>() <span class="comment">// B the Bug is flying</span></span><br></pre></td></tr></table></figure><h3 id="åŸå‹-1"><a href="#åŸå‹-1" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p>å…è®¸å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºè“å›¾æ¥åˆ›å»ºå¦ä¸€ä¸ªæ–°å¯¹è±¡ã€‚æ–°å¯¹è±¡ç»§æ‰¿åŸå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">fly</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;flyyyyyy&#x27;</span>)&#125;</span><br><span class="line">    <span class="attr">jump</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;jumppppp&#x27;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;raliz&#x27;</span></span><br><span class="line">    <span class="attr">age</span>: <span class="string">&#x27;21&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">setPrototype</span>(obj2, obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj2))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">name</span>, obj1.<span class="title function_">lfy</span>()) <span class="comment">// =&gt; raliz flyyyyyy</span></span><br></pre></td></tr></table></figure><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><h3 id="é€‚é…å™¨"><a href="#é€‚é…å™¨" class="headerlink" title="é€‚é…å™¨"></a>é€‚é…å™¨</h3><p>å…è®¸ä¸¤ä¸ªæ¥å£ä¸å…¼å®¹çš„å¯¹è±¡ç›¸äº’äº¤äº’ã€‚</p><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f33643562383238652d356334642d343864382d613434302d3238316534613865316339322e706e67.png" alt="img"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—§çš„æ¸©åº¦è®¡ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OldThermometer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureFahrenheit</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span> = temperature;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°çš„æ¸©åº¦è®¡ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NewThermometer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureCelsius</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span> = temperature;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‚é…å™¨ç±»ï¼Œå°†OldThermometeré€‚é…ä¸ºNewThermometeræ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThermometerAdapter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">oldThermometer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">oldThermometer</span> = oldThermometer;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è½¬æ¢åæ°åº¦åˆ°æ‘„æ°åº¦</span></span><br><span class="line">    <span class="keyword">const</span> temperatureFahrenheit = <span class="variable language_">this</span>.<span class="property">oldThermometer</span>.<span class="title function_">getTemperature</span>();</span><br><span class="line">    <span class="keyword">const</span> temperatureCelsius = (temperatureFahrenheit - <span class="number">32</span>) * <span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line">    <span class="keyword">return</span> temperatureCelsius;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureCelsius</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="comment">// è½¬æ¢æ‘„æ°åº¦åˆ°åæ°åº¦</span></span><br><span class="line">    <span class="keyword">const</span> temperatureFahrenheit = (temperature * <span class="number">9</span>/<span class="number">5</span>) + <span class="number">32</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">oldThermometer</span>.<span class="title function_">setTemperatureFahrenheit</span>(temperatureFahrenheit);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨é€‚é…å™¨</span></span><br><span class="line"><span class="keyword">const</span> oldThermometer = <span class="keyword">new</span> <span class="title class_">OldThermometer</span>();</span><br><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> <span class="title class_">ThermometerAdapter</span>(oldThermometer);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–°çš„æ¸©åº¦è®¡æ¥å£æ¥è·å–æ¸©åº¦</span></span><br><span class="line">adapter.<span class="title function_">setTemperatureCelsius</span>(<span class="number">30</span>); <span class="comment">// è®¾ç½®æ‘„æ°åº¦</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Temperature in Celsius: <span class="subst">$&#123;adapter.getTemperature()&#125;</span>Â°C`</span>); <span class="comment">// è·å–æ‘„æ°åº¦</span></span><br></pre></td></tr></table></figure><h3 id="è£…é¥°"><a href="#è£…é¥°" class="headerlink" title="è£…é¥°"></a>è£…é¥°</h3><p>é€šè¿‡ä¸€ä¸ªå¯¹è±¡åŒ…è£¹åŸæ¥çš„å¯¹è±¡ï¼Œä»è€Œç»™åŸæ¥çš„å¯¹è±¡å¢æ·»æ–°çš„è¡Œä¸ºã€‚</p><p>å¯ä»¥å›æƒ³ä¸€ä¸‹Reacté¡¹ç›®ä¸­çŠ¶æ€ç®¡ç†çš„é…ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">export defualt function ContextProvider = (&#123; children &#125;) =&gt; &#123;</span><br><span class="line">    return(</span><br><span class="line">        &lt;Context.Provider&gt;</span><br><span class="line">        &#123;children&#125;</span><br><span class="line">        &lt;/Context.Provider&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export defualt function APP() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;ContextProvider&gt;</span><br><span class="line">            &lt;Router&gt;</span><br><span class="line">                &lt;Routes&gt;....&lt;/Routes&gt;</span><br><span class="line">            &lt;/Router&gt;</span><br><span class="line">        &lt;/ContextProvider&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const default function Apage() &#123;</span><br><span class="line">    ....</span><br><span class="line">    const &#123; qvq &#125; = useContext(Context)</span><br><span class="line">    return (....)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤–è§‚"><a href="#å¤–è§‚" class="headerlink" title="å¤–è§‚"></a>å¤–è§‚</h3><p>ç»™åº“ã€æ¡†æ¶ä»¥åŠå…¶ä»–å¤æ‚çš„ç±»é›†æä¾›ç®€åŒ–çš„æ¥å£ã€‚</p><p>æƒ³ä¸€ä¸‹å¾ˆå¤šå°è£…çš„æ¥å£æ–¹æ³•ï¼Œå¾ˆå¤šç»„ä»¶åº“å°è£…å¥½çš„ç»„ä»¶ã€‚</p><h3 id="ä»£ç†-1"><a href="#ä»£ç†-1" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p>ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›æ›¿ä»£æˆ–å ä½ç¬¦ã€‚æ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ï¼Œå½“è¯·æ±‚åˆ°è¾¾åŸå§‹å¯¹è±¡ä¹‹å‰/åæ‰§è¡ŒæŸç§æ“ä½œã€‚</p><p>æƒ³ä¸€ä¸‹ä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯·æ±‚åˆ°è¾¾å‰/ä¸­/åæ‰§è¡Œä¸€æ®µä»£ç ã€‚</p><h3 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h3><p>å®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œ é€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œ è®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚</p><h2 id="è¡Œä¸ºèŒƒå¼"><a href="#è¡Œä¸ºèŒƒå¼" class="headerlink" title="è¡Œä¸ºèŒƒå¼"></a>è¡Œä¸ºèŒƒå¼</h2><h3 id="è´£ä»»é“¾"><a href="#è´£ä»»é“¾" class="headerlink" title="è´£ä»»é“¾"></a>è´£ä»»é“¾</h3><p>è´£ä»»é“¾å°†è¯·æ±‚é€šè¿‡å¤„ç†é“¾ä¼ é€’ã€‚ï¼ˆä¸åŒçš„å®ä½“åä½œå®è¡Œä»»åŠ¡ï¼‰</p><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><p>ç”¨äºéå†é›†åˆå…ƒç´ ã€‚æœ‰å¾ˆå¤šè¿­ä»£æ–¹æ³•çš„å‘ƒå‘ƒã€‚</p><h3 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h3><p>å…è®¸å®šä¹‰ä¸€ä¸ªè®¢é˜…æœºåˆ¶ï¼Œé€šçŸ¥å¤šä¸ªå¯¹è±¡ï¼Œä»–ä»¬æ­£åœ¨è§‚å¯Ÿçš„è¿™ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿçš„å˜åŒ–äº‹ä»¶ã€‚</p><p>è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸æ˜¯åŒæ­¥çš„ã€‚</p><h3 id="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"><a href="#å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="headerlink" title="å‘å¸ƒ-è®¢é˜…æ¨¡å¼"></a>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</h3><p>å…è®¸å®šä¹‰ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒ(æ¶ˆæ¯ä»£ç†)ï¼Œå…è®¸å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´è§£è€¦ã€‚</p><p>å‘å¸ƒè®¢é˜…æ¨¡å¼é€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œå‘å¸ƒè€…å‘å¸ƒäº‹ä»¶ä¹‹åä¸ä¼šç«‹å³é€šçŸ¥è®¢é˜…è€…ï¼Œè€Œæ˜¯ç­‰å¾…è®¢é˜…è€…è®¢é˜…ç›¸å…³äº‹ä»¶çš„æ—¶å€™æ‰ä¼šé€šçŸ¥ã€‚</p><h1 id="ğŸ˜è‡ªæˆ‘ä»‹ç»"><a href="#ğŸ˜è‡ªæˆ‘ä»‹ç»" class="headerlink" title="ğŸ˜è‡ªæˆ‘ä»‹ç»"></a>ğŸ˜è‡ªæˆ‘ä»‹ç»</h1><p>é¦–å…ˆè­¦å‘Šä¸€ä¸‹ä½ è‡ªå·±ï¼Œä¸è¦å‡ºç°â€˜å°±æ˜¯å°±æ˜¯å°±æ˜¯â€™â€˜æ€ä¹ˆè¯´æ€ä¹ˆè¯´â€™è¿™ç§å£å¤´ç¦…ï¼Œè€å¯æ¶äº†å½•éŸ³é‡Œå¬ç€ï¼</p><p>ç„¶åå°±æ˜¯ï¼Œå¸¦è€³æœºï¼çœŸçš„å¾ˆå®¹æ˜“å¬ä¸æ¸…é¢è¯•å®˜çš„é—®é¢˜ã€‚</p><p>é™æ€ï¼Œæ„Ÿè§‰è¯´ä¸å®Œæ•´çš„çš„ä¸å¦‚ç›´æ¥è¯´ä¸çŸ¥é“è¯¥æ€ä¹ˆå™è¿°ã€‚</p><h2 id="é¢è¯•å¼€å¤´çš„è‡ªæˆ‘ä»‹ç»"><a href="#é¢è¯•å¼€å¤´çš„è‡ªæˆ‘ä»‹ç»" class="headerlink" title="é¢è¯•å¼€å¤´çš„è‡ªæˆ‘ä»‹ç»"></a>é¢è¯•å¼€å¤´çš„è‡ªæˆ‘ä»‹ç»</h2><h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©å‰ç«¯"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©å‰ç«¯" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©å‰ç«¯"></a>ä¸ºä»€ä¹ˆé€‰æ‹©å‰ç«¯</h2><p>æ‰€æ•²å³æ‰€è§ï¼Œæ‰€è§å³æ‰€å¾—</p><h2 id="æ€ä¹ˆå­¦ä¹ çš„å‰ç«¯"><a href="#æ€ä¹ˆå­¦ä¹ çš„å‰ç«¯" class="headerlink" title="æ€ä¹ˆå­¦ä¹ çš„å‰ç«¯"></a>æ€ä¹ˆå­¦ä¹ çš„å‰ç«¯</h2><h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªåŸå¸‚"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªåŸå¸‚" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªåŸå¸‚"></a>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªåŸå¸‚</h2><h1 id="ğŸ‘”åé—®"><a href="#ğŸ‘”åé—®" class="headerlink" title="ğŸ‘”åé—®"></a>ğŸ‘”åé—®</h1><p>çº¯è§‰å¾—è‡ªå·±èœï¼š</p><h2 id="å…¬å¸å¼€å‘éƒ¨é—¨äººå‘˜ç»“æ„ï¼ŒåŒå²—ä½äººå‘˜æ•°é‡ï¼Œå›¢é˜Ÿæ°›å›´ï¼Œæ—¥å¸¸æŠ€æœ¯äº¤æµ"><a href="#å…¬å¸å¼€å‘éƒ¨é—¨äººå‘˜ç»“æ„ï¼ŒåŒå²—ä½äººå‘˜æ•°é‡ï¼Œå›¢é˜Ÿæ°›å›´ï¼Œæ—¥å¸¸æŠ€æœ¯äº¤æµ" class="headerlink" title="å…¬å¸å¼€å‘éƒ¨é—¨äººå‘˜ç»“æ„ï¼ŒåŒå²—ä½äººå‘˜æ•°é‡ï¼Œå›¢é˜Ÿæ°›å›´ï¼Œæ—¥å¸¸æŠ€æœ¯äº¤æµ"></a>å…¬å¸å¼€å‘éƒ¨é—¨äººå‘˜ç»“æ„ï¼ŒåŒå²—ä½äººå‘˜æ•°é‡ï¼Œå›¢é˜Ÿæ°›å›´ï¼Œæ—¥å¸¸æŠ€æœ¯äº¤æµ</h2><p>å¯¹ä¸šåŠ¡æ„Ÿå…´è¶£ï¼š</p><h2 id="å®˜ç½‘çœ‹åˆ°â€¦å…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„-è¯¢é—®ä¸€äº›çŒœæƒ³"><a href="#å®˜ç½‘çœ‹åˆ°â€¦å…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„-è¯¢é—®ä¸€äº›çŒœæƒ³" class="headerlink" title="å®˜ç½‘çœ‹åˆ°â€¦å…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„(è¯¢é—®ä¸€äº›çŒœæƒ³)"></a>å®˜ç½‘çœ‹åˆ°â€¦å…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„(è¯¢é—®ä¸€äº›çŒœæƒ³)</h2><p>æ¯”è¾ƒæœ‰è¿‡çš„æŠŠæ¡ï¼š</p><h2 id="åŸ¹å…»å®ä¹ ç”Ÿçš„è·¯çº¿æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ"><a href="#åŸ¹å…»å®ä¹ ç”Ÿçš„è·¯çº¿æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ" class="headerlink" title="åŸ¹å…»å®ä¹ ç”Ÿçš„è·¯çº¿æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ"></a>åŸ¹å…»å®ä¹ ç”Ÿçš„è·¯çº¿æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</h2><h2 id="åˆ†é…ä»»åŠ¡æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ"><a href="#åˆ†é…ä»»åŠ¡æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ" class="headerlink" title="åˆ†é…ä»»åŠ¡æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ"></a>åˆ†é…ä»»åŠ¡æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</h2><h2 id="éœ€è¦æå‰å‡†å¤‡ä¸€äº›ä»€ä¹ˆï¼Ÿ"><a href="#éœ€è¦æå‰å‡†å¤‡ä¸€äº›ä»€ä¹ˆï¼Ÿ" class="headerlink" title="éœ€è¦æå‰å‡†å¤‡ä¸€äº›ä»€ä¹ˆï¼Ÿ"></a>éœ€è¦æå‰å‡†å¤‡ä¸€äº›ä»€ä¹ˆï¼Ÿ</h2>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•é¢˜ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/4a17b156.html"/>
      <url>/post/4a17b156.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªæˆ‘ä»‹ç»</title>
      <link href="/post/7f89b6f6.html"/>
      <url>/post/7f89b6f6.html</url>
      
        <content type="html"><![CDATA[<p>å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</p>]]></content>
      
      
      <categories>
          
          <category> è‡ªä¸» </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>å‹æƒ…é“¾æ¥</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
