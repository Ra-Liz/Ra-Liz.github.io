<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>好面的糖炒栗子 | Ra-Liz's Blog</title><meta name="author" content="Ra-liz"><meta name="copyright" content="Ra-liz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="好面的糖炒栗子！坚持打基础、提素质！好好笔试面试！  💻浏览器✅从在地址栏输入url地址到页面渲染的详细过程MDN原文  原文嵌套原文，建议大家好好看一下。我爱MDN 这一段过程主要分为五个阶段，分别是：导航、响应、解析、渲染、交互 导航首先在浏览器中输入URL 查找缓存浏览器先查看浏览器缓存-系统缓存-路由缓存中是否有该地址页面，如果有则显示页面内容。如果没有则进行下一步。    浏览器缓存：">
<meta property="og:type" content="article">
<meta property="og:title" content="好面的糖炒栗子">
<meta property="og:url" content="https://ra-liz.github.io/post/cf5c.html">
<meta property="og:site_name" content="Ra-Liz&#39;s Blog">
<meta property="og:description" content="好面的糖炒栗子！坚持打基础、提素质！好好笔试面试！  💻浏览器✅从在地址栏输入url地址到页面渲染的详细过程MDN原文  原文嵌套原文，建议大家好好看一下。我爱MDN 这一段过程主要分为五个阶段，分别是：导航、响应、解析、渲染、交互 导航首先在浏览器中输入URL 查找缓存浏览器先查看浏览器缓存-系统缓存-路由缓存中是否有该地址页面，如果有则显示页面内容。如果没有则进行下一步。    浏览器缓存：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ra-liz.github.io/img/favicon.png">
<meta property="article:published_time" content="2023-01-23T11:20:46.000Z">
<meta property="article:modified_time" content="2024-10-28T12:37:59.169Z">
<meta property="article:author" content="Ra-liz">
<meta property="article:tag" content="Ra-Liz,Ra-Liz的博客,Yifan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ra-liz.github.io/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ra-liz.github.io/post/cf5c.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '好面的糖炒栗子',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-28 20:37:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"><nav id="nav"><span id="blog-info"><a href="/" title="Ra-Liz's Blog"><span class="site-name">Ra-Liz's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">好面的糖炒栗子</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-23T11:20:46.000Z" title="发表于 2023-01-23 19:20:46">2023-01-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-28T12:37:59.169Z" title="更新于 2024-10-28 20:37:59">2024-10-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="好面的糖炒栗子"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>好面的糖炒栗子！坚持打基础、提素质！好好笔试面试！</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%8F%9C%E7%8B%97.gif" alt="菜狗"></p>
<h1 id="💻浏览器"><a href="#💻浏览器" class="headerlink" title="💻浏览器"></a>💻浏览器</h1><h2 id="✅从在地址栏输入url地址到页面渲染的详细过程"><a href="#✅从在地址栏输入url地址到页面渲染的详细过程" class="headerlink" title="✅从在地址栏输入url地址到页面渲染的详细过程"></a>✅从在地址栏输入url地址到页面渲染的详细过程</h2><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work">MDN原文</a>  原文嵌套原文，建议大家好好看一下。我爱MDN</p>
<p>这一段过程主要分为五个阶段，分别是：导航、响应、解析、渲染、交互</p>
<h3 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h3><p>首先在浏览器中输入URL</p>
<h4 id="查找缓存"><a href="#查找缓存" class="headerlink" title="查找缓存"></a>查找缓存</h4><p>浏览器先查看浏览器缓存-系统缓存-路由缓存中是否有该地址页面，如果有则显示页面内容。如果没有则进行下一步。</p>
<ul>
<li>  浏览器缓存：浏览器会记录DNS一段时间，因此，只是第一个地方解析DNS请求；</li>
<li>  操作系统缓存:如果在浏览器缓存中不包含这个记录，则会使系统调用操作系统， 获取操作系统的记录(保存最近的DNS查询缓存)；</li>
<li>  路由器缓存：如果上述两个步骤均不能成功获取DNS记录，继续搜索路由器缓存；</li>
<li>  ISP缓存：若上述均失败，继续向ISP搜索（ISP本身是<strong>一种宽带接入提供商给网页批量访问加速的技术</strong>。 ISP会将当前访问量较大的网页内容放到ISP服务器的缓存中，当有新的用户请求相同内容时，可以直接从缓存中发送相关信息，不必每次都去访问真正的网站，从而加快了不同用户对相同内容的访问速度，同时也能节省网间流量结算成本）。</li>
</ul>
<h4 id="DNS域名解析"><a href="#DNS域名解析" class="headerlink" title="DNS域名解析"></a>DNS域名解析</h4><p>浏览器向<strong>DNS服务器</strong>发起请求，解析该URL中的域名对应的<strong>IP地址</strong>。这个IP地址会在浏览器缓存中记录一段时间↑</p>
<p><code>DNS服务器是基于UDP的，因此会用到UDP协议</code>。</p>
<h4 id="建立TCP连接"><a href="#建立TCP连接" class="headerlink" title="建立TCP连接"></a>建立TCP连接</h4><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/ssl.jpg" alt="DNS 查询、TCP 握手和 TLS 5 步握手（包括服务器和客户端之间的 clienthello、serverhello 以及证书、clientkey 和完成消息）。" style="zoom:50%;" />

<p>解析出IP地址后，根据IP地址和默认80端口，和服务器建立TCP连接</p>
<h5 id="三次握手（TCP-Handshake）"><a href="#三次握手（TCP-Handshake）" class="headerlink" title="三次握手（TCP Handshake）"></a>三次握手（TCP Handshake）</h5><p>三次握手SYN-SYNACK-ACK，与服务器建立连接。</p>
<h6 id="三次握手过程"><a href="#三次握手过程" class="headerlink" title="三次握手过程"></a><a target="_blank" rel="noopener" href="https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84">三次握手过程</a></h6><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230713102159611.png" alt="image-20230713102159611" style="zoom:67%;" />

<p>图解释得已经非常清除了</p>
<h6 id="为什么是三次？"><a href="#为什么是三次？" class="headerlink" title="为什么是三次？"></a>为什么是三次？</h6><ul>
<li><p>阻止重复历史连接的初始化：浅浅做了个图↓(假设两次握手)</p>
<ul>
<li>客户端发送SYN报文，第一次拥塞第二次发出第一次先到</li>
<li>服务器接收到第一个，回复ACK-SYN报文，之后直接发送数据</li>
<li>结果不是，终端，数据作废</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E5%9B%BE%E8%A7%A3.jpg" alt="图解" style="zoom: 67%;" /></li>
<li><p>同步双方初始序列号：<code>seqnum = client isn  acknum = seqnum + 1  seqnum = server isn  acknum = seqnum + 1</code></p>
</li>
<li><p>避免浪费资源：</p>
<ul>
<li>可合并→<code>seqnum = client isn  (acknum = seqnum + 1  seqnum = server isn)  acknum = seqnum + 1</code></li>
<li>避免历史链接重复建立而产生的冗余连接</li>
</ul>
</li>
</ul>
<p>以上三点才能建立一个比较可靠的链接。</p>
<h6 id="为什么每次建立TCP连接的初始序列号是不一样的？"><a href="#为什么每次建立TCP连接的初始序列号是不一样的？" class="headerlink" title="为什么每次建立TCP连接的初始序列号是不一样的？"></a>为什么每次建立TCP连接的初始序列号是不一样的？</h6><p>一是如果出现，那上面这种情况就莫得行了。</p>
<h6 id="ISN是如何随机生成的？"><a href="#ISN是如何随机生成的？" class="headerlink" title="ISN是如何随机生成的？"></a>ISN是如何随机生成的？</h6><h6 id="已经有了IP的MTU分片，为什么还要进行TCP的MSS分片？"><a href="#已经有了IP的MTU分片，为什么还要进行TCP的MSS分片？" class="headerlink" title="已经有了IP的MTU分片，为什么还要进行TCP的MSS分片？"></a>已经有了IP的MTU分片，为什么还要进行TCP的MSS分片？</h6><h6 id="第一次握手消失会发生什么？"><a href="#第一次握手消失会发生什么？" class="headerlink" title="第一次握手消失会发生什么？"></a>第一次握手消失会发生什么？</h6><p>客户端处在<code>SYN_SENT</code>状态，等待服务端返回<code>ACK</code>报文，但是第一次握手消失，服务端一直处在<code>CLOSE/LISTEN</code>状态，客户端也因为一直收不到服务端回复而进行超时发送，直到达到最大发送次数<code>tcp_syn_retries</code>，停止发送，返回<code>CLOSE</code>状态。</p>
<h6 id="第二次握手消失会发生什么？"><a href="#第二次握手消失会发生什么？" class="headerlink" title="第二次握手消失会发生什么？"></a>第二次握手消失会发生什么？</h6><p>第二次握手消失，此时不仅客户端没有收到<code>ACK</code>报文，服务器发送了<code>SYN-ACK</code>报文也一直处在半连接<code>SYN_RCVD</code>状态等待客户端发<code>ACK</code>。客户端以为服务端没收到自己发出的<code>SYN</code>报文，于是超时重传；服务端也认为客户端没收到<code>SYN-ACK</code>报文，于是超时重传。直到达到了最大发送次数<code>tcp_syn_retries&amp;tcp_synack_retries</code>而停止发送，都返回<code>CLOSE</code>状态。</p>
<h6 id="第三次握手消失会发生什么？"><a href="#第三次握手消失会发生什么？" class="headerlink" title="第三次握手消失会发生什么？"></a>第三次握手消失会发生什么？</h6><p>第三次握手消失，客户端已然是连接状态<code>ESTABLISHED</code>，服务端则依然是是在等待<code>ACK</code>报文的半连接状态。这个时候服务器会认为客户端可能没有收到自己发的<code>SYN-ACK</code>，于是超时重传，直到达到最大发送次数，返回关闭状态。</p>
<h6 id="SYN攻击是啥，如何避免？"><a href="#SYN攻击是啥，如何避免？" class="headerlink" title="SYN攻击是啥，如何避免？"></a>SYN攻击是啥，如何避免？</h6><p><strong>SYN攻击</strong>核心攻击方式就是攻击者仿了巨量不同的IP地址给指定服务器发送<code>SYN</code>报文，服务端每次收到一条<code>SYN</code>报文都会进入半连接状态，并给IP地址发送<code>SYN-ACK</code>报文。但是不妙的是，服务器是没有收到这些IP地址应答的，这导致服务器<strong>半连接队列</strong>(也就是SYN队列)逐渐占满，使得正常来服务器握手的客户端获得不到服务器的服务空间。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717222012470.png" alt="image-20230717222012470" style="zoom:50%;" />

<p><strong>避免</strong></p>
<ul>
<li>调大<code>netdev_max_backlog</code></li>
<li>增大TCP半连接队列</li>
<li>开启<code>tcp_syncookies</code></li>
<li>减少SYN+ACK重传次数</li>
</ul>
<h5 id="TLS协商（TLS-SSL-Handshake-SSL被TLS取代了）"><a href="#TLS协商（TLS-SSL-Handshake-SSL被TLS取代了）" class="headerlink" title="TLS协商（TLS/SSL Handshake SSL被TLS取代了）"></a>TLS协商（TLS/SSL Handshake SSL被TLS取代了）</h5><ul>
<li>时间：TLS传输层安全协议，该段握手在三次握手建立连接之后发生。</li>
<li>内容：<ul>
<li>指定要使用的TLS版本</li>
<li>决定密码套件</li>
<li>通过服务器公钥和SSL证书颁发机构的数字签名来验证服务器的身份</li>
<li>生成对话密钥，以在握手完成后使用对称加密。</li>
</ul>
</li>
<li>步骤(以RSA 密钥为例)：<ul>
<li>client hello：客户端发送问候消息，发送包含客户端支持的TLS版本、支持的密码套件、客户端随机数client random的消息。</li>
<li>server hello：服务器回复问候消息，发送包含SSL证书、服务器选择的密码套件、server random的消息。</li>
<li>身份验证：客户端使用证书颁发机构验证服务器的SSL证书，以确认服务器是其声称的身份，且客户端正在与该域的实际所有者进行交互。</li>
<li>预主密钥：客户端发送premaster secret，这个密钥是使用公钥加密的，只能通过服务器私钥解密。</li>
<li>私钥被使用：服务器解密预主密钥。</li>
<li>生成会话密钥：客户端和服务器均使用client random server random premaster secret生成共同的会话密钥。</li>
<li>客户端就绪：客户端发送已完成消息（会话密钥加密）。</li>
<li>服务器就绪：服务器发送已完成消息（会话密钥加密）。</li>
<li>实现安全对称加密：实现双方会话密钥加密通信。</li>
</ul>
</li>
<li>TLS1.3更快更安全：客户端问候-服务器生成主密钥-服务器问候完成-客户端验证生成主密钥发送完成-实现安全对称加密。</li>
</ul>
<p>在发送真正的请求内容之前还需要三次↑往返服务器。</p>
<h4 id="发送HTTP请求"><a href="#发送HTTP请求" class="headerlink" title="发送HTTP请求"></a>发送HTTP请求</h4><p>浏览器发起读取文件的初始HTTP GET请求</p>
<h3 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h3><h4 id="服务器响应请求并返回结果"><a href="#服务器响应请求并返回结果" class="headerlink" title="服务器响应请求并返回结果"></a>服务器响应请求并返回结果</h4><p>服务器对浏览器请求做出响应，并把对应的html文件发送给浏览器</p>
<h5 id="慢启动-14KB规则"><a href="#慢启动-14KB规则" class="headerlink" title="慢启动 / 14KB规则"></a>慢启动 / 14KB规则</h5><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/congestioncontrol.jpg" alt="TCP 慢启动" style="zoom:50%;" />

<p>慢启动是一种衡量网络连接速度的算法，通过逐渐增加发送数据的数量来达到网络的最大带宽。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230712215533543.png" alt="image-20230712215533543" style="zoom:67%;" />

<p>一般情况下，初始包是是个数据包，大约14K，第二次28K，第三次……成倍递增，直到达到最大带宽或者遇到拥塞。</p>
<h5 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h5><p><code>ssthresh - slow start threshold</code> 慢启动门限  cwnd拥塞窗口 swnd发送窗口</p>
<ul>
<li><p>慢启动：发送方每收到一个ACK，拥塞窗口cwnd对应增加，一般是指数增加。当到达门限sst(最大带宽)时，就开始拥塞避免了。</p>
</li>
<li><p>拥塞避免：发送方每收到一个ACK，cwnd+1，线性。</p>
</li>
<li><p>拥塞发生：网络出现拥塞了，发生数据包重传。若发生超时重传</p>
<p>这个时候 <code>sst=cwnd/2  cwnd=1</code>。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/29.jpg" alt="拥塞发送 —— 超时重传" style="zoom: 50%;" /></li>
<li><p>快速恢复：快速恢复一般和快速重传搭配使用。相比起超时重传慢开始，快速重传认为当接收方丢掉一个中间包时，发送三次前一个包的ACK，发送方会重新快速重传，不必等待超时重传。</p>
<p>此时 <code>cwnd /= 2  sst = cwnd</code>，随后进入快速恢复算法，<code>cwnd = sst + 3</code>-重传丢失包-若再收到重复ACK，<code>cwnd ++</code>-收到新数据时，可以接受正常数据了，恢复回<code>cwnd = sst</code>-随及进入拥塞避免状态。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E6%8B%A5%E5%A1%9E%E5%8F%91%E7%94%9F-%E5%BF%AB%E9%80%9F%E9%87%8D%E4%BC%A0.drawio.png" alt="快速重传和快速恢复" style="zoom:50%;" /></li>
</ul>
<p>关于重传，有快速重传和超时重传两种，两者使用的拥塞发生算法是不一样的↑</p>
<blockquote>
<p>其他：关于重传</p>
<p>常见的重传机制：超时重传、快速重传、SACK、D-SACK</p>
<p>超时重传：发送数据时设计一个定时器，超过指定的时间后没有收到ACK报文，那就回重新发送数据。</p>
<p>快速重传：发送端发送数据过程中意外丢失了一个数据包，随后，发送端连续接收了三次相同ACK报文，此时开启快速重传，随后快速回复。有个问题：重发丢失数据包后接着哪个包发送？如果连续丢失了俩，如果已经发了很多后续包……</p>
<p>SACK：Selective Acknowledgment，选择性确认。在TCP头部添加SACK字段，用来记录发送已经收到了哪些数据信息。使得当发生包丢失的时候，只重传丢失的数据。这个重传机制需要发送接收双方都支持才可哦。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717094859472.png" alt="image-20230717094859472" style="zoom:67%;" />

<p>D-SACK：Duplicate SACK，重复。SACK存放的是接受重复的数据。使得发送方可以接收到反馈来的具体情况。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717102507759.png" alt="image-20230717102507759" style="zoom:67%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230717212708861.png" alt="image-20230717212708861" style="zoom:67%;" />
</blockquote>
<h4 id="关闭TCP连接"><a href="#关闭TCP连接" class="headerlink" title="关闭TCP连接"></a>关闭TCP连接</h4><h5 id="TCP四次挥手"><a href="#TCP四次挥手" class="headerlink" title="TCP四次挥手"></a>TCP四次挥手</h5><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720104908581.png" alt="image-20230720104908581" style="zoom:67%;" />

<ul>
<li>第一次：客户端向服务端发送TCP首部标志<code>FIN=1</code>的报文，之后进入<code>FIN_WAIT_1</code>状态</li>
<li>第二次：服务端收到FIN报文，向客户端返回<code>ACK</code>报文，之后进入<code>CLOSED_WAIT</code>状态，客户端收到后变为<code>FIN_WAIT_2</code>状态</li>
<li>第三次：服务端向客户端发送<code>FIN</code>报文，之后进入<code>LAST_ACK</code>状态</li>
<li>第四次：客户端收到FIN报文，向服务端发送<code>ACK</code>报文，之后进入<code>TIME_WAIT</code>状态，服务端收到后<code>CLOSE</code>，客户端一段时间(2MSL)后自动进入<code>CLOSE</code>状态。</li>
</ul>
<blockquote>
<p>MSL是网络中数据包最长的生存时间，大概两分钟</p>
<p>FIN报文不管是进程正常退出也好异常退出也好，服务器内核都会发送FIN报文，完成四次挥手</p>
</blockquote>
<h6 id="粗暴关闭-amp-优雅关闭"><a href="#粗暴关闭-amp-优雅关闭" class="headerlink" title="粗暴关闭&amp;优雅关闭"></a>粗暴关闭&amp;优雅关闭</h6><p>关闭连接函数相关。关闭连接的函数有两种↓</p>
<p><strong>close函数</strong>：同时socket关闭发送方和读取放，这个方法使得直接关闭发送数据和接收数据的能力。如果有多进程/线程共享同一个socket，其中一个进程调用了close，那么socket引用计数将-1，当计数减为0时，才会发送FIN报文。</p>
<p><strong>shutdown函数</strong>：可指定socket只关闭发送方向，不关闭读取方向，数据能收不能发了。如果有多个进程/线程共享同一个socket，管你几个，直接关关关！直接发FIN！</p>
<p><strong>粗暴关闭</strong></p>
<p>如果客户端用↑<code>close</code>函数关闭连接，那么在四次挥手过程中，客户端一旦又收到了服务端发送的数据，客户端会直接返回一个RST报文给服务端，解释自己已经没有收发数据的能力了，赶紧关闭吧，然后服务器内核就会释放掉连接，直接close掉。</p>
<p>此外，这个close函数使得FIN_WAIT_2状态等待时间是有限的，所以过了等待时间<code>tcp_fin_timeout</code>，也就关掉了。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3b5f1897d2d74028aaf4d552fbce1a74.png" alt="在这里插入图片描述" style="zoom: 50%;" />

<p><strong>优雅关闭</strong></p>
<p>就是↓这样子的四次挥手了。用的<code>shutdown</code>函数，客户端还能正常读一下数据，然后才关关。这里FION_WAIT_2状态等待时间是没有限制的，等不到死等。</p>
<h6 id="为啥是四次？"><a href="#为啥是四次？" class="headerlink" title="为啥是四次？"></a>为啥是四次？</h6><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720112455802.png" alt="image-20230720112455802" style="zoom:67%;" />

<ul>
<li>关闭连接的时候，客户端向服务端发送FIN报文的时候，仅仅代表客户端不再发送数据了，但是还是会收到数据的。</li>
<li>服务器收到报文之后，先回答一个ACK，随后服务端可能(还有一些未完全处理的数据需要发给客户端或者数据还没传完)(等待一段时间使得客户端有一定时间获取到ACK报文，一般也是2MSL)，这几种情况完事儿之后，会再发一个FIN表示服务器不会再向客户端发送数据了。</li>
<li>客户端收到FIN报文后就可以给服务端发一个可以关闭了的消息了。</li>
</ul>
<h6 id="四次挥手可不可以变成三次挥手？"><a href="#四次挥手可不可以变成三次挥手？" class="headerlink" title="四次挥手可不可以变成三次挥手？"></a>四次挥手可不可以变成三次挥手？</h6><p>可以，抓包的时候会有抓到这种三次挥手包的情况。也就是ACK和FIN合并成一条从服务器发送到客户端。</p>
<p>那么什么情况下才会出现三次挥手呢？</p>
<p><strong>没有数据需要发送或者正在发送了+开启了TCP延迟确认机制。</strong></p>
<h6 id="啥又是“TCP确认机制“？"><a href="#啥又是“TCP确认机制“？" class="headerlink" title="啥又是“TCP确认机制“？"></a>啥又是“TCP确认机制“？</h6><p>当发送没有携带数据的ACK报文的时候，它的网络效率是很低的。为了解决这个问题，衍生出来了这个确认机制。策略如下↓</p>
<ul>
<li>当有响应数据发送的时候，ACK会带着数据麻溜发送给对方</li>
<li>当没有响应数据发送的时候，ACK会延迟一段时间，等待是否有响应数据一起发送，如果没有那还是要发的</li>
<li>如果延迟等待发送ACK期间，第二个数据报文又到达了，那还是赶紧发过去ACK报文吧</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/33f3d2d54a924b0a80f565038327e0e4.png" alt="img" style="zoom:50%;" />

<p>每个系统这一块基本都有一个最小延迟时间和最大延迟时间，和系统的时钟频率相关。HZ/25  HZ/5</p>
<p>关闭TCP延时确认机制：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1 表示开启 TCP_QUICKACK，即关闭 TCP 延迟确认机制</span></span><br><span class="line"><span class="type">int</span> value = <span class="number">1</span>;</span><br><span class="line">setsockopt(socketfd, IPPROTO_TCP, TCP_QUICKACK, (<span class="type">char</span>*)&amp; value, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="comment">// 同理，如果执行过程中读到value值为0，那说明这个延迟策略是开启的。</span></span><br></pre></td></tr></table></figure>



<h6 id="第一次挥手无会发生啥"><a href="#第一次挥手无会发生啥" class="headerlink" title="第一次挥手无会发生啥"></a>第一次挥手无会发生啥</h6><p>客户端重传重传重传，到限了，关了；服务器一直开着。</p>
<h6 id="第二次无"><a href="#第二次无" class="headerlink" title="第二次无"></a>第二次无</h6><p>客户端重传重传重传，到限了，关了；服务器一直<code>CLOSE_WAIT</code>。</p>
<h6 id="第三次无"><a href="#第三次无" class="headerlink" title="第三次无"></a>第三次无</h6><p>服务端重传重传重传，到限(tcp_orpha_retrie)了，从<code>LAST_ACK</code>变为关了；</p>
<p>客户端一直<code>CLOSE_WAIT_2</code>，倘若客户端这边使用的是close函数，那么过一会儿关了，如果是shutdown函数，那么死等了。</p>
<h6 id="第四次无"><a href="#第四次无" class="headerlink" title="第四次无"></a>第四次无</h6><p>服务器以为服务端没收到，重传重传重传，到限了，关了；</p>
<p>客户端每次收到服务器FIN都会重置一次2MSL定时器然后回复ACK，无奈ACK一直到不了，最后服务器已经关了，那这边等等也就关了。</p>
<h6 id="为啥TIME-WAIT等待时间是2MSL？？"><a href="#为啥TIME-WAIT等待时间是2MSL？？" class="headerlink" title="为啥TIME_WAIT等待时间是2MSL？？"></a>为啥TIME_WAIT等待时间是2MSL？？</h6><p><code>MSL-maximum segment lifetime</code>报文最大生存时间，它是任何报文在网络上存在的最长时间，超时这个报文就会被丢弃。</p>
<p>众所周知TCP协议是基于IP，协议的，IP头中有TTL字段，该字段是IP数据报可以经过的最大路由数，路过一个路由器-1，直到0，数据报被丢弃，同时发送ICMP报文通知源主机。</p>
<p>MSL&gt;=TTL消耗到0的时间</p>
<p>之所以2MSL，有一种解释是数据报发过去还需要等接收方返回来一个确认报文，一来一回所以是两倍。</p>
<h6 id="为啥有TIME-WAIT这个状态环节？？"><a href="#为啥有TIME-WAIT这个状态环节？？" class="headerlink" title="为啥有TIME_WAIT这个状态环节？？"></a>为啥有TIME_WAIT这个状态环节？？</h6><ul>
<li>主动发起关闭的一方才会有这个状态</li>
<li>防止历史连接中的数据被后面相同四元组的连接错误接收</li>
<li>保证被动接收连接的一方能够正确关闭</li>
</ul>
<h6 id="↑过多会有啥危害？"><a href="#↑过多会有啥危害？" class="headerlink" title="↑过多会有啥危害？"></a>↑过多会有啥危害？</h6><ul>
<li>客户端：如果状态过多，客户端占满了所有的端口资源，那么就无法对目的IP&amp;PORT相同的服务端发送连接了。当然被使用的端口还是可以向其他不同的服务端发送连接的。客户端的端口是可以复用的。</li>
<li>服务端：由于服务端只监听一个端口，且一个四元组唯一确定一个TCP连接，所以服务端可以建立很多连接。但是状态过多，TCP连接过多的话，会占用系统资源。</li>
</ul>
<h6 id="↑如何优化它？"><a href="#↑如何优化它？" class="headerlink" title="↑如何优化它？"></a>↑如何优化它？</h6><h6 id="↑服务器大量出现它的原因？"><a href="#↑服务器大量出现它的原因？" class="headerlink" title="↑服务器大量出现它的原因？"></a>↑服务器大量出现它的原因？</h6><p>了解它需要了解何时服务器才会主动断开连接。</p>
<ul>
<li><strong>HTTP没有使用长连接</strong>(两方请求头均有Connction: Keep-Alive，有一个是close就完蛋)，每次请求都需要建立TCP-请求资源-响应资源-释放连接。那么在频繁四次挥手的过程中，就会有TIME_WAIT。</li>
<li><strong>HTTP长连接超时</strong>(长连接有一个特点，如果没有一方提出断开，那么连接一直存在)，服务端通常给长连接设置<code>keepalive_timeout</code>参数。也就是说在连接中处理好一次请求后，若这段时间内没有再次发起新请求，那么出发回调函数来关闭连接，这时候服务端就会出现这个状态。</li>
<li><strong>HTTP长连接的请求数量达到上限</strong>，服务端通常给一条HTTP长连接设置一个最大能处理请求的数量<code>keepalive_requests</code>，当数量达到时，会主动关闭连接，那么这个时候服务端也会出现这个状态。</li>
</ul>
<h6 id="服务器大量出现CLOSE-WAIT状态原因？"><a href="#服务器大量出现CLOSE-WAIT状态原因？" class="headerlink" title="服务器大量出现CLOSE_WAIT状态原因？"></a>服务器大量出现CLOSE_WAIT状态原因？</h6><ul>
<li>被动关闭方才会有的状态。如果被动方没有调用close函数关闭连接，那么将无法FIN报文发出，那么就不会变为LAST_ACK状态。反过来，如果服务器出现大量该状态，说明服务器没有调用close函数关闭连接。因此，我们可以分析什么情况不会调用close函数↓</li>
<li>具体原因参照服务端TCP流程</li>
</ul>
<h6 id="如果已经建立了连接但是客户端突然故障咋办？"><a href="#如果已经建立了连接但是客户端突然故障咋办？" class="headerlink" title="如果已经建立了连接但是客户端突然故障咋办？"></a>如果已经建立了连接但是客户端突然故障咋办？</h6><p>如果连接成功了，客户端突然因为一些原因故障了，那么这个时候要是服务端一直不发送数据给客户端，服务器是无法感知客户端故障的。为了避免这种情况，TCP建立了一种保活机制↓</p>
<p>定义一个时间段，在该时间段内，如果没有任何连接相关的活动，那么保活机制开始作用，每隔一段时间发送一个探测报文(数据量很少)，如果连续几个探测报文都没有得到回应，那么判定当前TCP连接死亡，系统内核向上层应用程序发送错误通知信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">保活时间net.<span class="property">ipv4</span>.<span class="property">tcp_keepalive_time</span></span><br><span class="line">保活探测次数...intvl</span><br><span class="line">保活探测时间间隔...probes</span><br></pre></td></tr></table></figure>

<p>开启保活机制无非三种情况：</p>
<ul>
<li>对端正常，探测报文能被正常响应，此时TCP保活时间会被重置</li>
<li>对端宕机然后重启了，赶上了探测报文的发送，但是这个时候对端是没有什么连接信息的，所以给服务端返回了RST报文。此时TCP连接被发现重置</li>
<li>对端宕机了，TCP保活探测信息无法抵达，没有任何响应，那么达到最大保活探测次数后，确认TCP连接死亡，并上报。</li>
</ul>
<p>真的好强，好多知识点啊！由于保活时间较长，可以在应用层自行实现一个心跳机制。一般服务器软件都会提供keepalive_timeout参数来确定HTTP长连接时间，时间一超，就启动一个定时器，定时器时间一到，直接触发回调来释放连接。</p>
<h6 id="↑服务器突然故障咋办？"><a href="#↑服务器突然故障咋办？" class="headerlink" title="↑服务器突然故障咋办？"></a>↑服务器突然故障咋办？</h6><p>之前有提到过，无论服务器正常断开连接还是非正常断开连接，都不会影响内核发送FIN挥手以及后续挥手过程的正常进行。</p>
<h3 id="解析渲染-浏览器渲染"><a href="#解析渲染-浏览器渲染" class="headerlink" title="解析渲染-浏览器渲染"></a>解析渲染-浏览器渲染</h3><p>客户端（浏览器）解析HTML内容并渲染出来，浏览器接收到数据包后的解析流程为：</p>
<ul>
<li>  构建DOM树：词法分析然后解析成DOM树（dom tree），是由dom元素及属性节点组成，树的根是document对象</li>
<li>  构建CSS规则树：生成CSS规则树（CSS Rule Tree）</li>
<li>  构建render树：Web浏览器将DOM和CSSOM结合，并构建出渲染树（render tree）</li>
<li>  布局（Layout）：计算出每个节点在屏幕中的位置</li>
<li>  绘制（Painting）：即遍历render树，并使用UI后端层绘制每个节点。</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a90660027f0d4c559732519bad4c6323~tplv-k3u1fbpfcp-zoom-1.image" alt="浏览器渲染流程图"></p>
<h4 id="CRF"><a href="#CRF" class="headerlink" title="CRF"></a>CRF</h4><p>关键渲染路径CRF(Critical Rendering Path)，指浏览器渲染网页时所执行的一系列关键步骤。包括服务器请求响应、加载、执行脚本、渲染、布局、绘制每个像素到显示屏等。（浏览器部分性能优化也是在这些方面优化）</p>
<h4 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h4><p>文档对象模型。它是增量的，包含页面所有元素。HTML文件响应变成令牌token，令牌编程节点，节点编程DOM树。</p>
<p>单个节点从startTag令牌开始到endTag令牌结束，节点包含HTML元素的所有信息。节点根据令牌层次结构连接到DOM树中。节点数越多，关键路径后续事件的花费就越长。</p>
<h4 id="CSSOM"><a href="#CSSOM" class="headerlink" title="CSSOM"></a>CSSOM</h4><p>样式对象模型。它不是增量的，它是级联的，包含页面所有样式。解析CSS过程中根据样式规则和选择器，将对应的样式属性添加到CSSOM中。</p>
<p>CSSOM使得JS可以通过DOM接口来修改页面样式。CSS是渲染阻塞的，浏览器会阻塞页面渲染直到接收执行了所有CSS完成CSSOM才会渲染内容。CSS之所以是阻塞渲染的是因为规则可以被覆盖。CSSOM随着CSS解析逐渐构建，直到完成都不能被用来构建渲染树，因为样式将会被之后的解析所覆盖，而不是渲染到屏幕上。换句话，CSSOM没有构建完成，RenderTree不会开始构建。</p>
<h4 id="RenderTree"><a href="#RenderTree" class="headerlink" title="RenderTree"></a>RenderTree</h4><p>渲染树。浏览器从DOM根节点开始检查每个节点，决定哪些CSS规则被添加，最后形成一个DOM和CSSOM的结合体。</p>
<p>渲染树只包含可见内容，例如如果有一个元素的display: none，那么这个元素以及其后代均不会出现在渲染树中。</p>
<h4 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h4><p>页面布局。布局决定了如何在页面中放置元素，以及这些元素的宽高和元素间的相关性。</p>
<p>布局取决于屏幕尺寸，布局性能受DOM影响，节点越多，布局花费时间更长。因此，为了而减少布局事件的频率和时长，应尽量避免改动盒模型，或者批量更新。</p>
<h4 id="绘制"><a href="#绘制" class="headerlink" title="绘制"></a>绘制</h4><p>一旦布局完成，像素就可以被绘制在屏幕上。若有改动将进行重绘等操作。</p>
<p>浏览器被优化为只重绘需要重绘的最小区域。计算布局+重绘这两个是绘制环节优化的重要方面，而不是关注样式属性的增加和移除。因为前者计算布局并绘制花费时间比单纯移除一个样式属性花费时间要更加明显。进行性能优化的时候要先测量确定布局重绘的时间开销，确定好性能瓶颈所在。</p>
<h3 id="拓展：CRF优化"><a href="#拓展：CRF优化" class="headerlink" title="拓展：CRF优化"></a>拓展：CRF优化</h3><ul>
<li>异步、延迟加载、消除非关键资源的请求数量</li>
<li>优化必须的请求数量和每个请求文件的体积</li>
<li>区分关键资源的优先级来优化被加载资源的顺序，缩短关键路径的长度</li>
</ul>
<h3 id="回顾：CSS根据什么样的规则生成"><a href="#回顾：CSS根据什么样的规则生成" class="headerlink" title="回顾：CSS根据什么样的规则生成"></a>回顾：CSS根据什么样的规则生成</h3><ul>
<li>规则集RuleSet：由选择器和一组样式组成</li>
<li>样式规则的组织：CSSOM样式规则类似树状结构，根节点是文档根节点，其他规则集成为各子节点</li>
<li>嵌套规则：一个规则集包含另一个规则集</li>
<li>样式属性：有些样式是可以继承的，有些不能被继承</li>
<li>选择器权重：权重越高优先级越高，相同权重看后一个<ul>
<li>!important</li>
<li>1000  内联样式：在元素的style中定义</li>
<li>0100  ID选择器：通过元素id属性定义</li>
<li>0010  类选择器/属性选择器/伪类选择器：class/[type=1]/:hover</li>
<li>0001  元素选择器/伪元素选择器：p,div/::before,::after</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: white&quot;</span>&gt;</span>啊啊啊啊啊<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">!important&gt;内联样式&gt;id选择器&gt;类选择器&gt;元素选择器</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background-color</span>:blue <span class="meta">!important</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726162808919.png" alt="image-20230726162808919"></p>
<h2 id="JS引擎解析过程"><a href="#JS引擎解析过程" class="headerlink" title="JS引擎解析过程"></a>JS引擎解析过程</h2><p>调用JS引擎执行JS代码（JS的解释阶段，预处理阶段，执行阶段生成执行上下文，VO，作用域链、回收机制等等）</p>
<ul>
<li>  创建window对象：全局执行环境在页面产生时就被创建，所有的全局变量和函数都属于window的属性和方法，而DOM Tree也会映射在window的doucment对象上。当关闭网页或者关闭浏览器时，全局执行环境会被销毁。</li>
<li>  加载文件：完成js引擎分析它的语法与词法是否合法，如果合法进入预编译</li>
<li>  预编译：在预编译的过程中，浏览器会寻找全局变量声明，把它作为window的属性加入到window对象中，并给变量赋值为’undefined’；寻找全局函数声明，把它作为window的方法加入到window对象中，并将函数体赋值给他（匿名函数是不参与预编译的，因为它是变量）。而变量提升作为不合理的地方在ES6中已经解决了，函数提升还存在。</li>
<li>  解释执行：执行到变量就赋值，如果变量没有被定义，也就没有被预编译直接赋值，在ES5非严格模式下这个变量会成为window的一个属性，也就是成为全局变量。string、int这样的值就是直接把值放在变量的存储空间里，object对象就是把指针指向变量的存储空间。函数执行，就将函数的环境推入一个环境的栈中，执行完成后再弹出，控制权交还给之前的环境。JS作用域其实就是这样的执行流机制实现的。</li>
</ul>
<h2 id="✅浏览器缓存机制-强制缓存和协商缓存"><a href="#✅浏览器缓存机制-强制缓存和协商缓存" class="headerlink" title="✅浏览器缓存机制-强制缓存和协商缓存"></a>✅浏览器缓存机制-强制缓存和协商缓存</h2><h4 id="缓存机制"><a href="#缓存机制" class="headerlink" title="缓存机制"></a>缓存机制</h4><p><strong>是什么</strong></p>
<p>浏览器缓存机制是浏览器在访问网页时，<strong>将一些数据保存至本地的一种技术</strong>。</p>
<p><strong>为什么</strong></p>
<p>我们都知道浏览器和服务器之间的通信是基于两者建立连接的。两者建立连接通常会耗费一定时间。很多响应是需要浏览器与服务器多次往返通信才能形成一个完整的响应。这个过程中很有可能会增加访问服务器的资源成本。因此浏览器利用缓存机制，让浏览器可以<strong>重用一些响应数据，从而减少多次交互带来的资源占用</strong>。</p>
<p><strong>具体解释</strong></p>
<p>浏览器缓存的主要步骤：</p>
<ul>
<li>在浏览器发出请求前，会先去到浏览器缓存中查看是否有对应的结果和缓存标识，如果有，很好，如果没有，向服务器发出请求。</li>
<li>服务器将相应结果和缓存标识返回给浏览器，浏览器根据响应头中的缓存标识决定是否将结果和标识存入缓存。</li>
</ul>
<p>浏览器缓存机制分为强制缓存和协商缓存，两者相互配合完成任务：</p>
<ul>
<li><p><strong>强制缓存</strong>：浏览器向浏览器缓存中查询请求结果，并根据缓存规则决定是否使用该缓存结果。</p>
<p>控制强制缓存的字段：Cache-Control &gt; Expires(废弃)</p>
<p><code>Cache-Control: max-age=100,s-maxage=200,public</code></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230802163623701.png" alt="image-20230802163623701"></p>
<ul>
<li>不存在缓存结果和缓存标识：强制缓存失效，直接发出请求</li>
<li>存在但缓存结果失效：强制缓存失效，使用协商缓存</li>
<li>存在且有效：强制缓存生效，直接返回结果</li>
</ul>
</li>
<li><p><strong>协商缓存</strong>：浏览器向服务器发送携带缓存标识的请求，服务器根据缓存标识决定是否使用该缓存。</p>
<p>控制协商缓存的字段：Etag / If-None-Match &gt; Last-Modified / If-Modified-Since </p>
<p>a. 在服务器端读出文件修改时间，将读出的修改时间赋给lastmodified，cachecontrol设置nocache。次访问时，会有ifmodifiedsince，值为次修改时服务器给它的时间。</p>
<p>b. Etag比较文件指纹。首次请求，服务器将读取目标文件计算出的文件指纹放响应头etag字段。二次请求，客户端读取Etag，赋给ifnonematch字段，让上次文件指纹跟随请求一起去到服务端。服务端拿到idnonematch字段后再次读取目标资源并生成文件指纹，俩指纹做对比，如果完全一致，返回304，如果不同，返回新的Etag。</p>
<p>c. 第二种方式优点()缺点(计算开销、服务器性能、弱验性-提取文件部分属性生成哈希值-快但准确率不高-降低协商缓存有效性)</p>
<ul>
<li>协商缓存生效：返回304</li>
<li>协商缓存失效：返回200+请求结果</li>
</ul>
</li>
</ul>
<h4 id="哪些是强缓存哪些是协商缓存"><a href="#哪些是强缓存哪些是协商缓存" class="headerlink" title="哪些是强缓存哪些是协商缓存"></a>哪些是强缓存哪些是协商缓存</h4><p>所有带304的资源都是协商缓存，所有标注（从内存读取/从磁盘读取）的资源都是强缓存。</p>
<h2 id="✅前端如何实现缓存资源"><a href="#✅前端如何实现缓存资源" class="headerlink" title="✅前端如何实现缓存资源"></a>✅前端如何实现缓存资源</h2><p>前端之所以缓存是为了减少不必要的网络传输，加速页面加载，减少服务器负载。</p>
<p>前端缓存主要分为浏览器缓存和http缓存。</p>
<h4 id="1-http缓存"><a href="#1-http缓存" class="headerlink" title="1.http缓存"></a>1.http缓存</h4><p>http缓存是web前端缓存的核心。↑</p>
<h4 id="2-浏览器缓存"><a href="#2-浏览器缓存" class="headerlink" title="2.浏览器缓存"></a>2.浏览器缓存</h4><table>
<thead>
<tr>
<th>比较</th>
<th>Cookie</th>
<th>localstorage</th>
<th>sessionstorage</th>
<th>Indexed_db</th>
</tr>
</thead>
<tbody><tr>
<td>定义</td>
<td>一种存储在客户端的小型文本文件。</td>
<td>H5提供的一种在浏览器端本地存储数据的机制。</td>
<td>H5提供的一种在浏览器端存储会话数据的机制。</td>
<td>浏览器提供的JSAPI，用于在浏览器存储和查询结构化的数据。异步、对象存储、妥妥的数据库</td>
</tr>
<tr>
<td>存储位置</td>
<td>document.cookie(浏览器的cookie文件夹)</td>
<td>localStorage</td>
<td>sessionStorage</td>
<td>indexedDB.open()<br />db.createObjectStore()<br />add()或 put()<br />get()或 getAll()<br />close()</td>
</tr>
<tr>
<td>大小</td>
<td>4KB</td>
<td>&gt;=5MB</td>
<td>&gt;=5MB</td>
<td>大得多</td>
</tr>
<tr>
<td>生命周期</td>
<td>默认会话，可设置</td>
<td>永久，除非手动清除或过期</td>
<td>会话</td>
<td>永久，除非操作删除</td>
</tr>
<tr>
<td>场景</td>
<td>身份验证和会话管理、用户偏好、跟踪用户行为</td>
<td>用户首选项、会话状态、本地缓存、应用程序配置、计数器和标记</td>
<td>表单数据临时存储、会话状态、临时缓存</td>
<td>大量结构化数据、离线应用、复杂的数据查询、数据索引、日志记录</td>
</tr>
</tbody></table>
<h5 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h5><p>少量缓存。它由服务器在http响应中设置，保存在浏览器中，每次请求同一个服务器的时候，将Cookie发送回服务器。</p>
<p>在PaperTODO中我们有用到NextAuth，其中用户登录后拿到的token就是存在cookie中的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置一个 Cookie</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=John Doe; expires=Thu, 02 Aug 2023 12:00:00 UTC; path=/&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取一个 Cookie</span></span><br><span class="line"><span class="keyword">const</span> cookieValue = <span class="variable language_">document</span>.<span class="property">cookie</span>;</span><br></pre></td></tr></table></figure>

<h5 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h5><p>一种本地存储方案。少量缓存</p>
<p>将一些数据存储到本地存储中，相当于在本地缓存了一些数据，使得在下一次打开网页时的快速访问。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, value) <span class="comment">// +</span></span><br><span class="line"><span class="keyword">let</span> cachedVal = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key) <span class="comment">// 查询</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(key) <span class="comment">// -</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>() <span class="comment">// ---</span></span><br></pre></td></tr></table></figure>

<h5 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h5><p>一种本地存储方案。少量缓存</p>
<p>将一些数据存储到会话存储中，相当于在会话范围内存储一些数据，方便在会话内快速访问。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.<span class="title function_">setItem</span>(key, value)</span><br><span class="line"><span class="keyword">let</span> cachedVal = sessionStorage.<span class="title function_">getItem</span>(key)</span><br><span class="line">sessionStorage.<span class="title function_">removeItem</span>(key)</span><br><span class="line">sessionStorage.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>

<h4 id="3-ServiceWorker"><a href="#3-ServiceWorker" class="headerlink" title="3.ServiceWorker"></a>3.ServiceWorker</h4><p>是一个独立的浏览器特性，用于实现一种浏览器和网络代理之间的代理层。它允许开发者拦截和处理网络请求，从而实现离线缓存、推送通知、拦截请求并返回自定义响应的功能。</p>
<p>特点</p>
<ul>
<li>它是一个JS线程，运行在浏览器后台，独立于页面</li>
<li>充当网络代理，可以拦截和控制请求和响应</li>
<li>只在HTTPS网站上工作，避免恶意注入和拦截敏感数据</li>
<li>离线缓存、数据预取、消息推送</li>
</ul>
<p>场景</p>
<ul>
<li>离线缓存</li>
<li>数据预取/预加载</li>
<li>响应拦截和修改</li>
<li>推送通知</li>
</ul>
<p>浏览器后台脚本，可以拦截网络请求并进行缓存管理，通过使用它，可以实现更加灵活的缓存策略。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在Service Worker脚本中实现缓存</span></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">respondWith</span>(</span><br><span class="line">    caches.<span class="title function_">match</span>(event.<span class="property">request</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 如果缓存中有匹配的资源，直接返回缓存的结果</span></span><br><span class="line">      <span class="keyword">if</span> (response) &#123;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 否则发起网络请求，并将请求结果缓存到本地</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">fetch</span>(event.<span class="property">request</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> caches.<span class="title function_">open</span>(<span class="string">&#x27;my-cache&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</span><br><span class="line">          cache.<span class="title function_">put</span>(event.<span class="property">request</span>, response.<span class="title function_">clone</span>());</span><br><span class="line">          <span class="keyword">return</span> response;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="✅什么是内存泄露，哪些情况会造成-如何查看泄露情况？"><a href="#✅什么是内存泄露，哪些情况会造成-如何查看泄露情况？" class="headerlink" title="✅什么是内存泄露，哪些情况会造成/如何查看泄露情况？"></a>✅什么是内存泄露，哪些情况会造成/如何查看泄露情况？</h2><p>内存泄露指程序中内存资源被无法访问的对象占用，导致这些内存资源不能被垃圾回收，最终导致程序占用的内存不断增加，可能导致程序性能下降崩溃。</p>
<p>内存泄漏往往由程序中一些错误和不良编程实践导致。</p>
<ul>
<li>未释放对象引用</li>
<li>未关闭资源</li>
<li>事件监听器未移除</li>
<li>大量缓存数据</li>
<li>循环数据结构</li>
</ul>
<p>查看泄露情况（说实话我不大会这个）。</p>
<ul>
<li>浏览器开发者工具</li>
<li>内存分析工具</li>
<li>代码审查</li>
<li>使用性能分析工具</li>
</ul>
<h2 id="✅JS垃圾回收-Garbage-collection-机制"><a href="#✅JS垃圾回收-Garbage-collection-机制" class="headerlink" title="✅JS垃圾回收(Garbage collection)机制"></a>✅JS垃圾回收(Garbage collection)机制</h2><p>在计算机编程中，查找删除一些不被其他对象引用的对象处理过程。</p>
<ol>
<li><p>项目中，如果存在大量不被释放的内存（堆/栈/上下文），页面性能会变得很慢。当某些代码操作不能被合理释放，就会造成内存泄漏。我们尽可能减少使用闭包，因为它会消耗内存。</p>
</li>
<li><p>浏览器垃圾回收机制/内存回收机制:</p>
<blockquote>
<p>浏览器的<code>Javascript</code>具有自动垃圾回收机制(<code>GC:Garbage Collecation</code>)，垃圾收集器会定期（周期性）找出那些不在继续使用的变量，然后释放其内存。</p>
</blockquote>
<p><strong>标记清除</strong>:在<code>js</code>中，最常用的垃圾回收机制是标记清除：当变量进入执行环境时，被标记为“进入环境”，当变量离开执行环境时，会被标记为“离开环境”。垃圾回收器会销毁那些带标记的值并回收它们所占用的内存空间。</p>
<p><strong>谷歌浏览器</strong>：“查找引用”，浏览器不定时去查找当前内存的引用，如果没有被占用了，浏览器会回收它；如果被占用，就不能回收。</p>
<p><strong>IE浏览器</strong>：“引用计数法”，当前内存被占用一次，计数累加1次，移除占用就减1，减到0时，浏览器就回收它。</p>
</li>
<li><p>优化手段：</p>
<ul>
<li><p>内存优化，避免过多全局变量 ；</p>
</li>
<li><p>手动释放引用，用不到的手动设置为null等；</p>
</li>
<li><p>合理使用闭包，少一点闭包，多一点内释放；</p>
</li>
<li><p>避免循环引用，循环引用指两个或多个对象相互引用，这导致无法被访问，无法被垃圾回收；</p>
</li>
<li><p>使用对象池，预先创建一个对象，这个对象可以被复用，在需要创建大量临时对象时可减少回收负担；</p>
</li>
<li><p>性能优化循环，避免在大型循环中创建新对象，尽量还是复用对象，减少内存分配和垃圾回收次数；</p>
</li>
<li><p>使用RAF，代替延时器定时器，更好促进浏览器渲染引擎的协同工作，使得动画更加丝滑；</p>
</li>
<li><p>使用现代JS特性，尽量使用优化迭代后的新特性，而不是var/eval/with这类；</p>
</li>
<li><p>使用WebWorker，将大型计算等任务从主线程中分离出来，减少主线程垃圾回收对性能的影响；</p>
</li>
<li><p>监控和优化内存应用，使用F12内存工具监控页面内存使用情况，并进行针对性优化，及时优化。</p>
</li>
</ul>
</li>
<li><p>常见的内存泄漏</p>
<ul>
<li>主要：全局变量、闭包、定时器、DOM元素的引用</li>
<li>其他：未解除事件监听、循环引用、未释放的资源(请求等)、使用缓存不当、大对象的反复重用</li>
</ul>
</li>
</ol>
<h2 id="✅浏览器存储"><a href="#✅浏览器存储" class="headerlink" title="✅浏览器存储"></a>✅浏览器存储</h2><p>WebStorage、Cookie、indexedDB</p>
<p>具体见上方浏览器缓存。</p>
<h2 id="✅存储-cookie的生命周期"><a href="#✅存储-cookie的生命周期" class="headerlink" title="✅存储 cookie的生命周期"></a>✅存储 cookie的生命周期</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><p>服务器通过HTTP响应头↓将一个新的Cookie发送给客户端</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>-<span class="title class_">Cookie</span>: username=<span class="title class_">JohnDoe</span>; expires=<span class="title class_">Wed</span>, <span class="number">02</span> <span class="title class_">Aug</span> <span class="number">2023</span> <span class="number">12</span>:<span class="number">00</span>:<span class="number">00</span> <span class="variable constant_">UTC</span>; path=/</span><br></pre></td></tr></table></figure>

<h3 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h3><p>浏览器收到cookie后将其存入特定的文件夹中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cookie = <span class="variable language_">document</span>.<span class="property">cookie</span></span><br></pre></td></tr></table></figure>

<h3 id="读取"><a href="#读取" class="headerlink" title="读取"></a>读取</h3><p>当客户端向同一个服务器发送请求时，浏览器会检查该服务器的cookie，并将匹配的cookie添加到HTTP报文头中，服务器可以通过读取请求的cookie来获取客户端的信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&#x27;....&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">WriteCookie</span>(<span class="params"></span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">   now.<span class="title function_">setMonth</span>( now.<span class="title function_">getMonth</span>() - <span class="number">1</span> );</span><br><span class="line">   cookievalue = <span class="built_in">escape</span>(<span class="variable language_">document</span>.<span class="property">myform</span>.<span class="property">customer</span>.<span class="property">value</span>) + <span class="string">&quot;;&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;name=&quot;</span> + cookievalue;</span><br><span class="line">   <span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;expires=&quot;</span> + now.<span class="title function_">toUTCString</span>() + <span class="string">&quot;;&quot;</span></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;Setting Cookies : &quot;</span> + <span class="string">&quot;name=&quot;</span> + cookievalue );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="过期"><a href="#过期" class="headerlink" title="过期"></a>过期</h3><p>设置过期时间的cookie会在过期时间后过期，过期时间通过max-age/expires(废弃)设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>-<span class="title class_">Cookie</span>: username=<span class="title class_">JohnDoe</span>; max-age=<span class="number">3600</span>; path=/</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>过期时间到达或者通过设置过期时间为过去的时间，可以使得cookie被删除</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="✅cookie安全"><a href="#✅cookie安全" class="headerlink" title="✅cookie安全"></a>✅cookie安全</h2><ul>
<li>cookie可能被禁用</li>
<li>cookie是与浏览器相关的，不同浏览器存储的cookie是不同的</li>
<li>cookie可能被删除</li>
<li>cookie安全性不够高，所有cookie都是以纯文本的形式记录在文件中的，因此要适时进行信息加密</li>
</ul>
<h2 id="✅cookie-有哪些属性字段呢"><a href="#✅cookie-有哪些属性字段呢" class="headerlink" title="✅cookie 有哪些属性字段呢"></a>✅cookie 有哪些属性字段呢</h2><p><code>name=value;</code>键值对：每个网页最多一个cookie，每个cookie最多20个键值对，value长度不能超过4K。</p>
<p><code>domain=http://qvq.com;</code>Domain域名：默认情况下用户访问网页的域名会存放在cookie，如果设置该值，代表域名上所有的服务器都可以访问该cookie，通常不能这样搞。</p>
<p><code>path=/login;</code>目录路径：指定哪个目录的网页可以访问cookie。</p>
<p><code>expires=date.toGMTString();</code>存活时间：默认情况下用户关闭浏览器cookie自动清除，若配置该值，设置GMT格式时间，cookie将在时间到期后过期。</p>
<p><code>secure=true/false;</code>https发送cookie：true必须通过https发送cookie。</p>
<h2 id="✅怎么不让前端去修改cookie？"><a href="#✅怎么不让前端去修改cookie？" class="headerlink" title="✅怎么不让前端去修改cookie？"></a>✅怎么不让前端去修改cookie？</h2><ul>
<li>http-only：<code>http-only=true;</code> 限制cookie仅通过http/https请求发送到服务器，而无法通过JS<code>document.cookie</code>访问，防止大部分的XSS</li>
<li>same-site ：<code>same-site=strict/lax;</code>限制cookie仅在同一站点的请求中发送，防止跨站点请求伪造攻击CSRF</li>
<li>secure ：<code>secure=true;</code>使得只能通过https传输，防止在非加密连接上窃取cookie</li>
<li>对cookie值进行签名：设置cookie时将cookie值与服务器生成的签名进行结合，并存储在cookie中，服务器在接收到cookie的时候先验证签名的有效性，防止cookie伪造</li>
</ul>
<h2 id="✅同源策略"><a href="#✅同源策略" class="headerlink" title="✅同源策略"></a>✅同源策略</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>“同源”指的是==协议、主机、端口==相同的文档源。任何一个不同，就不是同源。</p>
<p>同源策略限制不同源之间的资源交互，这样做的原因是隔离开潜在恶意文件，从而提升资源交互的安全性。</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>页面中所有的对象都继承其所属文档源。</p>
<h3 id="文件源"><a href="#文件源" class="headerlink" title="文件源"></a>文件源</h3><p>使用<code>file:///</code>协议加载的文件被视为不透明来源，即 将本地文件视为来自一个特殊不安全的文件源。</p>
<p>处于安全考虑，若一个文件包括来自同一个文件夹下的其他文件，两者被认为不来自同一个源，CORS错误。</p>
<p>想要解决这个问题可以在本地开一个服务器，使用<a target="_blank" rel="noopener" href="http://localhoost等自定义域名进行文件加载,避免cors问题./">http://localhoost等自定义域名进行文件加载，避免CORS问题。</a></p>
<h3 id="更改"><a href="#更改" class="headerlink" title="更改"></a>更改</h3><p>在限定条件下，页面可以修改源↓</p>
<h3 id="跨域数据存储和访问"><a href="#跨域数据存储和访问" class="headerlink" title="跨域数据存储和访问"></a>跨域数据存储和访问</h3><p>每一个源都有自己单独的存储空间。WebStorage和IndexedDB都是以源划分存储的。</p>
<p>Cookie使用不同的源定义方式，也就是说，相比起cookie受同源策略限制的。</p>
<h2 id="✅怎么解决跨域问题？"><a href="#✅怎么解决跨域问题？" class="headerlink" title="✅怎么解决跨域问题？"></a>✅怎么解决跨域问题？</h2><h3 id="CORS跨域共享-优先-主要方案-双向-标准"><a href="#CORS跨域共享-优先-主要方案-双向-标准" class="headerlink" title="CORS跨域共享-优先-主要方案-双向-标准"></a>CORS跨域共享-优先-主要方案-双向-标准</h3><p>通过服务器设置响应头部中CORS规则，允许其他域名的网页访问该服务器上的资源，包括cookie（设置一个白名单）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Origin</span>: <span class="attr">https</span>:<span class="comment">//www.example.com</span></span><br><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Methods</span>: <span class="variable constant_">GET</span>, <span class="variable constant_">POST</span>, <span class="variable constant_">PUT</span>, <span class="variable constant_">DELETE</span></span><br><span class="line"><span class="title class_">Access</span>-<span class="title class_">Control</span>-<span class="title class_">Allow</span>-<span class="title class_">Headers</span>: <span class="title class_">Content</span>-<span class="title class_">Type</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许所有来源的跨域请求</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type&#x27;</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在这里处理你的路由和逻辑...</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Server started on port 3000&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><p>该方法是将代理服务器作为浏览器和目标服务器的中间层，充当一个转发请求的角色。</p>
<p>vue脚手架、vite框架都会提供代理服务器，可以根据情况进行配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://api.example.com&#x27;</span>, <span class="comment">// 目标服务器的URL</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 设置为true，以便正确处理跨域请求</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 将/api路径重写为空字符串，以便正确匹配目标服务器的请求</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my-react-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;proxy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://api.example.com&quot;</span> <span class="comment">// 设置代理服务器的目标URL</span></span><br><span class="line">  <span class="comment">// 其他配置项...</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="postMessage-安全-不同窗口-加验证"><a href="#postMessage-安全-不同窗口-加验证" class="headerlink" title="postMessage-安全-不同窗口-加验证"></a>postMessage-安全-不同窗口-加验证</h3><p>在不同窗口或iframe之间，使用哪个该API进行跨域通信。该方式允许窗口间以安全的方式传递数据，跨源数据存储。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>http://example.com<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Parent Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;sendMessage()&quot;</span>&gt;</span>Send Message to Iframe<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> targetDomain = <span class="string">&#x27;http://subdomain.example.com&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> iframeWindow = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myIframe&#x27;</span>).<span class="property">contentWindow</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> message = <span class="string">&#x27;Hello from Parent Page!&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            iframeWindow.<span class="title function_">postMessage</span>(message, targetDomain);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;myIframe&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://subdomain.example.com/iframe.html&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>http://subdomain.example.com/iframe.html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Iframe Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 监听message事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, receiveMessage, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">receiveMessage</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// event.origin是发送消息的窗口的源</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (event.<span class="property">origin</span> === <span class="string">&#x27;http://example.com&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> message = event.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">`Received Message: <span class="subst">$&#123;message&#125;</span>`</span>); <span class="comment">// &#x27;Hello from Parent Page!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><p>使用script标签加载跨域资源，先创建一个回调函数，将回调函数名绑定在src里callback上，从而使得能在前端调用该函数。函数中带有获取到的数据作为入参，即可对参数做一些处理。可能会有XSS漏洞。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">handleResponse</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://api.example.com/data?callback=handleResponse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="document-domain（弃用）"><a href="#document-domain（弃用）" class="headerlink" title="document.domain（弃用）"></a>document.domain（弃用）</h3><p>将该值设置为<strong>当前域或父域</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">domain</span> = <span class="string">&quot;qvq.com&quot;</span></span><br></pre></td></tr></table></figure>

<p>缺点：</p>
<ul>
<li>仅适用于子域名之间的跨域</li>
<li>无法处理不同端口号间的跨域</li>
<li>将其设置为顶级域名，影响子域安全性，很有可能收到XSS和CSRF攻击</li>
<li>用该方式解决跨域要求双方都要更改document.domain</li>
</ul>
<h2 id="✅script标签defer，async和没有标识的区别，加载情况，执行情况，对页面的阻塞情况"><a href="#✅script标签defer，async和没有标识的区别，加载情况，执行情况，对页面的阻塞情况" class="headerlink" title="✅script标签defer，async和没有标识的区别，加载情况，执行情况，对页面的阻塞情况"></a>✅<code>script</code>标签defer，async和没有标识的区别，加载情况，执行情况，对页面的阻塞情况</h2><ol>
<li><strong>没有标识的情况</strong>：<ul>
<li>默认情况下，如果不指定 <code>defer</code> 或 <code>async</code> 属性，浏览器会按照 <code>&lt;script&gt;</code> 标签在页面中的顺序来加载和执行脚本。</li>
<li>这会导致浏览器在遇到脚本标签时立即停止渲染页面，开始下载并执行脚本，然后再继续渲染。</li>
<li>页面加载过程中，脚本的执行会阻塞后续 DOM 解析和渲染，直到脚本执行完毕。</li>
</ul>
</li>
<li><strong><code>defer</code> 属性</strong>：<ul>
<li>使用 <code>defer</code> 属性的脚本会在 HTML 解析完毕后、DOMContentLoaded 事件之前加载和执行。</li>
<li>多个带有 <code>defer</code> 属性的脚本会按照它们在页面中的顺序依次执行。</li>
<li><code>defer</code> 脚本不会阻塞页面的解析和渲染，因此页面可以继续渲染。</li>
</ul>
</li>
<li><strong><code>async</code> 属性</strong>：<ul>
<li>使用 <code>async</code> 属性的脚本会在下载完成后立即执行，而不会阻塞 HTML 解析。</li>
<li>多个带有 <code>async</code> 属性的脚本也会并行下载，但不保证执行顺序。</li>
<li>由于脚本的执行是异步的，所以它们可能会在页面的 DOMContentLoaded 事件之前或之后执行。</li>
</ul>
</li>
</ol>
<h2 id="✅浏览器内核"><a href="#✅浏览器内核" class="headerlink" title="✅浏览器内核"></a>✅浏览器内核</h2><p>浏览器内核是浏览器的核心组件，主要负责解析和渲染网页内容。</p>
<p>浏览器内核通常包括两个主要组件：</p>
<ol>
<li>渲染引擎<ol>
<li>负责解析三件，然后转换成网页内容</li>
<li>DOM CSSOM → RenderTree → 像素</li>
</ol>
</li>
<li>JS引擎<ol>
<li>解析和执行网页上的JS代码</li>
<li>交互</li>
</ol>
</li>
</ol>
<p>浏览器内核的工作方式是多线程的。主线程用于处理界面和渲染，其他线程用于网络请求、JS执行、其他后台服务(垃圾回收、处理文件、管理存储等)。</p>
<h1 id="🖥️计网"><a href="#🖥️计网" class="headerlink" title="🖥️计网"></a>🖥️计网</h1><h2 id="五层模型"><a href="#五层模型" class="headerlink" title="五层模型"></a>五层模型</h2><ul>
<li>应用层：HTTP SMTP……</li>
<li>传输层：TCP UDP DNS TLS</li>
<li>网络层：IP</li>
<li>数据链路层</li>
<li>物理层</li>
</ul>
<h2 id="TCP-IP网络模型"><a href="#TCP-IP网络模型" class="headerlink" title="TCP/IP网络模型"></a>TCP/IP网络模型</h2><table>
<thead>
<tr>
<th>各层</th>
<th>应用层</th>
<th>传输层</th>
<th>网络层</th>
<th>网络接口层</th>
</tr>
</thead>
<tbody><tr>
<td>作用</td>
<td>用户所使用的各种应用软件</td>
<td>传输给对方数数据包，分块TCP段</td>
<td>传输IP报文，分片</td>
<td>封装数据帧</td>
</tr>
<tr>
<td>封装格式</td>
<td>应用数据</td>
<td>TCP头-应用数据</td>
<td>IP头-TCP头-应用数据</td>
<td>帧头-IP头-TCP头-应用数据-帧尾</td>
</tr>
<tr>
<td>协议</td>
<td>HTTP/FTP/SMTP/DNS…</td>
<td>TCP/UDP</td>
<td>IP</td>
<td></td>
</tr>
</tbody></table>
<h2 id="DNS解析域名的具体过程"><a href="#DNS解析域名的具体过程" class="headerlink" title="DNS解析域名的具体过程"></a>DNS解析域名的具体过程</h2><p>迭代？递归？</p>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[HTTP] --&gt; B[基本概念]</span><br><span class="line">A --&gt; C[GET&amp;POST]</span><br><span class="line">A --&gt; D[特性]</span><br><span class="line">A --&gt; E[缓存技术]</span><br><span class="line">A --&gt; F[HTTP&amp;HTTPS]</span><br><span class="line">A --&gt; G[版本演化]</span><br><span class="line">B --&gt; H[是什么]</span><br><span class="line">B --&gt; I[常见字段]</span><br><span class="line">B --&gt; J[常见状态码]</span><br><span class="line">C --&gt; K[区别]</span><br><span class="line">C --&gt; L[安全幂等吗]</span><br></pre></td></tr></table></figure>

<h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>HTTP是超文本传输协议HyperTextTransferProtocol。</p>
<p>它是在<strong>客户端-服务端</strong>或<strong>服务端-服务端</strong>之间传输数据的约定和规范。</p>
<p>第二种之间的传输通信主要场景：</p>
<ul>
<li>负载均衡：通过HTTP请求将请求发往不同的服务器，提高性能和可靠性</li>
<li>分布式系统：分布式系统需要各服务器间协调工作、共享数据、执行分布式任务，HTTP在此充当一种通信手段</li>
<li>数据同步：如果多个服务器存储着相同/相关的数据，可通过HTTP请求将数据同步到其他服务器，保持数据一致</li>
<li>微服务架构：微架构中不同的微服务可能运行在不同的服务器上，它们之间通过HTTP通信来完成服务之间交互</li>
</ul>
<h3 id="常见字段"><a href="#常见字段" class="headerlink" title="常见字段"></a>常见字段</h3><p>Host→服务器域名</p>
<p>Content-Length←数据长度</p>
<p>Connection: Keep-Alive/close    长链接机制，只要任意一段不明确提出断开连接，则保持TCP的连接状态。</p>
<blockquote>
<p>HTTP和TCP的keepalive不是一个登西！</p>
<p>前者由应用层实现，叫HTTP长连接</p>
<p>后者在TCP层，叫TCP保活</p>
<p>前者是解决HTTP频繁短连接（建立TCP连接-请求资源-响应资源-释放连接）而增加连接开销的问题，且为HTTP流水线(但是需要kepalive_timeout限制一下防止队头拥塞)提供可能。</p>
<p>后者是是一种TCP保活机制，如果两端TCP连接一直没有数据交互，那么就触发了TCP保活机制的条件，这时内核会发送探测报文。如果对端正常响应，无事；如果对端宕机，TCP会报告TCP连接死亡。socket接口设置SO_KEEPALIVE选项。</p>
</blockquote>
<p>Accept→告知自己可接受哪些数据格式 e.g.<code>Accept: */*</code></p>
<p>Content-Type←告知数据格式 e.g.<code>Content-Type: text/html; Charset=utf-8</code></p>
<p>Accept-Encoding→告知能接受哪些数据压缩方法 e.g.<code>Accept-Encoding: gzip deflate</code></p>
<p>Content-Encoding←说明数据压缩方法 e.g.<code>Content-Encoding: gzip</code></p>
<h3 id="🈯常见状态码"><a href="#🈯常见状态码" class="headerlink" title="🈯常见状态码"></a>🈯常见状态码</h3><h3 id="GET-amp-POST"><a href="#GET-amp-POST" class="headerlink" title="GET&amp;POST"></a>GET&amp;POST</h3><h4 id="两者区别"><a href="#两者区别" class="headerlink" title="两者区别"></a>两者区别</h4><table>
<thead>
<tr>
<th>区别</th>
<th>GET</th>
<th>POST</th>
</tr>
</thead>
<tbody><tr>
<td>语义</td>
<td>从服务器获取指定资源</td>
<td>根据请求负荷(body)对指定资源做出处理</td>
</tr>
<tr>
<td>参数位置</td>
<td>URL</td>
<td>body</td>
</tr>
<tr>
<td>限制</td>
<td>请求参数：ASCII<br />浏览器对其URL长度有限制</td>
<td>任意格式，两方协商好即可<br />浏览器对其莫得大小限制</td>
</tr>
<tr>
<td>RFC安全</td>
<td>√ 只读操作，不会修改服务器上的数据</td>
<td>× 会修改服务器资源</td>
</tr>
<tr>
<td>RFC幂等</td>
<td>√ 只读操作，服务器上数据安全，结果同</td>
<td>× 多次提交数据会创建多个资源</td>
</tr>
<tr>
<td>可缓存</td>
<td>√ 可以对GET请求的数据做缓存(浏览器/代理)</td>
<td>× 浏览器一般不会缓存POST请求，也不会将请求保存为书签</td>
</tr>
</tbody></table>
<h4 id="两者都是安全和幂等的吗？↑"><a href="#两者都是安全和幂等的吗？↑" class="headerlink" title="两者都是安全和幂等的吗？↑"></a>两者都是安全和幂等的吗？↑</h4><p>根据RFC规范定义的两种方法看：</p>
<p>安全：请求方法不全不会破坏服务器上的资源</p>
<p>幂等：多次执行相同的操作，结果是相同的</p>
<p>但是实际开发中，开发者可能不会遵循以上规范，get也能post，post也能get，body谁都可以用，然而这样不好……</p>
<h3 id="缓存技术"><a href="#缓存技术" class="headerlink" title="缓存技术"></a>缓存技术</h3><p>跳转：<a href="#%E2%9C%85%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6-%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98">强制缓存/协商缓存</a></p>
<h3 id="HTTP特性"><a href="#HTTP特性" class="headerlink" title="HTTP特性"></a>HTTP特性</h3><h4 id="HTTP-1-1优点"><a href="#HTTP-1-1优点" class="headerlink" title="HTTP/1.1优点"></a>HTTP/1.1优点</h4><p>简单灵活易于扩展应用广泛跨平台</p>
<ul>
<li>简单：Header+Body，Header：key-value</li>
<li>灵活益于扩展：提供各类请求方法、URL/URI、状态码、头字段等，允许自定义扩充</li>
<li>应用广泛跨平台：阿巴阿巴</li>
</ul>
<h4 id="HTTP-1-1缺点"><a href="#HTTP-1-1缺点" class="headerlink" title="HTTP/1.1缺点"></a>HTTP/1.1缺点</h4><p>无状态明文传输不安全</p>
<ul>
<li>无状态：虽然服务器不会记忆HTTP状态，不需要额外资源记录状态信息，减轻服务器负担；但是一旦没有记忆能力，完成有关联性操作时会有些麻烦。怎么解决？Cookie！</li>
<li>明文传输：虽然方便阅读，带来极大便利；但信息裸奔</li>
<li>不安全：<ul>
<li>使用明文传输：不加密，内容可能会被窃听</li>
<li>不验证通过对方身份：可能遭遇伪装</li>
<li>无法证明报文的完整性：可能被篡改</li>
</ul>
</li>
</ul>
<p>怎么办？HTTPS</p>
<h4 id="HTTP-1-1性能"><a href="#HTTP-1-1性能" class="headerlink" title="HTTP/1.1性能"></a>HTTP/1.1性能</h4><p>一般般，长链接管道网络传输队头阻塞</p>
<ul>
<li>长链接：相比1.0，1.1有了长链接。</li>
<li>管道网络传输：在同一个TCP连接中发起多个请求，流水线式发送，减少整体响应时间。</li>
<li>队头阻塞：<ul>
<li>√ 请求的队头阻塞：服务器处理请求时耗时较长，后续请求会被阻塞</li>
<li>× 响应队头阻塞</li>
</ul>
</li>
</ul>
<h3 id="HTTP-amp-HTTPS"><a href="#HTTP-amp-HTTPS" class="headerlink" title="HTTP&amp;HTTPS"></a>HTTP&amp;HTTPS</h3><h4 id="区别？"><a href="#区别？" class="headerlink" title="区别？"></a>区别？</h4><ul>
<li>前者是明文传输，后者是加密传输</li>
<li>前者连接相对简单，后者还需SSL/TLS握手（Secure Sockets Layer / Transport Layer Security）</li>
<li>前者默认端口80，后者433</li>
<li>前者免费，后者需要CA申请整数</li>
</ul>
<h4 id="HTTPS解决了HTTP哪些问题？"><a href="#HTTPS解决了HTTP哪些问题？" class="headerlink" title="HTTPS解决了HTTP哪些问题？"></a>HTTPS解决了HTTP哪些问题？</h4><p>不再明文传输，而在HTTP和TCP层之间加入了SSL/TLS协议。信息不容易被窃取，网站有身份验证，内容有校验机制↓</p>
<ul>
<li>混合加密保证机密性，解决窃听（对称加密和非对称加密混合）<ul>
<li>通信建立前，使用<strong>非对称加密</strong>方式交换会话密钥。非对称需要<strong>公钥和私钥</strong>，公钥任意分发，私钥保密。交换速度较慢↓</li>
<li>通信过程中全部使用<strong>对称加密</strong>的会话密钥方式加密明文。<strong>只需一个</strong>保密密钥，运算速度快但不太安全↑</li>
</ul>
</li>
<li>摘要算法+数字签名保证完整性，解决篡改（携带指纹传输）<ul>
<li>先对内容计算出一个指纹，随内容一起传输给对端</li>
<li>对端拿到后也对内容计算出一个指纹，对比两个指纹是否一致，否则可能被篡改过</li>
<li>！哈希算法虽可确保内容不被篡改，但不能保证不被中间人替换。因为缺少对客户端收到的消息是否来源于服务端的证明。为避免这种情况，可用非对称加密算法提供的公私钥解决，相互加解密。<ul>
<li><strong>公钥加密私钥解密：保证内容传输安全</strong>，只有持有私钥的才能解密（摘）</li>
<li><strong>私钥加密公钥解密：保证消息不被冒充</strong>，若公正常解密出来，说明是对应端发来的（数）</li>
</ul>
</li>
</ul>
</li>
<li>服务器公钥放入数字证书中，防止冒充（CA颁布数字证书包裹公钥，身份验证，防止替换）<ul>
<li>服务器将自己的公钥注册到CA</li>
<li>CA用自己的密钥对该公钥进行签名，颁发数字证书</li>
<li>客户端拿到数字证书后用CA公钥进行确认</li>
<li>从证书中获取公钥后对报文进行加密</li>
<li>服务器拿到报文后用私钥解密</li>
</ul>
</li>
</ul>
<h4 id="HTTPS是如何而建立连接的？期间交互了啥？"><a href="#HTTPS是如何而建立连接的？期间交互了啥？" class="headerlink" title="HTTPS是如何而建立连接的？期间交互了啥？"></a>HTTPS是如何而建立连接的？期间交互了啥？</h4><p><a target="_blank" rel="noopener" href="https://xiaolincoding.com/network/2_http/http_interview.html#https-%E6%98%AF%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84-%E5%85%B6%E9%97%B4%E4%BA%A4%E4%BA%92%E4%BA%86%E4%BB%80%E4%B9%88">原文</a></p>
<ul>
<li>ClientHello→支持的TLS版本，支持的加密算法，Client Random随机数</li>
<li>ServerHello←确认的TLS版本，确认的加密算法，Server Random随机数，数字证书</li>
<li>ClientResponse→根据CA公钥验证证书，拿到公钥，生成pre-master key，公钥加密，加密通信算法改变通知，握手结束通知</li>
<li>ServerResponse←计算出会话密钥，加密通信算法改变通知，握手结束通知</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/23-HTTPS%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.jpeg" alt="HTTPS 连接建立过程"></p>
<p>CA证书颁发过程：</p>
<ul>
<li>CA将持有者的公钥、用途、颁发者、有效时间等信息打包</li>
<li>Hash算法计算得到一个值</li>
<li>用私钥加密该值，生成Certificate Signature（签名）</li>
<li>将签名添加到文件证书上，形成数字证书</li>
</ul>
<p>校验过程：</p>
<ul>
<li>使用同样的Hash算法获取证书，得到值</li>
<li>使用浏览器和操作系统继承的CA公钥信息去解密证书，得到值</li>
<li>两值比较，若值相同，可信赖；反之不可信</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AF%81%E4%B9%A6%E7%9A%84%E6%A0%A1%E9%AA%8C.png" alt="img"></p>
<p>证书层级：</p>
<ul>
<li>客户端收到证书后发现该帧数的签发者不是根证书，那么无法根据本地的公钥去验证。于是根据签发者找到证书颁发机构，请求中间证书</li>
<li>拿到证书后发现这个证书没有上级签发机构了，说明这个就是根证书，然后去验证。</li>
<li>这个可信的话，拿到了下层证书的公钥，然后验证。</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E7%94%A8%E6%88%B7%E4%BF%A1%E4%BB%BB.png" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AF%81%E4%B9%A6%E9%93%BE.png" alt="img"></p>
<p>为何要形成一个证书链？——保证根证书的绝对安全性。</p>
<h4 id="HTTPS应用数据是如何保证完整性的？"><a href="#HTTPS应用数据是如何保证完整性的？" class="headerlink" title="HTTPS应用数据是如何保证完整性的？"></a>HTTPS应用数据是如何保证完整性的？</h4><p>TLS分为握手协议和记录协议两层。</p>
<ul>
<li>握手协议：四次握手期间，协商加密算法，生成对称密钥，保护HTTP数据</li>
<li>记录协议：数据交互期间，保护应用程序数据并返回完整性和来源</li>
</ul>
<p>TLS记录协议消息压缩、加密、认证的过程</p>
<ul>
<li>将消息分段</li>
<li>压缩片段</li>
<li>加入通过哈希算法计算出的消息认证码——Mac值</li>
<li>对称加密这段</li>
<li>加上数据的类型、版本、长度</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%AE%B0%E5%BD%95%E5%8D%8F%E8%AE%AE.png" alt="img"></p>
<h4 id="场景-HTTPS一定安全可靠吗？"><a href="#场景-HTTPS一定安全可靠吗？" class="headerlink" title="场景-HTTPS一定安全可靠吗？"></a>场景-HTTPS一定安全可靠吗？</h4><h5 id="场景描述1"><a href="#场景描述1" class="headerlink" title="场景描述1"></a>场景描述1</h5><p>客户端通过浏览器发请求的时候，被假基站转发到一个中间人服务器，和中间人服务器完成了TLS握手，然后中间人服务器和目标服务器完成了真正的TLS握手。具体步骤如下：</p>
<blockquote>
<p>“假基站”</p>
<p>是指一个恶意的设备或系统，它伪装成合法的移动通信基站，与移动设备建立连接，以便拦截、监听或干扰通信流量。假基站可以用来进行中间人攻击，即在通信双方之间插入自己，以便监视或篡改通信。</p>
</blockquote>
<ul>
<li>客户端向服务端发送HTTPS请求时，被假基站转发到了一个中间站服务器，接着，中间站服务器向这个请求所指明的服务端发送HTTPS请求。此时，客户端与中间人服务器进行TLS握手，中间人服务器与真正的服务器进行TLS握手。</li>
<li>客户端和中间服务器进行握手过程中，中间服务器发送自己的公钥证书给客户端（<strong>这不就露馅了？？</strong>），客户端验证证书真伪，拿到证书公钥，生成随机数后拿公钥加密，发送给中间服务器。中间服务器用私钥解密得到随机数。随后两者开启对称加密通信。</li>
<li>中间服务器和服务端进行握手过程中，也是上述类似操作，随后进入对称加密通信阶段。</li>
<li>在后续的通信过程中，中间服务器使用对称加密密钥A解密客户端发来的请求，然后通过B加密信息转发给服务器，随后B解密服务器传回的信息，A加密信息返回给客户端。</li>
</ul>
<p>从客户端角度看，它是看收不到有个中间服务器给转发请求的响应的。也就说这个中间服务器可以偷看信息交互内容！！</p>
<h5 id="但是这种场景的发生是有前提的"><a href="#但是这种场景的发生是有前提的" class="headerlink" title="但是这种场景的发生是有前提的"></a>但是这种场景的发生是有前提的</h5><ul>
<li>客户单点击接受了中间人服务器证书。换句话说，确实露馅，客户端在验证服务端证书的时候当然能确定这个中间服务器是非法的，浏览器会给提示的。但是同意的话，那没跑了。（讲真好几年前真的见过很多次这种情况，大多数都被我同意了，因为是查作业题……害怕）</li>
<li>电脑病毒，被恶意注入了不安全的根证书</li>
</ul>
<h5 id="如何避免？"><a href="#如何避免？" class="headerlink" title="如何避免？"></a>如何避免？</h5><ol>
<li><p>以上两点做好防护</p>
</li>
<li><p>HTTPS双向认证，服务端也需认证客户端身份</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81.png" alt="img"></p>
</li>
</ol>
<h5 id="所以HTTPS一定安全可靠吗？"><a href="#所以HTTPS一定安全可靠吗？" class="headerlink" title="所以HTTPS一定安全可靠吗？"></a>所以HTTPS一定安全可靠吗？</h5><p>通过分析上述这个问题，问题所达到的前提其实是和HTTPS无关的。</p>
<p>HTTPS协议本身目前为止是没有漏洞的……</p>
<h5 id="场景描述2"><a href="#场景描述2" class="headerlink" title="场景描述2"></a>场景描述2</h5><p>既然如此，为啥抓包能抓到HTTPS数据？</p>
<p>对于HTTPS来说，中间人能够看到明文数据，需要满足以下两点：</p>
<ul>
<li>服务端不会校验客户端身份√</li>
<li>客户端信任服务端——服务端必须有对应域名的私钥？</li>
</ul>
<p>想要拿到私钥，有以下三种方式</p>
<ul>
<li>去网站服务端拿到私钥</li>
<li>去CA证书拿域名签发私钥</li>
<li>自己签发证书，需要浏览器信任</li>
</ul>
<p>抓包其实使用的就是第三种方式，客户端首先需要安装一个Fiddler证书，这里起的就是认证作用。</p>
<h4 id="HTTP-1-1-gt-HTTP-2-gt-HTTP-3的演变"><a href="#HTTP-1-1-gt-HTTP-2-gt-HTTP-3的演变" class="headerlink" title="HTTP/1.1=&gt;HTTP/2=&gt;HTTP/3的演变"></a>HTTP/1.1=&gt;HTTP/2=&gt;HTTP/3的演变</h4><table>
<thead>
<tr>
<th>比较</th>
<th>1.1</th>
<th>2</th>
<th>3</th>
</tr>
</thead>
<tbody><tr>
<td>改进</td>
<td>持久化<br />管道化<br /></td>
<td>头部压缩<br />二进制格式<br />并行传输，解决队头阻塞<br />双方都可建立流(客奇服偶)</td>
<td>解决TCP队头阻塞<br />直接改用UDP↑<br />更快建立连接<br />连接迁移</td>
</tr>
<tr>
<td>缺陷</td>
<td>响应头无法压缩延迟大<br />多次相同首部浪费多<br />没有优先级控制<br />服务器被动响应<br />响应队头阻塞</td>
<td>TCP层的队头拥塞(丢包)</td>
<td></td>
</tr>
</tbody></table>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/27-HTTP3.jpeg" alt="HTTP/1 ~ HTTP/3"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/28-HTTP3%E4%BA%A4%E4%BA%92%E6%AC%A1%E6%95%B0.jpeg" alt="TCP HTTPS（TLS/1.3） 和 QUIC HTTPS "></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/4cad213f5125432693e0e2a512c2d1a1-20230309231022316.png" alt="好怪诶"></p>
<p>QUIC协议怎么看着这么常用！</p>
<blockquote>
<p>那么<strong>当移动设备的网络从 4G 切换到 WIFI 时，意味着 IP 地址变化了，那么就必须要断开连接，然后重新建立连接</strong>。而建立连接的过程包含 TCP 三次握手和 TLS 四次握手的时延，以及 TCP 慢启动的减速过程，给用户的感觉就是网络突然卡顿了一下，因此连接的迁移成本是很高的。</p>
<p>而 QUIC 协议没有用四元组的方式来“绑定”连接，而是通过<strong>连接 ID</strong> 来标记通信的两个端点，客户端和服务器可以各自选择一组 ID 来标记自己，因此即使移动设备的网络变化后，导致 IP 地址变化了，只要仍保有上下文信息（比如连接 ID、TLS 密钥等），就可以“无缝”地复用原连接，消除重连的成本，没有丝毫卡顿感，达到了<strong>连接迁移</strong>的功能。</p>
</blockquote>
<p>介绍一下WebSocket</p>
<p>首先再次介绍一下TCP协议，TCP协议是全双工，但是HTTP/1.1却只允许半双工。为啥？</p>
<p>因为HTTP协议设计之初就是为了客户端请求服务器数据获得网页展示和响应，没有考虑到网页游戏这种需要大量互动的情景。所以一种新的应用层协议WebSocket被设计出来。</p>
<p>怎么建立Websocket连接？</p>
<ul>
<li><p>TCP三次握手后，先用HTTP协议进行一次通信</p>
</li>
<li><p>如果想用Websocket，那么在HTTP请求中带上特殊请求头</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">header</span><span class="punctuation">: </span>&#123;</span><br><span class="line">    Connection: Upgrade 升级协议</span><br><span class="line">    Upgrade: WebSocket WebSocket协议 </span><br><span class="line">    Sec-WebSocket-Key: T2a6wZlAwhgQNqruZ2YUyg==\r\n  随机生成的base64代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>【一次握手】如果对端支持WebSocket，那么开始WebSocket握手，并且根据随机码用某种公开的算法生成另一段字符串，放在Set-WebSocket-Accept头中，带上101协议切换状态码，返回给浏览器</p>
</li>
<li><p>【两次握手】浏览器也用这种公开算法去将那个随机码转化成一段字符串，对比一致则通过验证</p>
</li>
<li><p>然后就可以使用Websocket格式通信了</p>
<blockquote>
<p>WebSocket 是基于HTTP的新协议 ××××！！！！</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3a63a86e5d7e72a37b9828fc6e65c21f.png" alt="图片"></p>
</blockquote>
</li>
</ul>
<p>介绍一下RPC</p>
<p>RPC协议出现的比HTTP协议早，没有TCP粘包问题。</p>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[TCP] --&gt; B[基本认识]</span><br><span class="line">A --&gt; C[建立连接]</span><br><span class="line">A --&gt; D[连接断开]</span><br><span class="line">A --&gt; E[Socket编程]</span><br></pre></td></tr></table></figure>

<h3 id="✅基本认识"><a href="#✅基本认识" class="headerlink" title="✅基本认识"></a>✅基本认识</h3><p>TCP头部格式</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230534096.png" alt="TCP 头格式" style="zoom:50%;" />

<p>确定一个TCP连接：源地址、源端口、目的地址、目的端口</p>
<p>最大TCP连接数=客户端IP数+客户端端口数</p>
<h3 id="✅TCP和UDP的区别"><a href="#✅TCP和UDP的区别" class="headerlink" title="✅TCP和UDP的区别"></a>✅TCP和UDP的区别</h3><p>两者都是传输层协议。</p>
<ul>
<li>UDP不提供复杂的控制机制，利用IP提供面向<strong>无连接</strong>的通信服务。TCP是面向连接的，传输前需要先建立连接。</li>
<li>UDP<strong>一对一或者一对多或者多对多</strong>服务。TCP一对一两点服务。</li>
<li>UDP尽最大努力交付，<strong>不保证可靠交付数据</strong>(QUIC解决)。TCP是可靠交付数据，无差错不丢失不重复按序到达。</li>
<li>UDP<strong>没有拥塞控制</strong>，发送速率很快。TCP有拥塞控制和流量控制，能保证数据安全性。</li>
<li>UDP<strong>首部固定且小</strong>，8字节。TCP首部长，开销大。</li>
<li>UDP<strong>包发送，有边界，可能会丢包乱序</strong>。TCP流发送，没有边界。</li>
<li>UDP的分片是分的<strong>IP层MTU</strong>，在IP层分片重组然后在给传输层。TCP分的是传输层MMS，在传输层分层组装。</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230439961.png" alt="UDP 头部格式" style="zoom:60%;" />

<p>场景</p>
<ul>
<li>UDP经常用于包数量小的一些如DNS、SNMP、视频通话、多媒体等</li>
<li>TCP经常用于FTP文件传输、HTTP/THHPS传输等</li>
</ul>
<h3 id="✅TCP和UDP可以使用同一个端口吗？"><a href="#✅TCP和UDP可以使用同一个端口吗？" class="headerlink" title="✅TCP和UDP可以使用同一个端口吗？"></a>✅TCP和UDP可以使用同一个端口吗？</h3><p>可以。</p>
<p>传输层端口号的作用是<strong>区分同一个主机上不同应用程序的数据包</strong>。</p>
<blockquote>
<p>在数据链路层中，通过 MAC 地址来寻找局域网中的主机。在网际层中，通过 IP 地址来寻找网络中互连的主机或路由器。在传输层中，需要通过端口进行寻址，来识别同一计算机中同时通信的不同应用程序。</p>
</blockquote>
<p>两者在内核中时两完全相互独立的软件模块。在主机收到数据包时，可以在IP头的协议号字段中得知数据包时TCP还是UDP，从而分送处理。随后根据给的端口号送到对应程序处理。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/tcp%E5%92%8Cudp%E6%A8%A1%E5%9D%97.jpeg" alt="img" style="zoom:50%;" />

<h3 id="✅多个TCP服务进程可以绑定同一个端口吗？"><a href="#✅多个TCP服务进程可以绑定同一个端口吗？" class="headerlink" title="✅多个TCP服务进程可以绑定同一个端口吗？"></a>✅多个TCP服务进程可以绑定同一个端口吗？</h3><p>同时绑定一个地址的情况下绑定同一个端口肯定是不行的（Address already in use）；</p>
<p>绑定的地址不同的情况下绑定同一个端口是可行的。</p>
<p>——两个TCP同时绑定IP和端口号都相同，执行<code>bind()</code>时会出错↑</p>
<p>当然还有一个特殊情况：绑定0.0.0.0这个地址意味着绑定了主机上所有的IP地址。</p>
<h3 id="✅客户端的端口可以重复使用吗？"><a href="#✅客户端的端口可以重复使用吗？" class="headerlink" title="✅客户端的端口可以重复使用吗？"></a>✅客户端的端口可以重复使用吗？</h3><p>可以，只要保证源IP地址、目的IP地址、源端口、目的端口有一不一致（TCP连接不同）就好。</p>
<h3 id="✅如何解决服务端重启时，报错“Address-already-in-use”的问题？"><a href="#✅如何解决服务端重启时，报错“Address-already-in-use”的问题？" class="headerlink" title="✅如何解决服务端重启时，报错“Address already in use”的问题？"></a>✅如何解决服务端重启时，报错“Address already in use”的问题？</h3><blockquote>
<p>当我们重启 TCP 服务进程的时候，意味着通过服务器端发起了关闭连接操作，于是就会经过四次挥手，而对于主动关闭方，会在 TIME_WAIT 这个状态里停留一段时间，这个时间大约为 2MSL。</p>
<p>当 TCP 服务进程重启时，服务端会出现 TIME_WAIT 状态的连接，TIME_WAIT 状态的连接使用的 IP+PORT 仍然被认为是一个有效的 IP+PORT 组合，相同机器上不能够在该 IP+PORT 组合上进行绑定，那么执行 bind() 函数的时候，就会返回了 Address already in use 的错误。</p>
</blockquote>
<p>要解决这个问题，我们可以对 socket 设置 SO_REUSEADDR 属性。</p>
<p>这样即使存在一个和绑定 IP+PORT 一样的 TIME_WAIT 状态的连接，依然可以正常绑定成功，因此可以正常重启成功。</p>
<h3 id="✅客户端-TCP-连接-TIME-WAIT-状态过多，会导致端口资源耗尽而无法建立新的连接吗？"><a href="#✅客户端-TCP-连接-TIME-WAIT-状态过多，会导致端口资源耗尽而无法建立新的连接吗？" class="headerlink" title="✅客户端 TCP 连接 TIME_WAIT 状态过多，会导致端口资源耗尽而无法建立新的连接吗？"></a>✅客户端 TCP 连接 TIME_WAIT 状态过多，会导致端口资源耗尽而无法建立新的连接吗？</h3><p>要看客户端是否都是与同一个服务器（目标地址和目标端口一样）建立连接。</p>
<p>如果客户端都是与同一个服务器（目标地址和目标端口一样）建立连接，那么如果客户端 TIME_WAIT 状态的连接过多，当端口资源被耗尽，就无法与这个服务器再建立连接了。即使在这种状态下，还是可以与其他服务器建立连接的，只要客户端连接的服务器不是同一个，那么端口是重复使用的。</p>
<h3 id="✅如何解决客户端-TCP-连接-TIME-WAIT-过多，导致无法与同一个服务器建立连接的问题？"><a href="#✅如何解决客户端-TCP-连接-TIME-WAIT-过多，导致无法与同一个服务器建立连接的问题？" class="headerlink" title="✅如何解决客户端 TCP 连接 TIME_WAIT 过多，导致无法与同一个服务器建立连接的问题？"></a>✅如何解决客户端 TCP 连接 TIME_WAIT 过多，导致无法与同一个服务器建立连接的问题？</h3><p>打开 net.ipv4.tcp_tw_reuse 这个内核参数。</p>
<p>因为开启了这个内核参数后，客户端调用 connect 函数时，如果选择到的端口，已经被相同四元组的连接占用的时候，就会判断该连接是否处于 TIME_WAIT 状态。</p>
<p>如果该连接处于 TIME_WAIT 状态并且 TIME_WAIT 状态持续的时间超过了 1 秒，那么就会重用这个连接，然后就可以正常使用该端口了。</p>
<h3 id="🈯连接🈯断开"><a href="#🈯连接🈯断开" class="headerlink" title="🈯连接🈯断开"></a>🈯连接🈯断开</h3><h3 id="🈯拥塞处理"><a href="#🈯拥塞处理" class="headerlink" title="🈯拥塞处理"></a>🈯<a href="#####%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6">拥塞处理</a></h3><h3 id="✅TCP怎么保证可靠性？"><a href="#✅TCP怎么保证可靠性？" class="headerlink" title="✅TCP怎么保证可靠性？"></a>✅TCP怎么保证可靠性？</h3><ol>
<li>序列号和确认：TCP 中的每个数据段都有一个唯一的序列号，以便接收方可以按正确的顺序重组数据。接收方会发送确认消息（ACK）来告知发送方已经成功接收到数据。如果发送方在合理的时间内没有收到确认，它会重传相应的数据段。</li>
<li>数据重传：如果发送方没有收到接收方的确认消息，或者接收方检测到丢失的数据，TCP 会自动重传丢失的数据段，以确保数据的完整性和可靠性。</li>
<li>流量控制：TCP 使用窗口机制来控制数据的流量，以防止发送方发送过多的数据，导致接收方无法处理。接收方可以通过调整窗口大小来告知发送方其可接受的数据量。</li>
<li>拥塞控制：TCP 使用拥塞控制算法来防止网络拥塞。如果网络中发生拥塞，TCP 会减少发送速率以减轻网络压力，然后逐渐增加发送速率以测试网络是否已恢复正常。</li>
<li>延迟确认：TCP 允许接收方延迟发送确认消息，以减少网络上的确认消息数量，从而提高效率。但是，发送方通常会采用超时重传机制，以确保数据及时被接收确认。</li>
<li>有限状态机：TCP 在通信的不同阶段使用有限状态机来管理连接的建立、维护和关闭。这有助于确保连接的稳定性和可靠性。</li>
</ol>
<h3 id="✅https-建立连接的过程中，为什么用非对称加密来交换密钥？"><a href="#✅https-建立连接的过程中，为什么用非对称加密来交换密钥？" class="headerlink" title="✅https 建立连接的过程中，为什么用非对称加密来交换密钥？"></a>✅https 建立连接的过程中，为什么用非对称加密来交换密钥？</h3><p>主要目的是确保通信的机密性和安全性。</p>
<ul>
<li>一把公钥一把私钥，公钥可传递，私钥自己攥着，很安全</li>
<li>CA认证，数字签名，是否真实</li>
<li>使用非对称加密交换会话密钥</li>
</ul>
<h3 id="✅如果有第三方传给客服端一个假密钥呢，如何判定？"><a href="#✅如果有第三方传给客服端一个假密钥呢，如何判定？" class="headerlink" title="✅如果有第三方传给客服端一个假密钥呢，如何判定？"></a>✅如果有第三方传给客服端一个假密钥呢，如何判定？</h3><p>CA认证+自主判断…</p>
<h3 id="🈯怎么通过数字证书验证服务端身份的呢？"><a href="#🈯怎么通过数字证书验证服务端身份的呢？" class="headerlink" title="🈯怎么通过数字证书验证服务端身份的呢？"></a>🈯怎么通过数字证书验证服务端身份的呢？</h3><h3 id="✅为什么-https-建立连接用非对称加密，传输数据用对称加密呢？"><a href="#✅为什么-https-建立连接用非对称加密，传输数据用对称加密呢？" class="headerlink" title="✅为什么 https 建立连接用非对称加密，传输数据用对称加密呢？"></a>✅为什么 https 建立连接用非对称加密，传输数据用对称加密呢？</h3><p>前者是为了确认信息传输的两方是否是对的，后者是确认好人之后能够高效的加密解密数据。</p>
<h3 id="💦Socket编程"><a href="#💦Socket编程" class="headerlink" title="💦Socket编程"></a>💦Socket编程</h3><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230545997.png" alt="基于 TCP 协议的客户端和服务端工作" style="zoom:50%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/socket%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.drawio.png" alt="socket 三次握手" style="zoom:50%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/format,png-20230309230538308.png" alt="客户端调用 close 过程" style="zoom:50%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/3.jpg" alt="半连接队列与全连接队列" style="zoom:50%;" />

<h2 id="IP"><a href="#IP" class="headerlink" title="IP"></a><a target="_blank" rel="noopener" href="https://xiaolincoding.com/network/4_ip/ip_base.html#%E5%89%8D%E8%8F%9C-ip-%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86">IP</a></h2><h2 id="✅DNS解析过程（应用层-两种方式）"><a href="#✅DNS解析过程（应用层-两种方式）" class="headerlink" title="✅DNS解析过程（应用层-两种方式）"></a>✅DNS解析过程（应用层-两种方式）</h2><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/c9b1c8aa6b5afb3b7ce3c11da4050b95.jpg" alt="c9b1c8aa6b5afb3b7ce3c11da4050b95"></p>
<h2 id="✅交换机-链路层-自学习过程"><a href="#✅交换机-链路层-自学习过程" class="headerlink" title="✅交换机(链路层)自学习过程"></a>✅交换机(链路层)自学习过程</h2><p>交换机自学习（Switch Self-Learning）是指网络交换机通过监视和学习数据包的源MAC地址来构建MAC地址表，以便正确地转发数据包到适当的目标端口。以下是交换机自学习的过程：</p>
<ol>
<li><p>初始状态：当交换机首次启动或重置时，其MAC地址表为空。交换机不知道任何设备的位置或MAC地址。</p>
</li>
<li><p>数据包到达：当数据包到达交换机的某个端口时，交换机会检查数据包中的源MAC地址。</p>
</li>
<li><p>学习源MAC地址：交换机将源MAC地址与接收到数据包的端口关联起来，并将这个信息添加到其MAC地址表中。如果交换机已经知道这个MAC地址，它会更新该地址的条目。</p>
</li>
<li><p>广播数据包：如果交换机无法在其MAC地址表中找到目标MAC地址（即目标MAC地址不在MAC地址表中），它将数据包广播到所有其他端口，以便找到目标设备。这是因为交换机不知道目标设备的确切位置，所以它需要广播以确定目标设备在哪个端口上。</p>
</li>
<li><p>学习目标MAC地址：当目标设备响应广播并将响应数据包发送回交换机时，交换机会学习到目标设备的MAC地址，并将其与接收到数据包的端口关联起来，然后将其添加到MAC地址表中。</p>
</li>
<li><p>更新MAC地址表：交换机会持续监视流经它的数据包，不断学习和更新MAC地址表。这使得交换机能够在以后的数据包中直接将数据包转发到正确的端口，而无需广播。</p>
</li>
</ol>
<p>通过这个自学习的过程，交换机能够有效地管理和优化数据流，减少网络中的广播风暴，并提高网络性能。它通过构建和维护MAC地址表来确定每个设备的位置，从而在数据包转发时能够更精确地选择目标端口。这有助于减少网络拥塞，提高数据包传输效率。</p>
<h2 id="✅服务端如何知道多个请求属于哪个用户？"><a href="#✅服务端如何知道多个请求属于哪个用户？" class="headerlink" title="✅服务端如何知道多个请求属于哪个用户？"></a>✅服务端如何知道多个请求属于哪个用户？</h2><ol>
<li>会话管理：<ul>
<li>会话是一种服务器用来跟踪用户在网站上的活动的方式。每个用户在访问网站时都会获得一个唯一的会话标识，通常以会话cookie的形式存储在用户的浏览器中。服务器可以使用这个会话标识来识别用户并将多个请求关联到同一个用户。</li>
<li>会话管理可以在服务器端实现，通常会使用服务器端的存储（如内存、数据库或缓存）来存储会话数据。一旦用户成功登录，服务器会为用户创建一个会话，并将会话标识发送到用户的浏览器。随后的每个请求都会包含这个会话标识，服务器通过它来确定请求属于哪个用户。</li>
</ul>
</li>
<li>身份验证：<ul>
<li>用户登录是识别用户的另一种常见方式。当用户进行登录操作时，服务器会验证其凭据（通常是用户名和密码），并在成功验证后将用户标识与会话相关联。</li>
<li>身份验证可以基于不同的机制，包括基本身份验证、令牌验证、OAuth 2.0、OpenID Connect 等。一旦用户登录，服务器就可以在后续请求中使用用户的身份信息来确定请求属于哪个用户。</li>
</ul>
</li>
<li>IP 地址和其他标识符：<ul>
<li>服务器还可以根据用户的 IP 地址和其他浏览器提供的标识符来尝试识别用户。然而，这种方法通常不够可靠，因为多个用户可能共享相同的 IP 地址，而且一些用户可能使用代理服务器或 VPN，导致 IP 地址变化频繁。</li>
</ul>
</li>
</ol>
<h2 id="🈯服务器状态码"><a href="#🈯服务器状态码" class="headerlink" title="🈯服务器状态码"></a>🈯服务器状态码</h2><h1 id="⚙️OS"><a href="#⚙️OS" class="headerlink" title="⚙️OS"></a>⚙️OS</h1><p><a target="_blank" rel="noopener" href="https://xiaolincoding.com/os/4_process/process_base.html#_5-1-%E8%BF%9B%E7%A8%8B%E3%80%81%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86">target</a></p>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>当我们在运行一个可执行文件的时候，这个文件会被装载到内存中，接着CPU会执行这个程序中的每一条指令，这个运行中的程序被称为进程。    </p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/6-%E5%81%9A%E8%8F%9C%E5%AF%B9%E5%BA%94%E8%BF%9B%E7%A8%8B%E5%85%B3%E7%B3%BB.jpg" alt="img" style="zoom: 67%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/5-%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C.jpg" alt="并发与并行" style="zoom:67%;" />

<h3 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h3><ul>
<li>运行</li>
<li>就绪</li>
<li>阻塞</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/7-%E8%BF%9B%E7%A8%8B%E4%B8%89%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81.jpg" alt="进程的三种基本状态" style="zoom: 67%;" />

<ul>
<li>创建</li>
<li>结束</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/8-%E8%BF%9B%E7%A8%8B%E4%BA%94%E4%B8%AA%E7%8A%B6%E6%80%81.jpg" alt="进程五种状态的变迁" style="zoom:67%;" />

<ul>
<li>阻塞</li>
<li>挂起</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/10-%E8%BF%9B%E7%A8%8B%E4%B8%83%E4%B8%AD%E7%8A%B6%E6%80%81.jpg" alt="七种状态变迁" style="zoom:67%;" />

<h3 id="进程的控制结构"><a href="#进程的控制结构" class="headerlink" title="进程的控制结构"></a>进程的控制结构</h3><p>在OS中，使用**进程控制块PCB(process control clock)**数据结构来描述进程。</p>
<ul>
<li>PCB是进程存在的唯一标识</li>
<li>PCB包含的信息<ul>
<li>进程描述信息：进程标识符、用户标识符</li>
<li>进程控制和管理信息：状态、优先级</li>
<li>资源分配清单：内存/虚拟地址空间信息、文件列表和I/O设备信息</li>
<li>CPU相关信息：CPU状态信息等</li>
</ul>
</li>
<li>每个PCB如何组织<ul>
<li>链接：将相同状态的进程链在一起，组成各种队列，有运行指针<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/12-PCB%E7%8A%B6%E6%80%81%E9%93%BE%E8%A1%A8%E7%BB%84%E7%BB%87.jpg" alt="就绪队列和阻塞队列"></li>
<li>索引：将相同的状态的进程组织在一个索引表中，索引表每项指向响应的PCB</li>
<li>一般会选择链接方式，因为临时进程的创建和销毁频繁，更适合这种灵活插入删除的结构！</li>
</ul>
</li>
</ul>
<h3 id="进程的控制"><a href="#进程的控制" class="headerlink" title="进程的控制"></a>进程的控制</h3><p>创建—终止—阻塞—唤醒的过程。</p>
<ol>
<li>创建：OS允许在一个进程中创建另一个进程，并允许子进程继承父进程的所有资源。过程↓<ol>
<li>申请一个空白的PCB，向PCB中填写一些控制管理进程的信息（唯一标识）</li>
<li>分配运行时所必需的资源</li>
<li>将PCB插入到就绪队列，等待被调度运行</li>
</ol>
</li>
<li>终止：正/异常结束、外界干预导致进程终止。子进程被终止的时候将资源还给父进程；父进程终止后子进程变成孤儿进程，会被1号进程收养，并由1号进程对它完成状态收集工作。过程↓<ol>
<li>查找需要终止的进程的PCB</li>
<li>如果处于执行状态，立即终止，将CPU分配给其他进程</li>
<li>如果还有子进程，将其交给1号进程接管</li>
<li>将该进程所有的资源归还给OS</li>
<li>将其从PCB所在的队列中删除</li>
</ol>
</li>
<li>阻塞：当进程需要等待某一事件完成时，可以调用阻塞语句将自己阻塞等待，一旦被阻塞等待，就只能由另一个进程唤醒。过程↓<ol>
<li>找到即将被阻塞进程标识号对应的PCB</li>
<li>如果为运行状态，保护现场，转换状态，停止运行</li>
<li>将PCB移到阻塞队列里</li>
</ol>
</li>
<li>唤醒：正在阻塞队列中的进程所期待的事件出现，才能被唤醒。过程↓<ol>
<li>找到这个PCB</li>
<li>将这个PCB从阻塞队列移出</li>
<li>想这个PCB放进就绪队列里</li>
</ol>
</li>
</ol>
<h3 id="进程的上下文切换"><a href="#进程的上下文切换" class="headerlink" title="进程的上下文切换"></a>进程的上下文切换</h3><p>一个进程切换到另一个进程。</p>
<h4 id="CPU上下文切换"><a href="#CPU上下文切换" class="headerlink" title="CPU上下文切换"></a>CPU上下文切换</h4><p>大多数OS支持多任务，即大于CPU数量的任务同时运行。但实际上并非同时运行。</p>
<p>OS需要事先帮CPU设置好<strong>CPU寄存器和程序计数器</strong>。寄存器这个东西是一个内部容量小但是速度极快的缓存。计数器是用来存储CPU正在执行的指令位置、或者即将执行的下一条指令的位置。</p>
<p>CPU寄存器和计数器是CPU在运行任何任务之前，所必须依赖的环境。这些环境就叫做<strong>CPU上下文</strong>。</p>
<p><strong>CPU上下文切换</strong>就是把前一个任务的上下文保存起来(系统内核)，然后加载好新的上下文，最后根据计数器所指的新任务进行跳转运行。</p>
<p>↑当之前那个任务再次被分配给 CPU 运行时，CPU 会根据内核中保存的信息重新加载这些上下文，这样就能保证任务原来的状态不受影响，让任务看起来还是连续运行。</p>
<h4 id="进程上下文切换"><a href="#进程上下文切换" class="headerlink" title="进程上下文切换"></a>进程上下文切换</h4><p>进程上下文切换不仅包括虚拟内存、栈、全局变量等用户空间资源，还包括内核堆栈、寄存器等内核空间的资源。</p>
<p>通常将交换信息保存在进程的PCB中，当要运行这个进程的时候，需要从PCB中取出上下文，将其恢复到CPU中，运行。</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/13-%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2.jpg" alt="进程上下文切换"></p>
<p>进程上下文切换的开销非常关键，应该把更多的时间花费在执行程序上，而不是切换。</p>
<h4 id="发生进程上下文切换的场景"><a href="#发生进程上下文切换的场景" class="headerlink" title="发生进程上下文切换的场景"></a>发生进程上下文切换的场景</h4><ul>
<li>公平调度，CPU时间切片，轮流分配</li>
<li>进程在系统资源不足，需要更多资源，挂起，执行别的先</li>
<li>进程sleep函数主动挂起</li>
<li>优先级更高的来了</li>
<li>发生硬件中断</li>
</ul>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>thread</p>
<h3 id="为什么使用线程什么是线程"><a href="#为什么使用线程什么是线程" class="headerlink" title="为什么使用线程什么是线程"></a>为什么使用线程什么是线程</h3><p>线程是一种实体，它满足</p>
<ul>
<li>实体之间可以并发运行</li>
<li>实体之间共享相同的地址空间</li>
</ul>
<p><strong>线程是进程当中一条执行流程</strong>。每个线程都有各自一套独立的寄存器和栈，这样可以确保现成的控制流是相对独立的。</p>
<h3 id="线程的优缺点"><a href="#线程的优缺点" class="headerlink" title="线程的优缺点"></a>线程的优缺点</h3><p>优点</p>
<ul>
<li>一个进程中可以同时有多条线程</li>
<li>各个线程之间可以并发执行</li>
<li>各个线程之间可以共享地址空间和文件等资源</li>
</ul>
<p>缺点</p>
<ul>
<li>当进程中一条线程崩溃时，会导致所属进程所有线程崩溃</li>
</ul>
<h3 id="两者的比较↓↓"><a href="#两者的比较↓↓" class="headerlink" title="两者的比较↓↓"></a>两者的比较↓↓</h3><h3 id="线程的上下文切换"><a href="#线程的上下文切换" class="headerlink" title="线程的上下文切换"></a>线程的上下文切换</h3><p>现成是调度的基本单位，所谓“OS的任务调度”，实际上调度的对象就是线程，而进程只是给线程提供了虚拟内存和全局变量等资源。</p>
<ul>
<li>若两线程属于同一个进程，切换过程和切换进程上下文一样</li>
<li>若两线程不属于同一进程，虚拟内存保持不动，切换线程的私有数据、寄存器等不共享的数据即可</li>
</ul>
<h3 id="线程的实现"><a href="#线程的实现" class="headerlink" title="线程的实现"></a>线程的实现</h3><h4 id="线程实现方式分三种"><a href="#线程实现方式分三种" class="headerlink" title="线程实现方式分三种"></a>线程实现方式分三种</h4><ul>
<li>用户线程User：在用户空间内实现的线程，由用户态的线程库来完成的线程管理</li>
<li>内核线程Kernel：内核中实现的线程，是内核管理的线程</li>
<li>轻量级进程LightWeight：在内核中用来支持用户线程</li>
</ul>
<h4 id="用户线程和内核线程的对应关系："><a href="#用户线程和内核线程的对应关系：" class="headerlink" title="用户线程和内核线程的对应关系："></a>用户线程和内核线程的对应关系：</h4><p>一对一、多对一、多对多</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/18-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E7%B3%BB.jpg" alt="一对一" style="zoom: 33%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/17-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="多对一" style="zoom: 33%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/19-%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B-%E5%A4%9A%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="多对多" style="zoom: 33%;" /></p>
<h4 id="用户线程的理解和优缺点"><a href="#用户线程的理解和优缺点" class="headerlink" title="用户线程的理解和优缺点"></a>用户线程的理解和优缺点</h4><p>理解：</p>
<p>用户线程是基于用户态的线程管理库实现的。线程控制块<strong>TCB</strong>也是在库里实现的，对于OS而言是看不到TCB的。</p>
<p>所以用户线程整个线程的管理调度OS不直接参与，而是通过用户级线程库来实现。包括创建、终止、同步和调度。</p>
<p>用户级线程模型(多对一)：<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/20-%E7%BA%BF%E7%A8%8BPCB-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%85%B3%E7%B3%BB.jpg" alt="用户级线程模型" style="zoom:50%;" /></p>
<p>优点：</p>
<ul>
<li>TCB由用户级线程管理库函数来维护，可用于不支持线程技术的OS</li>
<li>用户线程切换也是↑，无需用户态和内核态切换，速度很快</li>
</ul>
<p>缺点：</p>
<ul>
<li>OS不参与线程调度，某用户线程发起系统调用一阻塞，所有用户线程都无法执行</li>
<li>CPU使用权用户态线程是无权打断别的县城然后使用的，只用OS才有，但用户线程不受OS管理</li>
<li>时间片分配给了进程，那么多线程执行的时候每个线程得到的时间片就少了</li>
</ul>
<h4 id="内核线程的理解和优缺点"><a href="#内核线程的理解和优缺点" class="headerlink" title="内核线程的理解和优缺点"></a>内核线程的理解和优缺点</h4><p>理解：</p>
<p>内核是由OS管理的，TCB放OS里。</p>
<p>内核线程模型(一对一)：<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/21-%E7%BA%BF%E7%A8%8BPCB-%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E7%B3%BB.jpg" alt="内核线程模型" style="zoom:50%;" /></p>
<p>优点：</p>
<ul>
<li>一个进程中，某内核线程发起的系统调用被阻塞，不会影响其他内核线程的运行。</li>
<li>分配给线程，多线程的进程获得更多的CPU运行时间</li>
</ul>
<p>缺点：</p>
<ul>
<li>支持内核线程的OS中，由内核来维护进程和线程的上下文信息</li>
<li>线程的状态变化都由OS把控，开销点大</li>
</ul>
<h4 id="轻量级进程的理解和优缺点"><a href="#轻量级进程的理解和优缺点" class="headerlink" title="轻量级进程的理解和优缺点"></a>轻量级进程的理解和优缺点</h4><p>理解：</p>
<p><em><strong>Light-weight process，LWP</strong></em> 是内核支持的用户线程，一个进程可以有一个或多个LWP，每个LWP是跟内核线程一对一映射的，且LWP由内核管理并和普通进程一样被调度。</p>
<blockquote>
<p>在大多数系统中，<strong>LWP与普通进程的区别也在于它只有一个最小的执行上下文和调度程序所需的统计信息</strong>。</p>
</blockquote>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/22-LWP.jpg" alt="LWP 模型" style="zoom:30%;" />

<p>(1:1 / N:1 / M:N / 组合)模式</p>
<p>优点/缺点?</p>
<h2 id="调度"><a href="#调度" class="headerlink" title="调度"></a>调度</h2><p>选择一个进程运行这一功能是在操作系统中完成的，通常称为<strong>调度程序</strong>（<em>scheduler</em>）</p>
<h3 id="✅调度时机"><a href="#✅调度时机" class="headerlink" title="✅调度时机"></a>✅调度时机</h3><p>在进程生命周期中，当进程行一个运行状态到另外一个状态的时候，其实会触发一次调度。</p>
<h3 id="✅调度原则"><a href="#✅调度原则" class="headerlink" title="✅调度原则"></a>✅调度原则</h3><ol>
<li>当触发I/O请求，等待时CPU是空闲的，调度程序需要从就绪队列中选择一个进程来执行。</li>
<li>要提高系统的吞吐率，调度程序要权衡长任务和短任务进程的进行时间和运行完成的数量。</li>
<li>周转时间越小越好，等待时间不宜过长(周转时间=运行时间+等待时间)。</li>
<li>就绪队列中进程的等待时间不宜过长。</li>
<li>交互式较强的应用，响应时间最好短一些。</li>
</ol>
<p>✅基于上述五条原则，我们需要</p>
<ul>
<li>↑<strong>CPU利用率</strong>：让CPU忙起来</li>
<li>~<strong>吞吐量</strong>：控制吞吐量合适</li>
<li>↓<strong>周转时间</strong>：越短越好</li>
<li>↓<strong>等待时间</strong>：越短越好</li>
<li>↓<strong>响应时间</strong>：越短越好</li>
</ul>
<h3 id="调度算法"><a href="#调度算法" class="headerlink" title="调度算法"></a>调度算法</h3><ul>
<li>先来先服务first come first serve</li>
<li>最短作业优先shortest job first-运行时长</li>
<li>高响应比优先highest response ratio next-$优先权=(等待时间+要求服务时间)/要求服务时间$，些许理想难实现</li>
<li>时间片轮转round robin-哐叮哐叮哐叮，长短要合适20ms-50ms</li>
<li>最高优先级highest priority first-(静态优先级，动态优先级)(抢占式，非抢占式)</li>
<li>多级反馈队列multilevel feedback queue-RR+HPF，多个队列，优先级从高到低，时间片从短到长</li>
</ul>
<h2 id="✅进程和线程的区别"><a href="#✅进程和线程的区别" class="headerlink" title="✅进程和线程的区别"></a>✅进程和线程的区别</h2><p>进程（Process）是资源拥有的基本单位；线程（Thread）是调度的基本单位。</p>
<p>一些重要的区别：</p>
<ol>
<li><p><strong>定义</strong>：</p>
<ul>
<li>进程：进程是操作系统分配资源的基本单位，它包括一个独立的内存空间、一个或多个线程以及与其他进程隔离的系统资源（如文件句柄、网络连接等）。</li>
<li>线程：线程是进程内的执行单元，一个进程可以包含多个线程，它们共享相同的内存空间和系统资源。</li>
</ul>
</li>
<li><p><strong>资源分配</strong>：</p>
<ul>
<li>进程：进程之间相互独立，每个进程有自己的内存空间和系统资源，进程之间的通信通常需要使用特定的机制（如进程间通信，IPC）。</li>
<li>线程：线程共享相同的进程内存和资源，线程之间的通信更加容易，因为它们可以直接访问相同的内存空间。</li>
</ul>
</li>
<li><p><strong>开销</strong>：</p>
<ul>
<li>进程：创建和销毁进程通常比较耗费资源，因为需要分配和释放独立的内存空间以及管理进程的状态。</li>
<li>线程：创建和销毁线程通常比较轻量，因为它们共享相同的资源，只需分配和释放少量内存来存储线程的上下文。</li>
</ul>
</li>
<li><p><strong>并发性和多核利用</strong>：</p>
<ul>
<li>进程：不同进程之间可以在多核处理器上并行执行，但进程间的通信成本较高。</li>
<li>线程：线程可以更有效地利用多核处理器，因为它们共享相同的地址空间，可以更容易地实现并发执行。</li>
</ul>
</li>
<li><p><strong>稳定性</strong>：</p>
<ul>
<li>进程：由于进程之间的隔离性，一个进程的崩溃通常不会影响其他进程。</li>
<li>线程：一个线程的错误可能会影响同一进程内的其他线程，因为它们共享相同的内存空间。</li>
</ul>
</li>
<li><p><strong>适用场景</strong>：</p>
<ul>
<li>进程：适用于需要高度隔离的任务，如运行不同的应用程序，每个应用程序都作为一个独立的进程运行。</li>
<li>线程：适用于需要轻量级并发的任务，如图形界面应用程序、服务器应用程序和多线程编程。</li>
</ul>
</li>
</ol>
<p>综上所述，进程和线程都有其自身的优点和适用场景。选择使用哪种方式取决于任务的性质和要求。在某些情况下，也可以同时使用进程和线程来充分利用计算资源。</p>
<h2 id="进程之间的通信方式"><a href="#进程之间的通信方式" class="headerlink" title="进程之间的通信方式"></a>进程之间的通信方式</h2><p>每个进程的用户空间都是独立的，一般不能相互访问；内核空间共享，所有进程之间的通信必须通过内核。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/4-%E8%BF%9B%E7%A8%8B%E7%A9%BA%E9%97%B4.jpg" alt="img" style="zoom:67%;" />

<ul>
<li>管道：效率较低，不适合频繁交换数据<ul>
<li>前者输出是后者输入</li>
<li>管道传输数据是单向的</li>
<li>匿名管道、命名管道</li>
</ul>
</li>
<li>消息队列：不适合放较大数据，存在用户态和内核态之间的数据拷贝开销<ul>
<li>保存在内核中的消息链表</li>
</ul>
</li>
<li>共享内存：速度提升，无需拷贝<ul>
<li>不同进程拿出一块虚拟地址映射到相同的物理内存空间</li>
</ul>
</li>
<li>信号量<ul>
<li>一个整数计数器，主要用于实现进程间的互斥和同步，而不是缓存进程之间的通信数据</li>
<li>为了防止多进程竞争共享资源，而造成的数据错乱</li>
<li>PV操作 (P -1若减后&lt;0，说明已被占用，需要阻塞等待； V +1若加后&lt;=0，说明有阻塞，唤起该进程)<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/11-%E4%BF%A1%E5%8F%B7%E9%87%8F-%E5%90%8C%E6%AD%A5.jpg" alt="img"></li>
</ul>
</li>
<li>信号：对于异常情况下的工作模式，就需要用「信号」的方式来通知进程。</li>
<li>Socket：前面提到的管道、消息队列、共享内存、信号量和信号都是在同一台主机上进行进程间通信，那要想<strong>跨网络与不同主机上的进程之间通信，就需要 Socket 通信了。</strong><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20231005192832392.png" alt="image-20231005192832392" style="zoom:67%;" /></li>
</ul>
<h2 id="✅如何解决多线程冲突"><a href="#✅如何解决多线程冲突" class="headerlink" title="✅如何解决多线程冲突"></a>✅如何解决多线程冲突</h2><p>对于共享资源，如果没有上锁，那么在多线程的环境里，容易发生冲突。</p>
<p>多线程相互竞争操作共享变量时，结果有不确定性。由于多线程执行操作共享变量的这段代码可能会导致竞争状态，称这段代码为<strong>临界区</strong>。它是访问贡献资源的片段，一定不能给多线程同时执行。</p>
<h3 id="互斥和同步"><a href="#互斥和同步" class="headerlink" title="互斥和同步"></a>互斥和同步</h3><p>互斥：保证一个线程在临界区执行，其他线程应该被阻止进入临界区。</p>
<p>同步：并发进程/线程在一些关键点上需要相互等待和通信，这种制约等待和交互信息称为同步。</p>
<p>实现：</p>
<ul>
<li>加锁解锁</li>
<li>信号量PV操作</li>
</ul>
<h3 id="生产者消费者"><a href="#生产者消费者" class="headerlink" title="生产者消费者"></a>生产者消费者</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/21-%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<h3 id="哲学家就餐"><a href="#哲学家就餐" class="headerlink" title="哲学家就餐"></a>哲学家就餐</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/24-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%B8%80%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/26-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%BA%8C%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/28-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E4%B8%89%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/30-%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90-%E6%96%B9%E6%A1%88%E5%9B%9B%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<h3 id="读者写者"><a href="#读者写者" class="headerlink" title="读者写者"></a>读者写者</h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/32-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%B8%80%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/33-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%BA%8C%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/34-%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85-%E6%96%B9%E6%A1%88%E4%B8%89%E7%A4%BA%E4%BE%8B.jpg" alt="img"></p>
<h2 id="✅怎么避免死锁"><a href="#✅怎么避免死锁" class="headerlink" title="✅怎么避免死锁"></a>✅怎么避免死锁</h2><h3 id="死锁概念"><a href="#死锁概念" class="headerlink" title="死锁概念"></a>死锁概念</h3><p>两个线程为了保护两个不同的资源使用了两个互斥锁，两个锁应用不当时，可能会造成两个线程都在等待对方解锁，从而形成死锁的局面。</p>
<p>条件缺一不可成死锁</p>
<ol>
<li>互斥条件：多个线程不能同时使用同一个资源</li>
<li>持有并等待条件：线程A在等待资源2的同时并不会释放自己已持有的资源1</li>
<li>不可剥夺条件：资源在自己使用完之前不能被其他线程获取</li>
<li>环路等待条件：两个线程获取资源的顺序构成了环形链</li>
</ol>
<h3 id="死锁成因↑"><a href="#死锁成因↑" class="headerlink" title="死锁成因↑"></a>死锁成因↑</h3><h3 id="利用工具排查死锁"><a href="#利用工具排查死锁" class="headerlink" title="利用工具排查死锁"></a>利用工具排查死锁</h3><p>jstack</p>
<h3 id="避免死锁的办法"><a href="#避免死锁的办法" class="headerlink" title="避免死锁的办法"></a>避免死锁的办法</h3><p>资源有序分配</p>
<p>线程 A 和 线程 B 获取资源的顺序要一样，当线程 A 是先尝试获取资源 A，然后尝试获取资源 B 的时候，线程 B 同样也是先尝试获取资源 A，然后尝试获取资源 B。也就是说，线程 A 和 线程 B 总是以相同的顺序申请自己想要的资源。</p>
<p>我们使用资源有序分配法的方式来修改前面发生死锁的代码，我们可以不改动线程 A 的代码。</p>
<p>我们先要清楚线程 A 获取资源的顺序，它是先获取互斥锁 A，然后获取互斥锁 B。</p>
<p>所以我们只需将线程 B 改成以相同顺序的获取资源，就可以打破死锁了。</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/%E8%B5%84%E6%BA%90%E6%9C%89%E5%BA%8F%E5%88%86%E9%85%8D.png" alt="img"></p>
<h2 id="悲观锁乐观锁等各种锁"><a href="#悲观锁乐观锁等各种锁" class="headerlink" title="悲观锁乐观锁等各种锁"></a>悲观锁乐观锁等各种锁</h2><p><a target="_blank" rel="noopener" href="https://xiaolincoding.com/os/4_process/pessim_and_optimi_lock.html">原文</a></p>
<h2 id="✅一个进程可以创建多少个线程"><a href="#✅一个进程可以创建多少个线程" class="headerlink" title="✅一个进程可以创建多少个线程"></a>✅一个进程可以创建多少个线程</h2><p>因素：</p>
<ul>
<li>进程的虚拟内存空间上限</li>
<li>系统参数限制</li>
</ul>
<h2 id="线程崩溃进程也会崩溃吗"><a href="#线程崩溃进程也会崩溃吗" class="headerlink" title="线程崩溃进程也会崩溃吗"></a>线程崩溃进程也会崩溃吗</h2><p>实在是不打算了解了呃呃</p>
<h1 id="🎨HTML-CSS"><a href="#🎨HTML-CSS" class="headerlink" title="🎨HTML/CSS"></a>🎨HTML/CSS</h1><h2 id="✅HTML5相对于其他版本的优势"><a href="#✅HTML5相对于其他版本的优势" class="headerlink" title="✅HTML5相对于其他版本的优势"></a>✅HTML5相对于其他版本的优势</h2><ul>
<li>增加了很多语义化标签，比如header main article section footer nav aside等</li>
<li>增加媒体标签，使更好替代flash，比如audio vedio </li>
<li>更加侧重语义化，对SEO搜索引擎优化很友好</li>
<li>针对JS增加了很多可操作的接口和全局属性</li>
<li>可移植性增强，多端适配</li>
<li>其他：canvasJS绘图、webWorkers、WebSockets、RAF、离线存储</li>
</ul>
<h2 id="✅HTML5优势细说"><a href="#✅HTML5优势细说" class="headerlink" title="✅HTML5优势细说"></a>✅HTML5优势细说</h2><h3 id="标签分类"><a href="#标签分类" class="headerlink" title="标签分类"></a>标签分类</h3><h4 id="布局标签状态标签列表标签文本标签……"><a href="#布局标签状态标签列表标签文本标签……" class="headerlink" title="布局标签状态标签列表标签文本标签……"></a>布局标签状态标签列表标签文本标签……</h4><h3 id="新增表单功能"><a href="#新增表单功能" class="headerlink" title="新增表单功能"></a>新增表单功能</h3><table>
<thead>
<tr>
<th>属性名</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>placeholder</td>
<td>提示文字（注意：不是默认值， value 是默认值），适用于文字输入类的表单控件。昂昂！</td>
</tr>
<tr>
<td>required</td>
<td>表示该输入项必填， 适用于除按钮外其他表单控件。</td>
</tr>
<tr>
<td>autofocus</td>
<td>自动获取焦点，适用于所有表单控件。果然会用到这个！</td>
</tr>
<tr>
<td>autocomplete</td>
<td>自动完成，可以设置为 on 或 off ，适用于文字输入类的表单控件。注意：密码输入框、多行输入框不可用。</td>
</tr>
<tr>
<td>pattern</td>
<td>填写正则表达式，适用于文本输入类表单控件。注意：多行输入不可用，且空的输入框不会验证，往往与 required 配合。</td>
</tr>
</tbody></table>
<h3 id="音频视频标签"><a href="#音频视频标签" class="headerlink" title="音频视频标签"></a>音频视频标签</h3><h3 id="新增全局属性"><a href="#新增全局属性" class="headerlink" title="新增全局属性"></a>新增全局属性</h3><table>
<thead>
<tr>
<th>属性名</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>contenteditable</td>
<td>表示元素是否可被用户编辑，可选值如下：true ：可编辑false ：不可编辑</td>
</tr>
<tr>
<td>draggable</td>
<td>表示元素可以被拖动，可选值如下：true ：可拖动false ：不可拖动</td>
</tr>
<tr>
<td>hidden</td>
<td>隐藏元素</td>
</tr>
<tr>
<td>spellcheck</td>
<td>规定是否对元素进行拼写和语法检查，可选值如下：true ：检查false ：不检查</td>
</tr>
<tr>
<td>contextmenu</td>
<td>规定元素的上下文菜单，在用户鼠标右键点击元素时显示。</td>
</tr>
<tr>
<td>==data-* 这个用过哦！==</td>
<td>==用于存储页面的私有定制数据。doc.dataset.* 这个和下一个都是H5中非常有用的自定义属性！==</td>
</tr>
<tr>
<td>==aria-*==</td>
<td>==用于增强网页的可访问性，特别是对于使用屏幕阅读器等辅助技术的用户。==</td>
</tr>
<tr>
<td>lang</td>
<td>语言</td>
</tr>
<tr>
<td>class/id/style/title</td>
<td>样式、标识、标签等</td>
</tr>
</tbody></table>
<h3 id="离线存储"><a href="#离线存储" class="headerlink" title="离线存储"></a>离线存储</h3><p>H5使用离线存储机制，使得网页应用程序可以在用户离线时仍可正常运行。也就是说用户离线了，也可以利用浏览器中缓存的一些数据进行一些操作，提高用户体验。</p>
<h4 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h4><p>ApplicationCache应用缓存程序——一个存储机制，允许开发者定义哪些资源应该被缓存，保证离线也能加载。这些资源包括文档、样式、JS、图像等。</p>
<h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ol>
<li><p>创建缓存清单文件CacheManifest：创建一个扩展名为.appcache的文本文件</p>
</li>
<li><p>在HTML中引用缓存清单：<code>&lt;html manifest:&#39;....appcache&#39;&gt;&lt;/html&gt;</code></p>
</li>
<li><p>配置缓存策略：<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728145131981.png" alt="image-20230728145131981" style="zoom: 67%;" />cache需要缓存的network不需要缓存的fallback替代资源</p>
</li>
<li><p>设置离线事件处理：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;updateready&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="property">status</span> === <span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="property">UPDATEREADY</span>) &#123;</span><br><span class="line">    <span class="comment">// 缓存已更新，执行相关操作cached、noupdate、downloading、updateready</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">applicationCache</span>.<span class="title function_">swapCache</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="浏览器兼容性"><a href="#浏览器兼容性" class="headerlink" title="浏览器兼容性"></a>浏览器兼容性</h3><ul>
<li>向后兼容：正常处理旧版</li>
<li>旧浏览器理解：使用Shims/Polyfills等包使得实现H5功能</li>
<li>渐进增强和优雅降级：前者是开发时先构建基本功能，再逐步增加高级特新；后者是从高级功能开始，逐渐适配较旧的浏览器。</li>
<li>特性检测：开发者可以对浏览器进行特性检测，评估浏览器能力，提供对应的代码功能服务。</li>
<li>标准化：H5是W3C标准化的，开发者可以比较安心地在不同浏览器上实现相同效果。</li>
<li>移动优先：H5设计考虑了移动设备的普及，提供了移动端友好特性，比如书响应式、触摸、移动设备优化等。</li>
<li>CanvasSVG：灵活绘制复杂图形。</li>
</ul>
<h2 id="✅SEO搜索引擎优化"><a href="#✅SEO搜索引擎优化" class="headerlink" title="✅SEO搜索引擎优化"></a>✅SEO搜索引擎优化</h2><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%90%9C%E5%B0%8B%E5%BC%95%E6%93%8E%E6%9C%80%E4%BD%B3%E5%8C%96">Wiki</a></p>
<p>好牛的一方面，似乎会有专门的SEO工程师做这一块。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728164749800.png" alt="image-20230728164749800" style="zoom:80%;" />

<h2 id="✅前端跨浏览器-多端兼容性-适配问题"><a href="#✅前端跨浏览器-多端兼容性-适配问题" class="headerlink" title="✅前端跨浏览器/多端兼容性/适配问题"></a>✅前端跨浏览器/多端兼容性/适配问题</h2><p><strong>多端</strong>兼容适配指应用在各种设备（电脑，手机）上能够正常显示和交互。</p>
<ul>
<li>遵循标准</li>
<li>使用浏览器兼容性检测工具</li>
<li>响应式设计</li>
<li>现代框架</li>
<li>服务端渲染</li>
<li>……</li>
<li>持续监控更新</li>
</ul>
<p><strong>跨浏览器</strong>兼容适配指web应用在不同浏览器中能够正常显示盒交互。</p>
<ul>
<li>遵循Web规范标准</li>
<li>响应式设计</li>
<li>特性检测，分类给服</li>
<li>CSS前缀后备</li>
<li>用可靠的包</li>
<li>……</li>
<li>多浏览器测试</li>
</ul>
<h2 id="✅优化页面性能"><a href="#✅优化页面性能" class="headerlink" title="✅优化页面性能"></a>✅优化页面性能</h2><h3 id="MDN版："><a href="#MDN版：" class="headerlink" title="MDN版："></a>MDN版：</h3><blockquote>
<p>Web 性能是客观的衡量标准，是用户对加载时间和运行时的直观体验。</p>
</blockquote>
<p>Web性能优化请看准关键性能。</p>
<h4 id="🥗使用dns-prefetch"><a href="#🥗使用dns-prefetch" class="headerlink" title="🥗使用dns-prefetch"></a>🥗使用dns-prefetch</h4><p>(有预制菜内味儿了)</p>
<p>DNS-prefetch尝试在请求资源前解析域名。可能是后面要加载的文件/用户尝试打开的链接目标。</p>
<p>浏览器从第三方请求资源的时候必须先将该跨源域名解析为IP地址，然后才可发出请求。（DNS解析）</p>
<p>DNS缓存可以帮助减少对此的延迟，而<strong>DNS解析可以导致请求增加明显的延迟</strong>。</p>
<p>dns-pre的作用即为帮<strong>助开发人员掩盖DNS解析的延迟</strong>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--使用↓ 每当站点引用跨源资源的时候，都应在head中如此放置--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 其他 head 元素 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 你的页面内容 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Link</span><span class="punctuation">: </span>&lt;https://fonts.googleapis.com/&gt;; rel=dns-prefetch</span><br><span class="line">指定为http标头之一↑</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<ul>
<li><p>dns-pre仅对跨源域上DNS的查找有效，因此需要避免指向本站点/域(浏览器看到提示时站点背后的IP已被解析)</p>
</li>
<li><p>考虑将 <code>dns-prefetch</code> 与 <code>preconnect</code> 提示配对。<code>dns-prefetch</code> 只执行 DNS 查询，而 <code>preconnect</code> 则是建立与服务器的连接。这个过程包括 DNS 解析，以及建立 TCP 连接，如果是 HTTPS 网站，就进一步执行 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/TLS">TLS</a> 握手。将这两者结合起来，可以进一步减少<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">跨源请求</a>的感知延迟。（preconnect最好只用在关键连接上）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preconnect&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> <span class="attr">crossorigin</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fonts.googleapis.com/&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="🥙优化启动性能"><a href="#🥙优化启动性能" class="headerlink" title="🥙优化启动性能"></a>🥙优化启动性能</h4><p>(启动速度，直接影响用户体验)</p>
<h5 id="异步化"><a href="#异步化" class="headerlink" title="异步化"></a>异步化</h5><ul>
<li><p>启动时，在使用<strong>异步脚本标签中加入defer(异步)/async</strong>(不阻塞加载但阻塞运行)属性，便于解析器高效处理文档</p>
</li>
<li><p>若需要<strong>解码资源文件</strong>，最好在<strong>worker</strong>中做此事</p>
</li>
<li><p>处理浏览器支持的数据格式时，使用设备/浏览器<strong>内置的解码器</strong>更优</p>
</li>
<li><p>所有能并行的数据处理都该<strong>并行化</strong></p>
</li>
<li><p>不要强迫Web引擎构建<strong>不必要的DOM</strong></p>
<p>一种简单的hack方式：将html代码保留在文档中，包裹在注释内，阻止渲染，需要的时候再渲染</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    &lt;div&gt; ... 此处放置需要延迟渲染的HTML代码</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo.<span class="property">innerHTML</span> = foo.<span class="property">firstChild</span>.<span class="property">nodeValue</span>; <span class="comment">// 以此触发渲染</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="下载时间"><a href="#下载时间" class="headerlink" title="下载时间"></a>下载时间</h5><p>缩小体积</p>
<h5 id="GPU占用时间"><a href="#GPU占用时间" class="headerlink" title="GPU占用时间"></a>GPU占用时间</h5><h5 id="数据大小"><a href="#数据大小" class="headerlink" title="数据大小"></a>数据大小</h5><p>缩小体积</p>
<h5 id="主观因素"><a href="#主观因素" class="headerlink" title="主观因素"></a>主观因素</h5><p>过渡动画、进度条，委婉让用户知晓状态的一些功能</p>
<h4 id="🥪CSS动画和JS动画性能"><a href="#🥪CSS动画和JS动画性能" class="headerlink" title="🥪CSS动画和JS动画性能"></a>🥪CSS动画和JS动画性能</h4><p>主要分析CSS(<strong>transition，animation</strong>)和JS(<strong>requestAnimationFrame()</strong>)动画性能的差异。</p>
<p>.一个简单的的方式去创造当前样式与结束状态样式之间的动画</p>
<p>.提供通过一个初始状态属性值集合与最终状态属性值集合创造动画</p>
<p>.提供一种用 JavaScript 代码制作动画的高效方式，在绘制下一帧前由浏览器调用</p>
<p>简单动画完全可以使用CSS，若实在复杂，JS是佳选。</p>
<h4 id="🌮关键渲染路径"><a href="#🌮关键渲染路径" class="headerlink" title="🌮关键渲染路径"></a>🌮关键渲染路径</h4><p>这条将HTMLCSSJS转换为屏幕上的像素的过程无疑是优化性能的关键一环（CRF）。</p>
<ul>
<li>异步/延迟加载或消除非关键资源</li>
<li>优化请求数量和每个请求文件的体积</li>
<li>通过区分关键资源优先级来优化被加载资源的顺序，缩短关键路径长度</li>
</ul>
<h4 id="🌯懒加载"><a href="#🌯懒加载" class="headerlink" title="🌯懒加载"></a>🌯懒加载</h4><p>延迟加载，非关键资源加载的策略。</p>
<ul>
<li>拆分代码，入口/import</li>
<li>CSS尽量小，尽快送达</li>
<li>字体preload</li>
<li>非关键图片懒加载, loading=”lazy”</li>
<li>事件处理器加载</li>
</ul>
<h4 id="🍔渲染页面：浏览器工作原理"><a href="#🍔渲染页面：浏览器工作原理" class="headerlink" title="🍔渲染页面：浏览器工作原理"></a>🍔渲染页面：浏览器工作原理</h4><p>就是↓</p>
<h3 id="民间版："><a href="#民间版：" class="headerlink" title="民间版："></a>民间版：</h3><p>请去看URL-&gt;渲染过程，根据这一系列的步骤来优化。</p>
<ul>
<li>请求阶段<ul>
<li>善用缓存</li>
<li>使用httpDNS</li>
<li>减少重定向</li>
<li>静态资源服务器</li>
<li>服务器升级带宽</li>
<li>数据库优化</li>
<li>缓存动态网页</li>
<li>高防服务器</li>
</ul>
</li>
<li>解析加载阶段<ul>
<li>DNS预解析预解析html预加载linkscript，尽量避免阻塞，缩短阻塞时间(少，早)</li>
<li>按需加载</li>
<li>合适统一替代</li>
<li>缓存</li>
<li>并行请求</li>
<li>SSR</li>
</ul>
</li>
<li>渲染阶段<ul>
<li>少操作DOM</li>
</ul>
</li>
</ul>
<h2 id="✅CSS3新特性"><a href="#✅CSS3新特性" class="headerlink" title="✅CSS3新特性"></a>✅CSS3新特性</h2><ul>
<li>圆角：border-radius</li>
<li>渐变：gradient</li>
<li>阴影：box-shadow text-shadow</li>
<li>透明度：opacity</li>
<li>过渡：transition</li>
<li>动画：@keyframes: animation</li>
<li>多列布局：column-count column-width</li>
<li>媒体查询：@media</li>
<li>自定义字体：@font-face</li>
<li>伪元素伪类：::before ::after :hover</li>
<li>Flex布局：display: flex</li>
<li>Grid布局：display: grid</li>
<li>过滤：filter</li>
</ul>
<h2 id="Flex布局"><a href="#Flex布局" class="headerlink" title="Flex布局"></a>Flex布局</h2><p>flex-basis flex </p>
<h2 id="Grid布局"><a href="#Grid布局" class="headerlink" title="Grid布局"></a>Grid布局</h2><h2 id="rem布局"><a href="#rem布局" class="headerlink" title="rem布局"></a>rem布局</h2><h2 id="浮动布局"><a href="#浮动布局" class="headerlink" title="浮动布局"></a>浮动布局</h2><h2 id="🈯BFC"><a href="#🈯BFC" class="headerlink" title="🈯BFC"></a>🈯BFC</h2><p>Block Formating Context 块级格式化上下文</p>
<p>我对它的理解是它其实是浏览器一个隐藏方法，当满足一定条件的时候就会调用，这个时候我们就可以说BFC开启了。</p>
<p>BFC开启主要解决这些问题：</p>
<ul>
<li>margin塌陷</li>
<li>元素内元素开启浮动的时候，元素宽高塌陷</li>
<li>浮动元素被另一个兄弟元素覆盖</li>
</ul>
<p>开启BFC的方式有很多：</p>
<ul>
<li>个人认为副作用最小的是<code>display: flow-root</code></li>
<li>浮动定位、绝对定位</li>
<li>行内块元素inline-block</li>
<li>flex/grid/table布局 多列容器</li>
<li>overflow!=visible</li>
</ul>
<h2 id="✅CSS选择器优先级-amp-权重"><a href="#✅CSS选择器优先级-amp-权重" class="headerlink" title="✅CSS选择器优先级&amp;权重"></a>✅CSS选择器优先级&amp;权重</h2><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><h4 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[title]</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href=<span class="string">&#x27;...&#x27;</span>]</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[class~=<span class="string">&#x27;warn&#x27;</span>]</span> <span class="comment">/* 含有warn */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-attr">[lang|=<span class="string">&#x27;zh&#x27;</span>]</span> <span class="comment">/* 正为/一开始为此值 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class^=<span class="string">&#x27;box-&#x27;</span>]</span> <span class="comment">/* 开头是此字段 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class$=<span class="string">&#x27;-box&#x27;</span>]</span> <span class="comment">/* 结尾是此字段 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-attr">[class*=<span class="string">&#x27;box&#x27;</span>]</span> <span class="comment">/* 至少出现一次该字段 */</span></span><br></pre></td></tr></table></figure>

<h4 id="伪类选择器"><a href="#伪类选择器" class="headerlink" title="伪类选择器"></a>伪类选择器</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">:frist-child</span><br><span class="line">:last-child</span><br><span class="line">:only-child</span><br><span class="line">:invalid</span><br><span class="line"></span><br><span class="line">:hover</span><br><span class="line">:focus</span><br></pre></td></tr></table></figure>

<h4 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器"></a>伪元素选择器</h4><blockquote>
<p><strong>好奇妙的</strong></p>
<p>格式化呀↓</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">artical <span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::before</span> </span><br><span class="line"><span class="selector-pseudo">::after</span> </span><br><span class="line"><span class="comment">/* 适合用来插入图标，不太适合插入字符串 */</span></span><br><span class="line"><span class="comment">/* “生成内容”——将其content属性设为空字符串，即可进行一些更为样式化的操作 */</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>一组特别的伪元素↑</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193431669.png" alt="image-20230726193431669" style="zoom: 67%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193624388.png" alt="image-20230726193624388" style="zoom:67%;" />

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726193823520.png" alt="image-20230726193823520" style="zoom:67%;" />
</blockquote>
<h4 id="关系选择器"><a href="#关系选择器" class="headerlink" title="关系选择器"></a>关系选择器</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 经典的后代选择器-凡是后代 */</span></span><br><span class="line"><span class="selector-tag">body</span> <span class="selector-tag">article</span> <span class="selector-tag">p</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726195259096.png" alt="image-20230726195259096" style="zoom:67%;" />

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 子代关系选择器-直接的子元素 */</span></span><br><span class="line"><span class="selector-tag">article</span> &gt; <span class="selector-tag">p</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 邻接兄弟选择器-紧随之后的元素 */</span></span><br><span class="line"><span class="selector-tag">p</span> + <span class="selector-tag">img</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 通用兄弟选择器-都叽吧鸽们！ */</span></span><br><span class="line"><span class="selector-tag">p</span> ~ <span class="selector-tag">img</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 组合一下 */</span></span><br><span class="line"><span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-attr">[class*=<span class="string">&#x27;detail&#x27;</span>]</span></span><br></pre></td></tr></table></figure>

<p>以上这些特殊的选择器蛮多的，去MDN查吧！会有意外收获的~</p>
<h3 id="选择器权重"><a href="#选择器权重" class="headerlink" title="选择器权重"></a>选择器权重</h3><ul>
<li><strong>!important</strong></li>
<li><strong>内联样式1000</strong>：在元素的style中定义</li>
<li><strong>ID选择器100</strong>：通过元素id属性定义</li>
<li><strong>类选择器/属性选择器/伪类选择器10</strong>：class / [type=1] / :hover</li>
<li><strong>元素选择器(类型选择器)/伪元素选择器1</strong>：p, div / ::before, ::after</li>
<li><strong>全局通用选择器/关系选择器/组合器0</strong>：* / img~p</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: white&quot;</span>&gt;</span>啊啊啊啊啊<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">!important&gt;内联样式&gt;id选择器&gt;类选择器&gt;元素选择器</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background-color</span>:blue <span class="meta">!important</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230726162808919.png" alt="image-20230726162808919"></p>
<h2 id="✅盒模型"><a href="#✅盒模型" class="headerlink" title="✅盒模型"></a>✅盒模型</h2><p>CSS中所有元素都被一个个盒子包围。广泛使用的两种盒子：块级盒子、内联盒子。两种盒子会在页面流和元素间关系方面表现出不同的行为。</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/The_box_mode">MDN原文</a></p>
<h3 id="块级盒子"><a href="#块级盒子" class="headerlink" title="块级盒子"></a>块级盒子</h3><ul>
<li>盒子会在内联方向上扩展并占据父容器在该方向上的所有可用的空间，大部分情况下和父容器盒子一样宽</li>
<li>每个盒子都换行</li>
<li>width/height属性可以发挥作用</li>
<li>内边距、外边距、边框会将其他元素从当前盒子周围推开</li>
</ul>
<h3 id="内联盒子"><a href="#内联盒子" class="headerlink" title="内联盒子"></a>内联盒子</h3><ul>
<li>盒子不会产生换行</li>
<li>width/height不起作用</li>
<li>水平方向内边距、外边距、边框会被应用但不会把其他处于inline状态的盒子推开</li>
<li>垂直方向内边距、外边距、边框会被应用且会把处于inline状态的盒子推开</li>
</ul>
<h3 id="CSS盒模型"><a href="#CSS盒模型" class="headerlink" title="CSS盒模型"></a>CSS盒模型</h3><p>模型定义了content padding border margin这些部分</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/box-model.png" alt="Diagram of the box model"></p>
<p>CSS中组成一个块级盒子需要：</p>
<ul>
<li>ContentBox</li>
<li>PaddingBox</li>
<li>BorderBox</li>
<li>MarginBox</li>
</ul>
<p>为了增加一些额外的复杂性，有了两类盒模型，一个是标准盒模型，一个是替代盒模型↓</p>
<h4 id="标准盒模型"><a href="#标准盒模型" class="headerlink" title="标准盒模型"></a>标准盒模型</h4><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/standard-box-model.png" alt="Showing the size of the box when the standard box model is being used."></p>
<p>标准盒模型宽高是ContentBox的宽高。</p>
<p>浏览器默认使用这种标准盒模型<code>box-sizing: content-box</code>。</p>
<h4 id="替代-IE-盒模型"><a href="#替代-IE-盒模型" class="headerlink" title="替代(IE)盒模型"></a>替代(IE)盒模型</h4><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/alternate-box-model.png" alt="Showing the size of the box when the alternate box model is being used."></p>
<p>替代盒模型的宽高是ContentBox+PaddingBox+BorderBox的宽高（可见宽高）。</p>
<p>可以通过<code>box-sizing: border-box</code>来实现替代盒模型。</p>
<h3 id="其他常见盒模型"><a href="#其他常见盒模型" class="headerlink" title="其他常见盒模型"></a>其他常见盒模型</h3><ul>
<li>内联盒子-display: inline-box</li>
<li>内联块级盒子-inline-block</li>
<li>弹性盒子-flex</li>
<li>网格盒子-grid</li>
<li>表格盒子-table table-row table-cell</li>
<li>浮动盒子-fload: left/right</li>
<li>绝对定位盒子-position: absolute</li>
</ul>
<h4 id="内联盒子-1"><a href="#内联盒子-1" class="headerlink" title="内联盒子"></a>内联盒子</h4><ul>
<li>水平方向排列</li>
<li>宽度由内容决定，高度由字体大小决定</li>
<li>不会自动换行，不会独占一行</li>
<li>仅支持水平方向内外边距和边框</li>
</ul>
<h4 id="内联块级盒子"><a href="#内联块级盒子" class="headerlink" title="内联块级盒子"></a>内联块级盒子</h4><ul>
<li>水平方向，一行内，不自动换行</li>
<li>但是支持宽高设置和垂直方向边距和边框</li>
</ul>
<h2 id="✅行内元素和块元素"><a href="#✅行内元素和块元素" class="headerlink" title="✅行内元素和块元素"></a>✅行内元素和块元素</h2><h3 id="行内元素-inline"><a href="#行内元素-inline" class="headerlink" title="行内元素-inline"></a>行内元素-inline</h3><p>a span em strong img input</p>
<ul>
<li>水平、不独占一行、不自动换行</li>
<li>宽高由内容和字体大小决定，也就是说设置宽高无效</li>
<li>垂直方向内外边距和边框失效</li>
<li><strong>行内元素不能包含块级元素</strong>，只能来点小文本/其他行内元素</li>
</ul>
<h3 id="块级元素-block"><a href="#块级元素-block" class="headerlink" title="块级元素-block"></a>块级元素-block</h3><p>hn p div ul/ol/li form</p>
<ul>
<li>独占一行、自动换行</li>
<li>宽度默认父元素100%，宽高有效</li>
<li>内外边距和边框都有效</li>
<li>块级元素内可以包含块级元素、行内元素、文本</li>
</ul>
<h2 id="背景和边框"><a href="#背景和边框" class="headerlink" title="背景和边框"></a>背景和边框</h2><h2 id="z-index在什么情况下生效（-gt-层叠样式表"><a href="#z-index在什么情况下生效（-gt-层叠样式表" class="headerlink" title="z-index在什么情况下生效（=&gt;层叠样式表"></a>z-index在什么情况下生效（=&gt;层叠样式表</h2><h2 id="position常见属性"><a href="#position常见属性" class="headerlink" title="position常见属性"></a>position常见属性</h2><h2 id="实现水平垂直居中"><a href="#实现水平垂直居中" class="headerlink" title="实现水平垂直居中"></a>实现水平垂直居中</h2><h2 id="实现元素居中"><a href="#实现元素居中" class="headerlink" title="实现元素居中"></a>实现元素居中</h2><h2 id="如何隐藏元素"><a href="#如何隐藏元素" class="headerlink" title="如何隐藏元素"></a>如何隐藏元素</h2><h2 id="如何清除浮动样式"><a href="#如何清除浮动样式" class="headerlink" title="如何清除浮动样式"></a>如何清除浮动样式</h2><h2 id="css实现透明度的方式"><a href="#css实现透明度的方式" class="headerlink" title="css实现透明度的方式"></a>css实现透明度的方式</h2><h2 id="实现Flex两栏布局"><a href="#实现Flex两栏布局" class="headerlink" title="实现Flex两栏布局"></a>实现Flex两栏布局</h2><h2 id="实现三列布局"><a href="#实现三列布局" class="headerlink" title="实现三列布局"></a>实现三列布局</h2><h2 id="实现流式布局"><a href="#实现流式布局" class="headerlink" title="实现流式布局"></a>实现流式布局</h2><h2 id="预处理器和css变量"><a href="#预处理器和css变量" class="headerlink" title="预处理器和css变量"></a>预处理器和css变量</h2><h1 id="🦴JS"><a href="#🦴JS" class="headerlink" title="🦴JS"></a>🦴JS</h1><h2 id="🈯ES6里面的E和S分别指的是什么？"><a href="#🈯ES6里面的E和S分别指的是什么？" class="headerlink" title="🈯ES6里面的E和S分别指的是什么？"></a>🈯ES6里面的E和S分别指的是什么？</h2><p>ES6中E指的是ECMAScript，S指的是Script。</p>
<p>前者是JS的标准化版本，定义了JS的核心语言功能，包括变量、数据类型、操作符、控制结构等。 </p>
<p>后者表示的是JS的脚本编程特性，使其适用于在Web浏览器中创建交互式和动态的网页。</p>
<h2 id="🈯JavaScript和ECMAScript区别？"><a href="#🈯JavaScript和ECMAScript区别？" class="headerlink" title="🈯JavaScript和ECMAScript区别？"></a>🈯JavaScript和ECMAScript区别？</h2><p>JS是一种基于ECMAScript标准的编程语言，是它的一种实现。它包括了EC定义的核心语言功能，但也包括了其他功能和API，以便在Web环境中进行网页开发。</p>
<h2 id="🈯从JavaScript中把ECMAScript踢出去，剩下的是什么？"><a href="#🈯从JavaScript中把ECMAScript踢出去，剩下的是什么？" class="headerlink" title="🈯从JavaScript中把ECMAScript踢出去，剩下的是什么？"></a>🈯从JavaScript中把ECMAScript踢出去，剩下的是什么？</h2><p>剔出的话就非常受限了，JS将失去编程语言的特性，只剩下一些浏览器特定API，比如DOM、BOM等。这些API用于操作网页元素、与浏览器交互，但是无法构建完整的应用程序或者应用程序进行通用的编程任务。</p>
<h2 id="🈯ES6新特性"><a href="#🈯ES6新特性" class="headerlink" title="🈯ES6新特性"></a>🈯ES6新特性</h2><p>蛮多的……看看能不能尽量往会的地方引，一下是之前整理过的↓</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230727152654985.png" alt="image-20230727152654985" style="zoom: 80%;" />





<h2 id="✅const一个数组-可以修改数组元素吗"><a href="#✅const一个数组-可以修改数组元素吗" class="headerlink" title="✅const一个数组 可以修改数组元素吗"></a>✅const一个数组 可以修改数组元素吗</h2><p>const声明，表示变量的引用是不可改变的，也就是说不能重新分配一个不同的数组给变量。</p>
<p>换一句话说就是：数组是引用变量，能通过中括号和一些数组方法进行修改，但是完整替换是不行的。</p>
<h2 id="map-map的实现方式-set-weakmap-weakset-bigint"><a href="#map-map的实现方式-set-weakmap-weakset-bigint" class="headerlink" title="map(map的实现方式) set weakmap weakset bigint"></a>map(map的实现方式) set weakmap weakset bigint</h2><h2 id="✅原型-amp-原型链"><a href="#✅原型-amp-原型链" class="headerlink" title="✅原型&amp;原型链"></a>✅原型&amp;原型链</h2><h3 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h3><p>什么是原型呢？在JS中几乎每一个对象都有一个与之关联的对象，对象从这个关联的对象中继承一些属性，那么这个关联的对象就可以被称为是这个对象的原型。</p>
<p>值得注意的是，通过字面量创建的对象，原型对象都可以通过<code>Object.prototype</code>来引用。用new 构造函数创建的对象，原型是构造函数中prototype所指……</p>
<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><p>原型链是什么呢？原型链它是一种JS的主要继承方式。<br>它的基本思想就是通过原型，继承多个引用类型的属性和方法。它的基本构想就是在实例和原型间构造一条长链。<br>具体解释一下就是，每一个构造函数，都有一个属性指向原型对象，原型又有一个属性指回构造函数，通过这些构造函数实例化的对象有一个属性指向它的原型对象。这就是一个三要素连起来的小链了。然后我们可以想一下原型对象，这个原型对象可能继承了其他对象，那么它也有自己的原型对象，那么此时它也应该有一个属性来指向它的原型，以此类推，就出现了一条长长的原型链。</p>
<p>这使得，当我们要从一个对象中查询一个属性的时候，先会这个对象的自有属性中有无，如果有，很好找到了；如果没有，去看到它从它的原型中继承来的属性；如果有很好找到了；如果没有，去到它这个原型的原型中找，以此类推，直到JS规定的<code>Object.prototype.__proto__ = null</code>这个顶端终点为止。</p>
<h2 id="✅数组底层数据结构"><a href="#✅数组底层数据结构" class="headerlink" title="✅数组底层数据结构"></a>✅数组底层数据结构</h2><p>~从与其他语言对比上讲：</p>
<p>JS数组不像传统的语言一样是一块连续的区域，而是一种稀疏的，不必连续，允许有空隙的数据结构。且不像传统数组一样要求所有元素类型相同，元素可以是字符串甚至是对象、函数。</p>
<p>~从JS继承上讲：</p>
<p>JSArray实际上是继承自JSObject的，它是一个特殊对象。特殊在哪里呢？举个例子，数组[1,  2,  3]，底层结构实际上是{ ‘0’: 1, ‘1’: 2, ‘2’: 3 , length: 3}——通过键值对的形式存储数组的索引和值，并且有一个带有length属性，且这个属性值为数组长度的对象，且会随着数组内元素的变化而相应变化。</p>
<p>~之前有看过一个大佬讲V8源码对于数组的实现-<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903943638794248">原文链接</a>：</p>
<p>在用类似于我刚才举的例子的代码验证时，发现底层实际是个map，key索引value值。且JS数组有两种表现形式：一种是快数组FastElements，采用的快速后备存储结构FixedArray，一种是慢数组DictionaryElements，采用的是缓慢后备存储结构HashTable。</p>
<ul>
<li>FixedArray是V8实现的一个类似于数组的类，表示一段固定长度的连续的内存，适合一致、连续、密集的数组</li>
<li>HashArray就是哈希表，根据散列表中的Key，通过散列函数，可以查询到内存存储的Value</li>
</ul>
<p>快慢数组详细解释</p>
<ul>
<li>快数组：快数组存储方式是线性的，新创建的空数组默认是快数组的存储方式。快数组长度可变，可根据数组的增删，通过扩容和收缩机制来动态调整存储空间大小。<ul>
<li>扩容：<code>new_capacity = (old_capacity&gt;&gt;1) + old_capacity + 16</code>——1.5倍旧空间+16。扩容后会将数组拷贝到新的空间里</li>
<li>收缩：<code>if(capicity &gt; 2 * length + 16) &#123;需要收缩  收缩的大小 =  (length+1==old_length?(opacity-length)/2:capicity-length)&#125; else &#123;使用holes对象填充&#125;</code></li>
<li>hoels空洞对象：分配了空间但是没有存放元素的位置。快数组有专门模式FastHoelyElements，也是分配连续空间，但给没有赋值的数组索引下会存储一个<code>undefined</code></li>
</ul>
</li>
<li>慢数组：慢数组存储方式是哈希表，不用开辟大块连续空间，但是维护起来效率比前者低一些。</li>
<li>快慢数组转换<ul>
<li>快=&gt;慢：这个 过程式动态进行的。<code>if(新容量 &gt;= 3*扩容后的容量*2) &#123;转换&#125;</code>     <code>if(new_index-cur_capicity &gt;= 1024) &#123;转换&#125;</code></li>
<li>慢=&gt;快：这个过程是不可逆的，因为慢数组一旦变复杂(类型/稀疏)，无法恢复成一个慢数组。<code>每次发现数组增长的时候，V8启发式算法检查其占用量，当空洞减少到一定程度(空间节省50%及以上)的时候，转换为快数组</code></li>
<li>各自优势：快数组，用空间换时间，空间大了效率高了；慢数组，用时间换空间，效率慢了空间小了。</li>
</ul>
</li>
</ul>
<p>ArrayBuffer</p>
<p>ES6出的可以按需分配连续内存的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bf = <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(<span class="number">1024</span>) <span class="comment">// 申请到的连续空间</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="title class_">Int32Array</span>(bf) <span class="comment">// 使用这个连续空间的定型数组</span></span><br></pre></td></tr></table></figure>

<p>~总结一下就是：</p>
<p>JS数组和传统数组底层确实不一样，是通过JS V8引擎在底层做了一层封装，使用两种类型的数据结构实现了它，并能通过时间和空间纬度取舍从而优化它的性能。</p>
<h2 id="🈯闭包"><a href="#🈯闭包" class="headerlink" title="🈯闭包"></a>🈯闭包</h2><h2 id="为什么闭包中的局部变量不会被垃圾回收清理？"><a href="#为什么闭包中的局部变量不会被垃圾回收清理？" class="headerlink" title="为什么闭包中的局部变量不会被垃圾回收清理？"></a>为什么闭包中的局部变量不会被垃圾回收清理？</h2><h2 id="讲一下js中的上下文"><a href="#讲一下js中的上下文" class="headerlink" title="讲一下js中的上下文"></a>讲一下js中的上下文</h2><h2 id="JS变量作用域"><a href="#JS变量作用域" class="headerlink" title="JS变量作用域"></a>JS变量作用域</h2><h2 id="🈯对象-数组常用API"><a href="#🈯对象-数组常用API" class="headerlink" title="🈯对象/数组常用API"></a>🈯对象/数组常用API</h2><h2 id="🈯new一个对象的过程"><a href="#🈯new一个对象的过程" class="headerlink" title="🈯new一个对象的过程"></a>🈯new一个对象的过程</h2><h2 id="✅new一个对象和Object-create-的区别"><a href="#✅new一个对象和Object-create-的区别" class="headerlink" title="✅new一个对象和Object.create()的区别"></a>✅new一个对象和Object.create()的区别</h2><p>new一个对象的具体做法是<code>new Object()</code>，此时使用的是Object构造函数，这样做，新建的对象原型将指向Object的prototype。</p>
<p>Object.create()的话，是继承括号内传进去的对象，也就是说这样创建的对象原型指向的是括号内的对象。</p>
<h2 id="✅使用map构建的对象与普通的对象有什么不同"><a href="#✅使用map构建的对象与普通的对象有什么不同" class="headerlink" title="✅使用map构建的对象与普通的对象有什么不同"></a>✅使用map构建的对象与普通的对象有什么不同</h2><table>
<thead>
<tr>
<th>不同</th>
<th>普通对象</th>
<th>map构建对象</th>
</tr>
</thead>
<tbody><tr>
<td>键的类型</td>
<td>String/Symbols</td>
<td>任意类型</td>
</tr>
<tr>
<td>键值对的顺序</td>
<td>无序</td>
<td>插入顺序</td>
</tr>
<tr>
<td>大小获取</td>
<td>获取不到</td>
<td>通过.size获取到</td>
</tr>
<tr>
<td>迭代</td>
<td>for/in Object.keys()</td>
<td>forEach for/of内置迭代</td>
</tr>
<tr>
<td>继承关系</td>
<td>继承它的原型或者Object的原型</td>
<td>继承Map的原型</td>
</tr>
</tbody></table>
<h2 id="✅深浅拷贝"><a href="#✅深浅拷贝" class="headerlink" title="✅深浅拷贝"></a>✅深浅拷贝</h2><h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><p>仅拷贝引用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source)</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">slice</span>()</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">concat</span>()</span><br><span class="line">[...array]</span><br></pre></td></tr></table></figure>

<h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><p>引用也需要复制全新一份。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>()&#123;&#125;</span><br><span class="line">一些第三方库的方法</span><br></pre></td></tr></table></figure>

<h3 id="💦深拷贝寿司"><a href="#💦深拷贝寿司" class="headerlink" title="💦深拷贝寿司"></a>💦深拷贝寿司</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">obj, visited = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">    <span class="comment">// 基本数据类型</span></span><br><span class="line">    <span class="keyword">if</span> (obj === <span class="literal">null</span> || <span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 数组</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title function_">deepCopy</span>(item))</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Date</span></span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>)&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj)    </span><br><span class="line">    &#125;   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 循环应用</span></span><br><span class="line">    <span class="keyword">if</span> (visited.<span class="title function_">has</span>(obj)) &#123;</span><br><span class="line">        <span class="keyword">return</span> visited.<span class="title function_">get</span>(obj)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 对象</span></span><br><span class="line">    <span class="keyword">const</span> newObj = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        newObj[key] = <span class="title function_">deepCopy</span>(obj[key])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="✅平地起高楼"><a href="#✅平地起高楼" class="headerlink" title="✅平地起高楼"></a>✅平地起高楼</h2><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230920143104689.png" alt="image-20230920143104689"></p>
<h2 id="🈯判断一个变量是什么数据类型的"><a href="#🈯判断一个变量是什么数据类型的" class="headerlink" title="🈯判断一个变量是什么数据类型的"></a>🈯判断一个变量是什么数据类型的</h2><p>typeof 判断基本类型和引用类型，其中symbol-&gt;function null-&gt;object</p>
<p>instanceof详细判断引用类型</p>
<p>object.prototype.Stirng最为准确的判断方式</p>
<h2 id="栈和队列和堆"><a href="#栈和队列和堆" class="headerlink" title="栈和队列和堆"></a>栈和队列和堆</h2><ul>
<li>栈是一种线性结构，先进后出。</li>
<li>队列是一种线性结构，先进先出。</li>
<li>堆是一种树状结构，用于存储动态分配的内存。没有特定顺序，满足堆属性。常用于大小根堆。</li>
</ul>
<h2 id="数组和链表"><a href="#数组和链表" class="headerlink" title="数组和链表"></a>数组和链表</h2><h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><h3 id="this-看代码说结果"><a href="#this-看代码说结果" class="headerlink" title="this 看代码说结果"></a>this 看代码说结果</h3><h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><h3 id="引入原因"><a href="#引入原因" class="headerlink" title="引入原因"></a>引入原因</h3><h2 id="✅apply-call-bind区别"><a href="#✅apply-call-bind区别" class="headerlink" title="✅apply/call/bind区别"></a>✅apply/call/bind区别</h2><p>同：</p>
<p>传参均为(所指向的对象，参数)</p>
<p>异(第二参)：</p>
<ul>
<li>apply：数组</li>
<li>call：<code>,</code>分隔的序列</li>
<li>bind：<code>,</code>分隔的序列；返回的是一个可被调用的函数，方便在合适的时间调用。</li>
</ul>
<h2 id="✅🥬函数柯里化Currying"><a href="#✅🥬函数柯里化Currying" class="headerlink" title="✅🥬函数柯里化Currying"></a>✅🥬函数柯里化Currying</h2><p>​    又称 <strong>Partial Evaluation部分求值</strong></p>
<p>​    把传统的一次性接受多个参数的函数转化成——接受这个函数的函数，执行这个函数 所传入的参数数量 可以<code>&lt;=</code>传统参数数量，可以返回一个继续接收剩余参数的函数。</p>
<p>​    这个和函数递归是联系起来的，当传统函数接受n多个参数的时候，currying函数可以是这样。</p>
<p>​    引用该<a target="_blank" rel="noopener" href="https://tsejx.github.io/javascript-guidebook/core-modules/ecmascript-function-objects/function-types/function-currying/#%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B">网站</a>所给示例，但是发现代码有误，自行修改了一下(已提交issue)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currying = <span class="keyword">function</span> (<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> len = fn.<span class="property">length</span>; <span class="comment">// 函数参数的个数</span></span><br><span class="line">    args = args || [];</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...<span class="variable language_">arguments</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> totalArgs = [...args].<span class="title function_">concat</span>([...<span class="variable language_">arguments</span>]);</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> totalArgs.<span class="property">length</span> &gt;= len</span><br><span class="line">        ? fn.<span class="title function_">call</span>(<span class="variable language_">this</span>, ...totalArgs)</span><br><span class="line">        : currying.<span class="title function_">call</span>(<span class="variable language_">this</span>, fn, ...totalArgs);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 测试1</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params">a, b, c</span>) =&gt; a + b + c;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> newSum = <span class="title function_">currying</span>(sum);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> res = <span class="title function_">newSum</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// =&gt; 6</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 测试2</span></span><br><span class="line">  <span class="keyword">const</span> find = <span class="keyword">function</span> (<span class="params">arr, value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(value) !== -<span class="number">1</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> newFind = <span class="title function_">currying</span>(find)([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">  <span class="keyword">const</span> test = <span class="title function_">newFind</span>(<span class="number">3</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(test) <span class="comment">// =&gt; true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="尾递归有什么用"><a href="#尾递归有什么用" class="headerlink" title="尾递归有什么用"></a>尾递归有什么用</h2><h2 id="js变量提升的好处"><a href="#js变量提升的好处" class="headerlink" title="js变量提升的好处"></a>js变量提升的好处</h2><h2 id="事件代理"><a href="#事件代理" class="headerlink" title="事件代理"></a>事件代理</h2><h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><h2 id="暂存死区是啥"><a href="#暂存死区是啥" class="headerlink" title="暂存死区是啥"></a>暂存死区是啥</h2><h2 id="event-target-和-event-currentTarget"><a href="#event-target-和-event-currentTarget" class="headerlink" title="event.target 和 event.currentTarget"></a>event.target 和 event.currentTarget</h2><h2 id="Promise-all-race-手搓"><a href="#Promise-all-race-手搓" class="headerlink" title="Promise all race 手搓"></a>Promise all race 手搓</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">all</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(promises)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">rej</span>(<span class="string">&#x27;Need array&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">const</span> results = []</span><br><span class="line">        <span class="keyword">let</span> cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> (promises.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">res</span>(results)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; promises.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            promises[i].<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                results[i] = res</span><br><span class="line">                cnt++</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (cnt === promises.<span class="property">length</span>) &#123;</span><br><span class="line">                    <span class="title function_">res</span>(results)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(rej)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">race</span>(<span class="params">promises</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promises</span>(<span class="function">(<span class="params">res, rej</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(promises)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">rej</span>(<span class="string">&#x27;Need array&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> pro <span class="keyword">of</span> promises) &#123;</span><br><span class="line">            pro.<span class="title function_">then</span>(res, rej)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现一个函数柯里化加法函数，使得"><a href="#实现一个函数柯里化加法函数，使得" class="headerlink" title="实现一个函数柯里化加法函数，使得"></a>实现一个函数柯里化加法函数，使得</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">numberPlus</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">numberPlus</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 6</span></span><br><span class="line"><span class="title function_">numberPlus</span>(<span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">numberPlus</span>()) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (args.<span class="property">length</span> === fn.<span class="property">length</span>) &#123;</span><br><span class="line">            sum = fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (args.<span class="property">length</span> === <span class="number">1</span>) &#123;</span><br><span class="line">            sum = fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, [...args, sum])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> sum </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> numberPlus = <span class="title function_">curry</span>(add)</span><br></pre></td></tr></table></figure>



<h2 id="Promise如何解决异步问题（还有状态，还有如何控制并发，具体一些用法年数"><a href="#Promise如何解决异步问题（还有状态，还有如何控制并发，具体一些用法年数" class="headerlink" title="Promise如何解决异步问题（还有状态，还有如何控制并发，具体一些用法年数"></a>Promise如何解决异步问题（还有状态，还有如何控制并发，具体一些用法年数</h2><h2 id="promise和async"><a href="#promise和async" class="headerlink" title="promise和async"></a>promise和async</h2><h2 id="Await和Async的作用"><a href="#Await和Async的作用" class="headerlink" title="Await和Async的作用"></a>Await和Async的作用</h2><h2 id="🈯事件循环Event-Loop（叙述、看代码说结果，一定要分清哪些哪些）"><a href="#🈯事件循环Event-Loop（叙述、看代码说结果，一定要分清哪些哪些）" class="headerlink" title="🈯事件循环Event Loop（叙述、看代码说结果，一定要分清哪些哪些）"></a>🈯事件循环Event Loop（叙述、看代码说结果，一定要分清哪些哪些）</h2><p>这里只放一些看代码说结果</p>
<h2 id="为什么要把异步任务拆分成宏任务和微任务？"><a href="#为什么要把异步任务拆分成宏任务和微任务？" class="headerlink" title="为什么要把异步任务拆分成宏任务和微任务？"></a>为什么要把异步任务拆分成宏任务和微任务？</h2><h2 id="如何处理让多个异步任务让它们同时并发去执行？"><a href="#如何处理让多个异步任务让它们同时并发去执行？" class="headerlink" title="如何处理让多个异步任务让它们同时并发去执行？"></a>如何处理让多个异步任务让它们同时并发去执行？</h2><h2 id="✅DOM的回流-重排-和重绘"><a href="#✅DOM的回流-重排-和重绘" class="headerlink" title="✅DOM的回流(重排)和重绘"></a>✅DOM的回流(重排)和重绘</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>回流：元素位置/大小/内容发生变化的时候，触发重新布局，导致渲染树重新计算布局。</p>
<p>重绘：不会触发重新布局，仅改变一些颜色、透明度、背景色啥的。</p>
<h3 id="如何最小化回流次数？"><a href="#如何最小化回流次数？" class="headerlink" title="如何最小化回流次数？"></a>如何最小化回流次数？</h3><ol>
<li>减少DOM深度，不必要不深排</li>
<li>减少CSS规则数量，移出未使用的CSS规则</li>
<li>动画等复杂渲染尽量脱离文档流</li>
<li>避免复杂的CSS选择器（尤其是子选择器）</li>
</ol>
<h1 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h1><p>开源组织和工作都用到的语言，需要搞明白这个。打算做题+看项目。</p>
<p>在这里主要放面试题了。。</p>
<h2 id="一些基本的"><a href="#一些基本的" class="headerlink" title="一些基本的"></a>一些基本的</h2><p>TS：是一种强类型的JS的超集，为JS提供了静态类型系统。</p>
<p>type: 在TS中用于定义类型别名、联合类型、交叉类型等复杂类型的声明方式。仅在编译阶段进行类型检查。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">StringOrNumber</span> = <span class="built_in">string</span> | <span class="built_in">number</span> <span class="comment">// 联合</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;<span class="attr">name</span>: <span class="built_in">string</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Age</span> = &#123;<span class="attr">age</span>: <span class="built_in">number</span>&#125;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = <span class="title class_">Name</span> &amp; <span class="title class_">Age</span> <span class="comment">// 交叉</span></span><br></pre></td></tr></table></figure>

<p>interface: 主要用于定义对象的类型和形状。支持继承和实现，适合创建复杂的对象类型。</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">speak</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Labrador</span> <span class="keyword">implements</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">breed</span>: <span class="built_in">string</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, breed:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">breed</span> = breed;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">clg</span>(<span class="string">&#x27;miao&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="Type和Interface的区别？"><a href="#Type和Interface的区别？" class="headerlink" title="Type和Interface的区别？"></a>Type和Interface的区别？</h2><p>首先两者都是仅在编译阶段才起作用。</p>
<h1 id="🖽框架"><a href="#🖽框架" class="headerlink" title="🖽框架"></a>🖽框架</h1><h2 id="Vue-amp-React"><a href="#Vue-amp-React" class="headerlink" title="Vue&amp;React"></a>Vue&amp;React</h2><h3 id="✅实现原理上的区别"><a href="#✅实现原理上的区别" class="headerlink" title="✅实现原理上的区别"></a>✅实现原理上的区别</h3><ol>
<li><strong>原始库 vs. 渐进框架</strong>:<ul>
<li>React是一个用于构建用户界面的JavaScript库，它关注于组件化和状态管理。React本身<strong>只提供了UI层面的解决方案</strong>，其他功能（如路由和状态管理）通常需要第三方库的支持。</li>
<li>Vue.js是一个渐进框架，它<strong>提供了一整套的解决方案，包括视图层、路由、状态管理等</strong>。Vue的核心库相对更大，可以独立使用，但也可以与其他库和工具集成，根据需要逐渐引入功能。</li>
</ul>
</li>
<li><strong>语法和模板</strong>:<ul>
<li>React使用JSX（JavaScript XML）来定义组件的结构，这是一种在JavaScript中嵌入XML标记的语法。React组件可以通过JavaScript编写，JSX允许在代码中嵌入HTML样式的标记。.js .ts</li>
<li>Vue.js使用模板语法，允许在HTML模板中直接声明组件的结构。Vue的模板语法类似于普通HTML，容易理解和使用。.vue(html)</li>
</ul>
</li>
<li><strong>数据绑定</strong>:<ul>
<li>React使用单向数据流，父组件通过props将数据传递给子组件，并通过回调函数进行状态管理。</li>
<li>Vue.js使用双向数据绑定，可以通过<code>v-model</code>指令轻松实现数据的双向绑定，这使得处理表单输入和交互更加简单。</li>
</ul>
</li>
</ol>
<p>就自身使用体验上，写Vue更像是写一些可以配置的页面，写React更像是用JSTS写一些可以基于逻辑来嵌套拼接的积木。</p>
<h3 id="✅React单向数据流和Vue双向数据流的区别"><a href="#✅React单向数据流和Vue双向数据流的区别" class="headerlink" title="✅React单向数据流和Vue双向数据流的区别"></a>✅React单向数据流和Vue双向数据流的区别</h3><p>Vue是有一种双向绑定数据的特性，具体指令是<code>v-model=某数据</code>。这个指令在元素中使用的时候，Vue的响应式系统会自动追踪数据的依赖关系，数据变化时会引发视图更新。我认为双向绑定的一个最显著的优点是表单数据可以随时更改。但是也不能算是缺点吧，如果过多使用v-model，每次改每次刷新，视图维护显得有点复杂。</p>
<p>React推崇的是单向数据流，具体就是父给子穿数据，子不能直接改父数据，而是需要绑定回调或者将状态提升给父来操作。这种固定的单相数据流的方式某种程度上简化数状态的管理，这也使得状态管理可预测，可控。</p>
<h3 id="✅reactHOOK和vueHooks的区别"><a href="#✅reactHOOK和vueHooks的区别" class="headerlink" title="✅reactHOOK和vueHooks的区别"></a>✅reactHOOK和vueHooks的区别</h3><p>两者都是用于在函数式组件中管理状态和副作用的方式。</p>
<p>react的HOOK可以帮助在组件中使用不同的react功能。只允许在函数内进行使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState, useEffect &#125; from &#x27;react&#x27;</span><br><span class="line">export defualt function() &#123;</span><br><span class="line">    const [cnt, setCnt] = useState(0)</span><br><span class="line">    useEffect(() =&gt; &#123;</span><br><span class="line">        document.title =cnt</span><br><span class="line">    &#125;, [cnt])</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">    	&lt;div&gt;</span><br><span class="line">        	&lt;p&gt;Count: &#123;cnt&#125;&lt;/p&gt;</span><br><span class="line">            &lt;button onClick=&#123;() =&gt; setCnt(cnt + 1)&#125;&gt;点击+1&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>vue的hooks为vue提供更灵活的方式来组织和共享组件逻辑。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;Count: &#123;&#123; count &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;Increment&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    const count = ref(0);</span><br><span class="line"></span><br><span class="line">    const increment = () =&gt; &#123;</span><br><span class="line">      count.value++;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    onMounted(() =&gt; &#123;</span><br><span class="line">      document.title = `Count: $&#123;count.value&#125;`;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      count,</span><br><span class="line">      increment,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="✅vue2Mixin和vue3Hook的区别"><a href="#✅vue2Mixin和vue3Hook的区别" class="headerlink" title="✅vue2Mixin和vue3Hook的区别"></a>✅vue2Mixin和vue3Hook的区别</h3><p>Mixin是Vue2的一种选项式API特性，允许定义一组选项，可以拿来复用。主要用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mixin&#125; from &#x27;../mixin&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;Student&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &quot;王一一&quot;,</span><br><span class="line">            sex: &quot;female&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mixins:[mixin]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Hook是Vue3的一种组合式API特性，可以在组件内以函数的形式定义，被拿去复用。主要用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, onMounted, onBeforeUnmount &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 实现鼠标“打点”相关数据</span></span><br><span class="line">    <span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">        point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onBeforeUnmount</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">import usePoint from &#x27;../hooks/usePoint&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &quot;Demo&quot;,</span><br><span class="line">    setup() &#123;</span><br><span class="line">        let sum = ref(0);</span><br><span class="line">        let point = usePoint()</span><br><span class="line">        return &#123;</span><br><span class="line">            sum,</span><br><span class="line">            point,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="✅虚拟DOM"><a href="#✅虚拟DOM" class="headerlink" title="✅虚拟DOM"></a>✅虚拟DOM</h3><p>虚拟DOM（Virtual DOM）是一种前端开发中的概念和技术，它是为了提高页面渲染性能而设计的。</p>
<p>在传统的前端开发中，当数据发生变化时，我们通常会直接操作真实的DOM来更新页面。这种做法可能会导致频繁的DOM操作，影响页面性能，特别是在数据变化频繁的复杂应用中。为了解决这个问题，虚拟DOM应运而生。</p>
<p>虚拟DOM是一个轻量级的、与真实DOM结构类似的JavaScript对象树。在虚拟DOM中，每个DOM元素都由一个JavaScript对象表示，这些对象可以包含元素的标签名、属性、文本内容以及子元素等信息。虚拟DOM可以通过比较新旧状态的差异来减少真实DOM的更新次数，从而提高页面渲染性能。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 虚拟DOM</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">sel</span>: <span class="string">&quot;div&quot;</span>,</span><br><span class="line">    <span class="attr">elm</span>: <span class="literal">undefined</span>, <span class="comment">// 表示虚拟节点还没有上树</span></span><br><span class="line">    <span class="attr">key</span>: <span class="literal">undefined</span>, <span class="comment">// 唯一标识</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">class</span>: &#123; <span class="string">&quot;box&quot;</span> : <span class="literal">true</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">sel</span>: <span class="string">&quot;h2&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&quot;标题&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">sel</span>: <span class="string">&quot;ul&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;2&quot;</span>&#125;,</span><br><span class="line">                &#123; <span class="attr">sel</span>: li, <span class="attr">data</span>: &#123;&#125;, <span class="attr">text</span>: <span class="string">&quot;3&quot;</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>虚拟DOM的工作原理如下：</p>
<ol>
<li><p>初始渲染：当应用首次加载时，将会创建一个虚拟DOM树，该树与真实DOM结构相对应。这个过程称为初始渲染。</p>
</li>
<li><p>数据变化：当应用数据发生变化时，会触发组件的重新渲染。此时，虚拟DOM会通过与之前的虚拟DOM树进行比较，找出新旧状态的差异，生成一个更新补丁（Patch）。</p>
</li>
<li><p>应用补丁：将生成的更新补丁应用到真实DOM上，实现页面的更新。</p>
</li>
</ol>
<p>虚拟DOM的优势包括：</p>
<ol>
<li><p>减少真实DOM操作：通过比较虚拟DOM树，减少了对真实DOM的直接操作次数，提高了页面渲染性能。</p>
</li>
<li><p>跨平台支持：虚拟DOM是对真实DOM的抽象，因此可以轻松实现在不同平台上的应用，例如浏览器、移动设备、服务器端等。</p>
</li>
<li><p>保持性能：在大规模数据更新时，虚拟DOM可以智能地批量处理DOM更新，减少了因频繁更新而导致的页面抖动。</p>
</li>
</ol>
<p>虚拟DOM的一些常见实现包括React的虚拟DOM、Vue的虚拟DOM等。这些框架利用虚拟DOM机制，提供了高效的、响应式的组件化开发体验，使得前端开发更加高效和舒适。</p>
<h3 id="✅React虚拟DOM和Vue虚拟DOM的区别"><a href="#✅React虚拟DOM和Vue虚拟DOM的区别" class="headerlink" title="✅React虚拟DOM和Vue虚拟DOM的区别"></a>✅React虚拟DOM和Vue虚拟DOM的区别</h3><p>Vue</p>
<p>Vue的虚拟DOM是通过Vue组件的模板编译而来的：模板中包含数据绑定和指令，Vue将模板编译为渲染函数，该渲染函数生成虚拟DOM。</p>
<ul>
<li>组件数据发生变化时，Vue会触发数据响应系统，检测哪些虚拟DOM节点需要更新</li>
<li>根据更新后的数据形成虚拟DOM树，此树与之前的虚拟DOM树进行比较</li>
<li>使用差异计算Diffing算法比较新旧虚拟DOM树，找出要更新的部分</li>
<li>将找到的差异转化为最小的DOM操作，应用于真实DOM上</li>
</ul>
<p>React</p>
<p>React的虚拟DOM是React组件树的抽象表示，虚拟DOM由React元素构成，每个元素描述了一个组件的类型和属性。即：渲染组件时生成虚拟DOM。</p>
<ul>
<li>组件渲染时，生成一个虚拟DOM树，树中包括组件元素的状态和属性</li>
<li>组件状态/属性发生变化时，React重新渲染组件，生成一个新的虚拟DOM树，与旧虚拟DOM树进行比较</li>
<li>使用协调Reconciliation算法，找出更新部分</li>
<li>将差异转化为最小DOM操作，应用于真实DOM上</li>
</ul>
<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><h3 id="✅Diffing算法"><a href="#✅Diffing算法" class="headerlink" title="✅Diffing算法"></a>✅Diffing算法</h3><p>查阅发现是基于深搜。</p>
<p>基本思想如下：</p>
<ol>
<li>key是当前节点的唯一标识，可以告诉diff算法更改前后哪一对是同一节点</li>
<li>对于同一节点，才会进行精细化比较；否则就是直接拆出旧的，添加新的。</li>
<li>只进行同层比较，不会进行跨层比较。</li>
</ol>
<blockquote>
<p>在Javascript中，渲染 <code>真实DOM </code>的开销是非常大的，比如我们修改了某个数据，如果直接渲染到 真实DOM，会引起整个 DOM树 的 <code>回流和重绘</code>。那么有没有可能实现只更新我们修改的那一小块DOM而不会引起整个DOM更新？此时我们就需要先根据 <code>真实DOM</code> 生成 <code>虚拟DOM</code> ，当 <code>虚拟DOM</code> 某个节点的数据改变后会生成一个 <code>新的Vnode</code>，然后 <code>新的Vnode</code> 和 <code>旧的Vnodde</code> 进行比较，发现有不一样的地方就直接修改到 <code>真实DOM 上</code>，然后使 <code>旧的Vnode</code> 的值变成<code> 新的Vnode</code>。</p>
<p>Vue就是使用虚拟DOM的创建和使用diff算法的比较从而进行上述操作。</p>
<p> <code>diff算法</code> 的过程就是 <code>patch函数</code> 的调用，比较新旧节点，一边比较一边给 真实的DOM 打补丁。</p>
<p>在采用 <code>diff算法</code> 比较新旧节点的时候，<code>只会进行同层级的比较</code>。在 <code>patch方法</code> 中，首先比较<code>新旧虚拟节</code>点是否是同一个节点，<code>如果不是同一个节点</code>，那么就会将旧的节点删除掉，插入新的虚拟节点，然后再使用 <code>createElement函数</code> 创建 真实DOM，渲染到真实的 DOM树。<code>如果是同一个节点</code>，使用 <code>patchVnode函数</code> 比较新旧节点，包括属性更新、文本更新、子节点更新，新旧节点均有子节点，则需要进行 <code>diff算法</code>，调用<code>updateChildren方法</code>，如果新节点没有文本内容而旧节点有文本内容，则需要将旧节点的文本删除，然后再增加子节点，如果新节点有文本内容，则直接替换旧节点的文本内容。</p>
<p> <code>updateChildren方法</code> 将新旧节点的子节点都提取出来，然后使用的是<code> 双指针</code> 的方式进行<code>四种优化策略</code>循环比较。分别是：<code>①、新前与旧前比较  ②、新后与旧后比较  ③、新后与旧前比较  ④、新前与旧后比较。</code>如果四种优化策略方法均没有命中，则会进行遍历方法进行比较（<code>源码中使用了Map对象进行了缓存，加快了比较的速率</code>），如果设置了 key，就会使用<code>key</code>进行比较，找到当前的新节点的子节点在 <code>Map 中的映射位置</code>，如果<code>不存在，则需要添加节点</code>，<code>存在则需要移动节点</code>。最后，循环结束之后，如果<code>新节点还有剩余节点</code>，则说明需要<code>添加节点</code>，如果<code>旧节点还有剩余节点</code>，则说明需要<code>删除节点</code>。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建虚拟DOM函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">vnode</span>(<span class="params">sel, data, children, text, elm</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = data.<span class="property">key</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        sel,</span><br><span class="line">        data,</span><br><span class="line">        children,</span><br><span class="line">        text,</span><br><span class="line">        elm,</span><br><span class="line">        key</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// h函数，判断+生成虚拟DOM</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">h</span>(<span class="params">sel, data, c</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> !== <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;传入参数必须是三个&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> c === <span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> c === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, <span class="literal">undefined</span>, c, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(c)) &#123;</span><br><span class="line">        <span class="keyword">let</span> children = []</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; c.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(<span class="keyword">typeof</span> c[i] === <span class="string">&#x27;object&#x27;</span> &amp;&amp; c[i].<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;sel&#x27;</span>))) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;数组中有一项不是h函数&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            children.<span class="title function_">push</span>(s[i])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, c, <span class="literal">undefined</span>, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> c === <span class="string">&#x27;object&#x27;</span> &amp;&amp; c.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;sel&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">let</span> children = [c]</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">vnode</span>(sel, data, children, <span class="literal">undefined</span>, <span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;传入参数的格式不对&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// patch函数：判断是否是同一个节点类型，从而方便后续进行精细化对比</span></span><br><span class="line"><span class="comment">// 流程：oldVnode是否是虚拟节点→是，和newVnode是否是一个节点→是，精细化比较</span></span><br><span class="line"><span class="comment">//                          →否，将其变为虚拟节点↑       → 否，暴力删插 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">patch</span>(<span class="params">oldVnode, newVnode</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (oldVnode.<span class="property">sel</span> == <span class="string">&#x27;&#x27;</span> ||oldVnode.<span class="property">sel</span> == <span class="literal">undefined</span>) &#123; <span class="comment">// 判断旧虚拟节点存在</span></span><br><span class="line">        oldVnode = <span class="title function_">emptyNodeAt</span>(oldVnode) </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">sameVnode</span>(oldVnode, newVnode)) &#123; <span class="comment">// 判断新旧虚拟节点是同一个节点</span></span><br><span class="line">        <span class="keyword">if</span> (oldVnode === newVnode) <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (newVnode.<span class="property">text</span> &amp;&amp; (newVnode.<span class="property">children</span> === <span class="literal">undefined</span> || newVnode.<span class="property">children</span>.<span class="property">length</span> === <span class="number">0</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(newVnode.<span class="property">text</span> === oldVnode.<span class="property">text</span>)) &#123;</span><br><span class="line">                olfVnode.<span class="property">elm</span>.<span class="property">innerText</span> = newVnode.<span class="property">text</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (oldVnode.<span class="property">children</span> !== <span class="literal">undefined</span> &amp;&amp; oldVnode.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                oldVnode.<span class="property">elm</span>.<span class="property">innerText</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; newVnode.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">let</span> dom = <span class="title function_">createElement</span>(newVnode.<span class="property">children</span>[i])</span><br><span class="line">                    oldVnode.<span class="property">elm</span>.<span class="title function_">appendChild</span>(dom)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> newVnodeElm = <span class="title function_">createElement</span>(newVnode)</span><br><span class="line">        <span class="keyword">if</span> (oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span> &amp;&amp; oldVnode.<span class="property">elm</span>) &#123;</span><br><span class="line">            oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(newVnodeElm, oldVnode.<span class="property">elm</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        oldVnode.<span class="property">elm</span>.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(oldVnode.<span class="property">elm</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">emptyNodeAt</span>(<span class="params">elm</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">vnode</span>(elm.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>(), &#123;&#125;, [], <span class="literal">undefined</span>, elm)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sameVnode</span>(<span class="params">old, <span class="keyword">new</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (old.<span class="property">data</span> ? old.<span class="property">data</span>.<span class="property">key</span> : <span class="literal">undefined</span>) === (<span class="keyword">new</span>.<span class="property">data</span> ? <span class="keyword">new</span>.<span class="property">data</span>.<span class="property">key</span> : <span class="literal">undefined</span>) &amp;&amp; old.<span class="property">sel</span> === <span class="keyword">new</span>.<span class="property">sel</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建虚拟节点</span></span><br><span class="line"><span class="keyword">const</span> myVnode1 = <span class="title function_">h</span>(<span class="string">&#x27;ul&#x27;</span>, &#123;&#125;, <span class="string">&#x27;oldVnode有text&#x27;</span>)</span><br><span class="line"><span class="title function_">patch</span>(container, myVnode1)</span><br><span class="line"><span class="keyword">const</span> myVnode2 = <span class="title function_">h</span>(<span class="string">&#x27;ul&#x27;</span>, &#123;&#125;, [</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;A&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;B&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;C&#x27;</span>),</span><br><span class="line">    <span class="title function_">h</span>(<span class="string">&#x27;li&#x27;</span>, &#123;&#125;, <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">])</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">patch</span>(myVnode1, myVnode2)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 备注：appendChild在父节点中子节点的末尾添加新的节点 / insertBefore在已有节点前添加新的节点</span></span><br></pre></td></tr></table></figure>

<h3 id="渐进式框架"><a href="#渐进式框架" class="headerlink" title="渐进式框架"></a>渐进式框架</h3><h3 id="✅Vue2-Vue3区别"><a href="#✅Vue2-Vue3区别" class="headerlink" title="✅Vue2/Vue3区别"></a>✅Vue2/Vue3区别</h3><ul>
<li>性能方面：Vue3通过新的响应式系统和编译器优化提高性能。Proxy Object.defineProperty</li>
<li>模板语法CompositionAPI: Vue3引入一套组合式API，方便更好组织和重用代码。Vue2混合mixin代码共享</li>
<li>更好的TS支持: 使用TS重构，自身提供更好的TS支持，类型声明，使得代码更可靠。</li>
<li>更轻量：包更小，可以更快加载运行。TreeShaking友好，按需打包</li>
<li>新特性：引入Teleport Suspense，在组件树中任何位置渲染内容，允许多个根节点；允许数组加载完成前显示占位符加载状态，无需遍历整个组件树。</li>
<li>语法API改进：更简洁直观，便于理解。生命周期钩子，Setup等</li>
</ul>
<h3 id="✅Vue2响应式原理"><a href="#✅Vue2响应式原理" class="headerlink" title="✅Vue2响应式原理"></a>✅Vue2响应式原理</h3><p>当将JS对象传给Vue实例作为一个data选项，Vue将遍历这个对象的所有property，使用Object.defineProperty把这些property全部转化为getter和setter。</p>
<blockquote>
<p>Object.defineProperty</p>
<p>这是一个静态方法，会直接在一个对象里定义一个新属性或者修改其原有的属性，并返回对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, prop, descriptor) <span class="comment">// 对象 属性 值</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(obj) <span class="comment">// 阻止修改现有的obj的property</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>这些getter和setter是不可见的，但是内部可以让Vue可以追踪依赖，当这些property被访问修改时通知变更。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/data.png" alt="data" style="zoom:50%;" />

<p>每一个组件实例都有一个watcher实例，这个实例会在组件渲染的过程中，把“接触”到的所有数据property<strong>记录为依赖</strong>。之后当依赖项的setter触发的时候，会<strong>通知watcher</strong>，从而使得这个依赖项关联的组件重新渲染。</p>
<h4 id="对象和数组检测变化"><a href="#对象和数组检测变化" class="headerlink" title="对象和数组检测变化"></a>对象和数组检测变化</h4><h5 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h5><p>首先就是考虑到Vue在组件初始化的时候对对象进行遍历property和生成getter/setter，所以这些property需要在data选项中存在才能转换为响应式。</p>
<p>如果说这个实例已经创建好了，想额外添加一个property，但是Vue是不允许动态添加根级别响应式property，这个时候就可以使用<code>Vue.set(vm.obj, name, val) / this.$set(...)</code>方法来嵌套响应式property。</p>
<p>还有要使用Object.assign()/_.extend()de 的时候，要注意将原对象和混合进去的属性一起创建一个新对象。</p>
<h5 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h5><p>单独设置某索引下的值和修改数组的长度是不能被Vue检测到的。所以需要通过以下方式↓。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.$set(this.items, index, newVal)</span><br><span class="line">this.items.splice(item, 1, newVal)</span><br></pre></td></tr></table></figure>

<h4 id="声明响应式"><a href="#声明响应式" class="headerlink" title="声明响应式"></a>声明响应式</h4><p>Vue不允许动态添加根级响应式，所以必须在初始化前声明所有的响应式，哪怕是一个空值。</p>
<p>为什么会这样？这样可以消除依赖项跟踪系统的一类边界情况，使得Vue能够更好配合类型检查工作。</p>
<h4 id="异步更新队列"><a href="#异步更新队列" class="headerlink" title="异步更新队列"></a>异步更新队列</h4><p>Vue在更新DOM时是异步执行的。当监听到数据发生变化的时候，会开启一个异步任务队列，缓冲同一事件循环中发生的所有数据变更。</p>
<p>也就是说很有可能同一个watcher被触发很多次，但其实为了避免不必要的计算和操作DOM，我们只想将这些很多次变化合成一次推入队列，所以需要在缓冲时去除重复数据。</p>
<p>然后在下一个事件循环’tick’中，Vue刷新队列执行实际要执行的工作，这部分工作显然是去重之后的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise.then MutationObserver setImmediate    setTimeout(fn, 0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建observer并使用</span></span><br><span class="line"><span class="comment">// 选择需要观察变动的节点</span></span><br><span class="line"><span class="keyword">const</span> targetNode = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;some-id&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 观察器的配置（需要观察什么变动）属性 子节点 后代节点</span></span><br><span class="line"><span class="keyword">const</span> config = &#123; <span class="attr">attributes</span>: <span class="literal">true</span>, <span class="attr">childList</span>: <span class="literal">true</span>, <span class="attr">subtree</span>: <span class="literal">true</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当观察到变动时执行的回调函数</span></span><br><span class="line"><span class="keyword">const</span> callback = <span class="keyword">function</span>(<span class="params">mutationsList, observer</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> mutation <span class="keyword">of</span> mutationsList) &#123;</span><br><span class="line">        <span class="comment">// forEach和switch也挺好</span></span><br><span class="line">        <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">&#x27;childList&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;A child node has been added or removed.&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">&#x27;attributes&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;The &#x27;</span> + mutation.<span class="property">attributeName</span> + <span class="string">&#x27; attribute was modified.&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个观察器实例并传入回调函数</span></span><br><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(callback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以上述配置开始观察目标节点</span></span><br><span class="line">observer.<span class="title function_">observe</span>(targetNode, config);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 之后，可停止观察</span></span><br><span class="line">observer.<span class="title function_">disconnect</span>();</span><br></pre></td></tr></table></figure>

<h3 id="✅Vue3响应式原理"><a href="#✅Vue3响应式原理" class="headerlink" title="✅Vue3响应式原理"></a>✅Vue3响应式原理</h3><p>Proxy</p>
<p>无需遍历对象，直接对整个对象生成一个Proxy实例。随后以来追踪→派发更新。</p>
<h3 id="✅选项式API和组合式API"><a href="#✅选项式API和组合式API" class="headerlink" title="✅选项式API和组合式API"></a>✅选项式API和组合式API</h3><p>前者是基于后者实现的。Vue的基础知识和概念在两者之间是相通的。</p>
<p>前者以组件实例(this)为概念中心，将响应相关的细节抽象出来，强制按照选项来组织代码。见名知意，很适合上手。</p>
<p>后者核心思想是直接在函数作用域内定义响应式状态变量。并将多个函数中得到的状态组合起来处理复杂问题。形式自由，更适合逻辑自定义。</p>
<h3 id="数据双向绑定原理"><a href="#数据双向绑定原理" class="headerlink" title="数据双向绑定原理"></a>数据双向绑定原理</h3><p>v-mode =&gt; v-bind  and  @input</p>
<h3 id="数组添加了一个数字，vue怎么知道数组变化了"><a href="#数组添加了一个数字，vue怎么知道数组变化了" class="headerlink" title="数组添加了一个数字，vue怎么知道数组变化了"></a>数组添加了一个数字，vue怎么知道数组变化了</h3><h3 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h3><h3 id="请求数据在哪个周期"><a href="#请求数据在哪个周期" class="headerlink" title="请求数据在哪个周期"></a>请求数据在哪个周期</h3><h3 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h3><h3 id="父子组件生命周期"><a href="#父子组件生命周期" class="headerlink" title="父子组件生命周期"></a>父子组件生命周期</h3><h3 id="✅计算属性和监听器的区别"><a href="#✅计算属性和监听器的区别" class="headerlink" title="✅计算属性和监听器的区别"></a>✅计算属性和监听器的区别</h3><p>computed watch</p>
<ul>
<li>前者是函数返回值，返回对data属性的操作计算结果；后者是一个对象，键是需要观察的属性，值是回调</li>
<li>前者会被缓存；后者不会</li>
<li>前者大多用于一个属性受多个属性影响时使用；后者是监听一个属性对可能多条数据的影响</li>
</ul>
<h3 id="✅如何监听a-b-c，如何立即监听"><a href="#✅如何监听a-b-c，如何立即监听" class="headerlink" title="✅如何监听a.b.c，如何立即监听"></a>✅如何监听a.b.c，如何立即监听</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> defualt &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">a</span>: &#123;</span><br><span class="line">                <span class="attr">b</span>: &#123;</span><br><span class="line">                    <span class="attr">c</span>: <span class="string">&#x27;haha&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;a.b.c&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;发生变化&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅ref"><a href="#✅ref" class="headerlink" title="✅ref"></a>✅ref</h3><p>被用来给元素或子组件注册引用的信息（id的替代）。ref应用在html标签上获取的是真实DOM元素，应用在组件标签上获取的是组件实例对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ref=&#x27;haha&#x27;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	...&#123;</span><br><span class="line">        this.$refs.haha...</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ref-refs"><a href="#ref-refs" class="headerlink" title="ref refs"></a>ref refs</h3><h3 id="✅v-for为啥要加key"><a href="#✅v-for为啥要加key" class="headerlink" title="✅v-for为啥要加key"></a>✅v-for为啥要加key</h3><p>这跟虚拟DOM比较和视图更新有关。</p>
<p>假定这里有一个v-for列表，key可以作为列表中的每个项目的唯一标识，从而方便在比较这一个列表节点中所有子节点。</p>
<h3 id="✅自定义指令"><a href="#✅自定义指令" class="headerlink" title="✅自定义指令"></a>✅自定义指令</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;custom-directive&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// 指令的钩子函数</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">el, bingding, vnode</span>) &#123;</span><br><span class="line">        <span class="comment">// 指令绑定到元素时触发</span></span><br><span class="line">        <span class="keyword">const</span> arg = binding.<span class="property">arg</span>; <span class="comment">// 参数名 &#x27;param1&#x27;</span></span><br><span class="line">        <span class="keyword">const</span> modifiers = binding.<span class="property">modifiers</span>; <span class="comment">// 修饰符 &#123; modifier1: true, modifier2: true &#125;</span></span><br><span class="line">        <span class="keyword">const</span> value = binding.<span class="property">value</span>; <span class="comment">// 值 &#x27;value1&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;highlight&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">    el.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">backgroundColor</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">    el.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;div v-custom-directive:param1=&quot;value1&quot; .modifier1.modifier2=&quot;value2&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div v-highlight=&#x27;yellow&#x27;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>自定义指令的定义包括一系列的选项，这些选项是指令的钩子函数。常见的自定义指令选项：</p>
<ul>
<li><code>bind(el, binding, vnode)</code>：在指令第一次绑定到元素时触发。这里可以执行一些初始化操作。</li>
<li><code>inserted(el, binding, vnode)</code>：当包含指令的元素插入到父元素中时触发。</li>
<li><code>update(el, binding, vnode, oldVnode)</code>：当元素的绑定值发生变化时触发。</li>
<li><code>componentUpdated(el, binding, vnode, oldVnode)</code>：当元素和它的子元素都被更新后触发。</li>
<li><code>unbind(el, binding, vnode)</code>：在指令从元素上解绑时触发。</li>
</ul>
<h3 id="✅vue-动态添加响应式属性"><a href="#✅vue-动态添加响应式属性" class="headerlink" title="✅vue 动态添加响应式属性"></a>✅vue 动态添加响应式属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$set(<span class="variable language_">this</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;val&#x27;</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;val&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="✅在vue组件中-添加的定时器要手动清除吗"><a href="#✅在vue组件中-添加的定时器要手动清除吗" class="headerlink" title="✅在vue组件中 添加的定时器要手动清除吗"></a>✅在vue组件中 添加的定时器要手动清除吗</h3><p>嗯嗯，为了防止内存泄漏和不必要的性能问题，是需要手动清除定时器的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestory</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">timer</span>) &#123;</span><br><span class="line">        clear...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅mixin混入"><a href="#✅mixin混入" class="headerlink" title="✅mixin混入"></a>✅mixin混入</h3><p>mixin提供了一种灵活的方式，来分发组件中可复用的功能。一个混入对象可以包含任意组件选项。当一个组件使用某混入对象的时候，这个组件会吸纳这个混入对象的所有选项。</p>
<h4 id="选项合并二三事"><a href="#选项合并二三事" class="headerlink" title="选项合并二三事"></a>选项合并二三事</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> amixin = &#123;</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;aminxin&#x27;s created&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">num</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;，</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">    	<span class="title function_">hi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vc = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">    <span class="attr">mixins</span>: [amixin],</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;vc&#x27;s created&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">num</span>: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">hi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hi~!&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据递归合并冲突</span></span><br><span class="line">vm.<span class="property">num</span> === <span class="number">2</span> <span class="comment">// 组件数据优先</span></span><br><span class="line"><span class="comment">// 对象键名冲突</span></span><br><span class="line">vc.<span class="title function_">hi</span>() <span class="comment">// 组件键的值优先</span></span><br><span class="line"><span class="comment">// 选项合并</span></span><br><span class="line"><span class="string">&quot;aminxin&#x27;s created&quot;</span> <span class="comment">// 同名钩子函数，混入先调用</span></span><br><span class="line"><span class="string">&quot;vc&#x27;s created&quot;</span> <span class="comment">// 组件后调用</span></span><br></pre></td></tr></table></figure>

<h4 id="全局混入"><a href="#全局混入" class="headerlink" title="全局混入"></a>全局混入</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Please use it wisely~</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;...&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="硬核：自定义选项合并策略"><a href="#硬核：自定义选项合并策略" class="headerlink" title="硬核：自定义选项合并策略"></a>硬核：自定义选项合并策略</h4><p>上述先调用mixin和数据、键值以组件内数据为先等策略是选项合并的默认策略。</p>
<p>可以通过<code>Vue.config.optionMergeStrategies</code>进行自定义↓</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">optionMergeStrategies</span>.<span class="property">myOption</span> = <span class="keyword">function</span>(<span class="params">toVal, fromVal</span>) &#123;</span><br><span class="line">    <span class="comment">// 返回合并后的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 举例</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">optionMergeStrategies</span>.<span class="property">customEvent</span> = <span class="keyword">function</span> (<span class="params">parentVal, childVal</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!parentVal) &#123;</span><br><span class="line">    <span class="comment">// 如果父组件没有定义 customEvent，则使用子组件的值</span></span><br><span class="line">    <span class="keyword">return</span> childVal;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!childVal) &#123;</span><br><span class="line">    <span class="comment">// 如果子组件没有定义 customEvent，则使用父组件的值</span></span><br><span class="line">    <span class="keyword">return</span> parentVal;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 自定义合并逻辑，将父组件和子组件的处理函数合并为一个数组</span></span><br><span class="line">    <span class="keyword">return</span> parentVal.<span class="title function_">concat</span>(childVal);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="组件自定义事件"><a href="#组件自定义事件" class="headerlink" title="组件自定义事件"></a>组件自定义事件</h3><h3 id="✅自定义插件"><a href="#✅自定义插件" class="headerlink" title="✅自定义插件"></a>✅自定义插件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugins/test.js创建</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Test</span> = &#123;</span><br><span class="line">    <span class="title function_">install</span>(<span class="params">Vue, options</span>) &#123;</span><br><span class="line">        <span class="comment">// 添加全局组件、指令、混入</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">components</span>(<span class="string">&#x27;全局组件，指令，混入&#x27;</span>)</span><br><span class="line">        <span class="comment">// 添加全局方法或属性</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myGlobalMethod</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 调用：this.$myGlobalMethod()</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 添加全局混入</span></span><br><span class="line">        <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line">            <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="comment">// 每个组件的创建周期中执行的逻辑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js注册</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Test</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;....&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Test</span>, &#123; 选项 &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.vue使用</span></span><br><span class="line"><span class="title function_">mouted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$myGlobalMethod()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅讲一下nextTick"><a href="#✅讲一下nextTick" class="headerlink" title="✅讲一下nextTick"></a>✅讲一下nextTick</h3><p>在下一次DOM更新结束后执行指定的回调函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;example&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">message</span>: <span class="string">&#x27;未更新&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="attr">updateMessage</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;已更新&#x27;</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;未更新&#x27;</span></span><br><span class="line">          <span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;已更新&#x27;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="attr">updateMessage</span>: <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&#x27;已更新&#x27;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;未更新&#x27;</span></span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.$nextTick()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// =&gt; &#x27;已更新&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="eventbus-和-vuex-分别适合什么场景"><a href="#eventbus-和-vuex-分别适合什么场景" class="headerlink" title="eventbus 和 vuex 分别适合什么场景"></a>eventbus 和 vuex 分别适合什么场景</h3><h3 id="介绍vuex"><a href="#介绍vuex" class="headerlink" title="介绍vuex"></a>介绍vuex</h3><h3 id="mutations主要存放一些什么方法"><a href="#mutations主要存放一些什么方法" class="headerlink" title="mutations主要存放一些什么方法"></a>mutations主要存放一些什么方法</h3><h3 id="✅vue-router的两种模式"><a href="#✅vue-router的两种模式" class="headerlink" title="✅vue-router的两种模式"></a>✅vue-router的两种模式</h3><p>对于一个url来说，什么是hash值？——#及其后面的内容就是hash值</p>
<p>hash值不包括在http请求中，即：hash值不会带给服务器</p>
<p>前者DOM后者BOM</p>
<ul>
<li>hash模式：</li>
<li><ol>
<li>地址中永远带着#号，不美观</li>
<li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法</li>
<li>兼容性较好</li>
</ol>
</li>
<li>history模式：</li>
<li><ol>
<li>地址干净，美观</li>
<li>兼容性和hash模式相比略差</li>
<li>应用部署上线时需要后端人员支持，解决刷新页面服务器404的问题</li>
</ol>
</li>
</ul>
<ol>
<li><strong>哈希模式（Hash Mode）</strong>：<ul>
<li><strong>URL 格式</strong>：在哈希模式下，URL 中的 <code>#</code> 符号后面的部分被称为哈希片段（Hash Fragment）。例如，<code>http://example.com/#/path</code> 中的 <code>/path</code> 是哈希片段。</li>
<li><strong>原理</strong>：在哈希模式中，浏览器的 URL 中的哈希片段不会被发送到服务器。因此，当用户在单页面应用程序中进行导航时，Vue Router 实际上是通过 JavaScript 监听 URL 的哈希片段变化来管理路由状态的。</li>
<li>工作流程：<ol>
<li>用户点击链接或手动输入 URL。</li>
<li>浏览器发送请求到服务器。</li>
<li>服务器返回单一的 HTML 文件，包括 Vue.js 应用程序的 JavaScript 代码。</li>
<li>浏览器加载页面并执行 JavaScript 代码，包括 Vue Router 配置。</li>
<li>Vue Router 监听 URL 的哈希片段变化，根据哈希片段的不同渲染不同的视图。</li>
</ol>
</li>
</ul>
</li>
<li><strong>历史模式（History Mode）</strong>：<ul>
<li><strong>URL 格式</strong>：在历史模式下，URL 更加干净，不包含 <code>#</code> 符号，例如 <code>http://example.com/path</code>。</li>
<li><strong>原理</strong>：历史模式使用 HTML5 历史记录 API，即 <code>pushState</code> 和 <code>replaceState</code>，来管理浏览器的历史记录和路由状态。这允许前端路由器更自然地处理 URL，并在不刷新页面的情况下更改路由。</li>
<li>工作流程：<ol>
<li>用户点击链接或手动输入 URL。</li>
<li>浏览器发送请求到服务器。</li>
<li>服务器返回单一的 HTML 文件，包括 Vue.js 应用程序的 JavaScript 代码。</li>
<li>浏览器加载页面并执行 JavaScript 代码，包括 Vue Router 配置。</li>
<li>Vue Router 使用历史记录 API 来修改浏览器的地址栏，而不触发页面的刷新，以匹配用户导航的路由。</li>
</ol>
</li>
</ul>
</li>
</ol>
<h3 id="✅vue-router页面跳转用的原生JS的哪一个API？"><a href="#✅vue-router页面跳转用的原生JS的哪一个API？" class="headerlink" title="✅vue-router页面跳转用的原生JS的哪一个API？"></a>✅vue-router页面跳转用的原生JS的哪一个API？</h3><ol>
<li><p>**<code>window.location.href</code>**：通过修改 <code>window.location.href</code> 属性，你可以改变浏览器的当前 URL，从而实现页面跳转。例如，要将用户重定向到新的 URL，你可以使用以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.href = &quot;https://example.com/new-page&quot;;</span><br></pre></td></tr></table></figure></li>
<li><p>**<code>window.location.replace()</code>**：这个方法可以用来立即将用户重定向到一个新的 URL，并且不会在浏览器的历史记录中留下前一个页面的记录。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.replace(&quot;https://example.com/new-page&quot;);</span><br></pre></td></tr></table></figure></li>
<li><p>**<code>window.location.assign()</code>**：这个方法可以用于加载一个新的 URL，类似于 <code>window.location.href</code>，但会在浏览器的历史记录中留下前一个页面的记录。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy code</span><br><span class="line">window.location.assign(&quot;https://example.com/new-page&quot;);</span><br></pre></td></tr></table></figure></li>
<li><p>**<code>window.location.reload()</code>**：这个方法可以用于重新加载当前页面。如果你希望在用户执行某个操作后刷新页面，可以使用这个方法。</p>
</li>
</ol>
<h3 id="router原理"><a href="#router原理" class="headerlink" title="router原理"></a>router原理</h3><h3 id="router-和-route"><a href="#router-和-route" class="headerlink" title="router 和 route"></a>router 和 route</h3><h3 id="路由守卫如何配置？"><a href="#路由守卫如何配置？" class="headerlink" title="路由守卫如何配置？"></a>路由守卫如何配置？</h3><p>路由守卫是可以帮助我们在路由导航发生前中后执行一些逻辑的自定义逻辑。</p>
<p>导航解析流程：</p>
<ol>
<li>导航被触发</li>
<li>在失活的组件中调用beforeRouteLeave</li>
<li>调用全局beforeEach</li>
<li>在重用的组件中调用beforeRouteUpdate</li>
<li>在路由配置中调用beforeEnter</li>
<li>解析异步路由组件</li>
<li>在被激活的组件里调用beforeRouteEnter</li>
<li>调用全局的beforeResolve</li>
<li>导航被确认</li>
<li>调用全局的afterEach</li>
<li>触发DOM更新</li>
<li>调用beforeRouteEnter守卫中传给next的回调，创建好的组件实例会作为回调函数的参数传入</li>
</ol>
<p>主要分为：</p>
<h4 id="全局前置路由守卫"><a href="#全局前置路由守卫" class="headerlink" title="全局前置路由守卫"></a>全局前置路由守卫</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="title function_">async</span>(to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 获取用户登录凭证</span></span><br><span class="line">  <span class="keyword">let</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;TOKEN&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> name = store.<span class="property">state</span>.<span class="property">user</span>.<span class="property">userInfo</span>.<span class="property">name</span></span><br><span class="line">  <span class="keyword">if</span> (token !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/login&#x27;</span> || to.<span class="property">path</span> === <span class="string">&#x27;/register&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/&#x27;</span>) </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">      <span class="keyword">if</span> (name !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>()  </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        <span class="keyword">try</span>&#123; </span><br><span class="line">          <span class="keyword">await</span> store.<span class="title function_">dispatch</span>(<span class="string">&#x27;getUserInfo&#x27;</span>) </span><br><span class="line">          <span class="title function_">next</span>()</span><br><span class="line">        &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">          <span class="title function_">alert</span>(<span class="string">&#x27;用户验证已过期，请重新登陆!&#x27;</span>)</span><br><span class="line">          <span class="keyword">await</span> store.<span class="title function_">dispatch</span>(<span class="string">&#x27;userLogout&#x27;</span>)</span><br><span class="line">          <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> toPath = to.<span class="property">path</span></span><br><span class="line">    <span class="keyword">if</span> (toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/myorder&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/center&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/paysuccess&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/trade&#x27;</span>) || toPath.<span class="title function_">includes</span>(<span class="string">&#x27;/pay&#x27;</span>)) &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/login?redirect=&#x27;</span> + toPath)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>

<h4 id="全局解析守卫"><a href="#全局解析守卫" class="headerlink" title="全局解析守卫"></a>全局解析守卫</h4><p>解析守卫刚好会在被确认前、所有组件内守卫和异步路由组件被解析后调用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeResolve</span>(<span class="keyword">async</span> to =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">requiresCamera</span>) &#123; <span class="comment">// 注意这里的meta，很有用的</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">askForCameraPermission</span>()</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="title class_">NotAllowedError</span>) &#123;</span><br><span class="line">        <span class="comment">// ... 处理错误，然后取消导航</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 意料之外的错误，取消导航并把错误传给全局处理器</span></span><br><span class="line">        <span class="keyword">throw</span> error</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="全局后置钩子"><a href="#全局后置钩子" class="headerlink" title="全局后置钩子"></a>全局后置钩子</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, failure</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!failure) <span class="title function_">sendToAnalytics</span>(to.<span class="property">fullPath</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="路由独享守卫"><a href="#路由独享守卫" class="headerlink" title="路由独享守卫"></a>路由独享守卫</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> defualt [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/trade&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/pages/Trade&quot;</span>),</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;trade&quot;</span>,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">from</span>.<span class="property">path</span> === <span class="string">&#x27;/shopCart&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="literal">false</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="组件内的守卫"><a href="#组件内的守卫" class="headerlink" title="组件内的守卫"></a>组件内的守卫</h4><p>提供了三个可配置的API：beforeRouteEnter  beforeRouteUpdate  beforeRouteLeave（Vue2）</p>
<p>onBeforeRouteUpdate  onBeforeRouteLeave（Vue3）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">UserDetails</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在渲染该组件的对应路由被验证前调用</span></span><br><span class="line">    <span class="comment">// 不能获取组件实例 `this` ！</span></span><br><span class="line">    <span class="comment">// 但是可以↑next(vm =&gt; &#123;&#125;)</span></span><br><span class="line">    <span class="comment">// 因为当守卫执行时，组件实例还没被创建！</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在当前路由改变，但是该组件被复用时调用</span></span><br><span class="line">    <span class="comment">// 举例来说，对于一个带有动态参数的路径 `/users/:id`，在 `/users/1` 和 `/users/2` 之间跳转的时候，</span></span><br><span class="line">    <span class="comment">// 由于会渲染同样的 `UserDetails` 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。</span></span><br><span class="line">    <span class="comment">// 因为在这种情况发生的时候，组件已经挂载好了，导航守卫可以访问组件实例 `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 在导航离开渲染该组件的对应路由时调用</span></span><br><span class="line">    <span class="comment">// 与 `beforeRouteUpdate` 一样，它可以访问组件实例 `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>



<h3 id="✅路由懒加载如何实现"><a href="#✅路由懒加载如何实现" class="headerlink" title="✅路由懒加载如何实现"></a>✅路由懒加载如何实现</h3><p>在写routes规则的时候引入，而不是在开头引入。</p>
<p>这种方式可以减小初始加载包的大小，按需加载。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/pages/Home/RHome.vue&quot;</span>), <span class="comment">// 直接在这里引入</span></span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></table></figure>



<h3 id="vue路由跳转方式"><a href="#vue路由跳转方式" class="headerlink" title="vue路由跳转方式"></a>vue路由跳转方式</h3><h3 id="axios实现原理（遇到非200怎么捕获err"><a href="#axios实现原理（遇到非200怎么捕获err" class="headerlink" title="axios实现原理（遇到非200怎么捕获err"></a>axios实现原理（遇到非200怎么捕获err</h3><h3 id="封装axios"><a href="#封装axios" class="headerlink" title="封装axios"></a>封装axios</h3><h3 id="为什么有一种说法是vue适合中小型项目"><a href="#为什么有一种说法是vue适合中小型项目" class="headerlink" title="为什么有一种说法是vue适合中小型项目"></a>为什么有一种说法是vue适合中小型项目</h3><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="Diff-amp-amp-Reconciliation-算法"><a href="#Diff-amp-amp-Reconciliation-算法" class="headerlink" title="Diff &amp;&amp; Reconciliation(?)算法"></a>Diff &amp;&amp; Reconciliation(?)算法</h3><p>传统Web应用往往会把实时更新的数据变化更新到页面上，也就是微小变动即要重新渲染DOM。</p>
<p>而React虚拟DOM是将定量内所有的操作累加起来，统计计算所有变化，然后统一更新一次DOM。</p>
<p>React分别对 tree diff   component diff  element diff 进行算法优化</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/ae909a6c9cc046f584c9b95a6a555371tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="03.jpg"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/fbfadec74b74493bb4b4deb6b9b971batplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="04.png"></p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/926e09ea740f44048f057361d28f5a79tplv-k3u1fbpfcp-zoom-in-crop-mark1512000.webp" alt="05.png"></p>
<h3 id="✅React设计哲学"><a href="#✅React设计哲学" class="headerlink" title="✅React设计哲学"></a>✅React设计哲学</h3><p>在实现一个功能的时候，先将功能根据原型拆分成一套组件；</p>
<p>再使用React实现各个组件的静态，使用自上而下单项数据流方式进行数据的初步传递；</p>
<p>然后，找出UI交互所需的精简且完整的state，确保数据DRY(Don’t repeat yourself)；</p>
<p>​    我们可以先分析组件中要用到/操作哪些数据，然后加以判定↓</p>
<ul>
<li>不是从父组件拿到的</li>
<li>不是一直不变的</li>
<li>不是基于已存在与组件中的state或props拿到的</li>
</ul>
<p>找出state合理的存放位置；</p>
<p>​    验证每一个基于特定state渲染的位置，找它们共同的父组件，考虑如何放置↓，用useState创建</p>
<ul>
<li>一般情况下，选择共同的父组件</li>
<li>父组件的上层也可</li>
<li>找不到一个有意义拥有这个state的地方，单独创建一个组件管理这个state，并将该组件添加到它们父组件上层</li>
</ul>
<p>添加反向数据流，实现动作响应；</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230805140613374.png" alt="image-20230805140613374" style="zoom: 67%;" />

<h3 id="React中的两种模型数据"><a href="#React中的两种模型数据" class="headerlink" title="React中的两种模型数据"></a>React中的两种模型数据</h3><p>props：传递的参数</p>
<p>state：组件的内存，追踪交互</p>
<p>两者可配合</p>
<h3 id="Diff"><a href="#Diff" class="headerlink" title="Diff"></a>Diff</h3><h3 id="react-a-b-c-改变c的值会触发更新吗"><a href="#react-a-b-c-改变c的值会触发更新吗" class="headerlink" title="react a.b.c 改变c的值会触发更新吗"></a>react a.b.c 改变c的值会触发更新吗</h3><h3 id="生命周期钩子-1"><a href="#生命周期钩子-1" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h3><h3 id="组件通信-1"><a href="#组件通信-1" class="headerlink" title="组件通信"></a>组件通信</h3><h3 id="HOOK出现原因"><a href="#HOOK出现原因" class="headerlink" title="HOOK出现原因"></a>HOOK出现原因</h3><h3 id="HOOK应用场景"><a href="#HOOK应用场景" class="headerlink" title="HOOK应用场景"></a>HOOK应用场景</h3><h3 id="ReactHOOK为什么要在最外层使用？"><a href="#ReactHOOK为什么要在最外层使用？" class="headerlink" title="ReactHOOK为什么要在最外层使用？"></a>ReactHOOK为什么要在最外层使用？</h3><h3 id="HOOK优势和劣势"><a href="#HOOK优势和劣势" class="headerlink" title="HOOK优势和劣势"></a>HOOK优势和劣势</h3><h3 id="fiber架构出现的原因"><a href="#fiber架构出现的原因" class="headerlink" title="fiber架构出现的原因"></a>fiber架构出现的原因</h3><h3 id="react调度器怎么判断事件优先级"><a href="#react调度器怎么判断事件优先级" class="headerlink" title="react调度器怎么判断事件优先级"></a>react调度器怎么判断事件优先级</h3><h3 id="react-thunk的原理"><a href="#react-thunk的原理" class="headerlink" title="react-thunk的原理"></a>react-thunk的原理</h3><h3 id="useReducer的使用场景"><a href="#useReducer的使用场景" class="headerlink" title="useReducer的使用场景"></a>useReducer的使用场景</h3><h3 id="useMemo底层原理"><a href="#useMemo底层原理" class="headerlink" title="useMemo底层原理"></a>useMemo底层原理</h3><h3 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h3><h3 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h3><h3 id="react为什么设计合成事件"><a href="#react为什么设计合成事件" class="headerlink" title="react为什么设计合成事件"></a>react为什么设计合成事件</h3><h2 id="SPA-amp-MPA"><a href="#SPA-amp-MPA" class="headerlink" title="SPA&amp;MPA"></a>SPA&amp;MPA</h2><p>通过动态重写当前页面来与用户交互，而非从服务器中重新加载整个页面。这种方法避免了页面之间切换打断用户体验，使应用程序更像是个桌面应用程序。</p>
<h3 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h3><p>特点</p>
<ul>
<li>单页面：用户在浏览该页面的时候不需要加载新的页面，而是通过JS动态加载能容并更新页面</li>
<li>无刷新导航：用户交互通常不会触发整个页面的刷新，而是获取数据后对当前页面的内容进行更新</li>
<li>前端路由：</li>
</ul>
<p>优点</p>
<p>缺点</p>
<h2 id="服务端渲染"><a href="#服务端渲染" class="headerlink" title="服务端渲染"></a>服务端渲染</h2><p>服务端渲染SSR-Server Side Rendering</p>
<h3 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h3><p>是一种前端开发技术，通过在服务器进行页面初始渲染来提高性能。</p>
<p>核心思想：将网页的初始渲染工作从客户端转移到服务端。</p>
<p>与客户端的单页应用（SPA）相比，SSR优势在于：</p>
<ul>
<li><strong>更快的首屏加载</strong>：<ul>
<li>服务端渲染的HTML无需等到所有JS下载执行完才显示</li>
<li>数据获取过程在首次访问时于服务端完成，比在客户端能有更快的数据库连接</li>
</ul>
</li>
<li><strong>统一的心智模型</strong>：相同的语言、声明式、面向组件的心智模型，无需前后来回转换</li>
<li><strong>更好的SEO</strong>：爬虫可以直接看到完全渲染的页面</li>
</ul>
<h3 id="需要考虑的因素"><a href="#需要考虑的因素" class="headerlink" title="需要考虑的因素"></a>需要考虑的因素</h3><ul>
<li>在开发中，一些外部库需要特殊处理才能在SSR中运行；浏览器端一些代码只能在某些特定钩子中使用</li>
<li>构建配置和部署需要支持SSR</li>
<li>跟高的服务端负载，渲染一个完整的应用比仅托管静态资源更加占用CPU</li>
</ul>
<h3 id="SSR和SSG"><a href="#SSR和SSG" class="headerlink" title="SSR和SSG"></a>SSR和SSG</h3><p>MPA</p>
<p>静态站点生成SSG-Static Site Generation，被称为预渲染。将在构建之前就知道的数据和页面进行渲染成静态html然后放在服务器托管。</p>
<p>和SSR一样首屏加载速度都很快。而且比SSR花销更小，更容易部署——静态。</p>
<h3 id="关于Next-js"><a href="#关于Next-js" class="headerlink" title="关于Next.js"></a>关于Next.js</h3><p>支持SSR也支持SSG</p>
<p>静态生成</p>
<ul>
<li>营销页面</li>
<li>产品列表</li>
<li>博客简历</li>
<li>帮助文档</li>
</ul>
<p>当仅使用静态生成，遇到需要现实请求后数据的时候，可以将静态生成和客户端渲染结合，或者使用服务器渲染。</p>
<p>服务端端渲染</p>
<p>在每次页面请求时重新生成页面的HTML。</p>
<p>这东西放在项目里阐述吧，内容很多。。。</p>
<h2 id="mvc-gt-mvvm的过渡，对比mvc与mvvm"><a href="#mvc-gt-mvvm的过渡，对比mvc与mvvm" class="headerlink" title="mvc-&gt;mvvm的过渡，对比mvc与mvvm"></a>mvc-&gt;mvvm的过渡，对比mvc与mvvm</h2><h2 id="require和import的区别"><a href="#require和import的区别" class="headerlink" title="require和import的区别"></a>require和import的区别</h2><h1 id="🛠️前端工程化"><a href="#🛠️前端工程化" class="headerlink" title="🛠️前端工程化"></a>🛠️前端工程化</h1><h2 id="pnpm解决了npm什么痛点"><a href="#pnpm解决了npm什么痛点" class="headerlink" title="pnpm解决了npm什么痛点"></a>pnpm解决了npm什么痛点</h2><h2 id="Webpack和Vite打包的区别"><a href="#Webpack和Vite打包的区别" class="headerlink" title="Webpack和Vite打包的区别"></a>Webpack和Vite打包的区别</h2><h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><h3 id="webpack-tree-shaking的原理"><a href="#webpack-tree-shaking的原理" class="headerlink" title="webpack tree shaking的原理"></a>webpack tree shaking的原理</h3><h3 id="webpack常用配置？"><a href="#webpack常用配置？" class="headerlink" title="webpack常用配置？"></a>webpack常用配置？</h3><h3 id="loader是怎么样的机制？"><a href="#loader是怎么样的机制？" class="headerlink" title="loader是怎么样的机制？"></a>loader是怎么样的机制？</h3><h3 id="webpack的出现解决了什么问题？"><a href="#webpack的出现解决了什么问题？" class="headerlink" title="webpack的出现解决了什么问题？"></a>webpack的出现解决了什么问题？</h3><h2 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h2><h3 id="为什么Vite更快"><a href="#为什么Vite更快" class="headerlink" title="为什么Vite更快"></a>为什么Vite更快</h3><h1 id="🔮Git"><a href="#🔮Git" class="headerlink" title="🔮Git"></a>🔮Git</h1><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>基本使用：</p>
<ul>
<li><p>git commit</p>
</li>
<li><p>git checkout -b 分支名，创建分支</p>
</li>
<li><p>git merge 分支，生成一次新的合并commit在分支上</p>
</li>
<li><p>git rebase 分支，将分支合并到指定分支</p>
</li>
</ul>
<p>相对引用：</p>
<ul>
<li><p>git checkout 提交记录，使得HEAD分离出来</p>
</li>
<li><p>git checkout 分支^，跳到分支的parent提交点</p>
</li>
<li><p>git checkout HEAD^，跳到HEAD节点的parent提交点</p>
</li>
<li><p>git checkout HEAD~3，向上跳了三次</p>
</li>
<li><p>git branch -f 分支 HEAD~3，强制修改分支位置到第三级parent提交</p>
</li>
</ul>
<p>撤销变更</p>
<ul>
<li><p>git reset HEAD~1，改写历史，向上移动分支，撤销一次变更</p>
</li>
<li><p>git revert HEAD，撤销一次更改并分享给别人</p>
</li>
</ul>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720213417014.png" alt="image-20230720213417014" style="zoom: 50%;" />



<p>整理提交记录</p>
<ul>
<li>git cherry-pick</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720214715356.png" alt="image-20230720214715356" style="zoom:50%;" /> → <img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720214740339.png" alt="image-20230720214740339" style="zoom:50%;" /></p>
<ul>
<li>交互式rebase  git rebase –interactive(-i)</li>
</ul>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215402321.png" alt="image-20230721215402321" style="zoom:50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215422110.png" alt="image-20230721215422110" style="zoom: 50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230721215440497.png" alt="image-20230721215440497" style="zoom:50%;" /></p>
<h2 id="git-merge-main-和-git-rebase-main的区别"><a href="#git-merge-main-和-git-rebase-main的区别" class="headerlink" title="git merge main 和 git rebase main的区别"></a>git merge main 和 git rebase main的区别</h2><h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p>merge会<strong>在feature分支中新增一个新的merge commit</strong>，然后将两个分支的历史联系在一起。</p>
<p>是一种<strong>非破坏性的操作</strong>，对现有的分支不会造成任何方式的改变。</p>
<p>分支每次需要合并上游更改时，它都产生一个额外的和并提交。</p>
<p><strong>如果main分支提交十分活跃，那么可能会严重污染feature分支记录</strong>，可以使用git log来解决。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/S5YmfCK7wW1JxTB.png" alt="git-merge" style="zoom: 33%;" />

<h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><p>rebase会将整个feature分支移动到main分支的顶端，有效整合了所有main分支的提交。</p>
<p>rebase通过为原始分支中每个提交创建全新commits来重写项目历史记录。</p>
<p>rebase能使得获得更清晰的项目历史，消除了git merge那样不必要的和并提交。</p>
<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/F1qIGKTNDW6aRul.png" alt="git-rebase" style="zoom:33%;" />

<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720203517949.png" alt="image-20230720203517949" style="zoom: 50%;" /><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230720203413810.png" alt="image-20230720203413810" style="zoom: 50%;" /></p>
<p>rebase rebase feature，等效与创建了新提交，且老的提交只是不能再被访问使用</p>
<h1 id="🧰项目"><a href="#🧰项目" class="headerlink" title="🧰项目"></a>🧰项目</h1><h2 id="工作经历"><a href="#工作经历" class="headerlink" title="工作经历"></a>工作经历</h2><h3 id="客户端直传"><a href="#客户端直传" class="headerlink" title="客户端直传"></a><a target="_blank" rel="noopener" href="https://help.aliyun.com/zh/oss/use-cases/client-direct-transmission-overview">客户端直传</a></h3><p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/p704084.png" alt="image.png"></p>
<p>好处：少在网络中传输一次，节约开销。</p>
<p>实现：</p>
<ul>
<li>跨域</li>
<li>安全授权<ul>
<li>服务端STS临时访问凭证：适用于基于分片上传大文件、基于分片断点续传场景，需要进行缓存和刷新优化，不要频繁调用。</li>
<li>服务端生成Post签名和PostPolicy：适合限制客户端上传文件大小类型等，不支持分片上传大文件、基于分片断点续传场景。</li>
<li>服务端生成签名URL：简单上传，不适合大文件、基于分片断点续传场景。</li>
</ul>
</li>
</ul>
<p>TS相关</p>
<p>electron</p>
<h2 id="技术难点"><a href="#技术难点" class="headerlink" title="技术难点"></a>技术难点</h2><h3 id="路由二次封装"><a href="#路由二次封装" class="headerlink" title="路由二次封装"></a>路由二次封装</h3><h3 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h3><h3 id="状态管理-1"><a href="#状态管理-1" class="headerlink" title="状态管理"></a>状态管理</h3><h3 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h3><h3 id="使用Prisma简化数据库操作"><a href="#使用Prisma简化数据库操作" class="headerlink" title="使用Prisma简化数据库操作"></a>使用Prisma简化数据库操作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install prisma --save--dev</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .env.development.local</span></span><br><span class="line"></span><br><span class="line">DATABASE_URL=<span class="string">&quot;mongodb+srv://....&quot;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/db.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">PrismaClient</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@prisma/client&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prisma = <span class="keyword">new</span> <span class="title class_">PrismaClient</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> db = prisma;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// prisma/schema.prisma</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据库简单配置</span></span><br><span class="line">datasource db &#123;</span><br><span class="line">  provider = <span class="string">&quot;mongodb&quot;</span></span><br><span class="line">  url      = <span class="title function_">env</span>(<span class="string">&quot;DATABASE_URL&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">generator client &#123;</span><br><span class="line">  provider = <span class="string">&quot;prisma-client-js&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建对应model-关键一步</span></span><br><span class="line"><span class="comment">// 底层数据库表</span></span><br><span class="line"><span class="comment">// 作为生成Prisma客户端API的基础</span></span><br><span class="line">model <span class="title class_">Account</span> &#123;</span><br><span class="line">  id                <span class="title class_">String</span>  @id @<span class="title function_">default</span>(<span class="title function_">auto</span>()) @<span class="title function_">map</span>(<span class="string">&quot;_id&quot;</span>) @db.<span class="property">ObjectId</span></span><br><span class="line">  userId            <span class="title class_">String</span>  @db.<span class="property">ObjectId</span></span><br><span class="line">  type              <span class="title class_">String</span></span><br><span class="line">  provider          <span class="title class_">String</span></span><br><span class="line">  providerAccountId <span class="title class_">String</span></span><br><span class="line">  refresh_token     <span class="title class_">String</span>?</span><br><span class="line">  access_token      <span class="title class_">String</span>?</span><br><span class="line">  expires_at        <span class="title class_">Int</span>?</span><br><span class="line">  token_type        <span class="title class_">String</span>?</span><br><span class="line">  scope             <span class="title class_">String</span>?</span><br><span class="line">  idToken           <span class="title class_">String</span>?</span><br><span class="line">  session_state     <span class="title class_">String</span>?</span><br><span class="line"></span><br><span class="line">  user <span class="title class_">User</span> @<span class="title function_">relation</span>(<span class="attr">fields</span>: [userId], <span class="attr">references</span>: [id], <span class="attr">onDelete</span>: <span class="title class_">Cascade</span>)</span><br><span class="line"></span><br><span class="line">  @@<span class="title function_">unique</span>([provider, providerAccountId])</span><br><span class="line">  @@<span class="title function_">map</span>(<span class="string">&quot;accounts&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CRUD</span></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">email</span>: <span class="string">&#x27;elsa@prisma.io&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Elsa Prisma&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">findUnique</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;60d5922d00581b8f0062e3a8&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> users = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">findMany</span>()<span class="comment">// findFirst()</span></span><br><span class="line"><span class="keyword">const</span> updateUser = <span class="keyword">await</span> prisma.<span class="property">user</span>.<span class="title function_">update</span>(&#123;<span class="comment">// updateMany()upsert()</span></span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">email</span>: <span class="string">&#x27;viola@prisma.io&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Viola the Magnificent&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> deletePosts = prisma.<span class="property">post</span>.<span class="title function_">deleteMany</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">authorId</span>: <span class="number">7</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> deleteUser = prisma.<span class="property">user</span>.<span class="title function_">delete</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">7</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> transaction = <span class="keyword">await</span> prisma.$transaction([deletePosts, deleteUser])</span><br></pre></td></tr></table></figure>

<h3 id="NextAuth-js简化用户登录认证"><a href="#NextAuth-js简化用户登录认证" class="headerlink" title="NextAuth.js简化用户登录认证"></a>NextAuth.js简化用户登录认证</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install next-auth</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib/auth.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; getServerSession &#125; <span class="keyword">from</span> <span class="string">&quot;next-auth&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">GitHub</span> <span class="keyword">from</span> <span class="string">&quot;next-auth/providers/github&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">PrismaAdapter</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@auth/prisma-adapter&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; db &#125; <span class="keyword">from</span> <span class="string">&quot;./db&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> authConfig = &#123;</span><br><span class="line">  <span class="attr">adapter</span>: <span class="title class_">PrismaAdapter</span>(db),</span><br><span class="line">  <span class="attr">session</span>: &#123;</span><br><span class="line">    <span class="attr">strategy</span>: <span class="string">&quot;jwt&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">providers</span>: [</span><br><span class="line">    <span class="title class_">GitHub</span>(&#123;</span><br><span class="line">      <span class="attr">clientId</span>: process.<span class="property">env</span>.<span class="property">AUTH_GITHUB_ID</span>,</span><br><span class="line">      <span class="attr">clientSecret</span>: process.<span class="property">env</span>.<span class="property">AUTH_GITHUB_SECRET</span>,</span><br><span class="line">      <span class="attr">httpOptions</span>: &#123;</span><br><span class="line">        <span class="comment">// 以防网络不好超时报错</span></span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">1000</span> * <span class="number">5</span> * <span class="number">1</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">pages</span>: &#123;</span><br><span class="line">    <span class="attr">signIn</span>: <span class="string">&quot;/signin&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">callbacks</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">jwt</span>(<span class="params">&#123; token, user &#125;</span>) &#123; <span class="comment">//json web token</span></span><br><span class="line">      <span class="keyword">const</span> result = <span class="keyword">await</span> db.<span class="property">user</span>.<span class="title function_">findUnique</span>(&#123;</span><br><span class="line">        <span class="attr">where</span>: &#123;</span><br><span class="line">          <span class="attr">email</span>: token.<span class="property">email</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">        token.<span class="property">id</span> = user.<span class="property">id</span>;</span><br><span class="line">        <span class="keyword">return</span> token;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">id</span>: result.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">name</span>: result.<span class="property">name</span>,</span><br><span class="line">        <span class="attr">email</span>: result.<span class="property">email</span>,</span><br><span class="line">        <span class="attr">image</span>: result.<span class="property">image</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">session</span>(<span class="params">&#123; session, token &#125;</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!!token) &#123;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">id</span> = token.<span class="property">id</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">name</span> = token.<span class="property">name</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">email</span> = token.<span class="property">email</span>;</span><br><span class="line">        session.<span class="property">user</span>.<span class="property">image</span> = token.<span class="property">image</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> session;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useServerSession</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">getServerSession</span>(authConfig);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// auth/[...nextauth]/route.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NextAuth</span> <span class="keyword">from</span> <span class="string">&quot;next-auth&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; authConfig &#125; <span class="keyword">from</span> <span class="string">&quot;@/lib/auth&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// const handler = async (request, response) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   // 在这里可以进一步对请求和响应进行处理</span></span><br><span class="line"><span class="comment">//   return await NextAuth(request, response, authConfig);</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> handler = <span class="title class_">NextAuth</span>(authConfig);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; handler <span class="keyword">as</span> <span class="variable constant_">GET</span>, handler <span class="keyword">as</span> <span class="variable constant_">POST</span> &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="token怎么生成的？token怎么加密？"><a href="#token怎么生成的？token怎么加密？" class="headerlink" title="token怎么生成的？token怎么加密？"></a>token怎么生成的？token怎么加密？</h3><h3 id="useMemo和memo"><a href="#useMemo和memo" class="headerlink" title="useMemo和memo"></a>useMemo和memo</h3><p>一个在每次重新渲染后缓存计算结果的钩子。</p>
<ul>
<li>跳过代价昂贵的重新计算</li>
<li>跳过组件的重新渲染</li>
<li>记忆另一个HOOK依赖</li>
<li>记忆一个函数</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">TodoList</span>(<span class="params">&#123; todos, theme, tab &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> visibleTodos = <span class="title function_">useMemo</span>(</span><br><span class="line">    <span class="function">() =&gt;</span> <span class="title function_">filterTodos</span>(todos, tab),</span><br><span class="line">    [todos, tab]</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;theme&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Note: <span class="tag">&lt;<span class="name">code</span>&gt;</span>List<span class="tag">&lt;/<span class="name">code</span>&gt;</span> is artificially slowed down!<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">List</span> <span class="attr">items</span>=<span class="string">&#123;visibleTodos&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">List</span> = <span class="title function_">memo</span>(<span class="keyword">function</span> <span class="title function_">List</span>(<span class="params">&#123; items &#125;</span>) &#123;</span><br><span class="line"> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useMemo-和-useCallback"><a href="#useMemo-和-useCallback" class="headerlink" title="useMemo 和 useCallback"></a>useMemo 和 useCallback</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 包裹函数显得有些笨拙</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Page</span>(<span class="params">&#123; productId, referrer &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> handleSubmit = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">orderDetails</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">post</span>(<span class="string">&#x27;/product/&#x27;</span> + productId + <span class="string">&#x27;/buy&#x27;</span>, &#123;</span><br><span class="line">        referrer,</span><br><span class="line">        orderDetails</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, [productId, referrer]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;handleSubmit&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有专门包函数的钩子！</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Page</span>(<span class="params">&#123; productId, referrer &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> handleSubmit = <span class="title function_">useCallback</span>(<span class="function">(<span class="params">orderDetails</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">post</span>(<span class="string">&#x27;/product/&#x27;</span> + productId + <span class="string">&#x27;/buy&#x27;</span>, &#123;</span><br><span class="line">      referrer,</span><br><span class="line">      orderDetails</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, [productId, referrer]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;handleSubmit&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h3><p>一个可以让读取和订阅组件中的context钩子。</p>
<ul>
<li>向数组深层传递数据</li>
<li>通过context更新传递数据</li>
<li>指定回退默认值</li>
<li>覆盖组件树一部分的context</li>
<li>在传递对象的和函数时优化重新渲染</li>
</ul>
<p>如何进行状态管理?</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// contexts/TodoContext.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">TodoContext</span> = <span class="title function_">createContext</span>(&#123;&#125;);</span><br><span class="line"><span class="keyword">export</span> defualt <span class="keyword">function</span> <span class="title function_">TodoProvider</span>(<span class="params">&#123;children&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> [todos, setTodos] = <span class="title function_">useState</span>(<span class="literal">null</span>)</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             <span class="keyword">const</span> &#123; data &#125; = <span class="keyword">await</span> acios.<span class="title function_">get</span>(<span class="string">&#x27;api/..&#x27;</span>), &#123;</span><br><span class="line">                 <span class="attr">params</span>: &#123;</span><br><span class="line">                     ....</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="title function_">setTodos</span>(data)</span><br><span class="line">         &#125;  <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">             <span class="title function_">clg</span>(err)</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;)()  </span><br><span class="line">    &#125;, [])</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">    	<span class="language-xml"><span class="tag">&lt;<span class="name">TodoProvider.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;todos,</span> <span class="attr">setTodos</span>&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;!!todos ? childern : <span class="tag">&lt;<span class="name">Loading</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">TodoProvider.Provider</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useTodoContext</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">useContext</span>(<span class="title class_">TodoContext</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> &#123; todos, setTodos &#125; = <span class="title function_">useTodoContext</span>()</span><br></pre></td></tr></table></figure>

<h3 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h3><p>一个允许向组件中添加一个reducer。和useState有相似的效果，在组件顶层创建用于状态管理。</p>
<ol>
<li>一般用法就是创建一个<code>reducer(state, action)</code>方法，定义操作状态</li>
<li>然后<code>const [state, dispatch] = useReducer(reducer, initialArg, init?)</code>，给state一个初始为init的状态，使用dispatch函数和reducer函数统一操作管理状态</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">    <span class="comment">// state是initialArg  action是dispatch传来的对象</span></span><br><span class="line">    <span class="keyword">switch</span>(action.<span class="property">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;changeAge&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                <span class="attr">age</span>: nextAge,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;changeHeight&#x27;</span>: &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                ...state,</span><br><span class="line">                <span class="attr">age</span>: nextHeight,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> initialArg = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&#x27;20&#x27;</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="string">&#x27;167&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> [state, dispatch] = <span class="title function_">useReducer</span>(reducer, initialArg)</span><br><span class="line"><span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;changeAge&#x27;</span>, <span class="attr">nextAge</span>: <span class="string">&#x27;21&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><h2 id="业务思考"><a href="#业务思考" class="headerlink" title="业务思考"></a>业务思考</h2><h3 id="什么是状态？为什么要管理状态？组件是如何感知到状态的变化的？state和props的区别？"><a href="#什么是状态？为什么要管理状态？组件是如何感知到状态的变化的？state和props的区别？" class="headerlink" title="什么是状态？为什么要管理状态？组件是如何感知到状态的变化的？state和props的区别？"></a>什么是状态？为什么要管理状态？组件是如何感知到状态的变化的？state和props的区别？</h3><p>状态是React中一个非常重要的概念之一。表示一个组件的数据，这些数据可以随着时间推移而改变，通常用于存储组件可变的信息。</p>
<p>为何管理状态</p>
<ul>
<li>响应用户状态：捕获变化处理变化（按钮、键入文本</li>
<li>数据驱动视图：这是React的一个核心思想，用数据状态变化驱动视图变化代替了自主操作DOM</li>
<li>组件通信：将状态和自定义事件回调传递给子组件，方便父子组件之间通信</li>
<li>性能优化：有效管理状态更新，必要时重新渲染组件</li>
</ul>
<p>组件如何感知状态变化</p>
<ul>
<li>setState(过时了已经…)</li>
<li>useState</li>
<li>useEffect</li>
</ul>
<p>state和props的区别</p>
<ol>
<li><strong>State（状态）：</strong> 是组件自己管理和维护的数据，用于存储组件的可变信息。可以通过<code>this.state</code>（在类组件中）或<code>useState</code>（在函数式组件中）来声明和更新状态。状态通常在组件内部使用，只能被组件自身修改。</li>
<li><strong>Props（属性）：</strong> 是从父组件传递给子组件的数据。它们是不可变的，子组件不能直接修改props。props用于在组件之间传递数据，以使组件可以展示不同的信息或根据外部数据进行自定义渲染。</li>
</ol>
<h3 id="实现无限列表的加载"><a href="#实现无限列表的加载" class="headerlink" title="实现无限列表的加载"></a>实现无限列表的加载</h3><h3 id="为什么二次封装axios"><a href="#为什么二次封装axios" class="headerlink" title="为什么二次封装axios"></a>为什么二次封装axios</h3><h3 id="为什么二次封装vuerouter"><a href="#为什么二次封装vuerouter" class="headerlink" title="为什么二次封装vuerouter"></a>为什么二次封装vuerouter</h3><h3 id="如何避免一次性出现许多错误弹出框"><a href="#如何避免一次性出现许多错误弹出框" class="headerlink" title="如何避免一次性出现许多错误弹出框"></a>如何避免一次性出现许多错误弹出框</h3><h3 id="实现轮播图"><a href="#实现轮播图" class="headerlink" title="实现轮播图"></a>实现轮播图</h3><h3 id="点击发请求按键优化"><a href="#点击发请求按键优化" class="headerlink" title="点击发请求按键优化"></a>点击发请求按键优化</h3><p>快速点击几个item，每一个item携带自己的id发送请求，dom展示数据，最后显示的是哪个item的数据？怎么让页面显示的是最后一个点击的item的数据？</p>
<h3 id="如何提高性能"><a href="#如何提高性能" class="headerlink" title="如何提高性能"></a>如何提高性能</h3><h3 id="如何保证代码上线稳定性"><a href="#如何保证代码上线稳定性" class="headerlink" title="如何保证代码上线稳定性"></a>如何保证代码上线稳定性</h3><h3 id="关于登录"><a href="#关于登录" class="headerlink" title="关于登录"></a>关于登录</h3><p>token 存在 localStorage 里有风险吗？</p>
<p>有风险，cv</p>
<p>token 是放在 cookie 里更合理还是放到 localStorage 里更合理？</p>
<p>token 存到 localStorage，是没有过期时间的，怎么实现有过期时间呢？</p>
<h1 id="🥴手撕"><a href="#🥴手撕" class="headerlink" title="🥴手撕"></a>🥴手撕</h1><h2 id="CSS相关"><a href="#CSS相关" class="headerlink" title="CSS相关"></a>CSS相关</h2><h3 id="实现三角形"><a href="#实现三角形" class="headerlink" title="实现三角形"></a>实现三角形</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">40px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">80px</span> solid lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(为什么会被问到这样的问题？？)[]</p>
<h3 id="轮播图"><a href="#轮播图" class="headerlink" title="轮播图"></a>轮播图</h3><h3 id="图片背景"><a href="#图片背景" class="headerlink" title="图片背景"></a>图片背景</h3><h3 id="图片自适应"><a href="#图片自适应" class="headerlink" title="图片自适应"></a>图片自适应</h3><p>图片在盒子里不会被剪裁，宽或高需要撑满盒子，不会被拉伸挤压。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>; </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex; </span><br><span class="line">  <span class="attribute">justify-content</span>: center; </span><br><span class="line">  <span class="attribute">align-items</span>: center; </span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">max-height</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">width</span>: auto; </span><br><span class="line">  <span class="attribute">height</span>: auto; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>图片在盒子里宽或高需要撑满盒子，不留空隙，可以适当剪裁。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image</span> &#123;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100%</span>; </span><br><span class="line">  <span class="attribute">width</span>: auto; </span><br><span class="line">  <span class="attribute">height</span>: auto; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="左侧固定，右侧占满"><a href="#左侧固定，右侧占满" class="headerlink" title="左侧固定，右侧占满"></a>左侧固定，右侧占满</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex; <span class="comment">/* 使用 Flex 布局 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; <span class="comment">/* 左侧栏的固定宽度 */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>; <span class="comment">/* 左侧栏的高度占据整个视口高度 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f0f0</span>; <span class="comment">/* 左侧栏的背景颜色 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right-content</span> &#123;</span><br><span class="line">    <span class="attribute">flex-grow</span>: <span class="number">1</span>; <span class="comment">/* 右侧栏占满剩余空间 */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#e0e0e0</span>; <span class="comment">/* 右侧栏的背景颜色 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="业务相关"><a href="#业务相关" class="headerlink" title="业务相关"></a>业务相关</h2><h3 id="✅html写一个计时器，页面上展示读秒，三个按钮，分别是开始，停止和重置"><a href="#✅html写一个计时器，页面上展示读秒，三个按钮，分别是开始，停止和重置" class="headerlink" title="✅html写一个计时器，页面上展示读秒，三个按钮，分别是开始，停止和重置"></a>✅html写一个计时器，页面上展示读秒，三个按钮，分别是开始，停止和重置</h3><p><a target="_blank" rel="noopener" href="https://codepen.io/3879055132-qq-com/pen/MWZjdpM?editors=1111">效果</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;timer&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;handleStart()&quot;</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&quot;handleStop()&quot;</span>&gt;</span>停止<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&quot;handleReset()&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> sec = <span class="number">0</span></span><br><span class="line">timer = <span class="built_in">setInterval</span>(updateTimer, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleStart</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(updateTimer, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleStop</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">  timer = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleReset</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">handleStop</span>()</span><br><span class="line">  sec = <span class="number">0</span></span><br><span class="line">  <span class="title function_">handleStart</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateTimer</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;timer&#x27;</span>).<span class="property">innerText</span> = sec</span><br><span class="line">  sec += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅有一个表单，表单内有个提交按钮，写一个避免重复提交的通用方案"><a href="#✅有一个表单，表单内有个提交按钮，写一个避免重复提交的通用方案" class="headerlink" title="✅有一个表单，表单内有个提交按钮，写一个避免重复提交的通用方案"></a>✅有一个表单，表单内有个提交按钮，写一个避免重复提交的通用方案</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;myForm&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;要提交的数据&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&#x27;submitBtn&#x27;</span>&gt;</span>点击提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> form = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myForm&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> msg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;msg&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> submitBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;submitBtn&#x27;</span>)</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  event.<span class="title function_">preventDefault</span>()</span><br><span class="line">  submitBtn.<span class="property">disabled</span> = <span class="literal">true</span></span><br><span class="line">  msg.<span class="property">disabled</span> = <span class="literal">true</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;模仿发请求获得相应的过程&#x27;</span>, msg.<span class="property">value</span>)</span><br><span class="line">    submitBtn.<span class="property">disabled</span> = <span class="literal">false</span></span><br><span class="line">    msg.<span class="property">disabled</span> = <span class="literal">false</span></span><br><span class="line">    msg.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// =&gt; (输入框和按钮禁用) &quot;模仿发请求获得相应的过程&quot; &quot;提交内容&quot; (输入框内容清空，输入框按钮回复可用)</span></span><br></pre></td></tr></table></figure>

<h3 id="id-xxx-parentId-yyy-order-1-这种结构的数组转化成一个树型结构-order代表同组子节点的优先级，怎么优化，减少循环次数"><a href="#id-xxx-parentId-yyy-order-1-这种结构的数组转化成一个树型结构-order代表同组子节点的优先级，怎么优化，减少循环次数" class="headerlink" title="{ id:xxx , parentId: yyy, order: 1 } 这种结构的数组转化成一个树型结构,order代表同组子节点的优先级，怎么优化，减少循环次数"></a>{ id:xxx , parentId: yyy, order: 1 } 这种结构的数组转化成一个树型结构,order代表同组子节点的优先级，怎么优化，减少循环次数</h3><h3 id="💥父子组件通信"><a href="#💥父子组件通信" class="headerlink" title="💥父子组件通信"></a>💥父子组件通信</h3><p>忘得差不多了，似乎是这样字写</p>
<h4 id="React-1"><a href="#React-1" class="headerlink" title="React"></a>React</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function grandfather() &#123;</span><br><span class="line">    function getData(data) &#123;</span><br><span class="line">        clg(data)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            &lt;Parent onGetData=&#123;getData&#125; /&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Parent(props) &#123;</span><br><span class="line">    const &#123; onGetData &#125; = props</span><br><span class="line">    const [num, setNum] = useState(1)</span><br><span class="line">    const name = &#x27;liz&#x27;</span><br><span class="line">    function handleClick() &#123;</span><br><span class="line">        onGetData(name)</span><br><span class="line">    &#125;</span><br><span class="line">    function getNum(data) &#123;</span><br><span class="line">        setNum(data)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">    	&lt;&gt;</span><br><span class="line">            &lt;button onClick=&#123;handleClick&#125;&gt;点我给我的父组件发送数据&lt;/button&gt;</span><br><span class="line">            &lt;Children num=&#123;num&#125; onGetNum=&#123;getNum&#125; /&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Children(props) &#123;</span><br><span class="line">    const &#123; num, onGetNum &#125; = props</span><br><span class="line">    function handleClick() &#123;</span><br><span class="line">        onGetNum(num + 1)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">    	&lt;&gt;</span><br><span class="line">        	&lt;button onClick=&#123;handleClick&#125;&gt;点我 num+1 =&gt; &#123;num&#125;&lt;/button&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Vue-1"><a href="#Vue-1" class="headerlink" title="Vue"></a>Vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;Children name onGetNum=&#x27;getNum()&#x27;&gt;&lt;/Children&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const Father = new Vue(&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return () &#123;</span><br><span class="line">                name: &#x27;liz&#x27;,</span><br><span class="line">                num: 1,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            getNum(data) &#123;</span><br><span class="line">                this.num = num</span><br><span class="line">                clg(this.num)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button onclick=&#x27;handleClick&#x27;&gt;&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const Father = new Vue(&#123;</span><br><span class="line">        props: [name]</span><br><span class="line">        data() &#123;</span><br><span class="line">            return () &#123;</span><br><span class="line">                num: 100,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            handleClick(data) &#123;</span><br><span class="line">                onGetNum.$emit(this.num)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h2 id="语法特性相关"><a href="#语法特性相关" class="headerlink" title="语法特性相关"></a>语法特性相关</h2><h3 id="✅0-1-0-2-0-3原因，解决"><a href="#✅0-1-0-2-0-3原因，解决" class="headerlink" title="✅0.1 + 0.2 != 0.3原因，解决"></a>✅0.1 + 0.2 != 0.3原因，解决</h3><p>JS浮点数精度问题。JavaScript使用IEEE 754标准来表示数字，该标准采用二进制浮点数表示法，而不是使用十进制浮点数表示法。在二进制浮点数表示法中，有些小数无法准确表示，因此可能会导致计算结果不精确。</p>
<p>0.1 和 0.2 在二进制浮点数表示法中无法精确表示，它们会被近似为有限的二进制小数，导致计算时产生微小舍入误差。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> (十进制) ≈ <span class="number">0.00011001100110011001100110011001100110011001100110011</span>... (二进制)</span><br><span class="line"><span class="number">0.2</span> (十进制) ≈ <span class="number">0.0011001100110011001100110011001100110011001100110011</span>... (二进制)</span><br><span class="line"><span class="number">0.3</span> (十进制) ≈ <span class="number">0.0100110011001100110011001100110011001100110011001100</span>... (二进制)</span><br><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> ≈ <span class="number">0.0100110011001100110011001100110011001100110011001101</span>... (二进制)</span><br></pre></td></tr></table></figure>

<p>解决1：先将小数转换为整数，计算后还原成小数。</p>
<p>解决2：用专门的精确计算库(bignumber.js math.js)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ans1 = <span class="keyword">new</span> <span class="title class_">BigNumber</span>(<span class="number">0.1</span> + <span class="number">0.2</span>)</span><br><span class="line"><span class="keyword">let</span> ans2 = math.evaluate(<span class="string">&#x27;0.1 + 0.2&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="✅二进制转换十进制为什么会造成精度丢失"><a href="#✅二进制转换十进制为什么会造成精度丢失" class="headerlink" title="✅二进制转换十进制为什么会造成精度丢失?"></a>✅二进制转换十进制为什么会造成精度丢失?</h3><p>因为二进制无法准确表示小数。IEEE 754二进制浮点表示法中，一个浮点数由符号位、指数位、尾数位表示，指数位指明小数点的位置，尾数位是小数点后的二进制表示。</p>
<p>而一些小数比如0.1，在二进制表示中可能是一个循环小数的表示，也就是说无法精确表示0.1↑，所以当这样的无限循环小数从二进制转换回十进制后，就会出现精度丢失。</p>
<h3 id="✅指定深度的flat"><a href="#✅指定深度的flat" class="headerlink" title="✅指定深度的flat"></a>✅指定深度的flat</h3><p>主要是个递归</p>
<ul>
<li>如果深度不合法，报错</li>
<li>如果深度=1，直接返回</li>
<li>如果深度&gt;1，遍历<ul>
<li>如果遍历到的元素是数组，递归，且传入深度 = 深度 - 1，然后添加到结果集</li>
<li>如果遍历到的元素是基本，直接添加到结果集</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">flat</span>(<span class="params">arr, depth = <span class="number">1</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Number</span>.<span class="title function_">isInteger</span>(depth) ||depth &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;深度不合法，必须为&gt;=1的整数&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (depth === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(item)) &#123;</span><br><span class="line">            result = result.<span class="title function_">concat</span>(<span class="title function_">flat</span>(item, depth - <span class="number">1</span>))</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅This的指向"><a href="#✅This的指向" class="headerlink" title="✅This的指向"></a>✅This的指向</h3><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/a3ce87515a4f6acbbdaa8b84b155c1e1.jpeg" alt="a3ce87515a4f6acbbdaa8b84b155c1e1" style="zoom:50%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =&gt; undefined 构造函数的this指向了空对象，因此this.name是undefined</span></span><br><span class="line"><span class="comment">// =&gt; &#123;x: &#x27;z&#x27;&#125; 给箭头函数.call指能有效传进去参数，this传进去无效</span></span><br></pre></td></tr></table></figure>

<h3 id="✅ES6-var一个对象"><a href="#✅ES6-var一个对象" class="headerlink" title="✅ES6 var一个对象"></a>✅ES6 var一个对象</h3><p>看输出结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// T1</span></span><br><span class="line"><span class="keyword">var</span> = &#123; <span class="attr">n</span>: <span class="number">10</span> &#125;;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">out</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> b = obj;</span><br><span class="line">	<span class="keyword">var</span> c = b; <span class="comment">// b c 是同一个引用</span></span><br><span class="line">	b.<span class="property">n</span> = <span class="number">30</span>;</span><br><span class="line">	c = &#123; <span class="attr">n</span>: <span class="number">40</span> &#125;;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">n</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="property">n</span>);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(c.<span class="property">n</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">out</span>(a); <span class="comment">// =&gt; 30 30 40</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// T2</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="string">&#x27;bar1&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123; <span class="attr">bar</span>: <span class="string">&#x27;bar2&#x27;</span>, <span class="attr">foo</span>: foo &#125;;</span><br><span class="line"><span class="keyword">var</span> o3 = &#123; <span class="attr">bar</span>: <span class="string">&#x27;bar3&#x27;</span>, <span class="attr">foo</span>: <span class="function">() =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>) &#125; &#125;;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// =&gt; bar1 this指向全局（本身就是个全局函数）</span></span><br><span class="line">o2.<span class="title function_">foo</span>(); <span class="comment">// =&gt; bar2 this绑定o2</span></span><br><span class="line">o3.<span class="title function_">foo</span>(); <span class="comment">// =&gt; bar1 this指向全局（箭头函数不绑定this，依附于其所在上下文，全局）</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h3><p>任何一个Promise被拒绝，返回的Promise将被拒绝，并携带拒绝原因。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([promise1, promise2, promise3]).<span class="title function_">then</span>(<span class="function">(<span class="params">values</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(values);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Expected output: Array [3, 42, &quot;foo&quot;]</span></span><br></pre></td></tr></table></figure>

<h3 id="💥异步任务队列，可以同时指定任务队列长度"><a href="#💥异步任务队列，可以同时指定任务队列长度" class="headerlink" title="💥异步任务队列，可以同时指定任务队列长度"></a>💥异步任务队列，可以同时指定任务队列长度</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AsyncQueue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">maxLength</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxLength</span> = maxLength;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">running</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addTask</span>(<span class="params">taskFunction</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">task</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">running</span>++;</span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">taskFunction</span>();</span><br><span class="line">          <span class="title function_">resolve</span>(result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">running</span>--;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">processQueue</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(task);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">running</span> &lt; <span class="variable language_">this</span>.<span class="property">maxLength</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">processQueue</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">processQueue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">running</span> &gt;= <span class="variable language_">this</span>.<span class="property">maxLength</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> task = <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">shift</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (task) &#123;</span><br><span class="line">      <span class="title function_">task</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> maxQueueLength = <span class="number">3</span>; <span class="comment">// 最大队列长度</span></span><br><span class="line"><span class="keyword">const</span> asyncTaskQueue = <span class="keyword">new</span> <span class="title class_">AsyncQueue</span>(maxQueueLength);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">simulateAsyncTask</span>(<span class="params">taskId, duration</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Task <span class="subst">$&#123;taskId&#125;</span> completed after <span class="subst">$&#123;duration&#125;</span>ms`</span>);</span><br><span class="line">      <span class="title function_">resolve</span>();</span><br><span class="line">    &#125;, duration);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> taskId = i;</span><br><span class="line">    <span class="keyword">const</span> taskDuration = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">3000</span>) + <span class="number">1000</span>; <span class="comment">// 模拟异步任务执行时间</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> asyncTaskQueue.<span class="title function_">addTask</span>(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Task <span class="subst">$&#123;taskId&#125;</span> added to the queue`</span>);</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">simulateAsyncTask</span>(taskId, taskDuration);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure>

<h3 id="💥超时重传Promise-race"><a href="#💥超时重传Promise-race" class="headerlink" title="💥超时重传Promise.race"></a>💥超时重传Promise.race</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个函数来执行网络请求</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendRequest</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 模拟一个网络请求，这里使用setTimeout模拟延迟响应</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> shouldFail = <span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.3</span>; <span class="comment">// 模拟请求失败的情况</span></span><br><span class="line">      <span class="keyword">if</span> (shouldFail) &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Request failed&#x27;</span>));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;Request successful&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>); <span class="comment">// 模拟1秒的请求延迟</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个函数来执行超时重传</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">retryWithTimeout</span>(<span class="params">requestData, maxAttempts, timeout</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> attempt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">doRequest</span>(<span class="params"></span>) &#123;</span><br><span class="line">    attempt++;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sendRequest</span>(requestData)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Attempt <span class="subst">$&#123;attempt&#125;</span>: <span class="subst">$&#123;response&#125;</span>`</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Attempt <span class="subst">$&#123;attempt&#125;</span> failed: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (attempt &lt; maxAttempts) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Retrying in <span class="subst">$&#123;timeout / <span class="number">1000</span>&#125;</span> seconds...`</span>);</span><br><span class="line">          <span class="built_in">setTimeout</span>(doRequest, timeout); <span class="comment">// 在超时后重试</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`Max attempts reached (<span class="subst">$&#123;maxAttempts&#125;</span>), giving up.`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">doRequest</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用超时重传函数</span></span><br><span class="line"><span class="keyword">const</span> requestData = &#123; <span class="comment">/* 请求数据 */</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> maxAttempts = <span class="number">5</span>; <span class="comment">// 最大重试次数</span></span><br><span class="line"><span class="keyword">const</span> timeout = <span class="number">2000</span>; <span class="comment">// 超时时间，单位毫秒</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">retryWithTimeout</span>(requestData, maxAttempts, timeout);</span><br></pre></td></tr></table></figure>



<h3 id="✅节流函数的多种实现方式"><a href="#✅节流函数的多种实现方式" class="headerlink" title="✅节流函数的多种实现方式"></a>✅节流函数的多种实现方式</h3><p>时间戳</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> newTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (newTime - oldTime &gt;= delay) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            oldTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>延时器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>延时器+时间戳——更加精确的节流</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> content = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> remaining = delay - (<span class="title class_">Date</span>.<span class="title function_">now</span>() - startTime)</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(fn, remaining)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="✅防抖函数的实现"><a href="#✅防抖函数的实现" class="headerlink" title="✅防抖函数的实现"></a>✅防抖函数的实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (timer)	<span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 立即执行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            flag = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(func)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传入第三参数控制是否立即执行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params">fn, wait = <span class="number">500</span>, immediate = <span class="literal">false</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">            args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">       		timer = <span class="literal">null</span></span><br><span class="line">            immediate = <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拓展取消功能</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">debounced</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> context = <span class="variable language_">this</span>,</span><br><span class="line">                args = <span class="variable language_">arguments</span></span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">                flag = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(func)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    debounced.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="深拷贝的实现"><a href="#深拷贝的实现" class="headerlink" title="深拷贝的实现"></a>深拷贝的实现</h3><h2 id="算法相关"><a href="#算法相关" class="headerlink" title="算法相关"></a>算法相关</h2><h3 id="17-电话号码的字母组合"><a href="#17-电话号码的字母组合" class="headerlink" title="17. 电话号码的字母组合"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/letter-combinations-of-a-phone-number/">17. 电话号码的字母组合</a></h3><p>深/广搜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">digits</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string[]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> letterCombinations = <span class="keyword">function</span> (<span class="params">digits</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!digits || digits.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> list = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="string">&#x27;def&#x27;</span>, <span class="string">&#x27;ghi&#x27;</span>, <span class="string">&#x27;jkl&#x27;</span>, <span class="string">&#x27;mno&#x27;</span>, <span class="string">&#x27;pqrs&#x27;</span>, <span class="string">&#x27;tuv&#x27;</span>, <span class="string">&#x27;wxyz&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    ans.<span class="title function_">push</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; digits.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> len = ans.<span class="property">length</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">let</span> cur = ans.<span class="title function_">shift</span>()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> l <span class="keyword">of</span> list[digits[i]]) &#123;</span><br><span class="line">                ans.<span class="title function_">push</span>(cur + l)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// DFS</span></span><br><span class="line">    <span class="comment">// function dfs(s, idx) &#123;</span></span><br><span class="line">    <span class="comment">//     if (idx === digits.length) &#123;</span></span><br><span class="line">    <span class="comment">//         ans.push(s)</span></span><br><span class="line">    <span class="comment">//         return</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">//     for (let c of list[digits[idx]]) &#123;</span></span><br><span class="line">    <span class="comment">//         dfs(s + c, idx + 1)</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// dfs(&#x27;&#x27;, 0)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="排序有哪些算法？sort-函数排序用的是哪种排序算法？"><a href="#排序有哪些算法？sort-函数排序用的是哪种排序算法？" class="headerlink" title="排序有哪些算法？sort()函数排序用的是哪种排序算法？"></a>排序有哪些算法？sort()函数排序用的是哪种排序算法？</h3><p>sort是快排</p>
<h3 id="如何对单链表进行排序"><a href="#如何对单链表进行排序" class="headerlink" title="如何对单链表进行排序"></a>如何对单链表进行排序</h3><h3 id="如何判断一个json数组是另外一个json数组的子集"><a href="#如何判断一个json数组是另外一个json数组的子集" class="headerlink" title="如何判断一个json数组是另外一个json数组的子集"></a>如何判断一个json数组是另外一个json数组的子集</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isSubset</span>(<span class="params">subset, superset</span>) &#123;</span><br><span class="line">  <span class="comment">// 遍历子集数组中的每个元素</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; subset.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> elementFound = <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查当前子集元素是否在父数组中存在</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; superset.<span class="property">length</span>; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(superset[j]) === <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(subset[i])) &#123;</span><br><span class="line">        elementFound = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 找到匹配的元素后可以跳出循环</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果当前子集元素不存在于父数组中，返回 false</span></span><br><span class="line">    <span class="keyword">if</span> (!elementFound) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 所有子集元素都存在于父数组中，返回 true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例用法</span></span><br><span class="line"><span class="keyword">const</span> parentArray = [&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Charlie&quot;</span> &#125;];</span><br><span class="line"><span class="keyword">const</span> subsetArray = [&#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Alice&quot;</span> &#125;, &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">isSubset</span>(subsetArray, parentArray);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// 输出 true</span></span><br></pre></td></tr></table></figure>



<h3 id="用栈判断括号匹配的具体过程"><a href="#用栈判断括号匹配的具体过程" class="headerlink" title="用栈判断括号匹配的具体过程"></a>用栈判断括号匹配的具体过程</h3><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><h3 id="写一个函数进行数字格式转换"><a href="#写一个函数进行数字格式转换" class="headerlink" title="写一个函数进行数字格式转换"></a>写一个函数进行数字格式转换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 数字转为含分隔符，并保留两位小数的字符串（写在第一面背面）</span><br><span class="line">// 1234567 -&gt; 1,234,567.00</span><br><span class="line">// 100 -&gt; 100.00</span><br><span class="line">// 12.21 -&gt; 12.21</span><br></pre></td></tr></table></figure>

<p>解法如下：</p>
<h3 id="对象数组去重"><a href="#对象数组去重" class="headerlink" title="对象数组去重"></a>对象数组去重</h3><h3 id="找出最长不重复字母的子串"><a href="#找出最长不重复字母的子串" class="headerlink" title="找出最长不重复字母的子串"></a>找出最长不重复字母的子串</h3><h3 id="最长递增子序列"><a href="#最长递增子序列" class="headerlink" title="最长递增子序列"></a>最长递增子序列</h3><h3 id="如何将浮点数点左边的数每三位添加一个逗号，如12000000-11转化为12-000-000-11"><a href="#如何将浮点数点左边的数每三位添加一个逗号，如12000000-11转化为12-000-000-11" class="headerlink" title="如何将浮点数点左边的数每三位添加一个逗号，如12000000.11转化为12,000,000.11?"></a>如何将浮点数点左边的数每三位添加一个逗号，如12000000.11转化为12,000,000.11?</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">commafy</span>(<span class="params">num</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> num &amp;&amp; num</span><br><span class="line">    .<span class="title function_">toString</span>()</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/\d(?=(\d&#123;3&#125;)+\.)/g</span>, <span class="keyword">function</span>(<span class="params">_, $2</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> $2 + <span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">commafy</span>(<span class="number">1231423423.22</span>))<span class="comment">//1,231,423,423.22</span></span><br></pre></td></tr></table></figure>



<h3 id="✅console-log-transform-‘123abc456def’-abc123def456”"><a href="#✅console-log-transform-‘123abc456def’-abc123def456”" class="headerlink" title="✅console.log(transform(‘123abc456def’)); //abc123def456”"></a>✅console.log(transform(‘123abc456def’)); //abc123def456”</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">transform</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(\d+)([a-z]+)/g</span>, <span class="keyword">function</span>(<span class="params">_, digits, letters</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;letters&#125;</span><span class="subst">$&#123;digits&#125;</span>`</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">// replace(regexp|subStr, newSubStr|function)</span></span><br><span class="line"><span class="comment">// function(match, p1, p2, ..., offset, string)匹配的子串，正则中的每个括号部分，偏移量，原字符串↓</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/([a])([b])/g</span>, <span class="keyword">function</span>(<span class="params">_, a, b, offset, string</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`匹配到的字符串<span class="subst">$&#123;_&#125;</span>, <span class="subst">$&#123;b&#125;</span>, <span class="subst">$&#123;a&#125;</span>, 偏移量<span class="subst">$&#123;offset&#125;</span>, 原字符串<span class="subst">$&#123;string&#125;</span>`</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;cab&#x27;</span>)) <span class="comment">// &quot;c匹配到的字符串ab, b, a, 偏移量1, 原字符串cab&quot;</span></span><br></pre></td></tr></table></figure>





<h3 id="分隔字符串"><a href="#分隔字符串" class="headerlink" title="分隔字符串"></a>分隔字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">input</span>: <span class="attr">str</span>: <span class="string">&quot;1234567,123456,1234567,1234567890,123456789,1,2,3,4,5,6&quot;</span></span><br><span class="line">	   <span class="attr">length</span>: <span class="number">14</span></span><br><span class="line"><span class="attr">ouput</span>: [</span><br><span class="line">	<span class="string">&quot;1234567,123456&quot;</span>,</span><br><span class="line">	<span class="string">&quot;1234567&quot;</span>,</span><br><span class="line">	<span class="string">&quot;1234567890&quot;</span>,</span><br><span class="line">	<span class="string">&quot;123456789,1,2&quot;</span>,</span><br><span class="line">	<span class="string">&quot;3,4,5,6&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 大致意思，将str分割，每个片段不能超过length, 连成片的数字不能分开，逗号也算长度</span></span><br></pre></td></tr></table></figure>

<p>解法如下：</p>
<h3 id="让console-error-a-1-amp-amp-a-2-amp-amp-a-3-打印结果为true。"><a href="#让console-error-a-1-amp-amp-a-2-amp-amp-a-3-打印结果为true。" class="headerlink" title="让console.error(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)打印结果为true。"></a>让console.error(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3)打印结果为true。</h3><p>解法如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  <span class="attr">i</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">toString</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">i</span>++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">error</span>(a == <span class="number">1</span> &amp;&amp; a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>



<h3 id="给定一个无重复元素的整数数组nums-找出其中没有出现的最小正整数"><a href="#给定一个无重复元素的整数数组nums-找出其中没有出现的最小正整数" class="headerlink" title="给定一个无重复元素的整数数组nums,找出其中没有出现的最小正整数"></a>给定一个无重复元素的整数数组nums,找出其中没有出现的最小正整数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">空间复杂度<span class="title function_">O</span>(<span class="number">1</span>),时间复杂度<span class="title function_">O</span>(n)</span><br><span class="line"></span><br><span class="line">例：<span class="attr">input</span>:[<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>] -&gt; <span class="attr">ouput</span>:<span class="number">3</span></span><br><span class="line"><span class="attr">input</span>:[-<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>] -&gt; <span class="attr">ouput</span>:<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="随机打乱数组"><a href="#随机打乱数组" class="headerlink" title="随机打乱数组"></a>随机打乱数组</h3><h3 id="发红包"><a href="#发红包" class="headerlink" title="发红包"></a>发红包</h3><h3 id="大根堆"><a href="#大根堆" class="headerlink" title="大根堆"></a>大根堆</h3><p>给定一个不重复元素的整数数组，来构建最大根二叉树， 二叉树的根节点是数组中的最大值，使用数组最大值左侧的部分构建二叉树的左子树，右侧部分构建二叉树的右子树， 左右子树都是最大根二叉树。<br>例子：input:[1,3,2,6,4,5]<br>ouput:<br>            6<br>        3        5<br>      1      2    4</p>
<h3 id="💢LazyMan"><a href="#💢LazyMan" class="headerlink" title="💢LazyMan"></a>💢LazyMan</h3><p>实现一个LazyMan,可以按照以下方式调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>) </span><br><span class="line">输出: </span><br><span class="line"><span class="title class_">Hi</span>! <span class="title class_">This</span> is <span class="title class_">Hank</span>!</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleep</span>(<span class="number">10</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>)</span><br><span class="line">输出</span><br><span class="line"><span class="title class_">Hi</span>! <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="comment">//等待10秒.. </span></span><br><span class="line"><span class="title class_">Wake</span> up after <span class="number">10</span> </span><br><span class="line"><span class="title class_">Eat</span> dinner~ </span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>)</span><br><span class="line">输出</span><br><span class="line"><span class="title class_">Hi</span> <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="title class_">Eat</span> dinner~</span><br><span class="line"><span class="title class_">Eat</span> supper~ </span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleepFirst</span>(<span class="number">5</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>)</span><br><span class="line">输出</span><br><span class="line"><span class="comment">// 等待5秒</span></span><br><span class="line"><span class="title class_">Wake</span> up after <span class="number">5</span> </span><br><span class="line"><span class="title class_">Hi</span> <span class="title class_">This</span> is <span class="title class_">Hank</span>! </span><br><span class="line"><span class="title class_">Eat</span> supper</span><br></pre></td></tr></table></figure>

<p>解题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">LazyMan</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LazyManWrapper</span>(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">LazyManWrapper</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hi! This is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>!`</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">next</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> task = <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">shift</span>();</span><br><span class="line">        <span class="title function_">task</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sleep</span> = <span class="keyword">function</span> (<span class="params">seconds</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wake up after <span class="subst">$&#123;seconds&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, seconds * <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sleepFirst</span> = <span class="keyword">function</span> (<span class="params">seconds</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">unshift</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wake up after <span class="subst">$&#123;seconds&#125;</span>`</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">        &#125;, seconds * <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">LazyManWrapper</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">eat</span> = <span class="keyword">function</span> (<span class="params">food</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Eat <span class="subst">$&#123;food&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">next</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试示例</span></span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleep</span>(<span class="number">5</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;dinner&quot;</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>);</span><br><span class="line"><span class="title class_">LazyMan</span>(<span class="string">&quot;Hank&quot;</span>).<span class="title function_">sleepFirst</span>(<span class="number">2</span>).<span class="title function_">eat</span>(<span class="string">&quot;supper&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="💥实现一个计数构造函数"><a href="#💥实现一个计数构造函数" class="headerlink" title="💥实现一个计数构造函数"></a>💥实现一个计数构造函数</h3><p>写一个构造函数 Foo，该函数每个实例为一个对象，形如 {id: N}，其中 N 表示第 N 次调用得到的。<br>要求：<br>1、不能使用全局变量<br>2、直接调用 Foo() 也会返回实例化的对象<br>3、实例化的对象必须是 Foo 的实例</p>
<p>解题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 判断是否是new调用，如果不是，直接返回一个new出来的实例</span></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">Foo</span>)) &#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Foo</span>()</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// 如果是↓</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = <span class="title class_">Foo</span>.<span class="property">cnt</span>++</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Foo</span>.<span class="property">cnt</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(&#123; <span class="attr">length</span>: <span class="number">5</span> &#125;, <span class="function">() =&gt;</span><span class="keyword">new</span> <span class="title class_">Foo</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Foo</span>())</span><br></pre></td></tr></table></figure>

<img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230728211809974.png" alt="image-20230728211809974" style="zoom:80%;" />



<h3 id="开平方根（整数、小数）"><a href="#开平方根（整数、小数）" class="headerlink" title="开平方根（整数、小数）"></a>开平方根（整数、小数）</h3><h3 id="数字阶乘"><a href="#数字阶乘" class="headerlink" title="数字阶乘"></a>数字阶乘</h3><h3 id="💥各种排序"><a href="#💥各种排序" class="headerlink" title="💥各种排序"></a>💥各种排序</h3><p>冒泡排序$O(n^2)$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bubbleSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">let</span> temp = arr[j]</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>]</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>插入排序$O(n^2)$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">insertSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>)	<span class="keyword">return</span> arr</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> prevIdx = i - <span class="number">1</span>,</span><br><span class="line">            curVal = arr[i]</span><br><span class="line">        <span class="keyword">while</span> (prevIdx &gt;= <span class="number">0</span> &amp;&amp; arr[prevIdx] &gt; curVal) &#123;</span><br><span class="line">            arr[prevIdx + <span class="number">1</span>] = arr[prevIdx]</span><br><span class="line">            prevIdx--</span><br><span class="line">        &#125;</span><br><span class="line">        arr[prevIdx + <span class="number">1</span>] = curVal</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>选择排序$O(n^2)$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> minIdx = i</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[minIdx] &gt; arr[j]) &#123;</span><br><span class="line">                minIdx = j</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = arr[i] <span class="comment">// 每次遍历找到最小数与遍历元素互换位置</span></span><br><span class="line">        arr[i] = arr[minIdx]</span><br><span class="line">        arr[minIdx] = temp</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>快速排序$O(nlog2(n))$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> pivotIdx = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>), <span class="comment">// 中间基准值</span></span><br><span class="line">        pivot = arr[pivotIdx]</span><br><span class="line">    <span class="keyword">let</span> left = [], <span class="comment">// 基准值左侧小右侧大</span></span><br><span class="line">        right = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">            left.<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right.<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot], <span class="title function_">quickSort</span>(right)) <span class="comment">// 递归</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>希尔排序$O(n^{1.3})$第一个突破$O(n^2)$的排序算法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shellSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>) <span class="comment">// 获取中间索引作为两数间隔</span></span><br><span class="line">    <span class="keyword">while</span> (gap &gt;= <span class="number">1</span>) &#123; <span class="comment">// 两数间隔不小于一</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = gap; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = arr[i] <span class="comment">// 缓存gap往后的值</span></span><br><span class="line">            <span class="comment">// 索引前距离gap的元素开始，满足元素值大于缓存值，再往前gap</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = i - gap; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j = j - gap) &#123;</span><br><span class="line">                arr[j + gap] = arr[j] <span class="comment">// 后比较值替换成前(大)比较值</span></span><br><span class="line">            &#125;</span><br><span class="line">            arr[j + gap] = temp <span class="comment">// 把遍历终止处元素值替换为缓存值</span></span><br><span class="line">        &#125;</span><br><span class="line">        gap = <span class="title class_">Math</span>.<span class="title function_">floor</span>(gap / <span class="number">2</span>) <span class="comment">// 不是很能理解这个</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>归并排序$O(nlog2(n))$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mergeSort</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>),</span><br><span class="line">        left = arr.<span class="title function_">slice</span>(<span class="number">0</span>, mid),</span><br><span class="line">        right = arr.<span class="title function_">slice</span>(mid)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">merge</span>(<span class="title function_">mergeSort</span>(left), <span class="title function_">mergeSort</span>(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res = []</span><br><span class="line">    <span class="keyword">while</span> (left.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; right.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left[<span class="number">0</span>] &lt;= right[<span class="number">0</span>]) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(left.<span class="title function_">shift</span>())</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(right.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (left.<span class="property">length</span>) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(left.<span class="title function_">shift</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right.<span class="property">length</span>) &#123;</span><br><span class="line">        res.<span class="title function_">push</span>(right.<span class="title function_">shift</span>())</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>二分查找法$O(log2(n))$</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 非递归</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">arr, key</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.<span class="property">length</span></span><br><span class="line">    <span class="keyword">if</span> (len &lt; <span class="number">2</span>) <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>,</span><br><span class="line">        high = len - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">        <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>((low + high) / <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> (key === arr[mid]) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; arr[mid]) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &lt; arr[mid]) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 递归</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">binarySearch</span>(<span class="params">arr, low, high, key</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (low &gt; high) <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> mid = <span class="title class_">Math</span>.<span class="title function_">floor</span>((low + high) / <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> (arr[mid] === key) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &gt; key) &#123;</span><br><span class="line">        high = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">binarySearch</span>(arr, low, high, key)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; key) &#123;</span><br><span class="line">        low = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">binarySearch</span>(arr, low, high, key)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="括号匹配"><a href="#括号匹配" class="headerlink" title="括号匹配"></a>括号匹配</h3><h3 id="最长重复子数组"><a href="#最长重复子数组" class="headerlink" title="最长重复子数组"></a>最长重复子数组</h3><h3 id="二叉树最大深度"><a href="#二叉树最大深度" class="headerlink" title="二叉树最大深度"></a>二叉树最大深度</h3><h3 id="大数相乘"><a href="#大数相乘" class="headerlink" title="大数相乘"></a>大数相乘</h3><h3 id="hardMan"><a href="#hardMan" class="headerlink" title="hardMan()"></a>hardMan()</h3><h3 id="打家劫舍2"><a href="#打家劫舍2" class="headerlink" title="打家劫舍2"></a>打家劫舍2</h3><h3 id="打家劫舍3"><a href="#打家劫舍3" class="headerlink" title="打家劫舍3"></a>打家劫舍3</h3><h3 id="最长字符串链（leecode的1048题）"><a href="#最长字符串链（leecode的1048题）" class="headerlink" title="最长字符串链（leecode的1048题）"></a>最长字符串链（leecode的1048题）</h3><h3 id="子类继承父类"><a href="#子类继承父类" class="headerlink" title="子类继承父类"></a>子类继承父类</h3><h3 id="对列表元素中某一属性进行排序"><a href="#对列表元素中某一属性进行排序" class="headerlink" title="对列表元素中某一属性进行排序"></a>对列表元素中某一属性进行排序</h3><h3 id="实现一个函数，函数有两个参数，第一个参数为一个字符串，第二个参数为一个数字"><a href="#实现一个函数，函数有两个参数，第一个参数为一个字符串，第二个参数为一个数字" class="headerlink" title="实现一个函数，函数有两个参数，第一个参数为一个字符串，第二个参数为一个数字"></a>实现一个函数，函数有两个参数，第一个参数为一个字符串，第二个参数为一个数字</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例如：输入 abcdefghij 3</span><br><span class="line"></span><br><span class="line">输入的字符串按以下方式排列</span><br><span class="line"></span><br><span class="line">a   e   i</span><br><span class="line">b d f h j</span><br><span class="line">c   g</span><br><span class="line"></span><br><span class="line">你需要按行输出</span><br><span class="line"></span><br><span class="line">你需要输出的字符串形似 aeibdfhjcg</span><br></pre></td></tr></table></figure>

<p>我是这么想的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">str, num</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> s = str;</span><br><span class="line">  <span class="keyword">let</span> n = num + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(num).<span class="title function_">fill</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> s) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s[i]);</span><br><span class="line">    <span class="keyword">if</span> (i % n === num) &#123;</span><br><span class="line">      arr[<span class="number">1</span>] += s[i];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      arr[i % n] += s[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;abcdefghij&#x27;</span>, <span class="number">3</span>)); <span class="comment">// [&quot;aei&quot;, &quot;bdfhj&quot;, &quot;cg&quot;] aeibdfhjcg</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;abcdefghij&#x27;</span>, <span class="number">4</span>)); <span class="comment">// [&quot;af&quot;, &quot;begj&quot;, &quot;ch&quot;, &quot;di&quot;] afbegjchdi</span></span><br></pre></td></tr></table></figure>



<h3 id="实现-lodash-get"><a href="#实现-lodash-get" class="headerlink" title="实现 lodash.get"></a>实现 lodash.get</h3><h3 id="LC岛屿数量，最大岛屿面积"><a href="#LC岛屿数量，最大岛屿面积" class="headerlink" title="LC岛屿数量，最大岛屿面积"></a>LC岛屿数量，最大岛屿面积</h3><h3 id="2208-将数组和减半的最少操作次数，建个堆吧"><a href="#2208-将数组和减半的最少操作次数，建个堆吧" class="headerlink" title="2208. 将数组和减半的最少操作次数，建个堆吧"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-operations-to-halve-array-sum/">2208. 将数组和减半的最少操作次数</a>，建个堆吧</h3><h1 id="🧮设计模式"><a href="#🧮设计模式" class="headerlink" title="🧮设计模式"></a>🧮设计模式</h1><p>定义：设计模式是针对特定问题的简洁优雅的解决方案。</p>
<p>设计模式分为三大类：创建、结构、行为规范。</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/image-20230910212901425.png" alt="image-20230910212901425"></p>
<h2 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h2><h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><p>意图：</p>
<ol>
<li>确保一个类只有一个实例遵。循真理单点性的观点，遵循单一职责原则（FCC:不可复制不可更改）</li>
<li>并提供该实例的全局访问点。方便调用访问。</li>
</ol>
<p>单例模式禁止通过除特殊构建方法以外的任何方式来创建自身类的对象。该方法可以创建一个新对象，如若该对象已经被创建，那么返回的应是已有的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Singleton</span>.<span class="property">instance</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Singleton</span>.<span class="property">instance</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在此处初始化单例对象</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">someProperty</span> = <span class="string">&#x27;This is a singleton instance&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将实例存储在静态属性中，以确保只有一个实例存在</span></span><br><span class="line">    <span class="title class_">Singleton</span>.<span class="property">instance</span> = <span class="variable language_">this</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 可以在这里定义其他方法和属性</span></span><br><span class="line">  <span class="title function_">someMethod</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">someProperty</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建单例实例</span></span><br><span class="line"><span class="keyword">const</span> instance1 = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"><span class="keyword">const</span> instance2 = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 由于单例模式，这两个实例应该是相同的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(instance1 === instance2); <span class="comment">// 输出：true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以访问单例实例的属性和方法</span></span><br><span class="line">instance1.<span class="title function_">someMethod</span>(); <span class="comment">// 输出：This is a singleton instance</span></span><br><span class="line">instance2.<span class="title function_">someMethod</span>(); <span class="comment">// 输出：This is a singleton instance</span></span><br></pre></td></tr></table></figure>

<p>结构：↑</p>
<p>案例：以下是对一个单一对象进行设置，从而禁止修改/添加对象中任何内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象字面量</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Config</span> = &#123;</span><br><span class="line">    <span class="attr">start</span>: <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;haha&#x27;</span>),</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(<span class="title class_">Config</span>) <span class="comment">// 冻结对象，限制添加属性和修改属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Config</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="title function_">start</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hahaha&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> <span class="title class_">Config</span>()</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">freeze</span>(instance)</span><br></pre></td></tr></table></figure>

<h3 id="工厂方法"><a href="#工厂方法" class="headerlink" title="工厂方法"></a>工厂方法</h3><p>提供创建对象的接口，对象被创建后可以被修改。将创建对象的逻辑集中在一个地方，简化代码，使更易组织。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 工厂函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params">name, phrase</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">phrase</span> = phrase</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Test</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">saySth</span> = <span class="function">() =&gt;</span> &#123; <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> : <span class="subst">$&#123;<span class="variable language_">this</span>.phrase&#125;</span>`</span> &#125;</span><br><span class="line"><span class="keyword">const</span> ra = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;Ra&#x27;</span>, <span class="string">&#x27;eating&#x27;</span>)</span><br><span class="line">ra.<span class="title function_">saySth</span>() <span class="comment">// =&gt; Ra : eating</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> (name, phrase)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">phrase</span> = phrase</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">saySth</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`It&#x27;s <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> the <span class="subst">$&#123;<span class="variable language_">this</span>.phrase&#125;</span> guy!`</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> liz = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;Liz&#x27;</span>, <span class="string">&#x27;coding&#x27;</span>)</span><br><span class="line">liz.<span class="title function_">saySth</span>() <span class="comment">// =&gt; It&#x27;s Liz the coding guy!</span></span><br></pre></td></tr></table></figure>

<h3 id="抽象工厂"><a href="#抽象工厂" class="headerlink" title="抽象工厂"></a>抽象工厂</h3><p>允许在不指定具体类的情况下生成一系列相关的对象。创建仅共享某些属性方法的对象。</p>
<p>给客户端提供一个可以交互的抽象工厂，抽象工厂可以通过特定逻辑调用具体工厂，具体工厂返回最终对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 具体工厂</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Car&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`DiDi! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Truck</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Truck&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">8</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Wuuuuuu! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Motorcycle</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span> () &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&quot;Motorcycle&quot;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">wheels</span> = <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    turnOn = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`BiBi! <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> has <span class="subst">$&#123;<span class="variable language_">this</span>.wheels&#125;</span> wheels.`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象工厂：提供单一交互点和客户端交互</span></span><br><span class="line"><span class="keyword">const</span> vehicleFactory = &#123;</span><br><span class="line">    <span class="attr">createVehicle</span>: <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;car&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Car</span>()</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;truck&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Truck</span>()</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;motorcycle&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Motorcycle</span>()</span><br><span class="line">            <span class="attr">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> car = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;car&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> truck = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;truck&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> motorcycle = vehicleFactory.<span class="title function_">createVehicle</span>(<span class="string">&quot;motorcycle&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="构造器模式"><a href="#构造器模式" class="headerlink" title="构造器模式"></a>构造器模式</h3><p>构造器模式分步骤创建对象。通过不同的函数和方法对对象添加属性和方法。通过不同的实体分开创建属性和方法。</p>
<p>通过类或构造函数创建的实例通常继承了所有的属性和方法。但是如果使用构造器，我们可以只应用我们需要的步骤来创建对象，更加灵活。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bug1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;A the Bug&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> bug2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;B the Bug&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addFlyAbility</span> = obj =&gt; &#123;</span><br><span class="line">    obj.<span class="property">fly</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;obj.name&#125;</span> is flying`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addJumpAbility</span> = obj =&gt; &#123;</span><br><span class="line">    obj.<span class="property">jump</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;obj.name&#125;</span> is jumping`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addFlyAbility</span>(bug1)</span><br><span class="line">bug1.<span class="title function_">fly</span>() <span class="comment">// A the Bug is flying</span></span><br><span class="line"><span class="title function_">addJumpAbility</span>(bug2)</span><br><span class="line">bug2.<span class="title function_">jump</span>() <span class="comment">// B the Bug is flying</span></span><br></pre></td></tr></table></figure>

<h3 id="原型-1"><a href="#原型-1" class="headerlink" title="原型"></a>原型</h3><p>允许将一个对象作为蓝图来创建另一个新对象。新对象继承原对象的属性和方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">fly</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;flyyyyyy&#x27;</span>)&#125;</span><br><span class="line">    <span class="attr">jump</span>: <span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;jumppppp&#x27;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;raliz&#x27;</span></span><br><span class="line">    <span class="attr">age</span>: <span class="string">&#x27;21&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">setPrototype</span>(obj2, obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj2))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">name</span>, obj1.<span class="title function_">lfy</span>()) <span class="comment">// =&gt; raliz flyyyyyy</span></span><br></pre></td></tr></table></figure>

<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><h3 id="适配器"><a href="#适配器" class="headerlink" title="适配器"></a>适配器</h3><p>允许两个接口不兼容的对象相互交互。</p>
<p><img src="../images/%E5%A5%BD%E9%9D%A2%E7%9A%84%E7%B3%96%E7%82%92%E6%A0%97%E5%AD%90/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f33643562383238652d356334642d343864382d613434302d3238316534613865316339322e706e67.png" alt="img"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧的温度计类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OldThermometer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureFahrenheit</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureFahrenheit</span> = temperature;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新的温度计类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NewThermometer</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureCelsius</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">temperatureCelsius</span> = temperature;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 适配器类，将OldThermometer适配为NewThermometer接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThermometerAdapter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">oldThermometer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">oldThermometer</span> = oldThermometer;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getTemperature</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 转换华氏度到摄氏度</span></span><br><span class="line">    <span class="keyword">const</span> temperatureFahrenheit = <span class="variable language_">this</span>.<span class="property">oldThermometer</span>.<span class="title function_">getTemperature</span>();</span><br><span class="line">    <span class="keyword">const</span> temperatureCelsius = (temperatureFahrenheit - <span class="number">32</span>) * <span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line">    <span class="keyword">return</span> temperatureCelsius;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setTemperatureCelsius</span>(<span class="params">temperature</span>) &#123;</span><br><span class="line">    <span class="comment">// 转换摄氏度到华氏度</span></span><br><span class="line">    <span class="keyword">const</span> temperatureFahrenheit = (temperature * <span class="number">9</span>/<span class="number">5</span>) + <span class="number">32</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">oldThermometer</span>.<span class="title function_">setTemperatureFahrenheit</span>(temperatureFahrenheit);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用适配器</span></span><br><span class="line"><span class="keyword">const</span> oldThermometer = <span class="keyword">new</span> <span class="title class_">OldThermometer</span>();</span><br><span class="line"><span class="keyword">const</span> adapter = <span class="keyword">new</span> <span class="title class_">ThermometerAdapter</span>(oldThermometer);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用新的温度计接口来获取温度</span></span><br><span class="line">adapter.<span class="title function_">setTemperatureCelsius</span>(<span class="number">30</span>); <span class="comment">// 设置摄氏度</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Temperature in Celsius: <span class="subst">$&#123;adapter.getTemperature()&#125;</span>°C`</span>); <span class="comment">// 获取摄氏度</span></span><br></pre></td></tr></table></figure>

<h3 id="装饰"><a href="#装饰" class="headerlink" title="装饰"></a>装饰</h3><p>通过一个对象包裹原来的对象，从而给原来的对象增添新的行为。</p>
<p>可以回想一下React项目中状态管理的配置。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">export defualt function ContextProvider = (&#123; children &#125;) =&gt; &#123;</span><br><span class="line">    return(</span><br><span class="line">        &lt;Context.Provider&gt;</span><br><span class="line">        	&#123;children&#125;</span><br><span class="line">        &lt;/Context.Provider&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export defualt function APP() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;ContextProvider&gt;</span><br><span class="line">            &lt;Router&gt;</span><br><span class="line">                &lt;Routes&gt;....&lt;/Routes&gt;</span><br><span class="line">            &lt;/Router&gt;</span><br><span class="line">        &lt;/ContextProvider&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const default function Apage() &#123;</span><br><span class="line">    ....</span><br><span class="line">    const &#123; qvq &#125; = useContext(Context)</span><br><span class="line">    return (....)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="外观"><a href="#外观" class="headerlink" title="外观"></a>外观</h3><p>给库、框架以及其他复杂的类集提供简化的接口。</p>
<p>想一下很多封装的接口方法，很多组件库封装好的组件。</p>
<h3 id="代理-1"><a href="#代理-1" class="headerlink" title="代理"></a>代理</h3><p>为另一个对象提供替代或占位符。控制对原始对象的访问，当请求到达原始对象之前/后执行某种操作。</p>
<p>想一下中间件，我们可以在请求到达前/中/后执行一段代码。</p>
<h3 id="享元模式"><a href="#享元模式" class="headerlink" title="享元模式"></a>享元模式</h3><p>它摒弃了在每个对象中保存所有数据的方式， 通过共享多个对象所共有的相同状态， 让你能在有限的内存容量中载入更多对象。</p>
<h2 id="行为范式"><a href="#行为范式" class="headerlink" title="行为范式"></a>行为范式</h2><h3 id="责任链"><a href="#责任链" class="headerlink" title="责任链"></a>责任链</h3><p>责任链将请求通过处理链传递。（不同的实体协作实行任务）</p>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>用于遍历集合元素。有很多迭代方法的呃呃。</p>
<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><p>允许定义一个订阅机制，通知多个对象，他们正在观察的这一个对象发生的变化事件。</p>
<p>观察者模式通常是同步的。</p>
<h3 id="发布-订阅模式"><a href="#发布-订阅模式" class="headerlink" title="发布-订阅模式"></a>发布-订阅模式</h3><p>允许定义一个事件中心(消息代理)，允许发布者和订阅者之间解耦。</p>
<p>发布订阅模式通常是异步的，发布者发布事件之后不会立即通知订阅者，而是等待订阅者订阅相关事件的时候才会通知。</p>
<h1 id="😎自我介绍"><a href="#😎自我介绍" class="headerlink" title="😎自我介绍"></a>😎自我介绍</h1><p>首先警告一下你自己，不要出现‘就是就是就是’‘怎么说怎么说’这种口头禅，老可恶了录音里听着！</p>
<p>然后就是，带耳机！真的很容易听不清面试官的问题。</p>
<p>静思，感觉说不完整的的不如直接说不知道该怎么叙述。</p>
<h2 id="面试开头的自我介绍"><a href="#面试开头的自我介绍" class="headerlink" title="面试开头的自我介绍"></a>面试开头的自我介绍</h2><h2 id="为什么选择前端"><a href="#为什么选择前端" class="headerlink" title="为什么选择前端"></a>为什么选择前端</h2><p>所敲即所见，所见即所得</p>
<h2 id="怎么学习的前端"><a href="#怎么学习的前端" class="headerlink" title="怎么学习的前端"></a>怎么学习的前端</h2><h2 id="为什么选择这个城市"><a href="#为什么选择这个城市" class="headerlink" title="为什么选择这个城市"></a>为什么选择这个城市</h2><h1 id="👔反问"><a href="#👔反问" class="headerlink" title="👔反问"></a>👔反问</h1><p>纯觉得自己菜：</p>
<h2 id="公司开发部门人员结构，同岗位人员数量，团队氛围，日常技术交流"><a href="#公司开发部门人员结构，同岗位人员数量，团队氛围，日常技术交流" class="headerlink" title="公司开发部门人员结构，同岗位人员数量，团队氛围，日常技术交流"></a>公司开发部门人员结构，同岗位人员数量，团队氛围，日常技术交流</h2><p>对业务感兴趣：</p>
<h2 id="官网看到…具体是什么样的-询问一些猜想"><a href="#官网看到…具体是什么样的-询问一些猜想" class="headerlink" title="官网看到…具体是什么样的(询问一些猜想)"></a>官网看到…具体是什么样的(询问一些猜想)</h2><p>比较有过的把握：</p>
<h2 id="培养实习生的路线是怎样的呢？"><a href="#培养实习生的路线是怎样的呢？" class="headerlink" title="培养实习生的路线是怎样的呢？"></a>培养实习生的路线是怎样的呢？</h2><h2 id="分配任务是怎样的呢？"><a href="#分配任务是怎样的呢？" class="headerlink" title="分配任务是怎样的呢？"></a>分配任务是怎样的呢？</h2><h2 id="需要提前准备一些什么？"><a href="#需要提前准备一些什么？" class="headerlink" title="需要提前准备一些什么？"></a>需要提前准备一些什么？</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://ra-liz.github.io">Ra-liz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://ra-liz.github.io/post/cf5c.html">https://ra-liz.github.io/post/cf5c.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ra-liz.github.io" target="_blank">Ra-Liz's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/favicon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/donate.png" target="_blank"><img class="post-qr-code-img" src="/img/donate.png" alt="(wechat)可以请我喝瓶水嘛？"/></a><div class="post-qr-code-desc">(wechat)可以请我喝瓶水嘛？</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="(alipay)可以请我吃淀粉肠嘛？"/></a><div class="post-qr-code-desc">(alipay)可以请我吃淀粉肠嘛？</div></li><li class="reward-item"><a href="/img/qqpay.png" target="_blank"><img class="post-qr-code-img" src="/img/qqpay.png" alt="(QQ)可以为我充Q币嘛？"/></a><div class="post-qr-code-desc">(QQ)可以为我充Q币嘛？</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/db5b.html" title="Vite跟学笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vite跟学笔记</div></div></a></div><div class="next-post pull-right"><a href="/post/4a17b156.html" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Ra-liz</div><div class="author-info__description">食栗至上</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">39</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Ra-Liz"><i class="fab fa-github"></i><span>俺的GitHub</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><p align="center">微信号：raliz2333</p> <p align="center">QQ号：2879055132</p> <em align="center">Hi~It's Liz the coding guy!</em></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%92%BB%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">💻浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%BB%8E%E5%9C%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E8%BE%93%E5%85%A5url%E5%9C%B0%E5%9D%80%E5%88%B0%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B"><span class="toc-number">1.1.</span> <span class="toc-text">✅从在地址栏输入url地址到页面渲染的详细过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA"><span class="toc-number">1.1.1.</span> <span class="toc-text">导航</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E7%BC%93%E5%AD%98"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">查找缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">DNS域名解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8BTCP%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">建立TCP连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%88TCP-Handshake%EF%BC%89"><span class="toc-number">1.1.1.3.1.</span> <span class="toc-text">三次握手（TCP Handshake）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B"><span class="toc-number">1.1.1.3.1.1.</span> <span class="toc-text">三次握手过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%89%E6%AC%A1%EF%BC%9F"><span class="toc-number">1.1.1.3.1.2.</span> <span class="toc-text">为什么是三次？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%AF%8F%E6%AC%A1%E5%BB%BA%E7%AB%8BTCP%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%88%9D%E5%A7%8B%E5%BA%8F%E5%88%97%E5%8F%B7%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%EF%BC%9F"><span class="toc-number">1.1.1.3.1.3.</span> <span class="toc-text">为什么每次建立TCP连接的初始序列号是不一样的？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#ISN%E6%98%AF%E5%A6%82%E4%BD%95%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E7%9A%84%EF%BC%9F"><span class="toc-number">1.1.1.3.1.4.</span> <span class="toc-text">ISN是如何随机生成的？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B7%B2%E7%BB%8F%E6%9C%89%E4%BA%86IP%E7%9A%84MTU%E5%88%86%E7%89%87%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E8%BF%9B%E8%A1%8CTCP%E7%9A%84MSS%E5%88%86%E7%89%87%EF%BC%9F"><span class="toc-number">1.1.1.3.1.5.</span> <span class="toc-text">已经有了IP的MTU分片，为什么还要进行TCP的MSS分片？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%B6%88%E5%A4%B1%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.1.3.1.6.</span> <span class="toc-text">第一次握手消失会发生什么？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%B6%88%E5%A4%B1%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.1.3.1.7.</span> <span class="toc-text">第二次握手消失会发生什么？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E6%B6%88%E5%A4%B1%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.1.3.1.8.</span> <span class="toc-text">第三次握手消失会发生什么？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#SYN%E6%94%BB%E5%87%BB%E6%98%AF%E5%95%A5%EF%BC%8C%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%EF%BC%9F"><span class="toc-number">1.1.1.3.1.9.</span> <span class="toc-text">SYN攻击是啥，如何避免？</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TLS%E5%8D%8F%E5%95%86%EF%BC%88TLS-SSL-Handshake-SSL%E8%A2%ABTLS%E5%8F%96%E4%BB%A3%E4%BA%86%EF%BC%89"><span class="toc-number">1.1.1.3.2.</span> <span class="toc-text">TLS协商（TLS&#x2F;SSL Handshake SSL被TLS取代了）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E9%80%81HTTP%E8%AF%B7%E6%B1%82"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">发送HTTP请求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94"><span class="toc-number">1.1.2.</span> <span class="toc-text">响应</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94%E8%AF%B7%E6%B1%82%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">服务器响应请求并返回结果</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%85%A2%E5%90%AF%E5%8A%A8-14KB%E8%A7%84%E5%88%99"><span class="toc-number">1.1.2.1.1.</span> <span class="toc-text">慢启动 &#x2F; 14KB规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">1.1.2.1.2.</span> <span class="toc-text">拥塞控制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%ADTCP%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">关闭TCP连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#TCP%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-number">1.1.2.2.1.</span> <span class="toc-text">TCP四次挥手</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B2%97%E6%9A%B4%E5%85%B3%E9%97%AD-amp-%E4%BC%98%E9%9B%85%E5%85%B3%E9%97%AD"><span class="toc-number">1.1.2.2.1.1.</span> <span class="toc-text">粗暴关闭&amp;优雅关闭</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E5%95%A5%E6%98%AF%E5%9B%9B%E6%AC%A1%EF%BC%9F"><span class="toc-number">1.1.2.2.1.2.</span> <span class="toc-text">为啥是四次？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E5%8F%AF%E4%B8%8D%E5%8F%AF%E4%BB%A5%E5%8F%98%E6%88%90%E4%B8%89%E6%AC%A1%E6%8C%A5%E6%89%8B%EF%BC%9F"><span class="toc-number">1.1.2.2.1.3.</span> <span class="toc-text">四次挥手可不可以变成三次挥手？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%95%A5%E5%8F%88%E6%98%AF%E2%80%9CTCP%E7%A1%AE%E8%AE%A4%E6%9C%BA%E5%88%B6%E2%80%9C%EF%BC%9F"><span class="toc-number">1.1.2.2.1.4.</span> <span class="toc-text">啥又是“TCP确认机制“？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8C%A5%E6%89%8B%E6%97%A0%E4%BC%9A%E5%8F%91%E7%94%9F%E5%95%A5"><span class="toc-number">1.1.2.2.1.5.</span> <span class="toc-text">第一次挥手无会发生啥</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%97%A0"><span class="toc-number">1.1.2.2.1.6.</span> <span class="toc-text">第二次无</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%97%A0"><span class="toc-number">1.1.2.2.1.7.</span> <span class="toc-text">第三次无</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AC%A1%E6%97%A0"><span class="toc-number">1.1.2.2.1.8.</span> <span class="toc-text">第四次无</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E5%95%A5TIME-WAIT%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4%E6%98%AF2MSL%EF%BC%9F%EF%BC%9F"><span class="toc-number">1.1.2.2.1.9.</span> <span class="toc-text">为啥TIME_WAIT等待时间是2MSL？？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BA%E5%95%A5%E6%9C%89TIME-WAIT%E8%BF%99%E4%B8%AA%E7%8A%B6%E6%80%81%E7%8E%AF%E8%8A%82%EF%BC%9F%EF%BC%9F"><span class="toc-number">1.1.2.2.1.10.</span> <span class="toc-text">为啥有TIME_WAIT这个状态环节？？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%86%91%E8%BF%87%E5%A4%9A%E4%BC%9A%E6%9C%89%E5%95%A5%E5%8D%B1%E5%AE%B3%EF%BC%9F"><span class="toc-number">1.1.2.2.1.11.</span> <span class="toc-text">↑过多会有啥危害？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%86%91%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E5%AE%83%EF%BC%9F"><span class="toc-number">1.1.2.2.1.12.</span> <span class="toc-text">↑如何优化它？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%86%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%A7%E9%87%8F%E5%87%BA%E7%8E%B0%E5%AE%83%E7%9A%84%E5%8E%9F%E5%9B%A0%EF%BC%9F"><span class="toc-number">1.1.2.2.1.13.</span> <span class="toc-text">↑服务器大量出现它的原因？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%A7%E9%87%8F%E5%87%BA%E7%8E%B0CLOSE-WAIT%E7%8A%B6%E6%80%81%E5%8E%9F%E5%9B%A0%EF%BC%9F"><span class="toc-number">1.1.2.2.1.14.</span> <span class="toc-text">服务器大量出现CLOSE_WAIT状态原因？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%B7%B2%E7%BB%8F%E5%BB%BA%E7%AB%8B%E4%BA%86%E8%BF%9E%E6%8E%A5%E4%BD%86%E6%98%AF%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%AA%81%E7%84%B6%E6%95%85%E9%9A%9C%E5%92%8B%E5%8A%9E%EF%BC%9F"><span class="toc-number">1.1.2.2.1.15.</span> <span class="toc-text">如果已经建立了连接但是客户端突然故障咋办？</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E2%86%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AA%81%E7%84%B6%E6%95%85%E9%9A%9C%E5%92%8B%E5%8A%9E%EF%BC%9F"><span class="toc-number">1.1.2.2.1.16.</span> <span class="toc-text">↑服务器突然故障咋办？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E6%B8%B2%E6%9F%93-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.3.</span> <span class="toc-text">解析渲染-浏览器渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CRF"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">CRF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DOM"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">DOM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSSOM"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">CSSOM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RenderTree"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">RenderTree</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-number">1.1.3.5.</span> <span class="toc-text">布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%98%E5%88%B6"><span class="toc-number">1.1.3.6.</span> <span class="toc-text">绘制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%EF%BC%9ACRF%E4%BC%98%E5%8C%96"><span class="toc-number">1.1.4.</span> <span class="toc-text">拓展：CRF优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E9%A1%BE%EF%BC%9ACSS%E6%A0%B9%E6%8D%AE%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E8%A7%84%E5%88%99%E7%94%9F%E6%88%90"><span class="toc-number">1.1.5.</span> <span class="toc-text">回顾：CSS根据什么样的规则生成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%BC%95%E6%93%8E%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">JS引擎解析过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6-%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98%E5%92%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98"><span class="toc-number">1.3.</span> <span class="toc-text">✅浏览器缓存机制-强制缓存和协商缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">缓存机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%AA%E4%BA%9B%E6%98%AF%E5%BC%BA%E7%BC%93%E5%AD%98%E5%93%AA%E4%BA%9B%E6%98%AF%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">哪些是强缓存哪些是协商缓存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%89%8D%E7%AB%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E8%B5%84%E6%BA%90"><span class="toc-number">1.4.</span> <span class="toc-text">✅前端如何实现缓存资源</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-http%E7%BC%93%E5%AD%98"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">1.http缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">2.浏览器缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Cookie"><span class="toc-number">1.4.0.2.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LocalStorage"><span class="toc-number">1.4.0.2.2.</span> <span class="toc-text">LocalStorage</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#SessionStorage"><span class="toc-number">1.4.0.2.3.</span> <span class="toc-text">SessionStorage</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-ServiceWorker"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">3.ServiceWorker</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%BB%80%E4%B9%88%E6%98%AF%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%EF%BC%8C%E5%93%AA%E4%BA%9B%E6%83%85%E5%86%B5%E4%BC%9A%E9%80%A0%E6%88%90-%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E6%B3%84%E9%9C%B2%E6%83%85%E5%86%B5%EF%BC%9F"><span class="toc-number">1.5.</span> <span class="toc-text">✅什么是内存泄露，哪些情况会造成&#x2F;如何查看泄露情况？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85JS%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6-Garbage-collection-%E6%9C%BA%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">✅JS垃圾回收(Garbage collection)机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8"><span class="toc-number">1.7.</span> <span class="toc-text">✅浏览器存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%AD%98%E5%82%A8-cookie%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.8.</span> <span class="toc-text">✅存储 cookie的生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA"><span class="toc-number">1.8.1.</span> <span class="toc-text">创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8"><span class="toc-number">1.8.2.</span> <span class="toc-text">存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96"><span class="toc-number">1.8.3.</span> <span class="toc-text">读取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%9C%9F"><span class="toc-number">1.8.4.</span> <span class="toc-text">过期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.8.5.</span> <span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85cookie%E5%AE%89%E5%85%A8"><span class="toc-number">1.9.</span> <span class="toc-text">✅cookie安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85cookie-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B1%9E%E6%80%A7%E5%AD%97%E6%AE%B5%E5%91%A2"><span class="toc-number">1.10.</span> <span class="toc-text">✅cookie 有哪些属性字段呢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%80%8E%E4%B9%88%E4%B8%8D%E8%AE%A9%E5%89%8D%E7%AB%AF%E5%8E%BB%E4%BF%AE%E6%94%B9cookie%EF%BC%9F"><span class="toc-number">1.11.</span> <span class="toc-text">✅怎么不让前端去修改cookie？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">1.12.</span> <span class="toc-text">✅同源策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">1.12.1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.12.2.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%BA%90"><span class="toc-number">1.12.3.</span> <span class="toc-text">文件源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9"><span class="toc-number">1.12.4.</span> <span class="toc-text">更改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E5%92%8C%E8%AE%BF%E9%97%AE"><span class="toc-number">1.12.5.</span> <span class="toc-text">跨域数据存储和访问</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">1.13.</span> <span class="toc-text">✅怎么解决跨域问题？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CORS%E8%B7%A8%E5%9F%9F%E5%85%B1%E4%BA%AB-%E4%BC%98%E5%85%88-%E4%B8%BB%E8%A6%81%E6%96%B9%E6%A1%88-%E5%8F%8C%E5%90%91-%E6%A0%87%E5%87%86"><span class="toc-number">1.13.1.</span> <span class="toc-text">CORS跨域共享-优先-主要方案-双向-标准</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%90%86"><span class="toc-number">1.13.2.</span> <span class="toc-text">代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#postMessage-%E5%AE%89%E5%85%A8-%E4%B8%8D%E5%90%8C%E7%AA%97%E5%8F%A3-%E5%8A%A0%E9%AA%8C%E8%AF%81"><span class="toc-number">1.13.3.</span> <span class="toc-text">postMessage-安全-不同窗口-加验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSONP"><span class="toc-number">1.13.4.</span> <span class="toc-text">JSONP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-domain%EF%BC%88%E5%BC%83%E7%94%A8%EF%BC%89"><span class="toc-number">1.13.5.</span> <span class="toc-text">document.domain（弃用）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85script%E6%A0%87%E7%AD%BEdefer%EF%BC%8Casync%E5%92%8C%E6%B2%A1%E6%9C%89%E6%A0%87%E8%AF%86%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%8C%E5%8A%A0%E8%BD%BD%E6%83%85%E5%86%B5%EF%BC%8C%E6%89%A7%E8%A1%8C%E6%83%85%E5%86%B5%EF%BC%8C%E5%AF%B9%E9%A1%B5%E9%9D%A2%E7%9A%84%E9%98%BB%E5%A1%9E%E6%83%85%E5%86%B5"><span class="toc-number">1.14.</span> <span class="toc-text">✅script标签defer，async和没有标识的区别，加载情况，执行情况，对页面的阻塞情况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8"><span class="toc-number">1.15.</span> <span class="toc-text">✅浏览器内核</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%96%A5%EF%B8%8F%E8%AE%A1%E7%BD%91"><span class="toc-number">2.</span> <span class="toc-text">🖥️计网</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">五层模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">TCP&#x2F;IP网络模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D%E7%9A%84%E5%85%B7%E4%BD%93%E8%BF%87%E7%A8%8B"><span class="toc-number">2.3.</span> <span class="toc-text">DNS解析域名的具体过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP"><span class="toc-number">2.4.</span> <span class="toc-text">HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.4.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%AD%97%E6%AE%B5"><span class="toc-number">2.4.2.</span> <span class="toc-text">常见字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%88%AF%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">2.4.3.</span> <span class="toc-text">🈯常见状态码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-amp-POST"><span class="toc-number">2.4.4.</span> <span class="toc-text">GET&amp;POST</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E5%8C%BA%E5%88%AB"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">两者区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E9%83%BD%E6%98%AF%E5%AE%89%E5%85%A8%E5%92%8C%E5%B9%82%E7%AD%89%E7%9A%84%E5%90%97%EF%BC%9F%E2%86%91"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">两者都是安全和幂等的吗？↑</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF"><span class="toc-number">2.4.5.</span> <span class="toc-text">缓存技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E7%89%B9%E6%80%A7"><span class="toc-number">2.4.6.</span> <span class="toc-text">HTTP特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1%E4%BC%98%E7%82%B9"><span class="toc-number">2.4.6.1.</span> <span class="toc-text">HTTP&#x2F;1.1优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1%E7%BC%BA%E7%82%B9"><span class="toc-number">2.4.6.2.</span> <span class="toc-text">HTTP&#x2F;1.1缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1%E6%80%A7%E8%83%BD"><span class="toc-number">2.4.6.3.</span> <span class="toc-text">HTTP&#x2F;1.1性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP-amp-HTTPS"><span class="toc-number">2.4.7.</span> <span class="toc-text">HTTP&amp;HTTPS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">2.4.7.1.</span> <span class="toc-text">区别？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTPS%E8%A7%A3%E5%86%B3%E4%BA%86HTTP%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">2.4.7.2.</span> <span class="toc-text">HTTPS解决了HTTP哪些问题？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTPS%E6%98%AF%E5%A6%82%E4%BD%95%E8%80%8C%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84%EF%BC%9F%E6%9C%9F%E9%97%B4%E4%BA%A4%E4%BA%92%E4%BA%86%E5%95%A5%EF%BC%9F"><span class="toc-number">2.4.7.3.</span> <span class="toc-text">HTTPS是如何而建立连接的？期间交互了啥？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTPS%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%EF%BC%9F"><span class="toc-number">2.4.7.4.</span> <span class="toc-text">HTTPS应用数据是如何保证完整性的？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF-HTTPS%E4%B8%80%E5%AE%9A%E5%AE%89%E5%85%A8%E5%8F%AF%E9%9D%A0%E5%90%97%EF%BC%9F"><span class="toc-number">2.4.7.5.</span> <span class="toc-text">场景-HTTPS一定安全可靠吗？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B01"><span class="toc-number">2.4.7.5.1.</span> <span class="toc-text">场景描述1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%86%E6%98%AF%E8%BF%99%E7%A7%8D%E5%9C%BA%E6%99%AF%E7%9A%84%E5%8F%91%E7%94%9F%E6%98%AF%E6%9C%89%E5%89%8D%E6%8F%90%E7%9A%84"><span class="toc-number">2.4.7.5.2.</span> <span class="toc-text">但是这种场景的发生是有前提的</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%EF%BC%9F"><span class="toc-number">2.4.7.5.3.</span> <span class="toc-text">如何避免？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E4%BB%A5HTTPS%E4%B8%80%E5%AE%9A%E5%AE%89%E5%85%A8%E5%8F%AF%E9%9D%A0%E5%90%97%EF%BC%9F"><span class="toc-number">2.4.7.5.4.</span> <span class="toc-text">所以HTTPS一定安全可靠吗？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E6%8F%8F%E8%BF%B02"><span class="toc-number">2.4.7.5.5.</span> <span class="toc-text">场景描述2</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP-1-1-gt-HTTP-2-gt-HTTP-3%E7%9A%84%E6%BC%94%E5%8F%98"><span class="toc-number">2.4.7.6.</span> <span class="toc-text">HTTP&#x2F;1.1&#x3D;&gt;HTTP&#x2F;2&#x3D;&gt;HTTP&#x2F;3的演变</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP"><span class="toc-number">2.5.</span> <span class="toc-text">TCP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86"><span class="toc-number">2.5.1.</span> <span class="toc-text">✅基本认识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85TCP%E5%92%8CUDP%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.5.2.</span> <span class="toc-text">✅TCP和UDP的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85TCP%E5%92%8CUDP%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E7%AB%AF%E5%8F%A3%E5%90%97%EF%BC%9F"><span class="toc-number">2.5.3.</span> <span class="toc-text">✅TCP和UDP可以使用同一个端口吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%A4%9A%E4%B8%AATCP%E6%9C%8D%E5%8A%A1%E8%BF%9B%E7%A8%8B%E5%8F%AF%E4%BB%A5%E7%BB%91%E5%AE%9A%E5%90%8C%E4%B8%80%E4%B8%AA%E7%AB%AF%E5%8F%A3%E5%90%97%EF%BC%9F"><span class="toc-number">2.5.4.</span> <span class="toc-text">✅多个TCP服务进程可以绑定同一个端口吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E7%AB%AF%E5%8F%A3%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D%E4%BD%BF%E7%94%A8%E5%90%97%EF%BC%9F"><span class="toc-number">2.5.5.</span> <span class="toc-text">✅客户端的端口可以重复使用吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%87%8D%E5%90%AF%E6%97%B6%EF%BC%8C%E6%8A%A5%E9%94%99%E2%80%9CAddress-already-in-use%E2%80%9D%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">2.5.6.</span> <span class="toc-text">✅如何解决服务端重启时，报错“Address already in use”的问题？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%AE%A2%E6%88%B7%E7%AB%AF-TCP-%E8%BF%9E%E6%8E%A5-TIME-WAIT-%E7%8A%B6%E6%80%81%E8%BF%87%E5%A4%9A%EF%BC%8C%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%AB%AF%E5%8F%A3%E8%B5%84%E6%BA%90%E8%80%97%E5%B0%BD%E8%80%8C%E6%97%A0%E6%B3%95%E5%BB%BA%E7%AB%8B%E6%96%B0%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%90%97%EF%BC%9F"><span class="toc-number">2.5.7.</span> <span class="toc-text">✅客户端 TCP 连接 TIME_WAIT 状态过多，会导致端口资源耗尽而无法建立新的连接吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%AE%A2%E6%88%B7%E7%AB%AF-TCP-%E8%BF%9E%E6%8E%A5-TIME-WAIT-%E8%BF%87%E5%A4%9A%EF%BC%8C%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%B8%8E%E5%90%8C%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">2.5.8.</span> <span class="toc-text">✅如何解决客户端 TCP 连接 TIME_WAIT 过多，导致无法与同一个服务器建立连接的问题？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%88%AF%E8%BF%9E%E6%8E%A5%F0%9F%88%AF%E6%96%AD%E5%BC%80"><span class="toc-number">2.5.9.</span> <span class="toc-text">🈯连接🈯断开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%88%AF%E6%8B%A5%E5%A1%9E%E5%A4%84%E7%90%86"><span class="toc-number">2.5.10.</span> <span class="toc-text">🈯拥塞处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85TCP%E6%80%8E%E4%B9%88%E4%BF%9D%E8%AF%81%E5%8F%AF%E9%9D%A0%E6%80%A7%EF%BC%9F"><span class="toc-number">2.5.11.</span> <span class="toc-text">✅TCP怎么保证可靠性？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85https-%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E6%9D%A5%E4%BA%A4%E6%8D%A2%E5%AF%86%E9%92%A5%EF%BC%9F"><span class="toc-number">2.5.12.</span> <span class="toc-text">✅https 建立连接的过程中，为什么用非对称加密来交换密钥？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%A6%82%E6%9E%9C%E6%9C%89%E7%AC%AC%E4%B8%89%E6%96%B9%E4%BC%A0%E7%BB%99%E5%AE%A2%E6%9C%8D%E7%AB%AF%E4%B8%80%E4%B8%AA%E5%81%87%E5%AF%86%E9%92%A5%E5%91%A2%EF%BC%8C%E5%A6%82%E4%BD%95%E5%88%A4%E5%AE%9A%EF%BC%9F"><span class="toc-number">2.5.13.</span> <span class="toc-text">✅如果有第三方传给客服端一个假密钥呢，如何判定？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%88%AF%E6%80%8E%E4%B9%88%E9%80%9A%E8%BF%87%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%BA%AB%E4%BB%BD%E7%9A%84%E5%91%A2%EF%BC%9F"><span class="toc-number">2.5.14.</span> <span class="toc-text">🈯怎么通过数字证书验证服务端身份的呢？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E4%B8%BA%E4%BB%80%E4%B9%88-https-%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%94%A8%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%EF%BC%8C%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE%E7%94%A8%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E5%91%A2%EF%BC%9F"><span class="toc-number">2.5.15.</span> <span class="toc-text">✅为什么 https 建立连接用非对称加密，传输数据用对称加密呢？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A6Socket%E7%BC%96%E7%A8%8B"><span class="toc-number">2.5.16.</span> <span class="toc-text">💦Socket编程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP"><span class="toc-number">2.6.</span> <span class="toc-text">IP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85DNS%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B%EF%BC%88%E5%BA%94%E7%94%A8%E5%B1%82-%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%89"><span class="toc-number">2.7.</span> <span class="toc-text">✅DNS解析过程（应用层-两种方式）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%BA%A4%E6%8D%A2%E6%9C%BA-%E9%93%BE%E8%B7%AF%E5%B1%82-%E8%87%AA%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B"><span class="toc-number">2.8.</span> <span class="toc-text">✅交换机(链路层)自学习过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AA%E7%94%A8%E6%88%B7%EF%BC%9F"><span class="toc-number">2.9.</span> <span class="toc-text">✅服务端如何知道多个请求属于哪个用户？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">2.10.</span> <span class="toc-text">🈯服务器状态码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%9A%99%EF%B8%8FOS"><span class="toc-number">3.</span> <span class="toc-text">⚙️OS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B"><span class="toc-number">3.1.</span> <span class="toc-text">进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81"><span class="toc-number">3.1.2.</span> <span class="toc-text">状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">3.1.3.</span> <span class="toc-text">进程的控制结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="toc-number">3.1.4.</span> <span class="toc-text">进程的控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2"><span class="toc-number">3.1.5.</span> <span class="toc-text">进程的上下文切换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CPU%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2"><span class="toc-number">3.1.5.1.</span> <span class="toc-text">CPU上下文切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2"><span class="toc-number">3.1.5.2.</span> <span class="toc-text">进程上下文切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%91%E7%94%9F%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="toc-number">3.1.5.3.</span> <span class="toc-text">发生进程上下文切换的场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.2.</span> <span class="toc-text">线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.2.1.</span> <span class="toc-text">为什么使用线程什么是线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">3.2.2.</span> <span class="toc-text">线程的优缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E8%80%85%E7%9A%84%E6%AF%94%E8%BE%83%E2%86%93%E2%86%93"><span class="toc-number">3.2.3.</span> <span class="toc-text">两者的比较↓↓</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2"><span class="toc-number">3.2.4.</span> <span class="toc-text">线程的上下文切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.2.5.</span> <span class="toc-text">线程的实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E5%88%86%E4%B8%89%E7%A7%8D"><span class="toc-number">3.2.5.1.</span> <span class="toc-text">线程实现方式分三种</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB%EF%BC%9A"><span class="toc-number">3.2.5.2.</span> <span class="toc-text">用户线程和内核线程的对应关系：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">3.2.5.3.</span> <span class="toc-text">用户线程的理解和优缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">3.2.5.4.</span> <span class="toc-text">内核线程的理解和优缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%BB%E9%87%8F%E7%BA%A7%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">3.2.5.5.</span> <span class="toc-text">轻量级进程的理解和优缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6"><span class="toc-number">3.3.</span> <span class="toc-text">调度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%B0%83%E5%BA%A6%E6%97%B6%E6%9C%BA"><span class="toc-number">3.3.1.</span> <span class="toc-text">✅调度时机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%B0%83%E5%BA%A6%E5%8E%9F%E5%88%99"><span class="toc-number">3.3.2.</span> <span class="toc-text">✅调度原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">3.3.3.</span> <span class="toc-text">调度算法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.4.</span> <span class="toc-text">✅进程和线程的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">3.5.</span> <span class="toc-text">进程之间的通信方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%86%B2%E7%AA%81"><span class="toc-number">3.6.</span> <span class="toc-text">✅如何解决多线程冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%92%E6%96%A5%E5%92%8C%E5%90%8C%E6%AD%A5"><span class="toc-number">3.6.1.</span> <span class="toc-text">互斥和同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85"><span class="toc-number">3.6.2.</span> <span class="toc-text">生产者消费者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%B2%E5%AD%A6%E5%AE%B6%E5%B0%B1%E9%A4%90"><span class="toc-number">3.6.3.</span> <span class="toc-text">哲学家就餐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85"><span class="toc-number">3.6.4.</span> <span class="toc-text">读者写者</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%80%8E%E4%B9%88%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81"><span class="toc-number">3.7.</span> <span class="toc-text">✅怎么避免死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E6%A6%82%E5%BF%B5"><span class="toc-number">3.7.1.</span> <span class="toc-text">死锁概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E6%88%90%E5%9B%A0%E2%86%91"><span class="toc-number">3.7.2.</span> <span class="toc-text">死锁成因↑</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%B7%A5%E5%85%B7%E6%8E%92%E6%9F%A5%E6%AD%BB%E9%94%81"><span class="toc-number">3.7.3.</span> <span class="toc-text">利用工具排查死锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81%E7%9A%84%E5%8A%9E%E6%B3%95"><span class="toc-number">3.7.4.</span> <span class="toc-text">避免死锁的办法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%82%B2%E8%A7%82%E9%94%81%E4%B9%90%E8%A7%82%E9%94%81%E7%AD%89%E5%90%84%E7%A7%8D%E9%94%81"><span class="toc-number">3.8.</span> <span class="toc-text">悲观锁乐观锁等各种锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E5%8F%AF%E4%BB%A5%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B0%91%E4%B8%AA%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.9.</span> <span class="toc-text">✅一个进程可以创建多少个线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%B4%A9%E6%BA%83%E8%BF%9B%E7%A8%8B%E4%B9%9F%E4%BC%9A%E5%B4%A9%E6%BA%83%E5%90%97"><span class="toc-number">3.10.</span> <span class="toc-text">线程崩溃进程也会崩溃吗</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%8E%A8HTML-CSS"><span class="toc-number">4.</span> <span class="toc-text">🎨HTML&#x2F;CSS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85HTML5%E7%9B%B8%E5%AF%B9%E4%BA%8E%E5%85%B6%E4%BB%96%E7%89%88%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">4.1.</span> <span class="toc-text">✅HTML5相对于其他版本的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85HTML5%E4%BC%98%E5%8A%BF%E7%BB%86%E8%AF%B4"><span class="toc-number">4.2.</span> <span class="toc-text">✅HTML5优势细说</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%88%86%E7%B1%BB"><span class="toc-number">4.2.1.</span> <span class="toc-text">标签分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E6%A0%87%E7%AD%BE%E7%8A%B6%E6%80%81%E6%A0%87%E7%AD%BE%E5%88%97%E8%A1%A8%E6%A0%87%E7%AD%BE%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE%E2%80%A6%E2%80%A6"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">布局标签状态标签列表标签文本标签……</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E8%A1%A8%E5%8D%95%E5%8A%9F%E8%83%BD"><span class="toc-number">4.2.2.</span> <span class="toc-text">新增表单功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E8%A7%86%E9%A2%91%E6%A0%87%E7%AD%BE"><span class="toc-number">4.2.3.</span> <span class="toc-text">音频视频标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E5%85%A8%E5%B1%80%E5%B1%9E%E6%80%A7"><span class="toc-number">4.2.4.</span> <span class="toc-text">新增全局属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A6%BB%E7%BA%BF%E5%AD%98%E5%82%A8"><span class="toc-number">4.2.5.</span> <span class="toc-text">离线存储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">4.2.5.1.</span> <span class="toc-text">实现方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">4.2.5.2.</span> <span class="toc-text">实现步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="toc-number">4.2.6.</span> <span class="toc-text">浏览器兼容性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85SEO%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96"><span class="toc-number">4.3.</span> <span class="toc-text">✅SEO搜索引擎优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%89%8D%E7%AB%AF%E8%B7%A8%E6%B5%8F%E8%A7%88%E5%99%A8-%E5%A4%9A%E7%AB%AF%E5%85%BC%E5%AE%B9%E6%80%A7-%E9%80%82%E9%85%8D%E9%97%AE%E9%A2%98"><span class="toc-number">4.4.</span> <span class="toc-text">✅前端跨浏览器&#x2F;多端兼容性&#x2F;适配问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%BC%98%E5%8C%96%E9%A1%B5%E9%9D%A2%E6%80%A7%E8%83%BD"><span class="toc-number">4.5.</span> <span class="toc-text">✅优化页面性能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MDN%E7%89%88%EF%BC%9A"><span class="toc-number">4.5.1.</span> <span class="toc-text">MDN版：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%A5%97%E4%BD%BF%E7%94%A8dns-prefetch"><span class="toc-number">4.5.1.1.</span> <span class="toc-text">🥗使用dns-prefetch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%A5%99%E4%BC%98%E5%8C%96%E5%90%AF%E5%8A%A8%E6%80%A7%E8%83%BD"><span class="toc-number">4.5.1.2.</span> <span class="toc-text">🥙优化启动性能</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E5%8C%96"><span class="toc-number">4.5.1.2.1.</span> <span class="toc-text">异步化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%97%B6%E9%97%B4"><span class="toc-number">4.5.1.2.2.</span> <span class="toc-text">下载时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#GPU%E5%8D%A0%E7%94%A8%E6%97%B6%E9%97%B4"><span class="toc-number">4.5.1.2.3.</span> <span class="toc-text">GPU占用时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%A7%E5%B0%8F"><span class="toc-number">4.5.1.2.4.</span> <span class="toc-text">数据大小</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E8%A7%82%E5%9B%A0%E7%B4%A0"><span class="toc-number">4.5.1.2.5.</span> <span class="toc-text">主观因素</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%A5%AACSS%E5%8A%A8%E7%94%BB%E5%92%8CJS%E5%8A%A8%E7%94%BB%E6%80%A7%E8%83%BD"><span class="toc-number">4.5.1.3.</span> <span class="toc-text">🥪CSS动画和JS动画性能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8C%AE%E5%85%B3%E9%94%AE%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84"><span class="toc-number">4.5.1.4.</span> <span class="toc-text">🌮关键渲染路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8C%AF%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">4.5.1.5.</span> <span class="toc-text">🌯懒加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8D%94%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%EF%BC%9A%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">4.5.1.6.</span> <span class="toc-text">🍔渲染页面：浏览器工作原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%91%E9%97%B4%E7%89%88%EF%BC%9A"><span class="toc-number">4.5.2.</span> <span class="toc-text">民间版：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85CSS3%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">4.6.</span> <span class="toc-text">✅CSS3新特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flex%E5%B8%83%E5%B1%80"><span class="toc-number">4.7.</span> <span class="toc-text">Flex布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Grid%E5%B8%83%E5%B1%80"><span class="toc-number">4.8.</span> <span class="toc-text">Grid布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rem%E5%B8%83%E5%B1%80"><span class="toc-number">4.9.</span> <span class="toc-text">rem布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E5%8A%A8%E5%B8%83%E5%B1%80"><span class="toc-number">4.10.</span> <span class="toc-text">浮动布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AFBFC"><span class="toc-number">4.11.</span> <span class="toc-text">🈯BFC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85CSS%E9%80%89%E6%8B%A9%E5%99%A8%E4%BC%98%E5%85%88%E7%BA%A7-amp-%E6%9D%83%E9%87%8D"><span class="toc-number">4.12.</span> <span class="toc-text">✅CSS选择器优先级&amp;权重</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">4.12.1.</span> <span class="toc-text">选择器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">4.12.1.1.</span> <span class="toc-text">属性选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E7%B1%BB%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">4.12.1.2.</span> <span class="toc-text">伪类选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E5%85%83%E7%B4%A0%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">4.12.1.3.</span> <span class="toc-text">伪元素选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">4.12.1.4.</span> <span class="toc-text">关系选择器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%99%A8%E6%9D%83%E9%87%8D"><span class="toc-number">4.12.2.</span> <span class="toc-text">选择器权重</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.13.</span> <span class="toc-text">✅盒模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%97%E7%BA%A7%E7%9B%92%E5%AD%90"><span class="toc-number">4.13.1.</span> <span class="toc-text">块级盒子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E8%81%94%E7%9B%92%E5%AD%90"><span class="toc-number">4.13.2.</span> <span class="toc-text">内联盒子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.13.3.</span> <span class="toc-text">CSS盒模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.13.3.1.</span> <span class="toc-text">标准盒模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%BF%E4%BB%A3-IE-%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.13.3.2.</span> <span class="toc-text">替代(IE)盒模型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.13.4.</span> <span class="toc-text">其他常见盒模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E8%81%94%E7%9B%92%E5%AD%90-1"><span class="toc-number">4.13.4.1.</span> <span class="toc-text">内联盒子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E8%81%94%E5%9D%97%E7%BA%A7%E7%9B%92%E5%AD%90"><span class="toc-number">4.13.4.2.</span> <span class="toc-text">内联块级盒子</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E5%92%8C%E5%9D%97%E5%85%83%E7%B4%A0"><span class="toc-number">4.14.</span> <span class="toc-text">✅行内元素和块元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0-inline"><span class="toc-number">4.14.1.</span> <span class="toc-text">行内元素-inline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0-block"><span class="toc-number">4.14.2.</span> <span class="toc-text">块级元素-block</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E5%92%8C%E8%BE%B9%E6%A1%86"><span class="toc-number">4.15.</span> <span class="toc-text">背景和边框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#z-index%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E7%94%9F%E6%95%88%EF%BC%88-gt-%E5%B1%82%E5%8F%A0%E6%A0%B7%E5%BC%8F%E8%A1%A8"><span class="toc-number">4.16.</span> <span class="toc-text">z-index在什么情况下生效（&#x3D;&gt;层叠样式表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#position%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7"><span class="toc-number">4.17.</span> <span class="toc-text">position常见属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD"><span class="toc-number">4.18.</span> <span class="toc-text">实现水平垂直居中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%85%83%E7%B4%A0%E5%B1%85%E4%B8%AD"><span class="toc-number">4.19.</span> <span class="toc-text">实现元素居中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%9A%90%E8%97%8F%E5%85%83%E7%B4%A0"><span class="toc-number">4.20.</span> <span class="toc-text">如何隐藏元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8%E6%A0%B7%E5%BC%8F"><span class="toc-number">4.21.</span> <span class="toc-text">如何清除浮动样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#css%E5%AE%9E%E7%8E%B0%E9%80%8F%E6%98%8E%E5%BA%A6%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">4.22.</span> <span class="toc-text">css实现透明度的方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0Flex%E4%B8%A4%E6%A0%8F%E5%B8%83%E5%B1%80"><span class="toc-number">4.23.</span> <span class="toc-text">实现Flex两栏布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%89%E5%88%97%E5%B8%83%E5%B1%80"><span class="toc-number">4.24.</span> <span class="toc-text">实现三列布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B5%81%E5%BC%8F%E5%B8%83%E5%B1%80"><span class="toc-number">4.25.</span> <span class="toc-text">实现流式布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E5%92%8Ccss%E5%8F%98%E9%87%8F"><span class="toc-number">4.26.</span> <span class="toc-text">预处理器和css变量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A6%B4JS"><span class="toc-number">5.</span> <span class="toc-text">🦴JS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AFES6%E9%87%8C%E9%9D%A2%E7%9A%84E%E5%92%8CS%E5%88%86%E5%88%AB%E6%8C%87%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">5.1.</span> <span class="toc-text">🈯ES6里面的E和S分别指的是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AFJavaScript%E5%92%8CECMAScript%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">5.2.</span> <span class="toc-text">🈯JavaScript和ECMAScript区别？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E4%BB%8EJavaScript%E4%B8%AD%E6%8A%8AECMAScript%E8%B8%A2%E5%87%BA%E5%8E%BB%EF%BC%8C%E5%89%A9%E4%B8%8B%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">5.3.</span> <span class="toc-text">🈯从JavaScript中把ECMAScript踢出去，剩下的是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AFES6%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">5.4.</span> <span class="toc-text">🈯ES6新特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85const%E4%B8%80%E4%B8%AA%E6%95%B0%E7%BB%84-%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%90%97"><span class="toc-number">5.5.</span> <span class="toc-text">✅const一个数组 可以修改数组元素吗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map-map%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F-set-weakmap-weakset-bigint"><span class="toc-number">5.6.</span> <span class="toc-text">map(map的实现方式) set weakmap weakset bigint</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%8E%9F%E5%9E%8B-amp-%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">5.7.</span> <span class="toc-text">✅原型&amp;原型链</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B"><span class="toc-number">5.7.1.</span> <span class="toc-text">原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">5.7.2.</span> <span class="toc-text">原型链</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%95%B0%E7%BB%84%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">5.8.</span> <span class="toc-text">✅数组底层数据结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E9%97%AD%E5%8C%85"><span class="toc-number">5.9.</span> <span class="toc-text">🈯闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%97%AD%E5%8C%85%E4%B8%AD%E7%9A%84%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E4%B8%8D%E4%BC%9A%E8%A2%AB%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%B8%85%E7%90%86%EF%BC%9F"><span class="toc-number">5.10.</span> <span class="toc-text">为什么闭包中的局部变量不会被垃圾回收清理？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%B2%E4%B8%80%E4%B8%8Bjs%E4%B8%AD%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">5.11.</span> <span class="toc-text">讲一下js中的上下文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">5.12.</span> <span class="toc-text">JS变量作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E5%AF%B9%E8%B1%A1-%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8API"><span class="toc-number">5.13.</span> <span class="toc-text">🈯对象&#x2F;数组常用API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AFnew%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">5.14.</span> <span class="toc-text">🈯new一个对象的过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85new%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%92%8CObject-create-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.15.</span> <span class="toc-text">✅new一个对象和Object.create()的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E4%BD%BF%E7%94%A8map%E6%9E%84%E5%BB%BA%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%99%AE%E9%80%9A%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C"><span class="toc-number">5.16.</span> <span class="toc-text">✅使用map构建的对象与普通的对象有什么不同</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.17.</span> <span class="toc-text">✅深浅拷贝</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.17.1.</span> <span class="toc-text">浅拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.17.2.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A6%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%AF%BF%E5%8F%B8"><span class="toc-number">5.17.3.</span> <span class="toc-text">💦深拷贝寿司</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%E5%B9%B3%E5%9C%B0%E8%B5%B7%E9%AB%98%E6%A5%BC"><span class="toc-number">5.18.</span> <span class="toc-text">✅平地起高楼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E6%98%AF%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84"><span class="toc-number">5.19.</span> <span class="toc-text">🈯判断一个变量是什么数据类型的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E5%92%8C%E5%A0%86"><span class="toc-number">5.20.</span> <span class="toc-text">栈和队列和堆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%92%8C%E9%93%BE%E8%A1%A8"><span class="toc-number">5.21.</span> <span class="toc-text">数组和链表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">5.22.</span> <span class="toc-text">箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#this-%E7%9C%8B%E4%BB%A3%E7%A0%81%E8%AF%B4%E7%BB%93%E6%9E%9C"><span class="toc-number">5.22.1.</span> <span class="toc-text">this 看代码说结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">5.22.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%8E%9F%E5%9B%A0"><span class="toc-number">5.22.3.</span> <span class="toc-text">引入原因</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85apply-call-bind%E5%8C%BA%E5%88%AB"><span class="toc-number">5.23.</span> <span class="toc-text">✅apply&#x2F;call&#x2F;bind区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85%F0%9F%A5%AC%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96Currying"><span class="toc-number">5.24.</span> <span class="toc-text">✅🥬函数柯里化Currying</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%BE%E9%80%92%E5%BD%92%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8"><span class="toc-number">5.25.</span> <span class="toc-text">尾递归有什么用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">5.26.</span> <span class="toc-text">js变量提升的好处</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86"><span class="toc-number">5.27.</span> <span class="toc-text">事件代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="toc-number">5.28.</span> <span class="toc-text">事件委托</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%82%E5%AD%98%E6%AD%BB%E5%8C%BA%E6%98%AF%E5%95%A5"><span class="toc-number">5.29.</span> <span class="toc-text">暂存死区是啥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#event-target-%E5%92%8C-event-currentTarget"><span class="toc-number">5.30.</span> <span class="toc-text">event.target 和 event.currentTarget</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise-all-race-%E6%89%8B%E6%90%93"><span class="toc-number">5.31.</span> <span class="toc-text">Promise all race 手搓</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96%E5%8A%A0%E6%B3%95%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BD%BF%E5%BE%97"><span class="toc-number">5.32.</span> <span class="toc-text">实现一个函数柯里化加法函数，使得</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%BC%82%E6%AD%A5%E9%97%AE%E9%A2%98%EF%BC%88%E8%BF%98%E6%9C%89%E7%8A%B6%E6%80%81%EF%BC%8C%E8%BF%98%E6%9C%89%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6%E5%B9%B6%E5%8F%91%EF%BC%8C%E5%85%B7%E4%BD%93%E4%B8%80%E4%BA%9B%E7%94%A8%E6%B3%95%E5%B9%B4%E6%95%B0"><span class="toc-number">5.33.</span> <span class="toc-text">Promise如何解决异步问题（还有状态，还有如何控制并发，具体一些用法年数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#promise%E5%92%8Casync"><span class="toc-number">5.34.</span> <span class="toc-text">promise和async</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Await%E5%92%8CAsync%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">5.35.</span> <span class="toc-text">Await和Async的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%88%AF%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AFEvent-Loop%EF%BC%88%E5%8F%99%E8%BF%B0%E3%80%81%E7%9C%8B%E4%BB%A3%E7%A0%81%E8%AF%B4%E7%BB%93%E6%9E%9C%EF%BC%8C%E4%B8%80%E5%AE%9A%E8%A6%81%E5%88%86%E6%B8%85%E5%93%AA%E4%BA%9B%E5%93%AA%E4%BA%9B%EF%BC%89"><span class="toc-number">5.36.</span> <span class="toc-text">🈯事件循环Event Loop（叙述、看代码说结果，一定要分清哪些哪些）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%8A%8A%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E6%8B%86%E5%88%86%E6%88%90%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1%EF%BC%9F"><span class="toc-number">5.37.</span> <span class="toc-text">为什么要把异步任务拆分成宏任务和微任务？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E8%AE%A9%E5%A4%9A%E4%B8%AA%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E8%AE%A9%E5%AE%83%E4%BB%AC%E5%90%8C%E6%97%B6%E5%B9%B6%E5%8F%91%E5%8E%BB%E6%89%A7%E8%A1%8C%EF%BC%9F"><span class="toc-number">5.38.</span> <span class="toc-text">如何处理让多个异步任务让它们同时并发去执行？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9C%85DOM%E7%9A%84%E5%9B%9E%E6%B5%81-%E9%87%8D%E6%8E%92-%E5%92%8C%E9%87%8D%E7%BB%98"><span class="toc-number">5.39.</span> <span class="toc-text">✅DOM的回流(重排)和重绘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">5.39.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%9C%80%E5%B0%8F%E5%8C%96%E5%9B%9E%E6%B5%81%E6%AC%A1%E6%95%B0%EF%BC%9F"><span class="toc-number">5.39.2.</span> <span class="toc-text">如何最小化回流次数？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TS"><span class="toc-number">6.</span> <span class="toc-text">TS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E7%9A%84"><span class="toc-number">6.1.</span> <span class="toc-text">一些基本的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Type%E5%92%8CInterface%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">6.2.</span> <span class="toc-text">Type和Interface的区别？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%96%BD%E6%A1%86%E6%9E%B6"><span class="toc-number">7.</span> <span class="toc-text">🖽框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue-amp-React"><span class="toc-number">7.1.</span> <span class="toc-text">Vue&amp;React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E4%B8%8A%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.1.</span> <span class="toc-text">✅实现原理上的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85React%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81%E5%92%8CVue%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.2.</span> <span class="toc-text">✅React单向数据流和Vue双向数据流的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85reactHOOK%E5%92%8CvueHooks%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.3.</span> <span class="toc-text">✅reactHOOK和vueHooks的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85vue2Mixin%E5%92%8Cvue3Hook%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.4.</span> <span class="toc-text">✅vue2Mixin和vue3Hook的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%99%9A%E6%8B%9FDOM"><span class="toc-number">7.1.5.</span> <span class="toc-text">✅虚拟DOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85React%E8%99%9A%E6%8B%9FDOM%E5%92%8CVue%E8%99%9A%E6%8B%9FDOM%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.6.</span> <span class="toc-text">✅React虚拟DOM和Vue虚拟DOM的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue"><span class="toc-number">7.2.</span> <span class="toc-text">Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85Diffing%E7%AE%97%E6%B3%95"><span class="toc-number">7.2.1.</span> <span class="toc-text">✅Diffing算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%90%E8%BF%9B%E5%BC%8F%E6%A1%86%E6%9E%B6"><span class="toc-number">7.2.2.</span> <span class="toc-text">渐进式框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85Vue2-Vue3%E5%8C%BA%E5%88%AB"><span class="toc-number">7.2.3.</span> <span class="toc-text">✅Vue2&#x2F;Vue3区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85Vue2%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">7.2.4.</span> <span class="toc-text">✅Vue2响应式原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84%E6%A3%80%E6%B5%8B%E5%8F%98%E5%8C%96"><span class="toc-number">7.2.4.1.</span> <span class="toc-text">对象和数组检测变化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.2.4.1.1.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">7.2.4.1.2.</span> <span class="toc-text">数组</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">7.2.4.2.</span> <span class="toc-text">声明响应式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97"><span class="toc-number">7.2.4.3.</span> <span class="toc-text">异步更新队列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85Vue3%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">7.2.5.</span> <span class="toc-text">✅Vue3响应式原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E9%80%89%E9%A1%B9%E5%BC%8FAPI%E5%92%8C%E7%BB%84%E5%90%88%E5%BC%8FAPI"><span class="toc-number">7.2.6.</span> <span class="toc-text">✅选项式API和组合式API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86"><span class="toc-number">7.2.7.</span> <span class="toc-text">数据双向绑定原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%B7%BB%E5%8A%A0%E4%BA%86%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8Cvue%E6%80%8E%E4%B9%88%E7%9F%A5%E9%81%93%E6%95%B0%E7%BB%84%E5%8F%98%E5%8C%96%E4%BA%86"><span class="toc-number">7.2.8.</span> <span class="toc-text">数组添加了一个数字，vue怎么知道数组变化了</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">7.2.9.</span> <span class="toc-text">生命周期钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E5%9C%A8%E5%93%AA%E4%B8%AA%E5%91%A8%E6%9C%9F"><span class="toc-number">7.2.10.</span> <span class="toc-text">请求数据在哪个周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">7.2.11.</span> <span class="toc-text">组件通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">7.2.12.</span> <span class="toc-text">父子组件生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E7%9B%91%E5%90%AC%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.2.13.</span> <span class="toc-text">✅计算属性和监听器的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%A6%82%E4%BD%95%E7%9B%91%E5%90%ACa-b-c%EF%BC%8C%E5%A6%82%E4%BD%95%E7%AB%8B%E5%8D%B3%E7%9B%91%E5%90%AC"><span class="toc-number">7.2.14.</span> <span class="toc-text">✅如何监听a.b.c，如何立即监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85ref"><span class="toc-number">7.2.15.</span> <span class="toc-text">✅ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref-refs"><span class="toc-number">7.2.16.</span> <span class="toc-text">ref refs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85v-for%E4%B8%BA%E5%95%A5%E8%A6%81%E5%8A%A0key"><span class="toc-number">7.2.17.</span> <span class="toc-text">✅v-for为啥要加key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">7.2.18.</span> <span class="toc-text">✅自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85vue-%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B1%9E%E6%80%A7"><span class="toc-number">7.2.19.</span> <span class="toc-text">✅vue 动态添加响应式属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E5%9C%A8vue%E7%BB%84%E4%BB%B6%E4%B8%AD-%E6%B7%BB%E5%8A%A0%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%E8%A6%81%E6%89%8B%E5%8A%A8%E6%B8%85%E9%99%A4%E5%90%97"><span class="toc-number">7.2.20.</span> <span class="toc-text">✅在vue组件中 添加的定时器要手动清除吗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85mixin%E6%B7%B7%E5%85%A5"><span class="toc-number">7.2.21.</span> <span class="toc-text">✅mixin混入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6%E4%BA%8C%E4%B8%89%E4%BA%8B"><span class="toc-number">7.2.21.1.</span> <span class="toc-text">选项合并二三事</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%B7%B7%E5%85%A5"><span class="toc-number">7.2.21.2.</span> <span class="toc-text">全局混入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E6%A0%B8%EF%BC%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5"><span class="toc-number">7.2.21.3.</span> <span class="toc-text">硬核：自定义选项合并策略</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">7.2.22.</span> <span class="toc-text">组件自定义事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8F%92%E4%BB%B6"><span class="toc-number">7.2.23.</span> <span class="toc-text">✅自定义插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%AE%B2%E4%B8%80%E4%B8%8BnextTick"><span class="toc-number">7.2.24.</span> <span class="toc-text">✅讲一下nextTick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eventbus-%E5%92%8C-vuex-%E5%88%86%E5%88%AB%E9%80%82%E5%90%88%E4%BB%80%E4%B9%88%E5%9C%BA%E6%99%AF"><span class="toc-number">7.2.25.</span> <span class="toc-text">eventbus 和 vuex 分别适合什么场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8Dvuex"><span class="toc-number">7.2.26.</span> <span class="toc-text">介绍vuex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutations%E4%B8%BB%E8%A6%81%E5%AD%98%E6%94%BE%E4%B8%80%E4%BA%9B%E4%BB%80%E4%B9%88%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.27.</span> <span class="toc-text">mutations主要存放一些什么方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85vue-router%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">7.2.28.</span> <span class="toc-text">✅vue-router的两种模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85vue-router%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E7%94%A8%E7%9A%84%E5%8E%9F%E7%94%9FJS%E7%9A%84%E5%93%AA%E4%B8%80%E4%B8%AAAPI%EF%BC%9F"><span class="toc-number">7.2.29.</span> <span class="toc-text">✅vue-router页面跳转用的原生JS的哪一个API？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router%E5%8E%9F%E7%90%86"><span class="toc-number">7.2.30.</span> <span class="toc-text">router原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-%E5%92%8C-route"><span class="toc-number">7.2.31.</span> <span class="toc-text">router 和 route</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%EF%BC%9F"><span class="toc-number">7.2.32.</span> <span class="toc-text">路由守卫如何配置？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">7.2.32.1.</span> <span class="toc-text">全局前置路由守卫</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%A7%A3%E6%9E%90%E5%AE%88%E5%8D%AB"><span class="toc-number">7.2.32.2.</span> <span class="toc-text">全局解析守卫</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E9%92%A9%E5%AD%90"><span class="toc-number">7.2.32.3.</span> <span class="toc-text">全局后置钩子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E5%AE%88%E5%8D%AB"><span class="toc-number">7.2.32.4.</span> <span class="toc-text">路由独享守卫</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AE%88%E5%8D%AB"><span class="toc-number">7.2.32.5.</span> <span class="toc-text">组件内的守卫</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.2.33.</span> <span class="toc-text">✅路由懒加载如何实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E6%96%B9%E5%BC%8F"><span class="toc-number">7.2.34.</span> <span class="toc-text">vue路由跳转方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%EF%BC%88%E9%81%87%E5%88%B0%E9%9D%9E200%E6%80%8E%E4%B9%88%E6%8D%95%E8%8E%B7err"><span class="toc-number">7.2.35.</span> <span class="toc-text">axios实现原理（遇到非200怎么捕获err</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85axios"><span class="toc-number">7.2.36.</span> <span class="toc-text">封装axios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%B3%95%E6%98%AFvue%E9%80%82%E5%90%88%E4%B8%AD%E5%B0%8F%E5%9E%8B%E9%A1%B9%E7%9B%AE"><span class="toc-number">7.2.37.</span> <span class="toc-text">为什么有一种说法是vue适合中小型项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">7.3.</span> <span class="toc-text">React</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Diff-amp-amp-Reconciliation-%E7%AE%97%E6%B3%95"><span class="toc-number">7.3.1.</span> <span class="toc-text">Diff &amp;&amp; Reconciliation(?)算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85React%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6"><span class="toc-number">7.3.2.</span> <span class="toc-text">✅React设计哲学</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React%E4%B8%AD%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%9E%8B%E6%95%B0%E6%8D%AE"><span class="toc-number">7.3.3.</span> <span class="toc-text">React中的两种模型数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Diff"><span class="toc-number">7.3.4.</span> <span class="toc-text">Diff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react-a-b-c-%E6%94%B9%E5%8F%98c%E7%9A%84%E5%80%BC%E4%BC%9A%E8%A7%A6%E5%8F%91%E6%9B%B4%E6%96%B0%E5%90%97"><span class="toc-number">7.3.5.</span> <span class="toc-text">react a.b.c 改变c的值会触发更新吗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90-1"><span class="toc-number">7.3.6.</span> <span class="toc-text">生命周期钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1-1"><span class="toc-number">7.3.7.</span> <span class="toc-text">组件通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOOK%E5%87%BA%E7%8E%B0%E5%8E%9F%E5%9B%A0"><span class="toc-number">7.3.8.</span> <span class="toc-text">HOOK出现原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOOK%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">7.3.9.</span> <span class="toc-text">HOOK应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ReactHOOK%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9C%A8%E6%9C%80%E5%A4%96%E5%B1%82%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-number">7.3.10.</span> <span class="toc-text">ReactHOOK为什么要在最外层使用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOOK%E4%BC%98%E5%8A%BF%E5%92%8C%E5%8A%A3%E5%8A%BF"><span class="toc-number">7.3.11.</span> <span class="toc-text">HOOK优势和劣势</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fiber%E6%9E%B6%E6%9E%84%E5%87%BA%E7%8E%B0%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">7.3.12.</span> <span class="toc-text">fiber架构出现的原因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react%E8%B0%83%E5%BA%A6%E5%99%A8%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E4%BA%8B%E4%BB%B6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">7.3.13.</span> <span class="toc-text">react调度器怎么判断事件优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react-thunk%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">7.3.14.</span> <span class="toc-text">react-thunk的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useReducer%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">7.3.15.</span> <span class="toc-text">useReducer的使用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useMemo%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">7.3.16.</span> <span class="toc-text">useMemo底层原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useCallback"><span class="toc-number">7.3.17.</span> <span class="toc-text">useCallback</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">7.3.18.</span> <span class="toc-text">路由懒加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1%E5%90%88%E6%88%90%E4%BA%8B%E4%BB%B6"><span class="toc-number">7.3.19.</span> <span class="toc-text">react为什么设计合成事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SPA-amp-MPA"><span class="toc-number">7.4.</span> <span class="toc-text">SPA&amp;MPA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SPA"><span class="toc-number">7.4.1.</span> <span class="toc-text">SPA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">7.5.</span> <span class="toc-text">服务端渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5-1"><span class="toc-number">7.5.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E7%9A%84%E5%9B%A0%E7%B4%A0"><span class="toc-number">7.5.2.</span> <span class="toc-text">需要考虑的因素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSR%E5%92%8CSSG"><span class="toc-number">7.5.3.</span> <span class="toc-text">SSR和SSG</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8ENext-js"><span class="toc-number">7.5.4.</span> <span class="toc-text">关于Next.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mvc-gt-mvvm%E7%9A%84%E8%BF%87%E6%B8%A1%EF%BC%8C%E5%AF%B9%E6%AF%94mvc%E4%B8%8Emvvm"><span class="toc-number">7.6.</span> <span class="toc-text">mvc-&gt;mvvm的过渡，对比mvc与mvvm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#require%E5%92%8Cimport%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.7.</span> <span class="toc-text">require和import的区别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%9B%A0%EF%B8%8F%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96"><span class="toc-number">8.</span> <span class="toc-text">🛠️前端工程化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pnpm%E8%A7%A3%E5%86%B3%E4%BA%86npm%E4%BB%80%E4%B9%88%E7%97%9B%E7%82%B9"><span class="toc-number">8.1.</span> <span class="toc-text">pnpm解决了npm什么痛点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Webpack%E5%92%8CVite%E6%89%93%E5%8C%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">8.2.</span> <span class="toc-text">Webpack和Vite打包的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Webpack"><span class="toc-number">8.3.</span> <span class="toc-text">Webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-tree-shaking%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">8.3.1.</span> <span class="toc-text">webpack tree shaking的原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%EF%BC%9F"><span class="toc-number">8.3.2.</span> <span class="toc-text">webpack常用配置？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#loader%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%E6%9C%BA%E5%88%B6%EF%BC%9F"><span class="toc-number">8.3.3.</span> <span class="toc-text">loader是怎么样的机制？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack%E7%9A%84%E5%87%BA%E7%8E%B0%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">8.3.4.</span> <span class="toc-text">webpack的出现解决了什么问题？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vite"><span class="toc-number">8.4.</span> <span class="toc-text">Vite</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88Vite%E6%9B%B4%E5%BF%AB"><span class="toc-number">8.4.1.</span> <span class="toc-text">为什么Vite更快</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%94%AEGit"><span class="toc-number">9.</span> <span class="toc-text">🔮Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">9.1.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-merge-main-%E5%92%8C-git-rebase-main%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">9.2.</span> <span class="toc-text">git merge main 和 git rebase main的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#merge"><span class="toc-number">9.2.1.</span> <span class="toc-text">merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rebase"><span class="toc-number">9.2.2.</span> <span class="toc-text">rebase</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A7%B0%E9%A1%B9%E7%9B%AE"><span class="toc-number">10.</span> <span class="toc-text">🧰项目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E7%BB%8F%E5%8E%86"><span class="toc-number">10.1.</span> <span class="toc-text">工作经历</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9B%B4%E4%BC%A0"><span class="toc-number">10.1.1.</span> <span class="toc-text">客户端直传</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E9%9A%BE%E7%82%B9"><span class="toc-number">10.2.</span> <span class="toc-text">技术难点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85"><span class="toc-number">10.2.1.</span> <span class="toc-text">路由二次封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">10.2.2.</span> <span class="toc-text">状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86-1"><span class="toc-number">10.2.3.</span> <span class="toc-text">状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96"><span class="toc-number">10.2.4.</span> <span class="toc-text">前端工程化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Prisma%E7%AE%80%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="toc-number">10.2.5.</span> <span class="toc-text">使用Prisma简化数据库操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NextAuth-js%E7%AE%80%E5%8C%96%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81"><span class="toc-number">10.2.6.</span> <span class="toc-text">NextAuth.js简化用户登录认证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#token%E6%80%8E%E4%B9%88%E7%94%9F%E6%88%90%E7%9A%84%EF%BC%9Ftoken%E6%80%8E%E4%B9%88%E5%8A%A0%E5%AF%86%EF%BC%9F"><span class="toc-number">10.2.7.</span> <span class="toc-text">token怎么生成的？token怎么加密？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useMemo%E5%92%8Cmemo"><span class="toc-number">10.2.8.</span> <span class="toc-text">useMemo和memo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useMemo-%E5%92%8C-useCallback"><span class="toc-number">10.2.9.</span> <span class="toc-text">useMemo 和 useCallback</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useContext"><span class="toc-number">10.2.10.</span> <span class="toc-text">useContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#useReducer"><span class="toc-number">10.2.11.</span> <span class="toc-text">useReducer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">10.3.</span> <span class="toc-text">性能优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E6%80%9D%E8%80%83"><span class="toc-number">10.4.</span> <span class="toc-text">业务思考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%8A%B6%E6%80%81%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%AE%A1%E7%90%86%E7%8A%B6%E6%80%81%EF%BC%9F%E7%BB%84%E4%BB%B6%E6%98%AF%E5%A6%82%E4%BD%95%E6%84%9F%E7%9F%A5%E5%88%B0%E7%8A%B6%E6%80%81%E7%9A%84%E5%8F%98%E5%8C%96%E7%9A%84%EF%BC%9Fstate%E5%92%8Cprops%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">10.4.1.</span> <span class="toc-text">什么是状态？为什么要管理状态？组件是如何感知到状态的变化的？state和props的区别？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%97%A0%E9%99%90%E5%88%97%E8%A1%A8%E7%9A%84%E5%8A%A0%E8%BD%BD"><span class="toc-number">10.4.2.</span> <span class="toc-text">实现无限列表的加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85axios"><span class="toc-number">10.4.3.</span> <span class="toc-text">为什么二次封装axios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85vuerouter"><span class="toc-number">10.4.4.</span> <span class="toc-text">为什么二次封装vuerouter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E4%B8%80%E6%AC%A1%E6%80%A7%E5%87%BA%E7%8E%B0%E8%AE%B8%E5%A4%9A%E9%94%99%E8%AF%AF%E5%BC%B9%E5%87%BA%E6%A1%86"><span class="toc-number">10.4.5.</span> <span class="toc-text">如何避免一次性出现许多错误弹出框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-number">10.4.6.</span> <span class="toc-text">实现轮播图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E5%8F%91%E8%AF%B7%E6%B1%82%E6%8C%89%E9%94%AE%E4%BC%98%E5%8C%96"><span class="toc-number">10.4.7.</span> <span class="toc-text">点击发请求按键优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD"><span class="toc-number">10.4.8.</span> <span class="toc-text">如何提高性能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E4%BB%A3%E7%A0%81%E4%B8%8A%E7%BA%BF%E7%A8%B3%E5%AE%9A%E6%80%A7"><span class="toc-number">10.4.9.</span> <span class="toc-text">如何保证代码上线稳定性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%99%BB%E5%BD%95"><span class="toc-number">10.4.10.</span> <span class="toc-text">关于登录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A5%B4%E6%89%8B%E6%92%95"><span class="toc-number">11.</span> <span class="toc-text">🥴手撕</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS%E7%9B%B8%E5%85%B3"><span class="toc-number">11.1.</span> <span class="toc-text">CSS相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E5%BD%A2"><span class="toc-number">11.1.1.</span> <span class="toc-text">实现三角形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-number">11.1.2.</span> <span class="toc-text">轮播图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E8%83%8C%E6%99%AF"><span class="toc-number">11.1.3.</span> <span class="toc-text">图片背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E8%87%AA%E9%80%82%E5%BA%94"><span class="toc-number">11.1.4.</span> <span class="toc-text">图片自适应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E4%BE%A7%E5%9B%BA%E5%AE%9A%EF%BC%8C%E5%8F%B3%E4%BE%A7%E5%8D%A0%E6%BB%A1"><span class="toc-number">11.1.5.</span> <span class="toc-text">左侧固定，右侧占满</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E7%9B%B8%E5%85%B3"><span class="toc-number">11.2.</span> <span class="toc-text">业务相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85html%E5%86%99%E4%B8%80%E4%B8%AA%E8%AE%A1%E6%97%B6%E5%99%A8%EF%BC%8C%E9%A1%B5%E9%9D%A2%E4%B8%8A%E5%B1%95%E7%A4%BA%E8%AF%BB%E7%A7%92%EF%BC%8C%E4%B8%89%E4%B8%AA%E6%8C%89%E9%92%AE%EF%BC%8C%E5%88%86%E5%88%AB%E6%98%AF%E5%BC%80%E5%A7%8B%EF%BC%8C%E5%81%9C%E6%AD%A2%E5%92%8C%E9%87%8D%E7%BD%AE"><span class="toc-number">11.2.1.</span> <span class="toc-text">✅html写一个计时器，页面上展示读秒，三个按钮，分别是开始，停止和重置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E6%9C%89%E4%B8%80%E4%B8%AA%E8%A1%A8%E5%8D%95%EF%BC%8C%E8%A1%A8%E5%8D%95%E5%86%85%E6%9C%89%E4%B8%AA%E6%8F%90%E4%BA%A4%E6%8C%89%E9%92%AE%EF%BC%8C%E5%86%99%E4%B8%80%E4%B8%AA%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E6%8F%90%E4%BA%A4%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%A1%88"><span class="toc-number">11.2.2.</span> <span class="toc-text">✅有一个表单，表单内有个提交按钮，写一个避免重复提交的通用方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#id-xxx-parentId-yyy-order-1-%E8%BF%99%E7%A7%8D%E7%BB%93%E6%9E%84%E7%9A%84%E6%95%B0%E7%BB%84%E8%BD%AC%E5%8C%96%E6%88%90%E4%B8%80%E4%B8%AA%E6%A0%91%E5%9E%8B%E7%BB%93%E6%9E%84-order%E4%BB%A3%E8%A1%A8%E5%90%8C%E7%BB%84%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%8C%E6%80%8E%E4%B9%88%E4%BC%98%E5%8C%96%EF%BC%8C%E5%87%8F%E5%B0%91%E5%BE%AA%E7%8E%AF%E6%AC%A1%E6%95%B0"><span class="toc-number">11.2.3.</span> <span class="toc-text">{ id:xxx , parentId: yyy, order: 1 } 这种结构的数组转化成一个树型结构,order代表同组子节点的优先级，怎么优化，减少循环次数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A5%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">11.2.4.</span> <span class="toc-text">💥父子组件通信</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#React-1"><span class="toc-number">11.2.4.1.</span> <span class="toc-text">React</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-1"><span class="toc-number">11.2.4.2.</span> <span class="toc-text">Vue</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E7%89%B9%E6%80%A7%E7%9B%B8%E5%85%B3"><span class="toc-number">11.3.</span> <span class="toc-text">语法特性相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%850-1-0-2-0-3%E5%8E%9F%E5%9B%A0%EF%BC%8C%E8%A7%A3%E5%86%B3"><span class="toc-number">11.3.1.</span> <span class="toc-text">✅0.1 + 0.2 !&#x3D; 0.3原因，解决</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E5%8D%81%E8%BF%9B%E5%88%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E9%80%A0%E6%88%90%E7%B2%BE%E5%BA%A6%E4%B8%A2%E5%A4%B1"><span class="toc-number">11.3.2.</span> <span class="toc-text">✅二进制转换十进制为什么会造成精度丢失?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E6%8C%87%E5%AE%9A%E6%B7%B1%E5%BA%A6%E7%9A%84flat"><span class="toc-number">11.3.3.</span> <span class="toc-text">✅指定深度的flat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85This%E7%9A%84%E6%8C%87%E5%90%91"><span class="toc-number">11.3.4.</span> <span class="toc-text">✅This的指向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85ES6-var%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">11.3.5.</span> <span class="toc-text">✅ES6 var一个对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise-all"><span class="toc-number">11.3.6.</span> <span class="toc-text">Promise.all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A5%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%8C%87%E5%AE%9A%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%E9%95%BF%E5%BA%A6"><span class="toc-number">11.3.7.</span> <span class="toc-text">💥异步任务队列，可以同时指定任务队列长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A5%E8%B6%85%E6%97%B6%E9%87%8D%E4%BC%A0Promise-race"><span class="toc-number">11.3.8.</span> <span class="toc-text">💥超时重传Promise.race</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%9A%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">11.3.9.</span> <span class="toc-text">✅节流函数的多种实现方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.3.10.</span> <span class="toc-text">✅防抖函数的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.3.11.</span> <span class="toc-text">深拷贝的实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3"><span class="toc-number">11.4.</span> <span class="toc-text">算法相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88"><span class="toc-number">11.4.1.</span> <span class="toc-text">17. 电话号码的字母组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9C%89%E5%93%AA%E4%BA%9B%E7%AE%97%E6%B3%95%EF%BC%9Fsort-%E5%87%BD%E6%95%B0%E6%8E%92%E5%BA%8F%E7%94%A8%E7%9A%84%E6%98%AF%E5%93%AA%E7%A7%8D%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%9F"><span class="toc-number">11.4.2.</span> <span class="toc-text">排序有哪些算法？sort()函数排序用的是哪种排序算法？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AF%B9%E5%8D%95%E9%93%BE%E8%A1%A8%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">11.4.3.</span> <span class="toc-text">如何对单链表进行排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AAjson%E6%95%B0%E7%BB%84%E6%98%AF%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AAjson%E6%95%B0%E7%BB%84%E7%9A%84%E5%AD%90%E9%9B%86"><span class="toc-number">11.4.4.</span> <span class="toc-text">如何判断一个json数组是另外一个json数组的子集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%A0%88%E5%88%A4%E6%96%AD%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D%E7%9A%84%E5%85%B7%E4%BD%93%E8%BF%87%E7%A8%8B"><span class="toc-number">11.4.5.</span> <span class="toc-text">用栈判断括号匹配的具体过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">11.4.6.</span> <span class="toc-text">数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E8%BF%9B%E8%A1%8C%E6%95%B0%E5%AD%97%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">11.4.7.</span> <span class="toc-text">写一个函数进行数字格式转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">11.4.8.</span> <span class="toc-text">对象数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E5%87%BA%E6%9C%80%E9%95%BF%E4%B8%8D%E9%87%8D%E5%A4%8D%E5%AD%97%E6%AF%8D%E7%9A%84%E5%AD%90%E4%B8%B2"><span class="toc-number">11.4.9.</span> <span class="toc-text">找出最长不重复字母的子串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-number">11.4.10.</span> <span class="toc-text">最长递增子序列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%B0%86%E6%B5%AE%E7%82%B9%E6%95%B0%E7%82%B9%E5%B7%A6%E8%BE%B9%E7%9A%84%E6%95%B0%E6%AF%8F%E4%B8%89%E4%BD%8D%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E9%80%97%E5%8F%B7%EF%BC%8C%E5%A6%8212000000-11%E8%BD%AC%E5%8C%96%E4%B8%BA12-000-000-11"><span class="toc-number">11.4.11.</span> <span class="toc-text">如何将浮点数点左边的数每三位添加一个逗号，如12000000.11转化为12,000,000.11?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%85console-log-transform-%E2%80%98123abc456def%E2%80%99-abc123def456%E2%80%9D"><span class="toc-number">11.4.12.</span> <span class="toc-text">✅console.log(transform(‘123abc456def’)); &#x2F;&#x2F;abc123def456”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%9A%94%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.4.13.</span> <span class="toc-text">分隔字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9console-error-a-1-amp-amp-a-2-amp-amp-a-3-%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C%E4%B8%BAtrue%E3%80%82"><span class="toc-number">11.4.14.</span> <span class="toc-text">让console.error(a &#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D; 2 &amp;&amp; a &#x3D;&#x3D; 3)打印结果为true。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%97%A0%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E7%9A%84%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84nums-%E6%89%BE%E5%87%BA%E5%85%B6%E4%B8%AD%E6%B2%A1%E6%9C%89%E5%87%BA%E7%8E%B0%E7%9A%84%E6%9C%80%E5%B0%8F%E6%AD%A3%E6%95%B4%E6%95%B0"><span class="toc-number">11.4.15.</span> <span class="toc-text">给定一个无重复元素的整数数组nums,找出其中没有出现的最小正整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%89%93%E4%B9%B1%E6%95%B0%E7%BB%84"><span class="toc-number">11.4.16.</span> <span class="toc-text">随机打乱数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E7%BA%A2%E5%8C%85"><span class="toc-number">11.4.17.</span> <span class="toc-text">发红包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E6%A0%B9%E5%A0%86"><span class="toc-number">11.4.18.</span> <span class="toc-text">大根堆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A2LazyMan"><span class="toc-number">11.4.19.</span> <span class="toc-text">💢LazyMan</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A5%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E8%AE%A1%E6%95%B0%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">11.4.20.</span> <span class="toc-text">💥实现一个计数构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%B9%B3%E6%96%B9%E6%A0%B9%EF%BC%88%E6%95%B4%E6%95%B0%E3%80%81%E5%B0%8F%E6%95%B0%EF%BC%89"><span class="toc-number">11.4.21.</span> <span class="toc-text">开平方根（整数、小数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E9%98%B6%E4%B9%98"><span class="toc-number">11.4.22.</span> <span class="toc-text">数字阶乘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%92%A5%E5%90%84%E7%A7%8D%E6%8E%92%E5%BA%8F"><span class="toc-number">11.4.23.</span> <span class="toc-text">💥各种排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D"><span class="toc-number">11.4.24.</span> <span class="toc-text">括号匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%90%E6%95%B0%E7%BB%84"><span class="toc-number">11.4.25.</span> <span class="toc-text">最长重复子数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6"><span class="toc-number">11.4.26.</span> <span class="toc-text">二叉树最大深度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A7%E6%95%B0%E7%9B%B8%E4%B9%98"><span class="toc-number">11.4.27.</span> <span class="toc-text">大数相乘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hardMan"><span class="toc-number">11.4.28.</span> <span class="toc-text">hardMan()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D2"><span class="toc-number">11.4.29.</span> <span class="toc-text">打家劫舍2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D3"><span class="toc-number">11.4.30.</span> <span class="toc-text">打家劫舍3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%93%BE%EF%BC%88leecode%E7%9A%841048%E9%A2%98%EF%BC%89"><span class="toc-number">11.4.31.</span> <span class="toc-text">最长字符串链（leecode的1048题）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%B1%BB%E7%BB%A7%E6%89%BF%E7%88%B6%E7%B1%BB"><span class="toc-number">11.4.32.</span> <span class="toc-text">子类继承父类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E4%B8%AD%E6%9F%90%E4%B8%80%E5%B1%9E%E6%80%A7%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">11.4.33.</span> <span class="toc-text">对列表元素中某一属性进行排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%EF%BC%8C%E5%87%BD%E6%95%B0%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E4%B8%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97"><span class="toc-number">11.4.34.</span> <span class="toc-text">实现一个函数，函数有两个参数，第一个参数为一个字符串，第二个参数为一个数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0-lodash-get"><span class="toc-number">11.4.35.</span> <span class="toc-text">实现 lodash.get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LC%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F%EF%BC%8C%E6%9C%80%E5%A4%A7%E5%B2%9B%E5%B1%BF%E9%9D%A2%E7%A7%AF"><span class="toc-number">11.4.36.</span> <span class="toc-text">LC岛屿数量，最大岛屿面积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2208-%E5%B0%86%E6%95%B0%E7%BB%84%E5%92%8C%E5%87%8F%E5%8D%8A%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0%EF%BC%8C%E5%BB%BA%E4%B8%AA%E5%A0%86%E5%90%A7"><span class="toc-number">11.4.37.</span> <span class="toc-text">2208. 将数组和减半的最少操作次数，建个堆吧</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A7%AE%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.</span> <span class="toc-text">🧮设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-1"><span class="toc-number">12.1.</span> <span class="toc-text">创建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.1.1.</span> <span class="toc-text">单例模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95"><span class="toc-number">12.1.2.</span> <span class="toc-text">工厂方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82"><span class="toc-number">12.1.3.</span> <span class="toc-text">抽象工厂</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.1.4.</span> <span class="toc-text">构造器模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B-1"><span class="toc-number">12.1.5.</span> <span class="toc-text">原型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">12.2.</span> <span class="toc-text">结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8"><span class="toc-number">12.2.1.</span> <span class="toc-text">适配器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0"><span class="toc-number">12.2.2.</span> <span class="toc-text">装饰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%A7%82"><span class="toc-number">12.2.3.</span> <span class="toc-text">外观</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%90%86-1"><span class="toc-number">12.2.4.</span> <span class="toc-text">代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.2.5.</span> <span class="toc-text">享元模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%BA%E8%8C%83%E5%BC%8F"><span class="toc-number">12.3.</span> <span class="toc-text">行为范式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE"><span class="toc-number">12.3.1.</span> <span class="toc-text">责任链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">12.3.2.</span> <span class="toc-text">迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.3.3.</span> <span class="toc-text">观察者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83-%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.3.4.</span> <span class="toc-text">发布-订阅模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8E%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">13.</span> <span class="toc-text">😎自我介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%BC%80%E5%A4%B4%E7%9A%84%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">13.1.</span> <span class="toc-text">面试开头的自我介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E5%89%8D%E7%AB%AF"><span class="toc-number">13.2.</span> <span class="toc-text">为什么选择前端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%89%8D%E7%AB%AF"><span class="toc-number">13.3.</span> <span class="toc-text">怎么学习的前端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9%E8%BF%99%E4%B8%AA%E5%9F%8E%E5%B8%82"><span class="toc-number">13.4.</span> <span class="toc-text">为什么选择这个城市</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%91%94%E5%8F%8D%E9%97%AE"><span class="toc-number">14.</span> <span class="toc-text">👔反问</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AC%E5%8F%B8%E5%BC%80%E5%8F%91%E9%83%A8%E9%97%A8%E4%BA%BA%E5%91%98%E7%BB%93%E6%9E%84%EF%BC%8C%E5%90%8C%E5%B2%97%E4%BD%8D%E4%BA%BA%E5%91%98%E6%95%B0%E9%87%8F%EF%BC%8C%E5%9B%A2%E9%98%9F%E6%B0%9B%E5%9B%B4%EF%BC%8C%E6%97%A5%E5%B8%B8%E6%8A%80%E6%9C%AF%E4%BA%A4%E6%B5%81"><span class="toc-number">14.1.</span> <span class="toc-text">公司开发部门人员结构，同岗位人员数量，团队氛围，日常技术交流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E7%BD%91%E7%9C%8B%E5%88%B0%E2%80%A6%E5%85%B7%E4%BD%93%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84-%E8%AF%A2%E9%97%AE%E4%B8%80%E4%BA%9B%E7%8C%9C%E6%83%B3"><span class="toc-number">14.2.</span> <span class="toc-text">官网看到…具体是什么样的(询问一些猜想)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%B9%E5%85%BB%E5%AE%9E%E4%B9%A0%E7%94%9F%E7%9A%84%E8%B7%AF%E7%BA%BF%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E5%91%A2%EF%BC%9F"><span class="toc-number">14.3.</span> <span class="toc-text">培养实习生的路线是怎样的呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%85%8D%E4%BB%BB%E5%8A%A1%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E5%91%A2%EF%BC%9F"><span class="toc-number">14.4.</span> <span class="toc-text">分配任务是怎样的呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%8F%90%E5%89%8D%E5%87%86%E5%A4%87%E4%B8%80%E4%BA%9B%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">14.5.</span> <span class="toc-text">需要提前准备一些什么？</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/35b3.html" title="d3引用svg资源">d3引用svg资源</a><time datetime="2025-05-19T12:36:02.000Z" title="发表于 2025-05-19 20:36:02">2025-05-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/552e.html" title="使用npm管理项目版本">使用npm管理项目版本</a><time datetime="2025-03-09T12:44:01.000Z" title="发表于 2025-03-09 20:44:01">2025-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/c4cb.html" title="多手柄滑块的实现-Multiple Hander Slider">多手柄滑块的实现-Multiple Hander Slider</a><time datetime="2025-02-20T11:58:28.000Z" title="发表于 2025-02-20 19:58:28">2025-02-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/a79b.html" title="vue项目i18n配置和插件i18n Ally的使用">vue项目i18n配置和插件i18n Ally的使用</a><time datetime="2025-02-16T10:23:01.000Z" title="发表于 2025-02-16 18:23:01">2025-02-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/b9fa.html" title="elementui 自定义icon">elementui 自定义icon</a><time datetime="2025-01-25T03:23:07.000Z" title="发表于 2025-01-25 11:23:07">2025-01-25</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Ra-liz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'Vslpu39tzreWpSvbdqHPQJ8Z-gzGzoHsz',
      appKey: 'igKODRyXdGL92WEdyVW5mtzB',
      avatar: 'monsterid',
      serverURLs: 'https://vslpu39t.lc-cn-n1-shared.com',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '2bcb720297a7497aae08',
      clientSecret: 'b30d65cb967dcfba7e4413ddd140a2f3c96c1d2a',
      repo: 'Ra-Liz.github.io',
      owner: 'Ra-Liz',
      admin: ['Ra-Liz'],
      id: 'e859acb4d279f45a9b3eade965355e30',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
    getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Valine' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script src="//code.tidio.co/xzhcnp9bny5j2ndsjsbuqeshasoivnnz.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>